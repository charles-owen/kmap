(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Kmap"] = factory();
	else
		root["Kmap"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	function hotDisposeChunk(chunkId) {
/******/ 		delete installedChunks[chunkId];
/******/ 	}
/******/ 	var parentHotUpdateCallback = window["webpackHotUpdateKmap"];
/******/ 	window["webpackHotUpdateKmap"] = // eslint-disable-next-line no-unused-vars
/******/ 	function webpackHotUpdateCallback(chunkId, moreModules) {
/******/ 		hotAddUpdateChunk(chunkId, moreModules);
/******/ 		if (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);
/******/ 	} ;
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadUpdateChunk(chunkId) {
/******/ 		var script = document.createElement("script");
/******/ 		script.charset = "utf-8";
/******/ 		script.src = __webpack_require__.p + "" + chunkId + "." + hotCurrentHash + ".hot-update.js";
/******/ 		if (null) script.crossOrigin = null;
/******/ 		document.head.appendChild(script);
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadManifest(requestTimeout) {
/******/ 		requestTimeout = requestTimeout || 10000;
/******/ 		return new Promise(function(resolve, reject) {
/******/ 			if (typeof XMLHttpRequest === "undefined") {
/******/ 				return reject(new Error("No browser support"));
/******/ 			}
/******/ 			try {
/******/ 				var request = new XMLHttpRequest();
/******/ 				var requestPath = __webpack_require__.p + "" + hotCurrentHash + ".hot-update.json";
/******/ 				request.open("GET", requestPath, true);
/******/ 				request.timeout = requestTimeout;
/******/ 				request.send(null);
/******/ 			} catch (err) {
/******/ 				return reject(err);
/******/ 			}
/******/ 			request.onreadystatechange = function() {
/******/ 				if (request.readyState !== 4) return;
/******/ 				if (request.status === 0) {
/******/ 					// timeout
/******/ 					reject(
/******/ 						new Error("Manifest request to " + requestPath + " timed out.")
/******/ 					);
/******/ 				} else if (request.status === 404) {
/******/ 					// no update available
/******/ 					resolve();
/******/ 				} else if (request.status !== 200 && request.status !== 304) {
/******/ 					// other failure
/******/ 					reject(new Error("Manifest request to " + requestPath + " failed."));
/******/ 				} else {
/******/ 					// success
/******/ 					try {
/******/ 						var update = JSON.parse(request.responseText);
/******/ 					} catch (e) {
/******/ 						reject(e);
/******/ 						return;
/******/ 					}
/******/ 					resolve(update);
/******/ 				}
/******/ 			};
/******/ 		});
/******/ 	}
/******/
/******/ 	var hotApplyOnUpdate = true;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentHash = "099bac11671776e20fc1";
/******/ 	var hotRequestTimeout = 10000;
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentChildModule;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParents = [];
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParentsTemp = [];
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateRequire(moduleId) {
/******/ 		var me = installedModules[moduleId];
/******/ 		if (!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if (me.hot.active) {
/******/ 				if (installedModules[request]) {
/******/ 					if (installedModules[request].parents.indexOf(moduleId) === -1) {
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 					}
/******/ 				} else {
/******/ 					hotCurrentParents = [moduleId];
/******/ 					hotCurrentChildModule = request;
/******/ 				}
/******/ 				if (me.children.indexOf(request) === -1) {
/******/ 					me.children.push(request);
/******/ 				}
/******/ 			} else {
/******/ 				console.warn(
/******/ 					"[HMR] unexpected require(" +
/******/ 						request +
/******/ 						") from disposed module " +
/******/ 						moduleId
/******/ 				);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		var ObjectFactory = function ObjectFactory(name) {
/******/ 			return {
/******/ 				configurable: true,
/******/ 				enumerable: true,
/******/ 				get: function() {
/******/ 					return __webpack_require__[name];
/******/ 				},
/******/ 				set: function(value) {
/******/ 					__webpack_require__[name] = value;
/******/ 				}
/******/ 			};
/******/ 		};
/******/ 		for (var name in __webpack_require__) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(__webpack_require__, name) &&
/******/ 				name !== "e" &&
/******/ 				name !== "t"
/******/ 			) {
/******/ 				Object.defineProperty(fn, name, ObjectFactory(name));
/******/ 			}
/******/ 		}
/******/ 		fn.e = function(chunkId) {
/******/ 			if (hotStatus === "ready") hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			return __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {
/******/ 				finishChunkLoading();
/******/ 				throw err;
/******/ 			});
/******/
/******/ 			function finishChunkLoading() {
/******/ 				hotChunksLoading--;
/******/ 				if (hotStatus === "prepare") {
/******/ 					if (!hotWaitingFilesMap[chunkId]) {
/******/ 						hotEnsureUpdateChunk(chunkId);
/******/ 					}
/******/ 					if (hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 						hotUpdateDownloaded();
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		fn.t = function(value, mode) {
/******/ 			if (mode & 1) value = fn(value);
/******/ 			return __webpack_require__.t(value, mode & ~1);
/******/ 		};
/******/ 		return fn;
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateModule(moduleId) {
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_selfInvalidated: false,
/******/ 			_disposeHandlers: [],
/******/ 			_main: hotCurrentChildModule !== moduleId,
/******/
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if (dep === undefined) hot._selfAccepted = true;
/******/ 				else if (typeof dep === "function") hot._selfAccepted = dep;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback || function() {};
/******/ 				else hot._acceptedDependencies[dep] = callback || function() {};
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if (dep === undefined) hot._selfDeclined = true;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 				else hot._declinedDependencies[dep] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if (idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/ 			invalidate: function() {
/******/ 				this._selfInvalidated = true;
/******/ 				switch (hotStatus) {
/******/ 					case "idle":
/******/ 						hotUpdate = {};
/******/ 						hotUpdate[moduleId] = modules[moduleId];
/******/ 						hotSetStatus("ready");
/******/ 						break;
/******/ 					case "ready":
/******/ 						hotApplyInvalidatedModule(moduleId);
/******/ 						break;
/******/ 					case "prepare":
/******/ 					case "check":
/******/ 					case "dispose":
/******/ 					case "apply":
/******/ 						(hotQueuedInvalidatedModules =
/******/ 							hotQueuedInvalidatedModules || []).push(moduleId);
/******/ 						break;
/******/ 					default:
/******/ 						// ignore requests in error states
/******/ 						break;
/******/ 				}
/******/ 			},
/******/
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if (!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if (idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		hotCurrentChildModule = undefined;
/******/ 		return hot;
/******/ 	}
/******/
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for (var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailableFilesMap = {};
/******/ 	var hotDeferred;
/******/
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash, hotQueuedInvalidatedModules;
/******/
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = +id + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/
/******/ 	function hotCheck(apply) {
/******/ 		if (hotStatus !== "idle") {
/******/ 			throw new Error("check() is only allowed in idle status");
/******/ 		}
/******/ 		hotApplyOnUpdate = apply;
/******/ 		hotSetStatus("check");
/******/ 		return hotDownloadManifest(hotRequestTimeout).then(function(update) {
/******/ 			if (!update) {
/******/ 				hotSetStatus(hotApplyInvalidatedModules() ? "ready" : "idle");
/******/ 				return null;
/******/ 			}
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			hotAvailableFilesMap = update.c;
/******/ 			hotUpdateNewHash = update.h;
/******/
/******/ 			hotSetStatus("prepare");
/******/ 			var promise = new Promise(function(resolve, reject) {
/******/ 				hotDeferred = {
/******/ 					resolve: resolve,
/******/ 					reject: reject
/******/ 				};
/******/ 			});
/******/ 			hotUpdate = {};
/******/ 			var chunkId = "app";
/******/ 			// eslint-disable-next-line no-lone-blocks
/******/ 			{
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if (
/******/ 				hotStatus === "prepare" &&
/******/ 				hotChunksLoading === 0 &&
/******/ 				hotWaitingFiles === 0
/******/ 			) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 			return promise;
/******/ 		});
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) {
/******/ 		if (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for (var moduleId in moreModules) {
/******/ 			if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if (--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if (!hotAvailableFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var deferred = hotDeferred;
/******/ 		hotDeferred = null;
/******/ 		if (!deferred) return;
/******/ 		if (hotApplyOnUpdate) {
/******/ 			// Wrap deferred object in Promise to mark it as a well-handled Promise to
/******/ 			// avoid triggering uncaught exception warning in Chrome.
/******/ 			// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666
/******/ 			Promise.resolve()
/******/ 				.then(function() {
/******/ 					return hotApply(hotApplyOnUpdate);
/******/ 				})
/******/ 				.then(
/******/ 					function(result) {
/******/ 						deferred.resolve(result);
/******/ 					},
/******/ 					function(err) {
/******/ 						deferred.reject(err);
/******/ 					}
/******/ 				);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for (var id in hotUpdate) {
/******/ 				if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			deferred.resolve(outdatedModules);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotApply(options) {
/******/ 		if (hotStatus !== "ready")
/******/ 			throw new Error("apply() is only allowed in ready status");
/******/ 		options = options || {};
/******/ 		return hotApplyInternal(options);
/******/ 	}
/******/
/******/ 	function hotApplyInternal(options) {
/******/ 		hotApplyInvalidatedModules();
/******/
/******/ 		var cb;
/******/ 		var i;
/******/ 		var j;
/******/ 		var module;
/******/ 		var moduleId;
/******/
/******/ 		function getAffectedStuff(updateModuleId) {
/******/ 			var outdatedModules = [updateModuleId];
/******/ 			var outdatedDependencies = {};
/******/
/******/ 			var queue = outdatedModules.map(function(id) {
/******/ 				return {
/******/ 					chain: [id],
/******/ 					id: id
/******/ 				};
/******/ 			});
/******/ 			while (queue.length > 0) {
/******/ 				var queueItem = queue.pop();
/******/ 				var moduleId = queueItem.id;
/******/ 				var chain = queueItem.chain;
/******/ 				module = installedModules[moduleId];
/******/ 				if (
/******/ 					!module ||
/******/ 					(module.hot._selfAccepted && !module.hot._selfInvalidated)
/******/ 				)
/******/ 					continue;
/******/ 				if (module.hot._selfDeclined) {
/******/ 					return {
/******/ 						type: "self-declined",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				if (module.hot._main) {
/******/ 					return {
/******/ 						type: "unaccepted",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				for (var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if (!parent) continue;
/******/ 					if (parent.hot._declinedDependencies[moduleId]) {
/******/ 						return {
/******/ 							type: "declined",
/******/ 							chain: chain.concat([parentId]),
/******/ 							moduleId: moduleId,
/******/ 							parentId: parentId
/******/ 						};
/******/ 					}
/******/ 					if (outdatedModules.indexOf(parentId) !== -1) continue;
/******/ 					if (parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if (!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push({
/******/ 						chain: chain.concat([parentId]),
/******/ 						id: parentId
/******/ 					});
/******/ 				}
/******/ 			}
/******/
/******/ 			return {
/******/ 				type: "accepted",
/******/ 				moduleId: updateModuleId,
/******/ 				outdatedModules: outdatedModules,
/******/ 				outdatedDependencies: outdatedDependencies
/******/ 			};
/******/ 		}
/******/
/******/ 		function addAllToSet(a, b) {
/******/ 			for (var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if (a.indexOf(item) === -1) a.push(item);
/******/ 			}
/******/ 		}
/******/
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/
/******/ 		var warnUnexpectedRequire = function warnUnexpectedRequire() {
/******/ 			console.warn(
/******/ 				"[HMR] unexpected require(" + result.moduleId + ") to disposed module"
/******/ 			);
/******/ 		};
/******/
/******/ 		for (var id in hotUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				moduleId = toModuleId(id);
/******/ 				/** @type {TODO} */
/******/ 				var result;
/******/ 				if (hotUpdate[id]) {
/******/ 					result = getAffectedStuff(moduleId);
/******/ 				} else {
/******/ 					result = {
/******/ 						type: "disposed",
/******/ 						moduleId: id
/******/ 					};
/******/ 				}
/******/ 				/** @type {Error|false} */
/******/ 				var abortError = false;
/******/ 				var doApply = false;
/******/ 				var doDispose = false;
/******/ 				var chainInfo = "";
/******/ 				if (result.chain) {
/******/ 					chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
/******/ 				}
/******/ 				switch (result.type) {
/******/ 					case "self-declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of self decline: " +
/******/ 									result.moduleId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of declined dependency: " +
/******/ 									result.moduleId +
/******/ 									" in " +
/******/ 									result.parentId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "unaccepted":
/******/ 						if (options.onUnaccepted) options.onUnaccepted(result);
/******/ 						if (!options.ignoreUnaccepted)
/******/ 							abortError = new Error(
/******/ 								"Aborted because " + moduleId + " is not accepted" + chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "accepted":
/******/ 						if (options.onAccepted) options.onAccepted(result);
/******/ 						doApply = true;
/******/ 						break;
/******/ 					case "disposed":
/******/ 						if (options.onDisposed) options.onDisposed(result);
/******/ 						doDispose = true;
/******/ 						break;
/******/ 					default:
/******/ 						throw new Error("Unexception type " + result.type);
/******/ 				}
/******/ 				if (abortError) {
/******/ 					hotSetStatus("abort");
/******/ 					return Promise.reject(abortError);
/******/ 				}
/******/ 				if (doApply) {
/******/ 					appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 					addAllToSet(outdatedModules, result.outdatedModules);
/******/ 					for (moduleId in result.outdatedDependencies) {
/******/ 						if (
/******/ 							Object.prototype.hasOwnProperty.call(
/******/ 								result.outdatedDependencies,
/******/ 								moduleId
/******/ 							)
/******/ 						) {
/******/ 							if (!outdatedDependencies[moduleId])
/******/ 								outdatedDependencies[moduleId] = [];
/******/ 							addAllToSet(
/******/ 								outdatedDependencies[moduleId],
/******/ 								result.outdatedDependencies[moduleId]
/******/ 							);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 				if (doDispose) {
/******/ 					addAllToSet(outdatedModules, [result.moduleId]);
/******/ 					appliedUpdate[moduleId] = warnUnexpectedRequire;
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for (i = 0; i < outdatedModules.length; i++) {
/******/ 			moduleId = outdatedModules[i];
/******/ 			if (
/******/ 				installedModules[moduleId] &&
/******/ 				installedModules[moduleId].hot._selfAccepted &&
/******/ 				// removed self-accepted modules should not be required
/******/ 				appliedUpdate[moduleId] !== warnUnexpectedRequire &&
/******/ 				// when called invalidate self-accepting is not possible
/******/ 				!installedModules[moduleId].hot._selfInvalidated
/******/ 			) {
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					parents: installedModules[moduleId].parents.slice(),
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		Object.keys(hotAvailableFilesMap).forEach(function(chunkId) {
/******/ 			if (hotAvailableFilesMap[chunkId] === false) {
/******/ 				hotDisposeChunk(chunkId);
/******/ 			}
/******/ 		});
/******/
/******/ 		var idx;
/******/ 		var queue = outdatedModules.slice();
/******/ 		while (queue.length > 0) {
/******/ 			moduleId = queue.pop();
/******/ 			module = installedModules[moduleId];
/******/ 			if (!module) continue;
/******/
/******/ 			var data = {};
/******/
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for (j = 0; j < disposeHandlers.length; j++) {
/******/ 				cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/
/******/ 			// when disposing there is no need to call dispose handler
/******/ 			delete outdatedDependencies[moduleId];
/******/
/******/ 			// remove "parents" references from all children
/******/ 			for (j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if (!child) continue;
/******/ 				idx = child.parents.indexOf(moduleId);
/******/ 				if (idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// remove outdated dependency from module children
/******/ 		var dependency;
/******/ 		var moduleOutdatedDependencies;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					for (j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 						dependency = moduleOutdatedDependencies[j];
/******/ 						idx = module.children.indexOf(dependency);
/******/ 						if (idx >= 0) module.children.splice(idx, 1);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Now in "apply" phase
/******/ 		hotSetStatus("apply");
/******/
/******/ 		if (hotUpdateNewHash !== undefined) {
/******/ 			hotCurrentHash = hotUpdateNewHash;
/******/ 			hotUpdateNewHash = undefined;
/******/ 		}
/******/ 		hotUpdate = undefined;
/******/
/******/ 		// insert new code
/******/ 		for (moduleId in appliedUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					var callbacks = [];
/******/ 					for (i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 						dependency = moduleOutdatedDependencies[i];
/******/ 						cb = module.hot._acceptedDependencies[dependency];
/******/ 						if (cb) {
/******/ 							if (callbacks.indexOf(cb) !== -1) continue;
/******/ 							callbacks.push(cb);
/******/ 						}
/******/ 					}
/******/ 					for (i = 0; i < callbacks.length; i++) {
/******/ 						cb = callbacks[i];
/******/ 						try {
/******/ 							cb(moduleOutdatedDependencies);
/******/ 						} catch (err) {
/******/ 							if (options.onErrored) {
/******/ 								options.onErrored({
/******/ 									type: "accept-errored",
/******/ 									moduleId: moduleId,
/******/ 									dependencyId: moduleOutdatedDependencies[i],
/******/ 									error: err
/******/ 								});
/******/ 							}
/******/ 							if (!options.ignoreErrored) {
/******/ 								if (!error) error = err;
/******/ 							}
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Load self accepted modules
/******/ 		for (i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			moduleId = item.module;
/******/ 			hotCurrentParents = item.parents;
/******/ 			hotCurrentChildModule = moduleId;
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch (err) {
/******/ 				if (typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch (err2) {
/******/ 						if (options.onErrored) {
/******/ 							options.onErrored({
/******/ 								type: "self-accept-error-handler-errored",
/******/ 								moduleId: moduleId,
/******/ 								error: err2,
/******/ 								originalError: err
/******/ 							});
/******/ 						}
/******/ 						if (!options.ignoreErrored) {
/******/ 							if (!error) error = err2;
/******/ 						}
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				} else {
/******/ 					if (options.onErrored) {
/******/ 						options.onErrored({
/******/ 							type: "self-accept-errored",
/******/ 							moduleId: moduleId,
/******/ 							error: err
/******/ 						});
/******/ 					}
/******/ 					if (!options.ignoreErrored) {
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if (error) {
/******/ 			hotSetStatus("fail");
/******/ 			return Promise.reject(error);
/******/ 		}
/******/
/******/ 		if (hotQueuedInvalidatedModules) {
/******/ 			return hotApplyInternal(options).then(function(list) {
/******/ 				outdatedModules.forEach(function(moduleId) {
/******/ 					if (list.indexOf(moduleId) < 0) list.push(moduleId);
/******/ 				});
/******/ 				return list;
/******/ 			});
/******/ 		}
/******/
/******/ 		hotSetStatus("idle");
/******/ 		return new Promise(function(resolve) {
/******/ 			resolve(outdatedModules);
/******/ 		});
/******/ 	}
/******/
/******/ 	function hotApplyInvalidatedModules() {
/******/ 		if (hotQueuedInvalidatedModules) {
/******/ 			if (!hotUpdate) hotUpdate = {};
/******/ 			hotQueuedInvalidatedModules.forEach(hotApplyInvalidatedModule);
/******/ 			hotQueuedInvalidatedModules = undefined;
/******/ 			return true;
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotApplyInvalidatedModule(moduleId) {
/******/ 		if (!Object.prototype.hasOwnProperty.call(hotUpdate, moduleId))
/******/ 			hotUpdate[moduleId] = modules[moduleId];
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {},
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),
/******/ 			children: []
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return hotCreateRequire("./index.js")(__webpack_require__.s = "./index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _src_polyfills_all__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/polyfills/all */ "./src/polyfills/all.js");
/* harmony import */ var _src_kmap_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/kmap.scss */ "./src/kmap.scss");
/* harmony import */ var _src_kmap_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_src_kmap_scss__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _src_Kmap_Utility_Ready__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/Kmap/Utility/Ready */ "./src/Kmap/Utility/Ready.js");
/* harmony import */ var _src_Kmap_Kmap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/Kmap/Kmap */ "./src/Kmap/Kmap.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _src_Kmap_Kmap__WEBPACK_IMPORTED_MODULE_3__["Kmap"]; });

// The public-path module must be imported first!
// import './src/public-path.js';
//




 // Automatically install into div.kmap-cl-install, where the text
// contents of the tag are JSON to configure Kmap

_src_Kmap_Utility_Ready__WEBPACK_IMPORTED_MODULE_2__["Ready"].go(function () {
  var elements = document.querySelectorAll('div.kmap-cl-install');

  for (var i = 0; i < elements.length; i++) {
    var element = elements[i];
    var json = JSON.parse(element.textContent);
    element.innerHTML = '';
    var kmap = new _src_Kmap_Kmap__WEBPACK_IMPORTED_MODULE_3__["Kmap"](element, json);
    kmap.startNow();
    element.style.display = 'block';
  }
});

/***/ }),

/***/ "./node_modules/classlist-polyfill/src/index.js":
/*!******************************************************!*\
  !*** ./node_modules/classlist-polyfill/src/index.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*
 * classList.js: Cross-browser full element.classList implementation.
 * 1.1.20170427
 *
 * By Eli Grey, http://eligrey.com
 * License: Dedicated to the public domain.
 *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md
 */

/*global self, document, DOMException */

/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */

if ("document" in window.self) {

// Full polyfill for browsers with no classList support
// Including IE < Edge missing SVGElement.classList
if (!("classList" in document.createElement("_")) 
	|| document.createElementNS && !("classList" in document.createElementNS("http://www.w3.org/2000/svg","g"))) {

(function (view) {

"use strict";

if (!('Element' in view)) return;

var
	  classListProp = "classList"
	, protoProp = "prototype"
	, elemCtrProto = view.Element[protoProp]
	, objCtr = Object
	, strTrim = String[protoProp].trim || function () {
		return this.replace(/^\s+|\s+$/g, "");
	}
	, arrIndexOf = Array[protoProp].indexOf || function (item) {
		var
			  i = 0
			, len = this.length
		;
		for (; i < len; i++) {
			if (i in this && this[i] === item) {
				return i;
			}
		}
		return -1;
	}
	// Vendors: please allow content code to instantiate DOMExceptions
	, DOMEx = function (type, message) {
		this.name = type;
		this.code = DOMException[type];
		this.message = message;
	}
	, checkTokenAndGetIndex = function (classList, token) {
		if (token === "") {
			throw new DOMEx(
				  "SYNTAX_ERR"
				, "An invalid or illegal string was specified"
			);
		}
		if (/\s/.test(token)) {
			throw new DOMEx(
				  "INVALID_CHARACTER_ERR"
				, "String contains an invalid character"
			);
		}
		return arrIndexOf.call(classList, token);
	}
	, ClassList = function (elem) {
		var
			  trimmedClasses = strTrim.call(elem.getAttribute("class") || "")
			, classes = trimmedClasses ? trimmedClasses.split(/\s+/) : []
			, i = 0
			, len = classes.length
		;
		for (; i < len; i++) {
			this.push(classes[i]);
		}
		this._updateClassName = function () {
			elem.setAttribute("class", this.toString());
		};
	}
	, classListProto = ClassList[protoProp] = []
	, classListGetter = function () {
		return new ClassList(this);
	}
;
// Most DOMException implementations don't allow calling DOMException's toString()
// on non-DOMExceptions. Error's toString() is sufficient here.
DOMEx[protoProp] = Error[protoProp];
classListProto.item = function (i) {
	return this[i] || null;
};
classListProto.contains = function (token) {
	token += "";
	return checkTokenAndGetIndex(this, token) !== -1;
};
classListProto.add = function () {
	var
		  tokens = arguments
		, i = 0
		, l = tokens.length
		, token
		, updated = false
	;
	do {
		token = tokens[i] + "";
		if (checkTokenAndGetIndex(this, token) === -1) {
			this.push(token);
			updated = true;
		}
	}
	while (++i < l);

	if (updated) {
		this._updateClassName();
	}
};
classListProto.remove = function () {
	var
		  tokens = arguments
		, i = 0
		, l = tokens.length
		, token
		, updated = false
		, index
	;
	do {
		token = tokens[i] + "";
		index = checkTokenAndGetIndex(this, token);
		while (index !== -1) {
			this.splice(index, 1);
			updated = true;
			index = checkTokenAndGetIndex(this, token);
		}
	}
	while (++i < l);

	if (updated) {
		this._updateClassName();
	}
};
classListProto.toggle = function (token, force) {
	token += "";

	var
		  result = this.contains(token)
		, method = result ?
			force !== true && "remove"
		:
			force !== false && "add"
	;

	if (method) {
		this[method](token);
	}

	if (force === true || force === false) {
		return force;
	} else {
		return !result;
	}
};
classListProto.toString = function () {
	return this.join(" ");
};

if (objCtr.defineProperty) {
	var classListPropDesc = {
		  get: classListGetter
		, enumerable: true
		, configurable: true
	};
	try {
		objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);
	} catch (ex) { // IE 8 doesn't support enumerable:true
		// adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36
		// modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected
		if (ex.number === undefined || ex.number === -0x7FF5EC54) {
			classListPropDesc.enumerable = false;
			objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);
		}
	}
} else if (objCtr[protoProp].__defineGetter__) {
	elemCtrProto.__defineGetter__(classListProp, classListGetter);
}

}(window.self));

}

// There is full or partial native classList support, so just check if we need
// to normalize the add/remove and toggle APIs.

(function () {
	"use strict";

	var testElement = document.createElement("_");

	testElement.classList.add("c1", "c2");

	// Polyfill for IE 10/11 and Firefox <26, where classList.add and
	// classList.remove exist but support only one argument at a time.
	if (!testElement.classList.contains("c2")) {
		var createMethod = function(method) {
			var original = DOMTokenList.prototype[method];

			DOMTokenList.prototype[method] = function(token) {
				var i, len = arguments.length;

				for (i = 0; i < len; i++) {
					token = arguments[i];
					original.call(this, token);
				}
			};
		};
		createMethod('add');
		createMethod('remove');
	}

	testElement.classList.toggle("c3", false);

	// Polyfill for IE 10 and Firefox <24, where classList.toggle does not
	// support the second argument.
	if (testElement.classList.contains("c3")) {
		var _toggle = DOMTokenList.prototype.toggle;

		DOMTokenList.prototype.toggle = function(token, force) {
			if (1 in arguments && !this.contains(token) === !force) {
				return force;
			} else {
				return _toggle.call(this, token);
			}
		};

	}

	testElement = null;
}());

}


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./src/kmap.scss":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/resolve-url-loader!./node_modules/sass-loader/dist/cjs.js?sourceMap!./src/kmap.scss ***!
  \************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
var ___CSS_LOADER_GET_URL_IMPORT___ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
var ___CSS_LOADER_URL_IMPORT_0___ = __webpack_require__(/*! ./img/x.png */ "./src/img/x.png");
exports = ___CSS_LOADER_API_IMPORT___(false);
var ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);
// Module
exports.push([module.i, "div.kmap-cl-install {\n  display: none; }\n\ndiv.kmap-cl {\n  position: relative;\n  margin: 1em auto;\n  max-width: 650px; }\n  div.kmap-cl h3 {\n    border-bottom: 1px solid black;\n    font-size: 1.2em;\n    font-family: sans-serif;\n    margin: 1em 0 0.5em 0;\n    text-align: left !important; }\n  div.kmap-cl button {\n    margin: 0;\n    padding: 0.15em 1em;\n    font-size: .9em;\n    min-width: 6em; }\n  div.kmap-cl td {\n    cursor: pointer; }\n\ndiv.kmap-cl-work {\n  position: relative;\n  display: table;\n  margin: 0 auto;\n  padding: 0;\n  box-sizing: border-box;\n  border: 1px solid black; }\n\ndiv.kmap-cl-dlg {\n  position: absolute;\n  background-color: transparent;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  font-family: \"Trebuchet MS\", \"Lucida Grande\", \"Lucida Sans Unicode\", \"Lucida Sans\", sans-serif; }\n  div.kmap-cl-dlg > div:first-child {\n    position: absolute;\n    background-color: white;\n    opacity: 0.5;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 2; }\n  div.kmap-cl-dlg > div:nth-child(2) {\n    position: relative;\n    top: 50%;\n    opacity: 1;\n    z-index: 10;\n    width: 50%;\n    margin: 0 auto;\n    transform: perspective(1px) translateY(-50%);\n    border: 1px solid black;\n    background: white; }\n    div.kmap-cl-dlg > div:nth-child(2) > div:first-child {\n      margin: 0;\n      background: green;\n      color: white;\n      padding: 0.25em;\n      font-size: 1.1em; }\n    div.kmap-cl-dlg > div:nth-child(2) > div:nth-child(2) {\n      padding: 0.5em; }\n    div.kmap-cl-dlg > div:nth-child(2) > div:nth-child(3) {\n      padding: 0.5em;\n      text-align: right; }\n      div.kmap-cl-dlg > div:nth-child(2) > div:nth-child(3) button {\n        width: 8em;\n        padding: 0.5em 1em; }\n\ndiv.kmap-cl-work > div:first-child {\n  position: relative;\n  display: table-cell;\n  padding: 1em 0 0 0;\n  vertical-align: top;\n  width: 12em;\n  max-width: 12em;\n  text-align: center;\n  background: green; }\n  div.kmap-cl-work > div:first-child button {\n    width: 9em;\n    margin: 0;\n    height: 2em;\n    padding: 0;\n    font-size: 0.9em; }\n  div.kmap-cl-work > div:first-child .list {\n    position: absolute;\n    padding: 0;\n    margin: 0;\n    overflow-y: auto;\n    top: 4em;\n    left: 0;\n    right: 0;\n    bottom: 0; }\n    div.kmap-cl-work > div:first-child .list .group {\n      position: relative;\n      display: inline-block;\n      box-sizing: border-box;\n      width: 100%;\n      height: 3.2em;\n      font-size: 0.8em;\n      word-wrap: break-word;\n      margin: 0.25em 0;\n      text-align: left;\n      padding: 0.25em;\n      color: white; }\n      div.kmap-cl-work > div:first-child .list .group span {\n        position: absolute;\n        display: block;\n        right: 0.25em;\n        bottom: 0.25em; }\n      div.kmap-cl-work > div:first-child .list .group a {\n        display: inline-block;\n        width: 16px;\n        height: 16px;\n        background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + "); }\n\ndiv.kmap-cl-work > div:nth-child(2) {\n  position: relative;\n  display: table-cell;\n  padding: 1em 2em 1em 1em;\n  min-width: 25em;\n  background: white; }\n  div.kmap-cl-work > div:nth-child(2) canvas {\n    background-color: transparent;\n    position: absolute;\n    z-index: 10;\n    pointer-events: none; }\n\ntable.kmap-cl {\n  background: none;\n  border-collapse: collapse;\n  box-shadow: none;\n  border: 0; }\n  table.kmap-cl input {\n    width: 3em;\n    text-align: center; }\n  table.kmap-cl tr {\n    border: 0;\n    vertical-align: middle; }\n  table.kmap-cl th, table.kmap-cl td {\n    background: white;\n    text-shadow: none;\n    font-weight: normal;\n    color: black;\n    padding: 0.25em;\n    vertical-align: middle; }\n  table.kmap-cl tr th {\n    border: 0;\n    width: 4em;\n    height: 4em; }\n  table.kmap-cl td {\n    position: relative;\n    border: 1px solid black;\n    width: 4em;\n    height: 4em;\n    vertical-align: middle;\n    text-align: center; }\n    table.kmap-cl td span.minterm {\n      position: absolute;\n      top: 0.15em;\n      left: 0.25em;\n      font-size: 0.75em; }\n  table.kmap-cl td.kmap-cl-selected {\n    background: yellow; }\n  table.kmap-cl tr:first-child th {\n    color: black;\n    background: white;\n    text-shadow: none;\n    border: 0;\n    font-weight: normal;\n    padding: 0.25em;\n    font-family: Helvetica, Arial, sans-serif;\n    text-decoration: none; }\n  table.kmap-cl tr:first-child th:not(:first-child) {\n    text-align: center;\n    vertical-align: bottom; }\n  table.kmap-cl tr:first-child th:first-child {\n    border: 0;\n    position: relative; }\n    table.kmap-cl tr:first-child th:first-child .kmap-cl-left {\n      position: absolute;\n      bottom: 0;\n      right: 1.5em; }\n    table.kmap-cl tr:first-child th:first-child .kmap-cl-right {\n      position: absolute;\n      bottom: 1.5em;\n      right: 0; }\n    table.kmap-cl tr:first-child th:first-child .kmap-cl-line {\n      width: 4em;\n      height: 1px;\n      background-color: transparent;\n      border-bottom: 1px solid black;\n      -webkit-transform: translate(2em) rotate(45deg) translate(-2em);\n      transform: translate(2em) rotate(45deg) translate(-2em);\n      position: absolute;\n      right: 0;\n      bottom: 0; }\n  table.kmap-cl tr:not(:first-child) th {\n    text-align: right; }\n\ndiv.kmap-cl-generator {\n  margin: 0 auto; }\n  div.kmap-cl-generator form {\n    max-width: 100%;\n    position: relative; }\n  div.kmap-cl-generator p {\n    position: relative;\n    margin: 0.75em 0;\n    padding-top: 0.25em;\n    text-align: left; }\n    div.kmap-cl-generator p span {\n      padding-left: 0.5em;\n      font-size: 0.85em;\n      position: absolute;\n      width: 100%;\n      top: 50%;\n      transform: translateY(-50%); }\n\ndiv.kmap-cl-solution a {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  background-image: url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + "); }\n\ndiv.kmap-cl-solution button {\n  width: 8em; }\n\ndiv.kmap-cl-solution button.kmap-cl-solve {\n  display: inline-block;\n  float: right; }\n\ndiv.kmap-cl-solution button.kmap-cl-topng {\n  display: inline-block;\n  float: right;\n  margin-right: 1em; }\n\ndiv.kmap-cl-solution input[type=\"text\"] {\n  width: 100%;\n  font-size: 0.9em; }\n\ndiv.kmap-cl-solution > div p {\n  font-size: 1.1em;\n  text-align: center; }\n\ndiv.kmap-cl-manual form {\n  display: table;\n  table-layout: fixed;\n  width: 100%; }\n  div.kmap-cl-manual form input[type=\"text\"] {\n    width: 90%;\n    font-size: 0.8em; }\n  div.kmap-cl-manual form label {\n    font-size: 0.9em; }\n  div.kmap-cl-manual form > div {\n    display: table-cell;\n    min-width: 50%;\n    margin: 0;\n    padding: 0; }\n  div.kmap-cl-manual form p {\n    margin-top: 0; }\n", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return "@media ".concat(item[2], " {").concat(content, "}");
      }

      return content;
    }).join('');
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery, dedupe) {
    if (typeof modules === 'string') {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var i = 0; i < this.length; i++) {
        // eslint-disable-next-line prefer-destructuring
        var id = this[i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = [].concat(modules[_i]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        // eslint-disable-next-line no-continue
        continue;
      }

      if (mediaQuery) {
        if (!item[2]) {
          item[2] = mediaQuery;
        } else {
          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
        }
      }

      list.push(item);
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring

  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || '').concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
  return "/*# ".concat(data, " */");
}

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function (url, options) {
  if (!options) {
    // eslint-disable-next-line no-param-reassign
    options = {};
  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign


  url = url && url.__esModule ? url.default : url;

  if (typeof url !== 'string') {
    return url;
  } // If url is already wrapped in quotes, remove them


  if (/^['"].*['"]$/.test(url)) {
    // eslint-disable-next-line no-param-reassign
    url = url.slice(1, -1);
  }

  if (options.hash) {
    // eslint-disable-next-line no-param-reassign
    url += options.hash;
  } // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls


  if (/["'() \t\n]/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, '\\n'), "\"");
  }

  return url;
};

/***/ }),

/***/ "./node_modules/html2canvas/dist/html2canvas.js":
/*!******************************************************!*\
  !*** ./node_modules/html2canvas/dist/html2canvas.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*!
 * html2canvas 1.0.0-rc.5 <https://html2canvas.hertzen.com>
 * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
(function (global, factory) {
     true ? module.exports = factory() :
    undefined;
}(this, function () { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    /* global Reflect, Promise */

    var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };

    function __extends(d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }

    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };

    function __awaiter(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
            function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }

    function __generator(thisArg, body) {
        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f) throw new TypeError("Generator is already executing.");
            while (_) try {
                if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                if (y = 0, t) op = [op[0] & 2, t.value];
                switch (op[0]) {
                    case 0: case 1: t = op; break;
                    case 4: _.label++; return { value: op[1], done: false };
                    case 5: _.label++; y = op[1]; op = [0]; continue;
                    case 7: op = _.ops.pop(); _.trys.pop(); continue;
                    default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                        if (t[2]) _.ops.pop();
                        _.trys.pop(); continue;
                }
                op = body.call(thisArg, _);
            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
        }
    }

    var Bounds = /** @class */ (function () {
        function Bounds(x, y, w, h) {
            this.left = x;
            this.top = y;
            this.width = w;
            this.height = h;
        }
        Bounds.prototype.add = function (x, y, w, h) {
            return new Bounds(this.left + x, this.top + y, this.width + w, this.height + h);
        };
        Bounds.fromClientRect = function (clientRect) {
            return new Bounds(clientRect.left, clientRect.top, clientRect.width, clientRect.height);
        };
        return Bounds;
    }());
    var parseBounds = function (node) {
        return Bounds.fromClientRect(node.getBoundingClientRect());
    };
    var parseDocumentSize = function (document) {
        var body = document.body;
        var documentElement = document.documentElement;
        if (!body || !documentElement) {
            throw new Error("Unable to get document size");
        }
        var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));
        var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));
        return new Bounds(0, 0, width, height);
    };

    /*
     * css-line-break 1.1.1 <https://github.com/niklasvh/css-line-break#readme>
     * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>
     * Released under MIT License
     */
    var toCodePoints = function (str) {
        var codePoints = [];
        var i = 0;
        var length = str.length;
        while (i < length) {
            var value = str.charCodeAt(i++);
            if (value >= 0xd800 && value <= 0xdbff && i < length) {
                var extra = str.charCodeAt(i++);
                if ((extra & 0xfc00) === 0xdc00) {
                    codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);
                }
                else {
                    codePoints.push(value);
                    i--;
                }
            }
            else {
                codePoints.push(value);
            }
        }
        return codePoints;
    };
    var fromCodePoint = function () {
        var codePoints = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            codePoints[_i] = arguments[_i];
        }
        if (String.fromCodePoint) {
            return String.fromCodePoint.apply(String, codePoints);
        }
        var length = codePoints.length;
        if (!length) {
            return '';
        }
        var codeUnits = [];
        var index = -1;
        var result = '';
        while (++index < length) {
            var codePoint = codePoints[index];
            if (codePoint <= 0xffff) {
                codeUnits.push(codePoint);
            }
            else {
                codePoint -= 0x10000;
                codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);
            }
            if (index + 1 === length || codeUnits.length > 0x4000) {
                result += String.fromCharCode.apply(String, codeUnits);
                codeUnits.length = 0;
            }
        }
        return result;
    };
    var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';
    // Use a lookup table to find the index.
    var lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);
    for (var i = 0; i < chars.length; i++) {
        lookup[chars.charCodeAt(i)] = i;
    }
    var decode = function (base64) {
        var bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;
        if (base64[base64.length - 1] === '=') {
            bufferLength--;
            if (base64[base64.length - 2] === '=') {
                bufferLength--;
            }
        }
        var buffer = typeof ArrayBuffer !== 'undefined' &&
            typeof Uint8Array !== 'undefined' &&
            typeof Uint8Array.prototype.slice !== 'undefined'
            ? new ArrayBuffer(bufferLength)
            : new Array(bufferLength);
        var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);
        for (i = 0; i < len; i += 4) {
            encoded1 = lookup[base64.charCodeAt(i)];
            encoded2 = lookup[base64.charCodeAt(i + 1)];
            encoded3 = lookup[base64.charCodeAt(i + 2)];
            encoded4 = lookup[base64.charCodeAt(i + 3)];
            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);
            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);
            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);
        }
        return buffer;
    };
    var polyUint16Array = function (buffer) {
        var length = buffer.length;
        var bytes = [];
        for (var i = 0; i < length; i += 2) {
            bytes.push((buffer[i + 1] << 8) | buffer[i]);
        }
        return bytes;
    };
    var polyUint32Array = function (buffer) {
        var length = buffer.length;
        var bytes = [];
        for (var i = 0; i < length; i += 4) {
            bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);
        }
        return bytes;
    };

    /** Shift size for getting the index-2 table offset. */
    var UTRIE2_SHIFT_2 = 5;
    /** Shift size for getting the index-1 table offset. */
    var UTRIE2_SHIFT_1 = 6 + 5;
    /**
     * Shift size for shifting left the index array values.
     * Increases possible data size with 16-bit index values at the cost
     * of compactability.
     * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.
     */
    var UTRIE2_INDEX_SHIFT = 2;
    /**
     * Difference between the two shift sizes,
     * for getting an index-1 offset from an index-2 offset. 6=11-5
     */
    var UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;
    /**
     * The part of the index-2 table for U+D800..U+DBFF stores values for
     * lead surrogate code _units_ not code _points_.
     * Values for lead surrogate code _points_ are indexed with this portion of the table.
     * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)
     */
    var UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;
    /** Number of entries in a data block. 32=0x20 */
    var UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;
    /** Mask for getting the lower bits for the in-data-block offset. */
    var UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;
    var UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;
    /** Count the lengths of both BMP pieces. 2080=0x820 */
    var UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;
    /**
     * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.
     * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.
     */
    var UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;
    var UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */
    /**
     * The index-1 table, only used for supplementary code points, at offset 2112=0x840.
     * Variable length, for code points up to highStart, where the last single-value range starts.
     * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.
     * (For 0x100000 supplementary code points U+10000..U+10ffff.)
     *
     * The part of the index-2 table for supplementary code points starts
     * after this index-1 table.
     *
     * Both the index-1 table and the following part of the index-2 table
     * are omitted completely if there is only BMP data.
     */
    var UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;
    /**
     * Number of index-1 entries for the BMP. 32=0x20
     * This part of the index-1 table is omitted from the serialized form.
     */
    var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;
    /** Number of entries in an index-2 block. 64=0x40 */
    var UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;
    /** Mask for getting the lower bits for the in-index-2-block offset. */
    var UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;
    var slice16 = function (view, start, end) {
        if (view.slice) {
            return view.slice(start, end);
        }
        return new Uint16Array(Array.prototype.slice.call(view, start, end));
    };
    var slice32 = function (view, start, end) {
        if (view.slice) {
            return view.slice(start, end);
        }
        return new Uint32Array(Array.prototype.slice.call(view, start, end));
    };
    var createTrieFromBase64 = function (base64) {
        var buffer = decode(base64);
        var view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);
        var view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);
        var headerLength = 24;
        var index = slice16(view16, headerLength / 2, view32[4] / 2);
        var data = view32[5] === 2
            ? slice16(view16, (headerLength + view32[4]) / 2)
            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));
        return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);
    };
    var Trie = /** @class */ (function () {
        function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {
            this.initialValue = initialValue;
            this.errorValue = errorValue;
            this.highStart = highStart;
            this.highValueIndex = highValueIndex;
            this.index = index;
            this.data = data;
        }
        /**
         * Get the value for a code point as stored in the Trie.
         *
         * @param codePoint the code point
         * @return the value
         */
        Trie.prototype.get = function (codePoint) {
            var ix;
            if (codePoint >= 0) {
                if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {
                    // Ordinary BMP code point, excluding leading surrogates.
                    // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.
                    // 16 bit data is stored in the index array itself.
                    ix = this.index[codePoint >> UTRIE2_SHIFT_2];
                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);
                    return this.data[ix];
                }
                if (codePoint <= 0xffff) {
                    // Lead Surrogate Code Point.  A Separate index section is stored for
                    // lead surrogate code units and code points.
                    //   The main index has the code unit data.
                    //   For this function, we need the code point data.
                    // Note: this expression could be refactored for slightly improved efficiency, but
                    //       surrogate code points will be so rare in practice that it's not worth it.
                    ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];
                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);
                    return this.data[ix];
                }
                if (codePoint < this.highStart) {
                    // Supplemental code point, use two-level lookup.
                    ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);
                    ix = this.index[ix];
                    ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;
                    ix = this.index[ix];
                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);
                    return this.data[ix];
                }
                if (codePoint <= 0x10ffff) {
                    return this.data[this.highValueIndex];
                }
            }
            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.
            return this.errorValue;
        };
        return Trie;
    }());

    var base64 = 'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';

    /* @flow */
    var LETTER_NUMBER_MODIFIER = 50;
    // Non-tailorable Line Breaking Classes
    var BK = 1; //  Cause a line break (after)
    var CR = 2; //  Cause a line break (after), except between CR and LF
    var LF = 3; //  Cause a line break (after)
    var CM = 4; //  Prohibit a line break between the character and the preceding character
    var NL = 5; //  Cause a line break (after)
    var WJ = 7; //  Prohibit line breaks before and after
    var ZW = 8; //  Provide a break opportunity
    var GL = 9; //  Prohibit line breaks before and after
    var SP = 10; // Enable indirect line breaks
    var ZWJ = 11; // Prohibit line breaks within joiner sequences
    // Break Opportunities
    var B2 = 12; //  Provide a line break opportunity before and after the character
    var BA = 13; //  Generally provide a line break opportunity after the character
    var BB = 14; //  Generally provide a line break opportunity before the character
    var HY = 15; //  Provide a line break opportunity after the character, except in numeric context
    var CB = 16; //   Provide a line break opportunity contingent on additional information
    // Characters Prohibiting Certain Breaks
    var CL = 17; //  Prohibit line breaks before
    var CP = 18; //  Prohibit line breaks before
    var EX = 19; //  Prohibit line breaks before
    var IN = 20; //  Allow only indirect line breaks between pairs
    var NS = 21; //  Allow only indirect line breaks before
    var OP = 22; //  Prohibit line breaks after
    var QU = 23; //  Act like they are both opening and closing
    // Numeric Context
    var IS = 24; //  Prevent breaks after any and before numeric
    var NU = 25; //  Form numeric expressions for line breaking purposes
    var PO = 26; //  Do not break following a numeric expression
    var PR = 27; //  Do not break in front of a numeric expression
    var SY = 28; //  Prevent a break before; and allow a break after
    // Other Characters
    var AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID
    var AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters
    var CJ = 31; //  Treat as NS or ID for strict or normal breaking.
    var EB = 32; //  Do not break from following Emoji Modifier
    var EM = 33; //  Do not break from preceding Emoji Base
    var H2 = 34; //  Form Korean syllable blocks
    var H3 = 35; //  Form Korean syllable blocks
    var HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic
    var ID = 37; //  Break before or after; except in some numeric context
    var JL = 38; //  Form Korean syllable blocks
    var JV = 39; //  Form Korean syllable blocks
    var JT = 40; //  Form Korean syllable blocks
    var RI = 41; //  Keep pairs together. For pairs; break before and after other classes
    var SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis
    var XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions
    var BREAK_MANDATORY = '!';
    var BREAK_NOT_ALLOWED = '';
    var BREAK_ALLOWED = '';
    var UnicodeTrie = createTrieFromBase64(base64);
    var ALPHABETICS = [AL, HL];
    var HARD_LINE_BREAKS = [BK, CR, LF, NL];
    var SPACE = [SP, ZW];
    var PREFIX_POSTFIX = [PR, PO];
    var LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);
    var KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];
    var HYPHEN = [HY, BA];
    var codePointsToCharacterClasses = function (codePoints, lineBreak) {
        if (lineBreak === void 0) { lineBreak = 'strict'; }
        var types = [];
        var indicies = [];
        var categories = [];
        codePoints.forEach(function (codePoint, index) {
            var classType = UnicodeTrie.get(codePoint);
            if (classType > LETTER_NUMBER_MODIFIER) {
                categories.push(true);
                classType -= LETTER_NUMBER_MODIFIER;
            }
            else {
                categories.push(false);
            }
            if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {
                // U+2010,  U+2013,  U+301C,  U+30A0
                if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {
                    indicies.push(index);
                    return types.push(CB);
                }
            }
            if (classType === CM || classType === ZWJ) {
                // LB10 Treat any remaining combining mark or ZWJ as AL.
                if (index === 0) {
                    indicies.push(index);
                    return types.push(AL);
                }
                // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of
                // the base character in all of the following rules. Treat ZWJ as if it were CM.
                var prev = types[index - 1];
                if (LINE_BREAKS.indexOf(prev) === -1) {
                    indicies.push(indicies[index - 1]);
                    return types.push(prev);
                }
                indicies.push(index);
                return types.push(AL);
            }
            indicies.push(index);
            if (classType === CJ) {
                return types.push(lineBreak === 'strict' ? NS : ID);
            }
            if (classType === SA) {
                return types.push(AL);
            }
            if (classType === AI) {
                return types.push(AL);
            }
            // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL
            // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised
            // to take into account the actual line breaking properties for these characters.
            if (classType === XX) {
                if ((codePoint >= 0x20000 && codePoint <= 0x2fffd) || (codePoint >= 0x30000 && codePoint <= 0x3fffd)) {
                    return types.push(ID);
                }
                else {
                    return types.push(AL);
                }
            }
            types.push(classType);
        });
        return [indicies, types, categories];
    };
    var isAdjacentWithSpaceIgnored = function (a, b, currentIndex, classTypes) {
        var current = classTypes[currentIndex];
        if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {
            var i = currentIndex;
            while (i <= classTypes.length) {
                i++;
                var next = classTypes[i];
                if (next === b) {
                    return true;
                }
                if (next !== SP) {
                    break;
                }
            }
        }
        if (current === SP) {
            var i = currentIndex;
            while (i > 0) {
                i--;
                var prev = classTypes[i];
                if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {
                    var n = currentIndex;
                    while (n <= classTypes.length) {
                        n++;
                        var next = classTypes[n];
                        if (next === b) {
                            return true;
                        }
                        if (next !== SP) {
                            break;
                        }
                    }
                }
                if (prev !== SP) {
                    break;
                }
            }
        }
        return false;
    };
    var previousNonSpaceClassType = function (currentIndex, classTypes) {
        var i = currentIndex;
        while (i >= 0) {
            var type = classTypes[i];
            if (type === SP) {
                i--;
            }
            else {
                return type;
            }
        }
        return 0;
    };
    var _lineBreakAtIndex = function (codePoints, classTypes, indicies, index, forbiddenBreaks) {
        if (indicies[index] === 0) {
            return BREAK_NOT_ALLOWED;
        }
        var currentIndex = index - 1;
        if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {
            return BREAK_NOT_ALLOWED;
        }
        var beforeIndex = currentIndex - 1;
        var afterIndex = currentIndex + 1;
        var current = classTypes[currentIndex];
        // LB4 Always break after hard line breaks.
        // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.
        var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;
        var next = classTypes[afterIndex];
        if (current === CR && next === LF) {
            return BREAK_NOT_ALLOWED;
        }
        if (HARD_LINE_BREAKS.indexOf(current) !== -1) {
            return BREAK_MANDATORY;
        }
        // LB6 Do not break before hard line breaks.
        if (HARD_LINE_BREAKS.indexOf(next) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB7 Do not break before spaces or zero width space.
        if (SPACE.indexOf(next) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.
        if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {
            return BREAK_ALLOWED;
        }
        // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.
        if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB11 Do not break before or after Word joiner and related characters.
        if (current === WJ || next === WJ) {
            return BREAK_NOT_ALLOWED;
        }
        // LB12 Do not break after NBSP and related characters.
        if (current === GL) {
            return BREAK_NOT_ALLOWED;
        }
        // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.
        if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {
            return BREAK_NOT_ALLOWED;
        }
        // LB13 Do not break before ] or ! or ; or /, even after spaces.
        if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB14 Do not break after [, even after spaces.
        if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {
            return BREAK_NOT_ALLOWED;
        }
        // LB15 Do not break within [, even with intervening spaces.
        if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.
        if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB17 Do not break within , even with intervening spaces.
        if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB18 Break after spaces.
        if (current === SP) {
            return BREAK_ALLOWED;
        }
        // LB19 Do not break before or after quotation marks, such as   .
        if (current === QU || next === QU) {
            return BREAK_NOT_ALLOWED;
        }
        // LB20 Break before and after unresolved CB.
        if (next === CB || current === CB) {
            return BREAK_ALLOWED;
        }
        // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.
        if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {
            return BREAK_NOT_ALLOWED;
        }
        // LB21a Don't break after Hebrew + Hyphen.
        if (before === HL && HYPHEN.indexOf(current) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB21b Dont break between Solidus and Hebrew letters.
        if (current === SY && next === HL) {
            return BREAK_NOT_ALLOWED;
        }
        // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.
        if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB23 Do not break between digits and letters.
        if ((ALPHABETICS.indexOf(next) !== -1 && current === NU) || (ALPHABETICS.indexOf(current) !== -1 && next === NU)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.
        if ((current === PR && [ID, EB, EM].indexOf(next) !== -1) ||
            ([ID, EB, EM].indexOf(current) !== -1 && next === PO)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.
        if ((ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1) ||
            (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB25 Do not break between the following pairs of classes relevant to numbers:
        if (
        // (PR | PO)  ( OP | HY )? NU
        ([PR, PO].indexOf(current) !== -1 &&
            (next === NU || ([OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU))) ||
            // ( OP | HY )  NU
            ([OP, HY].indexOf(current) !== -1 && next === NU) ||
            // NU 	(NU | SY | IS)
            (current === NU && [NU, SY, IS].indexOf(next) !== -1)) {
            return BREAK_NOT_ALLOWED;
        }
        // NU (NU | SY | IS)*  (NU | SY | IS | CL | CP)
        if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {
            var prevIndex = currentIndex;
            while (prevIndex >= 0) {
                var type = classTypes[prevIndex];
                if (type === NU) {
                    return BREAK_NOT_ALLOWED;
                }
                else if ([SY, IS].indexOf(type) !== -1) {
                    prevIndex--;
                }
                else {
                    break;
                }
            }
        }
        // NU (NU | SY | IS)* (CL | CP)?  (PO | PR))
        if ([PR, PO].indexOf(next) !== -1) {
            var prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;
            while (prevIndex >= 0) {
                var type = classTypes[prevIndex];
                if (type === NU) {
                    return BREAK_NOT_ALLOWED;
                }
                else if ([SY, IS].indexOf(type) !== -1) {
                    prevIndex--;
                }
                else {
                    break;
                }
            }
        }
        // LB26 Do not break a Korean syllable.
        if ((JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||
            ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||
            ([JT, H3].indexOf(current) !== -1 && next === JT)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB27 Treat a Korean Syllable Block the same as ID.
        if ((KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1) ||
            (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB28 Do not break between alphabetics (at).
        if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB29 Do not break between numeric punctuation and alphabetics (e.g.).
        if (current === IS && ALPHABETICS.indexOf(next) !== -1) {
            return BREAK_NOT_ALLOWED;
        }
        // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.
        if ((ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP) ||
            (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)) {
            return BREAK_NOT_ALLOWED;
        }
        // LB30a Break between two regional indicator symbols if and only if there are an even number of regional
        // indicators preceding the position of the break.
        if (current === RI && next === RI) {
            var i = indicies[currentIndex];
            var count = 1;
            while (i > 0) {
                i--;
                if (classTypes[i] === RI) {
                    count++;
                }
                else {
                    break;
                }
            }
            if (count % 2 !== 0) {
                return BREAK_NOT_ALLOWED;
            }
        }
        // LB30b Do not break between an emoji base and an emoji modifier.
        if (current === EB && next === EM) {
            return BREAK_NOT_ALLOWED;
        }
        return BREAK_ALLOWED;
    };
    var cssFormattedClasses = function (codePoints, options) {
        if (!options) {
            options = { lineBreak: 'normal', wordBreak: 'normal' };
        }
        var _a = codePointsToCharacterClasses(codePoints, options.lineBreak), indicies = _a[0], classTypes = _a[1], isLetterNumber = _a[2];
        if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {
            classTypes = classTypes.map(function (type) { return ([NU, AL, SA].indexOf(type) !== -1 ? ID : type); });
        }
        var forbiddenBreakpoints = options.wordBreak === 'keep-all'
            ? isLetterNumber.map(function (letterNumber, i) {
                return letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;
            })
            : undefined;
        return [indicies, classTypes, forbiddenBreakpoints];
    };
    var Break = /** @class */ (function () {
        function Break(codePoints, lineBreak, start, end) {
            this.codePoints = codePoints;
            this.required = lineBreak === BREAK_MANDATORY;
            this.start = start;
            this.end = end;
        }
        Break.prototype.slice = function () {
            return fromCodePoint.apply(void 0, this.codePoints.slice(this.start, this.end));
        };
        return Break;
    }());
    var LineBreaker = function (str, options) {
        var codePoints = toCodePoints(str);
        var _a = cssFormattedClasses(codePoints, options), indicies = _a[0], classTypes = _a[1], forbiddenBreakpoints = _a[2];
        var length = codePoints.length;
        var lastEnd = 0;
        var nextIndex = 0;
        return {
            next: function () {
                if (nextIndex >= length) {
                    return { done: true, value: null };
                }
                var lineBreak = BREAK_NOT_ALLOWED;
                while (nextIndex < length &&
                    (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) ===
                        BREAK_NOT_ALLOWED) { }
                if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {
                    var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);
                    lastEnd = nextIndex;
                    return { value: value, done: false };
                }
                return { done: true, value: null };
            },
        };
    };

    // https://www.w3.org/TR/css-syntax-3
    var TokenType;
    (function (TokenType) {
        TokenType[TokenType["STRING_TOKEN"] = 0] = "STRING_TOKEN";
        TokenType[TokenType["BAD_STRING_TOKEN"] = 1] = "BAD_STRING_TOKEN";
        TokenType[TokenType["LEFT_PARENTHESIS_TOKEN"] = 2] = "LEFT_PARENTHESIS_TOKEN";
        TokenType[TokenType["RIGHT_PARENTHESIS_TOKEN"] = 3] = "RIGHT_PARENTHESIS_TOKEN";
        TokenType[TokenType["COMMA_TOKEN"] = 4] = "COMMA_TOKEN";
        TokenType[TokenType["HASH_TOKEN"] = 5] = "HASH_TOKEN";
        TokenType[TokenType["DELIM_TOKEN"] = 6] = "DELIM_TOKEN";
        TokenType[TokenType["AT_KEYWORD_TOKEN"] = 7] = "AT_KEYWORD_TOKEN";
        TokenType[TokenType["PREFIX_MATCH_TOKEN"] = 8] = "PREFIX_MATCH_TOKEN";
        TokenType[TokenType["DASH_MATCH_TOKEN"] = 9] = "DASH_MATCH_TOKEN";
        TokenType[TokenType["INCLUDE_MATCH_TOKEN"] = 10] = "INCLUDE_MATCH_TOKEN";
        TokenType[TokenType["LEFT_CURLY_BRACKET_TOKEN"] = 11] = "LEFT_CURLY_BRACKET_TOKEN";
        TokenType[TokenType["RIGHT_CURLY_BRACKET_TOKEN"] = 12] = "RIGHT_CURLY_BRACKET_TOKEN";
        TokenType[TokenType["SUFFIX_MATCH_TOKEN"] = 13] = "SUFFIX_MATCH_TOKEN";
        TokenType[TokenType["SUBSTRING_MATCH_TOKEN"] = 14] = "SUBSTRING_MATCH_TOKEN";
        TokenType[TokenType["DIMENSION_TOKEN"] = 15] = "DIMENSION_TOKEN";
        TokenType[TokenType["PERCENTAGE_TOKEN"] = 16] = "PERCENTAGE_TOKEN";
        TokenType[TokenType["NUMBER_TOKEN"] = 17] = "NUMBER_TOKEN";
        TokenType[TokenType["FUNCTION"] = 18] = "FUNCTION";
        TokenType[TokenType["FUNCTION_TOKEN"] = 19] = "FUNCTION_TOKEN";
        TokenType[TokenType["IDENT_TOKEN"] = 20] = "IDENT_TOKEN";
        TokenType[TokenType["COLUMN_TOKEN"] = 21] = "COLUMN_TOKEN";
        TokenType[TokenType["URL_TOKEN"] = 22] = "URL_TOKEN";
        TokenType[TokenType["BAD_URL_TOKEN"] = 23] = "BAD_URL_TOKEN";
        TokenType[TokenType["CDC_TOKEN"] = 24] = "CDC_TOKEN";
        TokenType[TokenType["CDO_TOKEN"] = 25] = "CDO_TOKEN";
        TokenType[TokenType["COLON_TOKEN"] = 26] = "COLON_TOKEN";
        TokenType[TokenType["SEMICOLON_TOKEN"] = 27] = "SEMICOLON_TOKEN";
        TokenType[TokenType["LEFT_SQUARE_BRACKET_TOKEN"] = 28] = "LEFT_SQUARE_BRACKET_TOKEN";
        TokenType[TokenType["RIGHT_SQUARE_BRACKET_TOKEN"] = 29] = "RIGHT_SQUARE_BRACKET_TOKEN";
        TokenType[TokenType["UNICODE_RANGE_TOKEN"] = 30] = "UNICODE_RANGE_TOKEN";
        TokenType[TokenType["WHITESPACE_TOKEN"] = 31] = "WHITESPACE_TOKEN";
        TokenType[TokenType["EOF_TOKEN"] = 32] = "EOF_TOKEN";
    })(TokenType || (TokenType = {}));
    var FLAG_UNRESTRICTED = 1 << 0;
    var FLAG_ID = 1 << 1;
    var FLAG_INTEGER = 1 << 2;
    var FLAG_NUMBER = 1 << 3;
    var LINE_FEED = 0x000a;
    var SOLIDUS = 0x002f;
    var REVERSE_SOLIDUS = 0x005c;
    var CHARACTER_TABULATION = 0x0009;
    var SPACE$1 = 0x0020;
    var QUOTATION_MARK = 0x0022;
    var EQUALS_SIGN = 0x003d;
    var NUMBER_SIGN = 0x0023;
    var DOLLAR_SIGN = 0x0024;
    var PERCENTAGE_SIGN = 0x0025;
    var APOSTROPHE = 0x0027;
    var LEFT_PARENTHESIS = 0x0028;
    var RIGHT_PARENTHESIS = 0x0029;
    var LOW_LINE = 0x005f;
    var HYPHEN_MINUS = 0x002d;
    var EXCLAMATION_MARK = 0x0021;
    var LESS_THAN_SIGN = 0x003c;
    var GREATER_THAN_SIGN = 0x003e;
    var COMMERCIAL_AT = 0x0040;
    var LEFT_SQUARE_BRACKET = 0x005b;
    var RIGHT_SQUARE_BRACKET = 0x005d;
    var CIRCUMFLEX_ACCENT = 0x003d;
    var LEFT_CURLY_BRACKET = 0x007b;
    var QUESTION_MARK = 0x003f;
    var RIGHT_CURLY_BRACKET = 0x007d;
    var VERTICAL_LINE = 0x007c;
    var TILDE = 0x007e;
    var CONTROL = 0x0080;
    var REPLACEMENT_CHARACTER = 0xfffd;
    var ASTERISK = 0x002a;
    var PLUS_SIGN = 0x002b;
    var COMMA = 0x002c;
    var COLON = 0x003a;
    var SEMICOLON = 0x003b;
    var FULL_STOP = 0x002e;
    var NULL = 0x0000;
    var BACKSPACE = 0x0008;
    var LINE_TABULATION = 0x000b;
    var SHIFT_OUT = 0x000e;
    var INFORMATION_SEPARATOR_ONE = 0x001f;
    var DELETE = 0x007f;
    var EOF = -1;
    var ZERO = 0x0030;
    var a = 0x0061;
    var e = 0x0065;
    var f = 0x0066;
    var u = 0x0075;
    var z = 0x007a;
    var A = 0x0041;
    var E = 0x0045;
    var F = 0x0046;
    var U = 0x0055;
    var Z = 0x005a;
    var isDigit = function (codePoint) { return codePoint >= ZERO && codePoint <= 0x0039; };
    var isSurrogateCodePoint = function (codePoint) { return codePoint >= 0xd800 && codePoint <= 0xdfff; };
    var isHex = function (codePoint) {
        return isDigit(codePoint) || (codePoint >= A && codePoint <= F) || (codePoint >= a && codePoint <= f);
    };
    var isLowerCaseLetter = function (codePoint) { return codePoint >= a && codePoint <= z; };
    var isUpperCaseLetter = function (codePoint) { return codePoint >= A && codePoint <= Z; };
    var isLetter = function (codePoint) { return isLowerCaseLetter(codePoint) || isUpperCaseLetter(codePoint); };
    var isNonASCIICodePoint = function (codePoint) { return codePoint >= CONTROL; };
    var isWhiteSpace = function (codePoint) {
        return codePoint === LINE_FEED || codePoint === CHARACTER_TABULATION || codePoint === SPACE$1;
    };
    var isNameStartCodePoint = function (codePoint) {
        return isLetter(codePoint) || isNonASCIICodePoint(codePoint) || codePoint === LOW_LINE;
    };
    var isNameCodePoint = function (codePoint) {
        return isNameStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === HYPHEN_MINUS;
    };
    var isNonPrintableCodePoint = function (codePoint) {
        return ((codePoint >= NULL && codePoint <= BACKSPACE) ||
            codePoint === LINE_TABULATION ||
            (codePoint >= SHIFT_OUT && codePoint <= INFORMATION_SEPARATOR_ONE) ||
            codePoint === DELETE);
    };
    var isValidEscape = function (c1, c2) {
        if (c1 !== REVERSE_SOLIDUS) {
            return false;
        }
        return c2 !== LINE_FEED;
    };
    var isIdentifierStart = function (c1, c2, c3) {
        if (c1 === HYPHEN_MINUS) {
            return isNameStartCodePoint(c2) || isValidEscape(c2, c3);
        }
        else if (isNameStartCodePoint(c1)) {
            return true;
        }
        else if (c1 === REVERSE_SOLIDUS && isValidEscape(c1, c2)) {
            return true;
        }
        return false;
    };
    var isNumberStart = function (c1, c2, c3) {
        if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {
            if (isDigit(c2)) {
                return true;
            }
            return c2 === FULL_STOP && isDigit(c3);
        }
        if (c1 === FULL_STOP) {
            return isDigit(c2);
        }
        return isDigit(c1);
    };
    var stringToNumber = function (codePoints) {
        var c = 0;
        var sign = 1;
        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {
            if (codePoints[c] === HYPHEN_MINUS) {
                sign = -1;
            }
            c++;
        }
        var integers = [];
        while (isDigit(codePoints[c])) {
            integers.push(codePoints[c++]);
        }
        var int = integers.length ? parseInt(fromCodePoint.apply(void 0, integers), 10) : 0;
        if (codePoints[c] === FULL_STOP) {
            c++;
        }
        var fraction = [];
        while (isDigit(codePoints[c])) {
            fraction.push(codePoints[c++]);
        }
        var fracd = fraction.length;
        var frac = fracd ? parseInt(fromCodePoint.apply(void 0, fraction), 10) : 0;
        if (codePoints[c] === E || codePoints[c] === e) {
            c++;
        }
        var expsign = 1;
        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {
            if (codePoints[c] === HYPHEN_MINUS) {
                expsign = -1;
            }
            c++;
        }
        var exponent = [];
        while (isDigit(codePoints[c])) {
            exponent.push(codePoints[c++]);
        }
        var exp = exponent.length ? parseInt(fromCodePoint.apply(void 0, exponent), 10) : 0;
        return sign * (int + frac * Math.pow(10, -fracd)) * Math.pow(10, expsign * exp);
    };
    var LEFT_PARENTHESIS_TOKEN = {
        type: TokenType.LEFT_PARENTHESIS_TOKEN
    };
    var RIGHT_PARENTHESIS_TOKEN = {
        type: TokenType.RIGHT_PARENTHESIS_TOKEN
    };
    var COMMA_TOKEN = { type: TokenType.COMMA_TOKEN };
    var SUFFIX_MATCH_TOKEN = { type: TokenType.SUFFIX_MATCH_TOKEN };
    var PREFIX_MATCH_TOKEN = { type: TokenType.PREFIX_MATCH_TOKEN };
    var COLUMN_TOKEN = { type: TokenType.COLUMN_TOKEN };
    var DASH_MATCH_TOKEN = { type: TokenType.DASH_MATCH_TOKEN };
    var INCLUDE_MATCH_TOKEN = { type: TokenType.INCLUDE_MATCH_TOKEN };
    var LEFT_CURLY_BRACKET_TOKEN = {
        type: TokenType.LEFT_CURLY_BRACKET_TOKEN
    };
    var RIGHT_CURLY_BRACKET_TOKEN = {
        type: TokenType.RIGHT_CURLY_BRACKET_TOKEN
    };
    var SUBSTRING_MATCH_TOKEN = { type: TokenType.SUBSTRING_MATCH_TOKEN };
    var BAD_URL_TOKEN = { type: TokenType.BAD_URL_TOKEN };
    var BAD_STRING_TOKEN = { type: TokenType.BAD_STRING_TOKEN };
    var CDO_TOKEN = { type: TokenType.CDO_TOKEN };
    var CDC_TOKEN = { type: TokenType.CDC_TOKEN };
    var COLON_TOKEN = { type: TokenType.COLON_TOKEN };
    var SEMICOLON_TOKEN = { type: TokenType.SEMICOLON_TOKEN };
    var LEFT_SQUARE_BRACKET_TOKEN = {
        type: TokenType.LEFT_SQUARE_BRACKET_TOKEN
    };
    var RIGHT_SQUARE_BRACKET_TOKEN = {
        type: TokenType.RIGHT_SQUARE_BRACKET_TOKEN
    };
    var WHITESPACE_TOKEN = { type: TokenType.WHITESPACE_TOKEN };
    var EOF_TOKEN = { type: TokenType.EOF_TOKEN };
    var Tokenizer = /** @class */ (function () {
        function Tokenizer() {
            this._value = [];
        }
        Tokenizer.prototype.write = function (chunk) {
            this._value = this._value.concat(toCodePoints(chunk));
        };
        Tokenizer.prototype.read = function () {
            var tokens = [];
            var token = this.consumeToken();
            while (token !== EOF_TOKEN) {
                tokens.push(token);
                token = this.consumeToken();
            }
            return tokens;
        };
        Tokenizer.prototype.consumeToken = function () {
            var codePoint = this.consumeCodePoint();
            switch (codePoint) {
                case QUOTATION_MARK:
                    return this.consumeStringToken(QUOTATION_MARK);
                case NUMBER_SIGN:
                    var c1 = this.peekCodePoint(0);
                    var c2 = this.peekCodePoint(1);
                    var c3 = this.peekCodePoint(2);
                    if (isNameCodePoint(c1) || isValidEscape(c2, c3)) {
                        var flags = isIdentifierStart(c1, c2, c3) ? FLAG_ID : FLAG_UNRESTRICTED;
                        var value = this.consumeName();
                        return { type: TokenType.HASH_TOKEN, value: value, flags: flags };
                    }
                    break;
                case DOLLAR_SIGN:
                    if (this.peekCodePoint(0) === EQUALS_SIGN) {
                        this.consumeCodePoint();
                        return SUFFIX_MATCH_TOKEN;
                    }
                    break;
                case APOSTROPHE:
                    return this.consumeStringToken(APOSTROPHE);
                case LEFT_PARENTHESIS:
                    return LEFT_PARENTHESIS_TOKEN;
                case RIGHT_PARENTHESIS:
                    return RIGHT_PARENTHESIS_TOKEN;
                case ASTERISK:
                    if (this.peekCodePoint(0) === EQUALS_SIGN) {
                        this.consumeCodePoint();
                        return SUBSTRING_MATCH_TOKEN;
                    }
                    break;
                case PLUS_SIGN:
                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {
                        this.reconsumeCodePoint(codePoint);
                        return this.consumeNumericToken();
                    }
                    break;
                case COMMA:
                    return COMMA_TOKEN;
                case HYPHEN_MINUS:
                    var e1 = codePoint;
                    var e2 = this.peekCodePoint(0);
                    var e3 = this.peekCodePoint(1);
                    if (isNumberStart(e1, e2, e3)) {
                        this.reconsumeCodePoint(codePoint);
                        return this.consumeNumericToken();
                    }
                    if (isIdentifierStart(e1, e2, e3)) {
                        this.reconsumeCodePoint(codePoint);
                        return this.consumeIdentLikeToken();
                    }
                    if (e2 === HYPHEN_MINUS && e3 === GREATER_THAN_SIGN) {
                        this.consumeCodePoint();
                        this.consumeCodePoint();
                        return CDC_TOKEN;
                    }
                    break;
                case FULL_STOP:
                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {
                        this.reconsumeCodePoint(codePoint);
                        return this.consumeNumericToken();
                    }
                    break;
                case SOLIDUS:
                    if (this.peekCodePoint(0) === ASTERISK) {
                        this.consumeCodePoint();
                        while (true) {
                            var c = this.consumeCodePoint();
                            if (c === ASTERISK) {
                                c = this.consumeCodePoint();
                                if (c === SOLIDUS) {
                                    return this.consumeToken();
                                }
                            }
                            if (c === EOF) {
                                return this.consumeToken();
                            }
                        }
                    }
                    break;
                case COLON:
                    return COLON_TOKEN;
                case SEMICOLON:
                    return SEMICOLON_TOKEN;
                case LESS_THAN_SIGN:
                    if (this.peekCodePoint(0) === EXCLAMATION_MARK &&
                        this.peekCodePoint(1) === HYPHEN_MINUS &&
                        this.peekCodePoint(2) === HYPHEN_MINUS) {
                        this.consumeCodePoint();
                        this.consumeCodePoint();
                        return CDO_TOKEN;
                    }
                    break;
                case COMMERCIAL_AT:
                    var a1 = this.peekCodePoint(0);
                    var a2 = this.peekCodePoint(1);
                    var a3 = this.peekCodePoint(2);
                    if (isIdentifierStart(a1, a2, a3)) {
                        var value = this.consumeName();
                        return { type: TokenType.AT_KEYWORD_TOKEN, value: value };
                    }
                    break;
                case LEFT_SQUARE_BRACKET:
                    return LEFT_SQUARE_BRACKET_TOKEN;
                case REVERSE_SOLIDUS:
                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {
                        this.reconsumeCodePoint(codePoint);
                        return this.consumeIdentLikeToken();
                    }
                    break;
                case RIGHT_SQUARE_BRACKET:
                    return RIGHT_SQUARE_BRACKET_TOKEN;
                case CIRCUMFLEX_ACCENT:
                    if (this.peekCodePoint(0) === EQUALS_SIGN) {
                        this.consumeCodePoint();
                        return PREFIX_MATCH_TOKEN;
                    }
                    break;
                case LEFT_CURLY_BRACKET:
                    return LEFT_CURLY_BRACKET_TOKEN;
                case RIGHT_CURLY_BRACKET:
                    return RIGHT_CURLY_BRACKET_TOKEN;
                case u:
                case U:
                    var u1 = this.peekCodePoint(0);
                    var u2 = this.peekCodePoint(1);
                    if (u1 === PLUS_SIGN && (isHex(u2) || u2 === QUESTION_MARK)) {
                        this.consumeCodePoint();
                        this.consumeUnicodeRangeToken();
                    }
                    this.reconsumeCodePoint(codePoint);
                    return this.consumeIdentLikeToken();
                case VERTICAL_LINE:
                    if (this.peekCodePoint(0) === EQUALS_SIGN) {
                        this.consumeCodePoint();
                        return DASH_MATCH_TOKEN;
                    }
                    if (this.peekCodePoint(0) === VERTICAL_LINE) {
                        this.consumeCodePoint();
                        return COLUMN_TOKEN;
                    }
                    break;
                case TILDE:
                    if (this.peekCodePoint(0) === EQUALS_SIGN) {
                        this.consumeCodePoint();
                        return INCLUDE_MATCH_TOKEN;
                    }
                    break;
                case EOF:
                    return EOF_TOKEN;
            }
            if (isWhiteSpace(codePoint)) {
                this.consumeWhiteSpace();
                return WHITESPACE_TOKEN;
            }
            if (isDigit(codePoint)) {
                this.reconsumeCodePoint(codePoint);
                return this.consumeNumericToken();
            }
            if (isNameStartCodePoint(codePoint)) {
                this.reconsumeCodePoint(codePoint);
                return this.consumeIdentLikeToken();
            }
            return { type: TokenType.DELIM_TOKEN, value: fromCodePoint(codePoint) };
        };
        Tokenizer.prototype.consumeCodePoint = function () {
            var value = this._value.shift();
            return typeof value === 'undefined' ? -1 : value;
        };
        Tokenizer.prototype.reconsumeCodePoint = function (codePoint) {
            this._value.unshift(codePoint);
        };
        Tokenizer.prototype.peekCodePoint = function (delta) {
            if (delta >= this._value.length) {
                return -1;
            }
            return this._value[delta];
        };
        Tokenizer.prototype.consumeUnicodeRangeToken = function () {
            var digits = [];
            var codePoint = this.consumeCodePoint();
            while (isHex(codePoint) && digits.length < 6) {
                digits.push(codePoint);
                codePoint = this.consumeCodePoint();
            }
            var questionMarks = false;
            while (codePoint === QUESTION_MARK && digits.length < 6) {
                digits.push(codePoint);
                codePoint = this.consumeCodePoint();
                questionMarks = true;
            }
            if (questionMarks) {
                var start_1 = parseInt(fromCodePoint.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? ZERO : digit); })), 16);
                var end = parseInt(fromCodePoint.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? F : digit); })), 16);
                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start_1, end: end };
            }
            var start = parseInt(fromCodePoint.apply(void 0, digits), 16);
            if (this.peekCodePoint(0) === HYPHEN_MINUS && isHex(this.peekCodePoint(1))) {
                this.consumeCodePoint();
                codePoint = this.consumeCodePoint();
                var endDigits = [];
                while (isHex(codePoint) && endDigits.length < 6) {
                    endDigits.push(codePoint);
                    codePoint = this.consumeCodePoint();
                }
                var end = parseInt(fromCodePoint.apply(void 0, endDigits), 16);
                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start, end: end };
            }
            else {
                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start, end: start };
            }
        };
        Tokenizer.prototype.consumeIdentLikeToken = function () {
            var value = this.consumeName();
            if (value.toLowerCase() === 'url' && this.peekCodePoint(0) === LEFT_PARENTHESIS) {
                this.consumeCodePoint();
                return this.consumeUrlToken();
            }
            else if (this.peekCodePoint(0) === LEFT_PARENTHESIS) {
                this.consumeCodePoint();
                return { type: TokenType.FUNCTION_TOKEN, value: value };
            }
            return { type: TokenType.IDENT_TOKEN, value: value };
        };
        Tokenizer.prototype.consumeUrlToken = function () {
            var value = [];
            this.consumeWhiteSpace();
            if (this.peekCodePoint(0) === EOF) {
                return { type: TokenType.URL_TOKEN, value: '' };
            }
            var next = this.peekCodePoint(0);
            if (next === APOSTROPHE || next === QUOTATION_MARK) {
                var stringToken = this.consumeStringToken(this.consumeCodePoint());
                if (stringToken.type === TokenType.STRING_TOKEN) {
                    this.consumeWhiteSpace();
                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {
                        this.consumeCodePoint();
                        return { type: TokenType.URL_TOKEN, value: stringToken.value };
                    }
                }
                this.consumeBadUrlRemnants();
                return BAD_URL_TOKEN;
            }
            while (true) {
                var codePoint = this.consumeCodePoint();
                if (codePoint === EOF || codePoint === RIGHT_PARENTHESIS) {
                    return { type: TokenType.URL_TOKEN, value: fromCodePoint.apply(void 0, value) };
                }
                else if (isWhiteSpace(codePoint)) {
                    this.consumeWhiteSpace();
                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {
                        this.consumeCodePoint();
                        return { type: TokenType.URL_TOKEN, value: fromCodePoint.apply(void 0, value) };
                    }
                    this.consumeBadUrlRemnants();
                    return BAD_URL_TOKEN;
                }
                else if (codePoint === QUOTATION_MARK ||
                    codePoint === APOSTROPHE ||
                    codePoint === LEFT_PARENTHESIS ||
                    isNonPrintableCodePoint(codePoint)) {
                    this.consumeBadUrlRemnants();
                    return BAD_URL_TOKEN;
                }
                else if (codePoint === REVERSE_SOLIDUS) {
                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {
                        value.push(this.consumeEscapedCodePoint());
                    }
                    else {
                        this.consumeBadUrlRemnants();
                        return BAD_URL_TOKEN;
                    }
                }
                else {
                    value.push(codePoint);
                }
            }
        };
        Tokenizer.prototype.consumeWhiteSpace = function () {
            while (isWhiteSpace(this.peekCodePoint(0))) {
                this.consumeCodePoint();
            }
        };
        Tokenizer.prototype.consumeBadUrlRemnants = function () {
            while (true) {
                var codePoint = this.consumeCodePoint();
                if (codePoint === RIGHT_PARENTHESIS || codePoint === EOF) {
                    return;
                }
                if (isValidEscape(codePoint, this.peekCodePoint(0))) {
                    this.consumeEscapedCodePoint();
                }
            }
        };
        Tokenizer.prototype.consumeStringSlice = function (count) {
            var SLICE_STACK_SIZE = 60000;
            var value = '';
            while (count > 0) {
                var amount = Math.min(SLICE_STACK_SIZE, count);
                value += fromCodePoint.apply(void 0, this._value.splice(0, amount));
                count -= amount;
            }
            this._value.shift();
            return value;
        };
        Tokenizer.prototype.consumeStringToken = function (endingCodePoint) {
            var value = '';
            var i = 0;
            do {
                var codePoint = this._value[i];
                if (codePoint === EOF || codePoint === undefined || codePoint === endingCodePoint) {
                    value += this.consumeStringSlice(i);
                    return { type: TokenType.STRING_TOKEN, value: value };
                }
                if (codePoint === LINE_FEED) {
                    this._value.splice(0, i);
                    return BAD_STRING_TOKEN;
                }
                if (codePoint === REVERSE_SOLIDUS) {
                    var next = this._value[i + 1];
                    if (next !== EOF && next !== undefined) {
                        if (next === LINE_FEED) {
                            value += this.consumeStringSlice(i);
                            i = -1;
                            this._value.shift();
                        }
                        else if (isValidEscape(codePoint, next)) {
                            value += this.consumeStringSlice(i);
                            value += fromCodePoint(this.consumeEscapedCodePoint());
                            i = -1;
                        }
                    }
                }
                i++;
            } while (true);
        };
        Tokenizer.prototype.consumeNumber = function () {
            var repr = [];
            var type = FLAG_INTEGER;
            var c1 = this.peekCodePoint(0);
            if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {
                repr.push(this.consumeCodePoint());
            }
            while (isDigit(this.peekCodePoint(0))) {
                repr.push(this.consumeCodePoint());
            }
            c1 = this.peekCodePoint(0);
            var c2 = this.peekCodePoint(1);
            if (c1 === FULL_STOP && isDigit(c2)) {
                repr.push(this.consumeCodePoint(), this.consumeCodePoint());
                type = FLAG_NUMBER;
                while (isDigit(this.peekCodePoint(0))) {
                    repr.push(this.consumeCodePoint());
                }
            }
            c1 = this.peekCodePoint(0);
            c2 = this.peekCodePoint(1);
            var c3 = this.peekCodePoint(2);
            if ((c1 === E || c1 === e) && (((c2 === PLUS_SIGN || c2 === HYPHEN_MINUS) && isDigit(c3)) || isDigit(c2))) {
                repr.push(this.consumeCodePoint(), this.consumeCodePoint());
                type = FLAG_NUMBER;
                while (isDigit(this.peekCodePoint(0))) {
                    repr.push(this.consumeCodePoint());
                }
            }
            return [stringToNumber(repr), type];
        };
        Tokenizer.prototype.consumeNumericToken = function () {
            var _a = this.consumeNumber(), number = _a[0], flags = _a[1];
            var c1 = this.peekCodePoint(0);
            var c2 = this.peekCodePoint(1);
            var c3 = this.peekCodePoint(2);
            if (isIdentifierStart(c1, c2, c3)) {
                var unit = this.consumeName();
                return { type: TokenType.DIMENSION_TOKEN, number: number, flags: flags, unit: unit };
            }
            if (c1 === PERCENTAGE_SIGN) {
                this.consumeCodePoint();
                return { type: TokenType.PERCENTAGE_TOKEN, number: number, flags: flags };
            }
            return { type: TokenType.NUMBER_TOKEN, number: number, flags: flags };
        };
        Tokenizer.prototype.consumeEscapedCodePoint = function () {
            var codePoint = this.consumeCodePoint();
            if (isHex(codePoint)) {
                var hex = fromCodePoint(codePoint);
                while (isHex(this.peekCodePoint(0)) && hex.length < 6) {
                    hex += fromCodePoint(this.consumeCodePoint());
                }
                if (isWhiteSpace(this.peekCodePoint(0))) {
                    this.consumeCodePoint();
                }
                var hexCodePoint = parseInt(hex, 16);
                if (hexCodePoint === 0 || isSurrogateCodePoint(hexCodePoint) || hexCodePoint > 0x10ffff) {
                    return REPLACEMENT_CHARACTER;
                }
                return hexCodePoint;
            }
            if (codePoint === EOF) {
                return REPLACEMENT_CHARACTER;
            }
            return codePoint;
        };
        Tokenizer.prototype.consumeName = function () {
            var result = '';
            while (true) {
                var codePoint = this.consumeCodePoint();
                if (isNameCodePoint(codePoint)) {
                    result += fromCodePoint(codePoint);
                }
                else if (isValidEscape(codePoint, this.peekCodePoint(0))) {
                    result += fromCodePoint(this.consumeEscapedCodePoint());
                }
                else {
                    this.reconsumeCodePoint(codePoint);
                    return result;
                }
            }
        };
        return Tokenizer;
    }());

    var Parser = /** @class */ (function () {
        function Parser(tokens) {
            this._tokens = tokens;
        }
        Parser.create = function (value) {
            var tokenizer = new Tokenizer();
            tokenizer.write(value);
            return new Parser(tokenizer.read());
        };
        Parser.parseValue = function (value) {
            return Parser.create(value).parseComponentValue();
        };
        Parser.parseValues = function (value) {
            return Parser.create(value).parseComponentValues();
        };
        Parser.prototype.parseComponentValue = function () {
            var token = this.consumeToken();
            while (token.type === TokenType.WHITESPACE_TOKEN) {
                token = this.consumeToken();
            }
            if (token.type === TokenType.EOF_TOKEN) {
                throw new SyntaxError("Error parsing CSS component value, unexpected EOF");
            }
            this.reconsumeToken(token);
            var value = this.consumeComponentValue();
            do {
                token = this.consumeToken();
            } while (token.type === TokenType.WHITESPACE_TOKEN);
            if (token.type === TokenType.EOF_TOKEN) {
                return value;
            }
            throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one");
        };
        Parser.prototype.parseComponentValues = function () {
            var values = [];
            while (true) {
                var value = this.consumeComponentValue();
                if (value.type === TokenType.EOF_TOKEN) {
                    return values;
                }
                values.push(value);
                values.push();
            }
        };
        Parser.prototype.consumeComponentValue = function () {
            var token = this.consumeToken();
            switch (token.type) {
                case TokenType.LEFT_CURLY_BRACKET_TOKEN:
                case TokenType.LEFT_SQUARE_BRACKET_TOKEN:
                case TokenType.LEFT_PARENTHESIS_TOKEN:
                    return this.consumeSimpleBlock(token.type);
                case TokenType.FUNCTION_TOKEN:
                    return this.consumeFunction(token);
            }
            return token;
        };
        Parser.prototype.consumeSimpleBlock = function (type) {
            var block = { type: type, values: [] };
            var token = this.consumeToken();
            while (true) {
                if (token.type === TokenType.EOF_TOKEN || isEndingTokenFor(token, type)) {
                    return block;
                }
                this.reconsumeToken(token);
                block.values.push(this.consumeComponentValue());
                token = this.consumeToken();
            }
        };
        Parser.prototype.consumeFunction = function (functionToken) {
            var cssFunction = {
                name: functionToken.value,
                values: [],
                type: TokenType.FUNCTION
            };
            while (true) {
                var token = this.consumeToken();
                if (token.type === TokenType.EOF_TOKEN || token.type === TokenType.RIGHT_PARENTHESIS_TOKEN) {
                    return cssFunction;
                }
                this.reconsumeToken(token);
                cssFunction.values.push(this.consumeComponentValue());
            }
        };
        Parser.prototype.consumeToken = function () {
            var token = this._tokens.shift();
            return typeof token === 'undefined' ? EOF_TOKEN : token;
        };
        Parser.prototype.reconsumeToken = function (token) {
            this._tokens.unshift(token);
        };
        return Parser;
    }());
    var isDimensionToken = function (token) { return token.type === TokenType.DIMENSION_TOKEN; };
    var isNumberToken = function (token) { return token.type === TokenType.NUMBER_TOKEN; };
    var isIdentToken = function (token) { return token.type === TokenType.IDENT_TOKEN; };
    var isStringToken = function (token) { return token.type === TokenType.STRING_TOKEN; };
    var isIdentWithValue = function (token, value) {
        return isIdentToken(token) && token.value === value;
    };
    var nonWhiteSpace = function (token) { return token.type !== TokenType.WHITESPACE_TOKEN; };
    var nonFunctionArgSeparator = function (token) {
        return token.type !== TokenType.WHITESPACE_TOKEN && token.type !== TokenType.COMMA_TOKEN;
    };
    var parseFunctionArgs = function (tokens) {
        var args = [];
        var arg = [];
        tokens.forEach(function (token) {
            if (token.type === TokenType.COMMA_TOKEN) {
                if (arg.length === 0) {
                    throw new Error("Error parsing function args, zero tokens for arg");
                }
                args.push(arg);
                arg = [];
                return;
            }
            if (token.type !== TokenType.WHITESPACE_TOKEN) {
                arg.push(token);
            }
        });
        if (arg.length) {
            args.push(arg);
        }
        return args;
    };
    var isEndingTokenFor = function (token, type) {
        if (type === TokenType.LEFT_CURLY_BRACKET_TOKEN && token.type === TokenType.RIGHT_CURLY_BRACKET_TOKEN) {
            return true;
        }
        if (type === TokenType.LEFT_SQUARE_BRACKET_TOKEN && token.type === TokenType.RIGHT_SQUARE_BRACKET_TOKEN) {
            return true;
        }
        return type === TokenType.LEFT_PARENTHESIS_TOKEN && token.type === TokenType.RIGHT_PARENTHESIS_TOKEN;
    };

    var isLength = function (token) {
        return token.type === TokenType.NUMBER_TOKEN || token.type === TokenType.DIMENSION_TOKEN;
    };

    var isLengthPercentage = function (token) {
        return token.type === TokenType.PERCENTAGE_TOKEN || isLength(token);
    };
    var parseLengthPercentageTuple = function (tokens) {
        return tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]];
    };
    var ZERO_LENGTH = {
        type: TokenType.NUMBER_TOKEN,
        number: 0,
        flags: FLAG_INTEGER
    };
    var FIFTY_PERCENT = {
        type: TokenType.PERCENTAGE_TOKEN,
        number: 50,
        flags: FLAG_INTEGER
    };
    var HUNDRED_PERCENT = {
        type: TokenType.PERCENTAGE_TOKEN,
        number: 100,
        flags: FLAG_INTEGER
    };
    var getAbsoluteValueForTuple = function (tuple, width, height) {
        var x = tuple[0], y = tuple[1];
        return [getAbsoluteValue(x, width), getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)];
    };
    var getAbsoluteValue = function (token, parent) {
        if (token.type === TokenType.PERCENTAGE_TOKEN) {
            return (token.number / 100) * parent;
        }
        if (isDimensionToken(token)) {
            switch (token.unit) {
                case 'rem':
                case 'em':
                    return 16 * token.number; // TODO use correct font-size
                case 'px':
                default:
                    return token.number;
            }
        }
        return token.number;
    };

    var DEG = 'deg';
    var GRAD = 'grad';
    var RAD = 'rad';
    var TURN = 'turn';
    var angle = {
        name: 'angle',
        parse: function (value) {
            if (value.type === TokenType.DIMENSION_TOKEN) {
                switch (value.unit) {
                    case DEG:
                        return (Math.PI * value.number) / 180;
                    case GRAD:
                        return (Math.PI / 200) * value.number;
                    case RAD:
                        return value.number;
                    case TURN:
                        return Math.PI * 2 * value.number;
                }
            }
            throw new Error("Unsupported angle type");
        }
    };
    var isAngle = function (value) {
        if (value.type === TokenType.DIMENSION_TOKEN) {
            if (value.unit === DEG || value.unit === GRAD || value.unit === RAD || value.unit === TURN) {
                return true;
            }
        }
        return false;
    };
    var parseNamedSide = function (tokens) {
        var sideOrCorner = tokens
            .filter(isIdentToken)
            .map(function (ident) { return ident.value; })
            .join(' ');
        switch (sideOrCorner) {
            case 'to bottom right':
            case 'to right bottom':
            case 'left top':
            case 'top left':
                return [ZERO_LENGTH, ZERO_LENGTH];
            case 'to top':
            case 'bottom':
                return deg(0);
            case 'to bottom left':
            case 'to left bottom':
            case 'right top':
            case 'top right':
                return [ZERO_LENGTH, HUNDRED_PERCENT];
            case 'to right':
            case 'left':
                return deg(90);
            case 'to top left':
            case 'to left top':
            case 'right bottom':
            case 'bottom right':
                return [HUNDRED_PERCENT, HUNDRED_PERCENT];
            case 'to bottom':
            case 'top':
                return deg(180);
            case 'to top right':
            case 'to right top':
            case 'left bottom':
            case 'bottom left':
                return [HUNDRED_PERCENT, ZERO_LENGTH];
            case 'to left':
            case 'right':
                return deg(270);
        }
        return 0;
    };
    var deg = function (deg) { return (Math.PI * deg) / 180; };

    var color = {
        name: 'color',
        parse: function (value) {
            if (value.type === TokenType.FUNCTION) {
                var colorFunction = SUPPORTED_COLOR_FUNCTIONS[value.name];
                if (typeof colorFunction === 'undefined') {
                    throw new Error("Attempting to parse an unsupported color function \"" + value.name + "\"");
                }
                return colorFunction(value.values);
            }
            if (value.type === TokenType.HASH_TOKEN) {
                if (value.value.length === 3) {
                    var r = value.value.substring(0, 1);
                    var g = value.value.substring(1, 2);
                    var b = value.value.substring(2, 3);
                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), 1);
                }
                if (value.value.length === 4) {
                    var r = value.value.substring(0, 1);
                    var g = value.value.substring(1, 2);
                    var b = value.value.substring(2, 3);
                    var a = value.value.substring(3, 4);
                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), parseInt(a + a, 16) / 255);
                }
                if (value.value.length === 6) {
                    var r = value.value.substring(0, 2);
                    var g = value.value.substring(2, 4);
                    var b = value.value.substring(4, 6);
                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), 1);
                }
                if (value.value.length === 8) {
                    var r = value.value.substring(0, 2);
                    var g = value.value.substring(2, 4);
                    var b = value.value.substring(4, 6);
                    var a = value.value.substring(6, 8);
                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseInt(a, 16) / 255);
                }
            }
            if (value.type === TokenType.IDENT_TOKEN) {
                var namedColor = COLORS[value.value.toUpperCase()];
                if (typeof namedColor !== 'undefined') {
                    return namedColor;
                }
            }
            return COLORS.TRANSPARENT;
        }
    };
    var isTransparent = function (color) { return (0xff & color) === 0; };
    var asString = function (color) {
        var alpha = 0xff & color;
        var blue = 0xff & (color >> 8);
        var green = 0xff & (color >> 16);
        var red = 0xff & (color >> 24);
        return alpha < 255 ? "rgba(" + red + "," + green + "," + blue + "," + alpha / 255 + ")" : "rgb(" + red + "," + green + "," + blue + ")";
    };
    var pack = function (r, g, b, a) {
        return ((r << 24) | (g << 16) | (b << 8) | (Math.round(a * 255) << 0)) >>> 0;
    };
    var getTokenColorValue = function (token, i) {
        if (token.type === TokenType.NUMBER_TOKEN) {
            return token.number;
        }
        if (token.type === TokenType.PERCENTAGE_TOKEN) {
            var max = i === 3 ? 1 : 255;
            return i === 3 ? (token.number / 100) * max : Math.round((token.number / 100) * max);
        }
        return 0;
    };
    var rgb = function (args) {
        var tokens = args.filter(nonFunctionArgSeparator);
        if (tokens.length === 3) {
            var _a = tokens.map(getTokenColorValue), r = _a[0], g = _a[1], b = _a[2];
            return pack(r, g, b, 1);
        }
        if (tokens.length === 4) {
            var _b = tokens.map(getTokenColorValue), r = _b[0], g = _b[1], b = _b[2], a = _b[3];
            return pack(r, g, b, a);
        }
        return 0;
    };
    function hue2rgb(t1, t2, hue) {
        if (hue < 0) {
            hue += 1;
        }
        if (hue >= 1) {
            hue -= 1;
        }
        if (hue < 1 / 6) {
            return (t2 - t1) * hue * 6 + t1;
        }
        else if (hue < 1 / 2) {
            return t2;
        }
        else if (hue < 2 / 3) {
            return (t2 - t1) * 6 * (2 / 3 - hue) + t1;
        }
        else {
            return t1;
        }
    }
    var hsl = function (args) {
        var tokens = args.filter(nonFunctionArgSeparator);
        var hue = tokens[0], saturation = tokens[1], lightness = tokens[2], alpha = tokens[3];
        var h = (hue.type === TokenType.NUMBER_TOKEN ? deg(hue.number) : angle.parse(hue)) / (Math.PI * 2);
        var s = isLengthPercentage(saturation) ? saturation.number / 100 : 0;
        var l = isLengthPercentage(lightness) ? lightness.number / 100 : 0;
        var a = typeof alpha !== 'undefined' && isLengthPercentage(alpha) ? getAbsoluteValue(alpha, 1) : 1;
        if (s === 0) {
            return pack(l * 255, l * 255, l * 255, 1);
        }
        var t2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;
        var t1 = l * 2 - t2;
        var r = hue2rgb(t1, t2, h + 1 / 3);
        var g = hue2rgb(t1, t2, h);
        var b = hue2rgb(t1, t2, h - 1 / 3);
        return pack(r * 255, g * 255, b * 255, a);
    };
    var SUPPORTED_COLOR_FUNCTIONS = {
        hsl: hsl,
        hsla: hsl,
        rgb: rgb,
        rgba: rgb
    };
    var COLORS = {
        ALICEBLUE: 0xf0f8ffff,
        ANTIQUEWHITE: 0xfaebd7ff,
        AQUA: 0x00ffffff,
        AQUAMARINE: 0x7fffd4ff,
        AZURE: 0xf0ffffff,
        BEIGE: 0xf5f5dcff,
        BISQUE: 0xffe4c4ff,
        BLACK: 0x000000ff,
        BLANCHEDALMOND: 0xffebcdff,
        BLUE: 0x0000ffff,
        BLUEVIOLET: 0x8a2be2ff,
        BROWN: 0xa52a2aff,
        BURLYWOOD: 0xdeb887ff,
        CADETBLUE: 0x5f9ea0ff,
        CHARTREUSE: 0x7fff00ff,
        CHOCOLATE: 0xd2691eff,
        CORAL: 0xff7f50ff,
        CORNFLOWERBLUE: 0x6495edff,
        CORNSILK: 0xfff8dcff,
        CRIMSON: 0xdc143cff,
        CYAN: 0x00ffffff,
        DARKBLUE: 0x00008bff,
        DARKCYAN: 0x008b8bff,
        DARKGOLDENROD: 0xb886bbff,
        DARKGRAY: 0xa9a9a9ff,
        DARKGREEN: 0x006400ff,
        DARKGREY: 0xa9a9a9ff,
        DARKKHAKI: 0xbdb76bff,
        DARKMAGENTA: 0x8b008bff,
        DARKOLIVEGREEN: 0x556b2fff,
        DARKORANGE: 0xff8c00ff,
        DARKORCHID: 0x9932ccff,
        DARKRED: 0x8b0000ff,
        DARKSALMON: 0xe9967aff,
        DARKSEAGREEN: 0x8fbc8fff,
        DARKSLATEBLUE: 0x483d8bff,
        DARKSLATEGRAY: 0x2f4f4fff,
        DARKSLATEGREY: 0x2f4f4fff,
        DARKTURQUOISE: 0x00ced1ff,
        DARKVIOLET: 0x9400d3ff,
        DEEPPINK: 0xff1493ff,
        DEEPSKYBLUE: 0x00bfffff,
        DIMGRAY: 0x696969ff,
        DIMGREY: 0x696969ff,
        DODGERBLUE: 0x1e90ffff,
        FIREBRICK: 0xb22222ff,
        FLORALWHITE: 0xfffaf0ff,
        FORESTGREEN: 0x228b22ff,
        FUCHSIA: 0xff00ffff,
        GAINSBORO: 0xdcdcdcff,
        GHOSTWHITE: 0xf8f8ffff,
        GOLD: 0xffd700ff,
        GOLDENROD: 0xdaa520ff,
        GRAY: 0x808080ff,
        GREEN: 0x008000ff,
        GREENYELLOW: 0xadff2fff,
        GREY: 0x808080ff,
        HONEYDEW: 0xf0fff0ff,
        HOTPINK: 0xff69b4ff,
        INDIANRED: 0xcd5c5cff,
        INDIGO: 0x4b0082ff,
        IVORY: 0xfffff0ff,
        KHAKI: 0xf0e68cff,
        LAVENDER: 0xe6e6faff,
        LAVENDERBLUSH: 0xfff0f5ff,
        LAWNGREEN: 0x7cfc00ff,
        LEMONCHIFFON: 0xfffacdff,
        LIGHTBLUE: 0xadd8e6ff,
        LIGHTCORAL: 0xf08080ff,
        LIGHTCYAN: 0xe0ffffff,
        LIGHTGOLDENRODYELLOW: 0xfafad2ff,
        LIGHTGRAY: 0xd3d3d3ff,
        LIGHTGREEN: 0x90ee90ff,
        LIGHTGREY: 0xd3d3d3ff,
        LIGHTPINK: 0xffb6c1ff,
        LIGHTSALMON: 0xffa07aff,
        LIGHTSEAGREEN: 0x20b2aaff,
        LIGHTSKYBLUE: 0x87cefaff,
        LIGHTSLATEGRAY: 0x778899ff,
        LIGHTSLATEGREY: 0x778899ff,
        LIGHTSTEELBLUE: 0xb0c4deff,
        LIGHTYELLOW: 0xffffe0ff,
        LIME: 0x00ff00ff,
        LIMEGREEN: 0x32cd32ff,
        LINEN: 0xfaf0e6ff,
        MAGENTA: 0xff00ffff,
        MAROON: 0x800000ff,
        MEDIUMAQUAMARINE: 0x66cdaaff,
        MEDIUMBLUE: 0x0000cdff,
        MEDIUMORCHID: 0xba55d3ff,
        MEDIUMPURPLE: 0x9370dbff,
        MEDIUMSEAGREEN: 0x3cb371ff,
        MEDIUMSLATEBLUE: 0x7b68eeff,
        MEDIUMSPRINGGREEN: 0x00fa9aff,
        MEDIUMTURQUOISE: 0x48d1ccff,
        MEDIUMVIOLETRED: 0xc71585ff,
        MIDNIGHTBLUE: 0x191970ff,
        MINTCREAM: 0xf5fffaff,
        MISTYROSE: 0xffe4e1ff,
        MOCCASIN: 0xffe4b5ff,
        NAVAJOWHITE: 0xffdeadff,
        NAVY: 0x000080ff,
        OLDLACE: 0xfdf5e6ff,
        OLIVE: 0x808000ff,
        OLIVEDRAB: 0x6b8e23ff,
        ORANGE: 0xffa500ff,
        ORANGERED: 0xff4500ff,
        ORCHID: 0xda70d6ff,
        PALEGOLDENROD: 0xeee8aaff,
        PALEGREEN: 0x98fb98ff,
        PALETURQUOISE: 0xafeeeeff,
        PALEVIOLETRED: 0xdb7093ff,
        PAPAYAWHIP: 0xffefd5ff,
        PEACHPUFF: 0xffdab9ff,
        PERU: 0xcd853fff,
        PINK: 0xffc0cbff,
        PLUM: 0xdda0ddff,
        POWDERBLUE: 0xb0e0e6ff,
        PURPLE: 0x800080ff,
        REBECCAPURPLE: 0x663399ff,
        RED: 0xff0000ff,
        ROSYBROWN: 0xbc8f8fff,
        ROYALBLUE: 0x4169e1ff,
        SADDLEBROWN: 0x8b4513ff,
        SALMON: 0xfa8072ff,
        SANDYBROWN: 0xf4a460ff,
        SEAGREEN: 0x2e8b57ff,
        SEASHELL: 0xfff5eeff,
        SIENNA: 0xa0522dff,
        SILVER: 0xc0c0c0ff,
        SKYBLUE: 0x87ceebff,
        SLATEBLUE: 0x6a5acdff,
        SLATEGRAY: 0x708090ff,
        SLATEGREY: 0x708090ff,
        SNOW: 0xfffafaff,
        SPRINGGREEN: 0x00ff7fff,
        STEELBLUE: 0x4682b4ff,
        TAN: 0xd2b48cff,
        TEAL: 0x008080ff,
        THISTLE: 0xd8bfd8ff,
        TOMATO: 0xff6347ff,
        TRANSPARENT: 0x00000000,
        TURQUOISE: 0x40e0d0ff,
        VIOLET: 0xee82eeff,
        WHEAT: 0xf5deb3ff,
        WHITE: 0xffffffff,
        WHITESMOKE: 0xf5f5f5ff,
        YELLOW: 0xffff00ff,
        YELLOWGREEN: 0x9acd32ff
    };

    var PropertyDescriptorParsingType;
    (function (PropertyDescriptorParsingType) {
        PropertyDescriptorParsingType[PropertyDescriptorParsingType["VALUE"] = 0] = "VALUE";
        PropertyDescriptorParsingType[PropertyDescriptorParsingType["LIST"] = 1] = "LIST";
        PropertyDescriptorParsingType[PropertyDescriptorParsingType["IDENT_VALUE"] = 2] = "IDENT_VALUE";
        PropertyDescriptorParsingType[PropertyDescriptorParsingType["TYPE_VALUE"] = 3] = "TYPE_VALUE";
        PropertyDescriptorParsingType[PropertyDescriptorParsingType["TOKEN_VALUE"] = 4] = "TOKEN_VALUE";
    })(PropertyDescriptorParsingType || (PropertyDescriptorParsingType = {}));

    var BACKGROUND_CLIP;
    (function (BACKGROUND_CLIP) {
        BACKGROUND_CLIP[BACKGROUND_CLIP["BORDER_BOX"] = 0] = "BORDER_BOX";
        BACKGROUND_CLIP[BACKGROUND_CLIP["PADDING_BOX"] = 1] = "PADDING_BOX";
        BACKGROUND_CLIP[BACKGROUND_CLIP["CONTENT_BOX"] = 2] = "CONTENT_BOX";
    })(BACKGROUND_CLIP || (BACKGROUND_CLIP = {}));
    var backgroundClip = {
        name: 'background-clip',
        initialValue: 'border-box',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return tokens.map(function (token) {
                if (isIdentToken(token)) {
                    switch (token.value) {
                        case 'padding-box':
                            return BACKGROUND_CLIP.PADDING_BOX;
                        case 'content-box':
                            return BACKGROUND_CLIP.CONTENT_BOX;
                    }
                }
                return BACKGROUND_CLIP.BORDER_BOX;
            });
        }
    };

    var backgroundColor = {
        name: "background-color",
        initialValue: 'transparent',
        prefix: false,
        type: PropertyDescriptorParsingType.TYPE_VALUE,
        format: 'color'
    };

    var parseColorStop = function (args) {
        var color$1 = color.parse(args[0]);
        var stop = args[1];
        return stop && isLengthPercentage(stop) ? { color: color$1, stop: stop } : { color: color$1, stop: null };
    };
    var processColorStops = function (stops, lineLength) {
        var first = stops[0];
        var last = stops[stops.length - 1];
        if (first.stop === null) {
            first.stop = ZERO_LENGTH;
        }
        if (last.stop === null) {
            last.stop = HUNDRED_PERCENT;
        }
        var processStops = [];
        var previous = 0;
        for (var i = 0; i < stops.length; i++) {
            var stop_1 = stops[i].stop;
            if (stop_1 !== null) {
                var absoluteValue = getAbsoluteValue(stop_1, lineLength);
                if (absoluteValue > previous) {
                    processStops.push(absoluteValue);
                }
                else {
                    processStops.push(previous);
                }
                previous = absoluteValue;
            }
            else {
                processStops.push(null);
            }
        }
        var gapBegin = null;
        for (var i = 0; i < processStops.length; i++) {
            var stop_2 = processStops[i];
            if (stop_2 === null) {
                if (gapBegin === null) {
                    gapBegin = i;
                }
            }
            else if (gapBegin !== null) {
                var gapLength = i - gapBegin;
                var beforeGap = processStops[gapBegin - 1];
                var gapValue = (stop_2 - beforeGap) / (gapLength + 1);
                for (var g = 1; g <= gapLength; g++) {
                    processStops[gapBegin + g - 1] = gapValue * g;
                }
                gapBegin = null;
            }
        }
        return stops.map(function (_a, i) {
            var color = _a.color;
            return { color: color, stop: Math.max(Math.min(1, processStops[i] / lineLength), 0) };
        });
    };
    var getAngleFromCorner = function (corner, width, height) {
        var centerX = width / 2;
        var centerY = height / 2;
        var x = getAbsoluteValue(corner[0], width) - centerX;
        var y = centerY - getAbsoluteValue(corner[1], height);
        return (Math.atan2(y, x) + Math.PI * 2) % (Math.PI * 2);
    };
    var calculateGradientDirection = function (angle, width, height) {
        var radian = typeof angle === 'number' ? angle : getAngleFromCorner(angle, width, height);
        var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));
        var halfWidth = width / 2;
        var halfHeight = height / 2;
        var halfLineLength = lineLength / 2;
        var yDiff = Math.sin(radian - Math.PI / 2) * halfLineLength;
        var xDiff = Math.cos(radian - Math.PI / 2) * halfLineLength;
        return [lineLength, halfWidth - xDiff, halfWidth + xDiff, halfHeight - yDiff, halfHeight + yDiff];
    };
    var distance = function (a, b) { return Math.sqrt(a * a + b * b); };
    var findCorner = function (width, height, x, y, closest) {
        var corners = [[0, 0], [0, height], [width, 0], [width, height]];
        return corners.reduce(function (stat, corner) {
            var cx = corner[0], cy = corner[1];
            var d = distance(x - cx, y - cy);
            if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {
                return {
                    optimumCorner: corner,
                    optimumDistance: d
                };
            }
            return stat;
        }, {
            optimumDistance: closest ? Infinity : -Infinity,
            optimumCorner: null
        }).optimumCorner;
    };
    var calculateRadius = function (gradient, x, y, width, height) {
        var rx = 0;
        var ry = 0;
        switch (gradient.size) {
            case CSSRadialExtent.CLOSEST_SIDE:
                // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradients center.
                // If the shape is an ellipse, it exactly meets the closest side in each dimension.
                if (gradient.shape === CSSRadialShape.CIRCLE) {
                    rx = ry = Math.min(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));
                }
                else if (gradient.shape === CSSRadialShape.ELLIPSE) {
                    rx = Math.min(Math.abs(x), Math.abs(x - width));
                    ry = Math.min(Math.abs(y), Math.abs(y - height));
                }
                break;
            case CSSRadialExtent.CLOSEST_CORNER:
                // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradients center.
                // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.
                if (gradient.shape === CSSRadialShape.CIRCLE) {
                    rx = ry = Math.min(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));
                }
                else if (gradient.shape === CSSRadialShape.ELLIPSE) {
                    // Compute the ratio ry/rx (which is to be the same as for "closest-side")
                    var c = Math.min(Math.abs(y), Math.abs(y - height)) / Math.min(Math.abs(x), Math.abs(x - width));
                    var _a = findCorner(width, height, x, y, true), cx = _a[0], cy = _a[1];
                    rx = distance(cx - x, (cy - y) / c);
                    ry = c * rx;
                }
                break;
            case CSSRadialExtent.FARTHEST_SIDE:
                // Same as closest-side, except the ending shape is sized based on the farthest side(s)
                if (gradient.shape === CSSRadialShape.CIRCLE) {
                    rx = ry = Math.max(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));
                }
                else if (gradient.shape === CSSRadialShape.ELLIPSE) {
                    rx = Math.max(Math.abs(x), Math.abs(x - width));
                    ry = Math.max(Math.abs(y), Math.abs(y - height));
                }
                break;
            case CSSRadialExtent.FARTHEST_CORNER:
                // Same as closest-corner, except the ending shape is sized based on the farthest corner.
                // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.
                if (gradient.shape === CSSRadialShape.CIRCLE) {
                    rx = ry = Math.max(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));
                }
                else if (gradient.shape === CSSRadialShape.ELLIPSE) {
                    // Compute the ratio ry/rx (which is to be the same as for "farthest-side")
                    var c = Math.max(Math.abs(y), Math.abs(y - height)) / Math.max(Math.abs(x), Math.abs(x - width));
                    var _b = findCorner(width, height, x, y, false), cx = _b[0], cy = _b[1];
                    rx = distance(cx - x, (cy - y) / c);
                    ry = c * rx;
                }
                break;
        }
        if (Array.isArray(gradient.size)) {
            rx = getAbsoluteValue(gradient.size[0], width);
            ry = gradient.size.length === 2 ? getAbsoluteValue(gradient.size[1], height) : rx;
        }
        return [rx, ry];
    };

    var linearGradient = function (tokens) {
        var angle$1 = deg(180);
        var stops = [];
        parseFunctionArgs(tokens).forEach(function (arg, i) {
            if (i === 0) {
                var firstToken = arg[0];
                if (firstToken.type === TokenType.IDENT_TOKEN && firstToken.value === 'to') {
                    angle$1 = parseNamedSide(arg);
                    return;
                }
                else if (isAngle(firstToken)) {
                    angle$1 = angle.parse(firstToken);
                    return;
                }
            }
            var colorStop = parseColorStop(arg);
            stops.push(colorStop);
        });
        return { angle: angle$1, stops: stops, type: CSSImageType.LINEAR_GRADIENT };
    };

    var prefixLinearGradient = function (tokens) {
        var angle$1 = deg(180);
        var stops = [];
        parseFunctionArgs(tokens).forEach(function (arg, i) {
            if (i === 0) {
                var firstToken = arg[0];
                if (firstToken.type === TokenType.IDENT_TOKEN &&
                    ['top', 'left', 'right', 'bottom'].indexOf(firstToken.value) !== -1) {
                    angle$1 = parseNamedSide(arg);
                    return;
                }
                else if (isAngle(firstToken)) {
                    angle$1 = (angle.parse(firstToken) + deg(270)) % deg(360);
                    return;
                }
            }
            var colorStop = parseColorStop(arg);
            stops.push(colorStop);
        });
        return {
            angle: angle$1,
            stops: stops,
            type: CSSImageType.LINEAR_GRADIENT
        };
    };

    var testRangeBounds = function (document) {
        var TEST_HEIGHT = 123;
        if (document.createRange) {
            var range = document.createRange();
            if (range.getBoundingClientRect) {
                var testElement = document.createElement('boundtest');
                testElement.style.height = TEST_HEIGHT + "px";
                testElement.style.display = 'block';
                document.body.appendChild(testElement);
                range.selectNode(testElement);
                var rangeBounds = range.getBoundingClientRect();
                var rangeHeight = Math.round(rangeBounds.height);
                document.body.removeChild(testElement);
                if (rangeHeight === TEST_HEIGHT) {
                    return true;
                }
            }
        }
        return false;
    };
    var testCORS = function () { return typeof new Image().crossOrigin !== 'undefined'; };
    var testResponseType = function () { return typeof new XMLHttpRequest().responseType === 'string'; };
    var testSVG = function (document) {
        var img = new Image();
        var canvas = document.createElement('canvas');
        var ctx = canvas.getContext('2d');
        if (!ctx) {
            return false;
        }
        img.src = "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";
        try {
            ctx.drawImage(img, 0, 0);
            canvas.toDataURL();
        }
        catch (e) {
            return false;
        }
        return true;
    };
    var isGreenPixel = function (data) {
        return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;
    };
    var testForeignObject = function (document) {
        var canvas = document.createElement('canvas');
        var size = 100;
        canvas.width = size;
        canvas.height = size;
        var ctx = canvas.getContext('2d');
        if (!ctx) {
            return Promise.reject(false);
        }
        ctx.fillStyle = 'rgb(0, 255, 0)';
        ctx.fillRect(0, 0, size, size);
        var img = new Image();
        var greenImageSrc = canvas.toDataURL();
        img.src = greenImageSrc;
        var svg = createForeignObjectSVG(size, size, 0, 0, img);
        ctx.fillStyle = 'red';
        ctx.fillRect(0, 0, size, size);
        return loadSerializedSVG(svg)
            .then(function (img) {
            ctx.drawImage(img, 0, 0);
            var data = ctx.getImageData(0, 0, size, size).data;
            ctx.fillStyle = 'red';
            ctx.fillRect(0, 0, size, size);
            var node = document.createElement('div');
            node.style.backgroundImage = "url(" + greenImageSrc + ")";
            node.style.height = size + "px";
            // Firefox 55 does not render inline <img /> tags
            return isGreenPixel(data)
                ? loadSerializedSVG(createForeignObjectSVG(size, size, 0, 0, node))
                : Promise.reject(false);
        })
            .then(function (img) {
            ctx.drawImage(img, 0, 0);
            // Edge does not render background-images
            return isGreenPixel(ctx.getImageData(0, 0, size, size).data);
        })
            .catch(function () { return false; });
    };
    var createForeignObjectSVG = function (width, height, x, y, node) {
        var xmlns = 'http://www.w3.org/2000/svg';
        var svg = document.createElementNS(xmlns, 'svg');
        var foreignObject = document.createElementNS(xmlns, 'foreignObject');
        svg.setAttributeNS(null, 'width', width.toString());
        svg.setAttributeNS(null, 'height', height.toString());
        foreignObject.setAttributeNS(null, 'width', '100%');
        foreignObject.setAttributeNS(null, 'height', '100%');
        foreignObject.setAttributeNS(null, 'x', x.toString());
        foreignObject.setAttributeNS(null, 'y', y.toString());
        foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');
        svg.appendChild(foreignObject);
        foreignObject.appendChild(node);
        return svg;
    };
    var loadSerializedSVG = function (svg) {
        return new Promise(function (resolve, reject) {
            var img = new Image();
            img.onload = function () { return resolve(img); };
            img.onerror = reject;
            img.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(new XMLSerializer().serializeToString(svg));
        });
    };
    var FEATURES = {
        get SUPPORT_RANGE_BOUNDS() {
            var value = testRangeBounds(document);
            Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', { value: value });
            return value;
        },
        get SUPPORT_SVG_DRAWING() {
            var value = testSVG(document);
            Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', { value: value });
            return value;
        },
        get SUPPORT_FOREIGNOBJECT_DRAWING() {
            var value = typeof Array.from === 'function' && typeof window.fetch === 'function'
                ? testForeignObject(document)
                : Promise.resolve(false);
            Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', { value: value });
            return value;
        },
        get SUPPORT_CORS_IMAGES() {
            var value = testCORS();
            Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', { value: value });
            return value;
        },
        get SUPPORT_RESPONSE_TYPE() {
            var value = testResponseType();
            Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', { value: value });
            return value;
        },
        get SUPPORT_CORS_XHR() {
            var value = 'withCredentials' in new XMLHttpRequest();
            Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', { value: value });
            return value;
        }
    };

    var Logger = /** @class */ (function () {
        function Logger(_a) {
            var id = _a.id, enabled = _a.enabled;
            this.id = id;
            this.enabled = enabled;
            this.start = Date.now();
        }
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        Logger.prototype.debug = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            if (this.enabled) {
                // eslint-disable-next-line no-console
                if (typeof window !== 'undefined' && window.console && typeof console.debug === 'function') {
                    // eslint-disable-next-line no-console
                    console.debug.apply(console, [this.id, this.getTime() + "ms"].concat(args));
                }
                else {
                    this.info.apply(this, args);
                }
            }
        };
        Logger.prototype.getTime = function () {
            return Date.now() - this.start;
        };
        Logger.create = function (options) {
            Logger.instances[options.id] = new Logger(options);
        };
        Logger.destroy = function (id) {
            delete Logger.instances[id];
        };
        Logger.getInstance = function (id) {
            var instance = Logger.instances[id];
            if (typeof instance === 'undefined') {
                throw new Error("No logger instance found with id " + id);
            }
            return instance;
        };
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        Logger.prototype.info = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            if (this.enabled) {
                // eslint-disable-next-line no-console
                if (typeof window !== 'undefined' && window.console && typeof console.info === 'function') {
                    // eslint-disable-next-line no-console
                    console.info.apply(console, [this.id, this.getTime() + "ms"].concat(args));
                }
            }
        };
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        Logger.prototype.error = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            if (this.enabled) {
                // eslint-disable-next-line no-console
                if (typeof window !== 'undefined' && window.console && typeof console.error === 'function') {
                    // eslint-disable-next-line no-console
                    console.error.apply(console, [this.id, this.getTime() + "ms"].concat(args));
                }
                else {
                    this.info.apply(this, args);
                }
            }
        };
        Logger.instances = {};
        return Logger;
    }());

    var CacheStorage = /** @class */ (function () {
        function CacheStorage() {
        }
        CacheStorage.create = function (name, options) {
            return (CacheStorage._caches[name] = new Cache(name, options));
        };
        CacheStorage.destroy = function (name) {
            delete CacheStorage._caches[name];
        };
        CacheStorage.open = function (name) {
            var cache = CacheStorage._caches[name];
            if (typeof cache !== 'undefined') {
                return cache;
            }
            throw new Error("Cache with key \"" + name + "\" not found");
        };
        CacheStorage.getOrigin = function (url) {
            var link = CacheStorage._link;
            if (!link) {
                return 'about:blank';
            }
            link.href = url;
            link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/
            return link.protocol + link.hostname + link.port;
        };
        CacheStorage.isSameOrigin = function (src) {
            return CacheStorage.getOrigin(src) === CacheStorage._origin;
        };
        CacheStorage.setContext = function (window) {
            CacheStorage._link = window.document.createElement('a');
            CacheStorage._origin = CacheStorage.getOrigin(window.location.href);
        };
        CacheStorage.getInstance = function () {
            var current = CacheStorage._current;
            if (current === null) {
                throw new Error("No cache instance attached");
            }
            return current;
        };
        CacheStorage.attachInstance = function (cache) {
            CacheStorage._current = cache;
        };
        CacheStorage.detachInstance = function () {
            CacheStorage._current = null;
        };
        CacheStorage._caches = {};
        CacheStorage._origin = 'about:blank';
        CacheStorage._current = null;
        return CacheStorage;
    }());
    var Cache = /** @class */ (function () {
        function Cache(id, options) {
            this.id = id;
            this._options = options;
            this._cache = {};
        }
        Cache.prototype.addImage = function (src) {
            var result = Promise.resolve();
            if (this.has(src)) {
                return result;
            }
            if (isBlobImage(src) || isRenderable(src)) {
                this._cache[src] = this.loadImage(src);
                return result;
            }
            return result;
        };
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        Cache.prototype.match = function (src) {
            return this._cache[src];
        };
        Cache.prototype.loadImage = function (key) {
            return __awaiter(this, void 0, void 0, function () {
                var isSameOrigin, useCORS, useProxy, src;
                var _this = this;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            isSameOrigin = CacheStorage.isSameOrigin(key);
                            useCORS = !isInlineImage(key) && this._options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES && !isSameOrigin;
                            useProxy = !isInlineImage(key) &&
                                !isSameOrigin &&
                                typeof this._options.proxy === 'string' &&
                                FEATURES.SUPPORT_CORS_XHR &&
                                !useCORS;
                            if (!isSameOrigin && this._options.allowTaint === false && !isInlineImage(key) && !useProxy && !useCORS) {
                                return [2 /*return*/];
                            }
                            src = key;
                            if (!useProxy) return [3 /*break*/, 2];
                            return [4 /*yield*/, this.proxy(src)];
                        case 1:
                            src = _a.sent();
                            _a.label = 2;
                        case 2:
                            Logger.getInstance(this.id).debug("Added image " + key.substring(0, 256));
                            return [4 /*yield*/, new Promise(function (resolve, reject) {
                                    var img = new Image();
                                    img.onload = function () { return resolve(img); };
                                    img.onerror = reject;
                                    //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous
                                    if (isInlineBase64Image(src) || useCORS) {
                                        img.crossOrigin = 'anonymous';
                                    }
                                    img.src = src;
                                    if (img.complete === true) {
                                        // Inline XML images may fail to parse, throwing an Error later on
                                        setTimeout(function () { return resolve(img); }, 500);
                                    }
                                    if (_this._options.imageTimeout > 0) {
                                        setTimeout(function () { return reject("Timed out (" + _this._options.imageTimeout + "ms) loading image"); }, _this._options.imageTimeout);
                                    }
                                })];
                        case 3: return [2 /*return*/, _a.sent()];
                    }
                });
            });
        };
        Cache.prototype.has = function (key) {
            return typeof this._cache[key] !== 'undefined';
        };
        Cache.prototype.keys = function () {
            return Promise.resolve(Object.keys(this._cache));
        };
        Cache.prototype.proxy = function (src) {
            var _this = this;
            var proxy = this._options.proxy;
            if (!proxy) {
                throw new Error('No proxy defined');
            }
            var key = src.substring(0, 256);
            return new Promise(function (resolve, reject) {
                var responseType = FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';
                var xhr = new XMLHttpRequest();
                xhr.onload = function () {
                    if (xhr.status === 200) {
                        if (responseType === 'text') {
                            resolve(xhr.response);
                        }
                        else {
                            var reader_1 = new FileReader();
                            reader_1.addEventListener('load', function () { return resolve(reader_1.result); }, false);
                            reader_1.addEventListener('error', function (e) { return reject(e); }, false);
                            reader_1.readAsDataURL(xhr.response);
                        }
                    }
                    else {
                        reject("Failed to proxy resource " + key + " with status code " + xhr.status);
                    }
                };
                xhr.onerror = reject;
                xhr.open('GET', proxy + "?url=" + encodeURIComponent(src) + "&responseType=" + responseType);
                if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {
                    xhr.responseType = responseType;
                }
                if (_this._options.imageTimeout) {
                    var timeout_1 = _this._options.imageTimeout;
                    xhr.timeout = timeout_1;
                    xhr.ontimeout = function () { return reject("Timed out (" + timeout_1 + "ms) proxying " + key); };
                }
                xhr.send();
            });
        };
        return Cache;
    }());
    var INLINE_SVG = /^data:image\/svg\+xml/i;
    var INLINE_BASE64 = /^data:image\/.*;base64,/i;
    var INLINE_IMG = /^data:image\/.*/i;
    var isRenderable = function (src) { return FEATURES.SUPPORT_SVG_DRAWING || !isSVG(src); };
    var isInlineImage = function (src) { return INLINE_IMG.test(src); };
    var isInlineBase64Image = function (src) { return INLINE_BASE64.test(src); };
    var isBlobImage = function (src) { return src.substr(0, 4) === 'blob'; };
    var isSVG = function (src) { return src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src); };

    var webkitGradient = function (tokens) {
        var angle = deg(180);
        var stops = [];
        var type = CSSImageType.LINEAR_GRADIENT;
        var shape = CSSRadialShape.CIRCLE;
        var size = CSSRadialExtent.FARTHEST_CORNER;
        var position = [];
        parseFunctionArgs(tokens).forEach(function (arg, i) {
            var firstToken = arg[0];
            if (i === 0) {
                if (isIdentToken(firstToken) && firstToken.value === 'linear') {
                    type = CSSImageType.LINEAR_GRADIENT;
                    return;
                }
                else if (isIdentToken(firstToken) && firstToken.value === 'radial') {
                    type = CSSImageType.RADIAL_GRADIENT;
                    return;
                }
            }
            if (firstToken.type === TokenType.FUNCTION) {
                if (firstToken.name === 'from') {
                    var color$1 = color.parse(firstToken.values[0]);
                    stops.push({ stop: ZERO_LENGTH, color: color$1 });
                }
                else if (firstToken.name === 'to') {
                    var color$1 = color.parse(firstToken.values[0]);
                    stops.push({ stop: HUNDRED_PERCENT, color: color$1 });
                }
                else if (firstToken.name === 'color-stop') {
                    var values = firstToken.values.filter(nonFunctionArgSeparator);
                    if (values.length === 2) {
                        var color$1 = color.parse(values[1]);
                        var stop_1 = values[0];
                        if (isNumberToken(stop_1)) {
                            stops.push({
                                stop: { type: TokenType.PERCENTAGE_TOKEN, number: stop_1.number * 100, flags: stop_1.flags },
                                color: color$1
                            });
                        }
                    }
                }
            }
        });
        return type === CSSImageType.LINEAR_GRADIENT
            ? {
                angle: (angle + deg(180)) % deg(360),
                stops: stops,
                type: type
            }
            : { size: size, shape: shape, stops: stops, position: position, type: type };
    };

    var CLOSEST_SIDE = 'closest-side';
    var FARTHEST_SIDE = 'farthest-side';
    var CLOSEST_CORNER = 'closest-corner';
    var FARTHEST_CORNER = 'farthest-corner';
    var CIRCLE = 'circle';
    var ELLIPSE = 'ellipse';
    var COVER = 'cover';
    var CONTAIN = 'contain';
    var radialGradient = function (tokens) {
        var shape = CSSRadialShape.CIRCLE;
        var size = CSSRadialExtent.FARTHEST_CORNER;
        var stops = [];
        var position = [];
        parseFunctionArgs(tokens).forEach(function (arg, i) {
            var isColorStop = true;
            if (i === 0) {
                var isAtPosition_1 = false;
                isColorStop = arg.reduce(function (acc, token) {
                    if (isAtPosition_1) {
                        if (isIdentToken(token)) {
                            switch (token.value) {
                                case 'center':
                                    position.push(FIFTY_PERCENT);
                                    return acc;
                                case 'top':
                                case 'left':
                                    position.push(ZERO_LENGTH);
                                    return acc;
                                case 'right':
                                case 'bottom':
                                    position.push(HUNDRED_PERCENT);
                                    return acc;
                            }
                        }
                        else if (isLengthPercentage(token) || isLength(token)) {
                            position.push(token);
                        }
                    }
                    else if (isIdentToken(token)) {
                        switch (token.value) {
                            case CIRCLE:
                                shape = CSSRadialShape.CIRCLE;
                                return false;
                            case ELLIPSE:
                                shape = CSSRadialShape.ELLIPSE;
                                return false;
                            case 'at':
                                isAtPosition_1 = true;
                                return false;
                            case CLOSEST_SIDE:
                                size = CSSRadialExtent.CLOSEST_SIDE;
                                return false;
                            case COVER:
                            case FARTHEST_SIDE:
                                size = CSSRadialExtent.FARTHEST_SIDE;
                                return false;
                            case CONTAIN:
                            case CLOSEST_CORNER:
                                size = CSSRadialExtent.CLOSEST_CORNER;
                                return false;
                            case FARTHEST_CORNER:
                                size = CSSRadialExtent.FARTHEST_CORNER;
                                return false;
                        }
                    }
                    else if (isLength(token) || isLengthPercentage(token)) {
                        if (!Array.isArray(size)) {
                            size = [];
                        }
                        size.push(token);
                        return false;
                    }
                    return acc;
                }, isColorStop);
            }
            if (isColorStop) {
                var colorStop = parseColorStop(arg);
                stops.push(colorStop);
            }
        });
        return { size: size, shape: shape, stops: stops, position: position, type: CSSImageType.RADIAL_GRADIENT };
    };

    var prefixRadialGradient = function (tokens) {
        var shape = CSSRadialShape.CIRCLE;
        var size = CSSRadialExtent.FARTHEST_CORNER;
        var stops = [];
        var position = [];
        parseFunctionArgs(tokens).forEach(function (arg, i) {
            var isColorStop = true;
            if (i === 0) {
                isColorStop = arg.reduce(function (acc, token) {
                    if (isIdentToken(token)) {
                        switch (token.value) {
                            case 'center':
                                position.push(FIFTY_PERCENT);
                                return false;
                            case 'top':
                            case 'left':
                                position.push(ZERO_LENGTH);
                                return false;
                            case 'right':
                            case 'bottom':
                                position.push(HUNDRED_PERCENT);
                                return false;
                        }
                    }
                    else if (isLengthPercentage(token) || isLength(token)) {
                        position.push(token);
                        return false;
                    }
                    return acc;
                }, isColorStop);
            }
            else if (i === 1) {
                isColorStop = arg.reduce(function (acc, token) {
                    if (isIdentToken(token)) {
                        switch (token.value) {
                            case CIRCLE:
                                shape = CSSRadialShape.CIRCLE;
                                return false;
                            case ELLIPSE:
                                shape = CSSRadialShape.ELLIPSE;
                                return false;
                            case CONTAIN:
                            case CLOSEST_SIDE:
                                size = CSSRadialExtent.CLOSEST_SIDE;
                                return false;
                            case FARTHEST_SIDE:
                                size = CSSRadialExtent.FARTHEST_SIDE;
                                return false;
                            case CLOSEST_CORNER:
                                size = CSSRadialExtent.CLOSEST_CORNER;
                                return false;
                            case COVER:
                            case FARTHEST_CORNER:
                                size = CSSRadialExtent.FARTHEST_CORNER;
                                return false;
                        }
                    }
                    else if (isLength(token) || isLengthPercentage(token)) {
                        if (!Array.isArray(size)) {
                            size = [];
                        }
                        size.push(token);
                        return false;
                    }
                    return acc;
                }, isColorStop);
            }
            if (isColorStop) {
                var colorStop = parseColorStop(arg);
                stops.push(colorStop);
            }
        });
        return { size: size, shape: shape, stops: stops, position: position, type: CSSImageType.RADIAL_GRADIENT };
    };

    var CSSImageType;
    (function (CSSImageType) {
        CSSImageType[CSSImageType["URL"] = 0] = "URL";
        CSSImageType[CSSImageType["LINEAR_GRADIENT"] = 1] = "LINEAR_GRADIENT";
        CSSImageType[CSSImageType["RADIAL_GRADIENT"] = 2] = "RADIAL_GRADIENT";
    })(CSSImageType || (CSSImageType = {}));
    var isLinearGradient = function (background) {
        return background.type === CSSImageType.LINEAR_GRADIENT;
    };
    var isRadialGradient = function (background) {
        return background.type === CSSImageType.RADIAL_GRADIENT;
    };
    var CSSRadialShape;
    (function (CSSRadialShape) {
        CSSRadialShape[CSSRadialShape["CIRCLE"] = 0] = "CIRCLE";
        CSSRadialShape[CSSRadialShape["ELLIPSE"] = 1] = "ELLIPSE";
    })(CSSRadialShape || (CSSRadialShape = {}));
    var CSSRadialExtent;
    (function (CSSRadialExtent) {
        CSSRadialExtent[CSSRadialExtent["CLOSEST_SIDE"] = 0] = "CLOSEST_SIDE";
        CSSRadialExtent[CSSRadialExtent["FARTHEST_SIDE"] = 1] = "FARTHEST_SIDE";
        CSSRadialExtent[CSSRadialExtent["CLOSEST_CORNER"] = 2] = "CLOSEST_CORNER";
        CSSRadialExtent[CSSRadialExtent["FARTHEST_CORNER"] = 3] = "FARTHEST_CORNER";
    })(CSSRadialExtent || (CSSRadialExtent = {}));
    var image = {
        name: 'image',
        parse: function (value) {
            if (value.type === TokenType.URL_TOKEN) {
                var image_1 = { url: value.value, type: CSSImageType.URL };
                CacheStorage.getInstance().addImage(value.value);
                return image_1;
            }
            if (value.type === TokenType.FUNCTION) {
                var imageFunction = SUPPORTED_IMAGE_FUNCTIONS[value.name];
                if (typeof imageFunction === 'undefined') {
                    throw new Error("Attempting to parse an unsupported image function \"" + value.name + "\"");
                }
                return imageFunction(value.values);
            }
            throw new Error("Unsupported image type");
        }
    };
    function isSupportedImage(value) {
        return value.type !== TokenType.FUNCTION || SUPPORTED_IMAGE_FUNCTIONS[value.name];
    }
    var SUPPORTED_IMAGE_FUNCTIONS = {
        'linear-gradient': linearGradient,
        '-moz-linear-gradient': prefixLinearGradient,
        '-ms-linear-gradient': prefixLinearGradient,
        '-o-linear-gradient': prefixLinearGradient,
        '-webkit-linear-gradient': prefixLinearGradient,
        'radial-gradient': radialGradient,
        '-moz-radial-gradient': prefixRadialGradient,
        '-ms-radial-gradient': prefixRadialGradient,
        '-o-radial-gradient': prefixRadialGradient,
        '-webkit-radial-gradient': prefixRadialGradient,
        '-webkit-gradient': webkitGradient
    };

    var backgroundImage = {
        name: 'background-image',
        initialValue: 'none',
        type: PropertyDescriptorParsingType.LIST,
        prefix: false,
        parse: function (tokens) {
            if (tokens.length === 0) {
                return [];
            }
            var first = tokens[0];
            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {
                return [];
            }
            return tokens.filter(function (value) { return nonFunctionArgSeparator(value) && isSupportedImage(value); }).map(image.parse);
        }
    };

    var backgroundOrigin = {
        name: 'background-origin',
        initialValue: 'border-box',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return tokens.map(function (token) {
                if (isIdentToken(token)) {
                    switch (token.value) {
                        case 'padding-box':
                            return 1 /* PADDING_BOX */;
                        case 'content-box':
                            return 2 /* CONTENT_BOX */;
                    }
                }
                return 0 /* BORDER_BOX */;
            });
        }
    };

    var backgroundPosition = {
        name: 'background-position',
        initialValue: '0% 0%',
        type: PropertyDescriptorParsingType.LIST,
        prefix: false,
        parse: function (tokens) {
            return parseFunctionArgs(tokens)
                .map(function (values) { return values.filter(isLengthPercentage); })
                .map(parseLengthPercentageTuple);
        }
    };

    var BACKGROUND_REPEAT;
    (function (BACKGROUND_REPEAT) {
        BACKGROUND_REPEAT[BACKGROUND_REPEAT["REPEAT"] = 0] = "REPEAT";
        BACKGROUND_REPEAT[BACKGROUND_REPEAT["NO_REPEAT"] = 1] = "NO_REPEAT";
        BACKGROUND_REPEAT[BACKGROUND_REPEAT["REPEAT_X"] = 2] = "REPEAT_X";
        BACKGROUND_REPEAT[BACKGROUND_REPEAT["REPEAT_Y"] = 3] = "REPEAT_Y";
    })(BACKGROUND_REPEAT || (BACKGROUND_REPEAT = {}));
    var backgroundRepeat = {
        name: 'background-repeat',
        initialValue: 'repeat',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return parseFunctionArgs(tokens)
                .map(function (values) {
                return values
                    .filter(isIdentToken)
                    .map(function (token) { return token.value; })
                    .join(' ');
            })
                .map(parseBackgroundRepeat);
        }
    };
    var parseBackgroundRepeat = function (value) {
        switch (value) {
            case 'no-repeat':
                return BACKGROUND_REPEAT.NO_REPEAT;
            case 'repeat-x':
            case 'repeat no-repeat':
                return BACKGROUND_REPEAT.REPEAT_X;
            case 'repeat-y':
            case 'no-repeat repeat':
                return BACKGROUND_REPEAT.REPEAT_Y;
            case 'repeat':
            default:
                return BACKGROUND_REPEAT.REPEAT;
        }
    };

    var BACKGROUND_SIZE;
    (function (BACKGROUND_SIZE) {
        BACKGROUND_SIZE["AUTO"] = "auto";
        BACKGROUND_SIZE["CONTAIN"] = "contain";
        BACKGROUND_SIZE["COVER"] = "cover";
    })(BACKGROUND_SIZE || (BACKGROUND_SIZE = {}));
    var backgroundSize = {
        name: 'background-size',
        initialValue: '0',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return parseFunctionArgs(tokens).map(function (values) { return values.filter(isBackgroundSizeInfoToken); });
        }
    };
    var isBackgroundSizeInfoToken = function (value) {
        return isIdentToken(value) || isLengthPercentage(value);
    };

    var borderColorForSide = function (side) { return ({
        name: "border-" + side + "-color",
        initialValue: 'transparent',
        prefix: false,
        type: PropertyDescriptorParsingType.TYPE_VALUE,
        format: 'color'
    }); };
    var borderTopColor = borderColorForSide('top');
    var borderRightColor = borderColorForSide('right');
    var borderBottomColor = borderColorForSide('bottom');
    var borderLeftColor = borderColorForSide('left');

    var borderRadiusForSide = function (side) { return ({
        name: "border-radius-" + side,
        initialValue: '0 0',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) { return parseLengthPercentageTuple(tokens.filter(isLengthPercentage)); }
    }); };
    var borderTopLeftRadius = borderRadiusForSide('top-left');
    var borderTopRightRadius = borderRadiusForSide('top-right');
    var borderBottomRightRadius = borderRadiusForSide('bottom-right');
    var borderBottomLeftRadius = borderRadiusForSide('bottom-left');

    var BORDER_STYLE;
    (function (BORDER_STYLE) {
        BORDER_STYLE[BORDER_STYLE["NONE"] = 0] = "NONE";
        BORDER_STYLE[BORDER_STYLE["SOLID"] = 1] = "SOLID";
    })(BORDER_STYLE || (BORDER_STYLE = {}));
    var borderStyleForSide = function (side) { return ({
        name: "border-" + side + "-style",
        initialValue: 'solid',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (style) {
            switch (style) {
                case 'none':
                    return BORDER_STYLE.NONE;
            }
            return BORDER_STYLE.SOLID;
        }
    }); };
    var borderTopStyle = borderStyleForSide('top');
    var borderRightStyle = borderStyleForSide('right');
    var borderBottomStyle = borderStyleForSide('bottom');
    var borderLeftStyle = borderStyleForSide('left');

    var borderWidthForSide = function (side) { return ({
        name: "border-" + side + "-width",
        initialValue: '0',
        type: PropertyDescriptorParsingType.VALUE,
        prefix: false,
        parse: function (token) {
            if (isDimensionToken(token)) {
                return token.number;
            }
            return 0;
        }
    }); };
    var borderTopWidth = borderWidthForSide('top');
    var borderRightWidth = borderWidthForSide('right');
    var borderBottomWidth = borderWidthForSide('bottom');
    var borderLeftWidth = borderWidthForSide('left');

    var color$1 = {
        name: "color",
        initialValue: 'transparent',
        prefix: false,
        type: PropertyDescriptorParsingType.TYPE_VALUE,
        format: 'color'
    };

    var display = {
        name: 'display',
        initialValue: 'inline-block',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return tokens.filter(isIdentToken).reduce(function (bit, token) {
                return bit | parseDisplayValue(token.value);
            }, 0 /* NONE */);
        }
    };
    var parseDisplayValue = function (display) {
        switch (display) {
            case 'block':
                return 2 /* BLOCK */;
            case 'inline':
                return 4 /* INLINE */;
            case 'run-in':
                return 8 /* RUN_IN */;
            case 'flow':
                return 16 /* FLOW */;
            case 'flow-root':
                return 32 /* FLOW_ROOT */;
            case 'table':
                return 64 /* TABLE */;
            case 'flex':
            case '-webkit-flex':
                return 128 /* FLEX */;
            case 'grid':
            case '-ms-grid':
                return 256 /* GRID */;
            case 'ruby':
                return 512 /* RUBY */;
            case 'subgrid':
                return 1024 /* SUBGRID */;
            case 'list-item':
                return 2048 /* LIST_ITEM */;
            case 'table-row-group':
                return 4096 /* TABLE_ROW_GROUP */;
            case 'table-header-group':
                return 8192 /* TABLE_HEADER_GROUP */;
            case 'table-footer-group':
                return 16384 /* TABLE_FOOTER_GROUP */;
            case 'table-row':
                return 32768 /* TABLE_ROW */;
            case 'table-cell':
                return 65536 /* TABLE_CELL */;
            case 'table-column-group':
                return 131072 /* TABLE_COLUMN_GROUP */;
            case 'table-column':
                return 262144 /* TABLE_COLUMN */;
            case 'table-caption':
                return 524288 /* TABLE_CAPTION */;
            case 'ruby-base':
                return 1048576 /* RUBY_BASE */;
            case 'ruby-text':
                return 2097152 /* RUBY_TEXT */;
            case 'ruby-base-container':
                return 4194304 /* RUBY_BASE_CONTAINER */;
            case 'ruby-text-container':
                return 8388608 /* RUBY_TEXT_CONTAINER */;
            case 'contents':
                return 16777216 /* CONTENTS */;
            case 'inline-block':
                return 33554432 /* INLINE_BLOCK */;
            case 'inline-list-item':
                return 67108864 /* INLINE_LIST_ITEM */;
            case 'inline-table':
                return 134217728 /* INLINE_TABLE */;
            case 'inline-flex':
                return 268435456 /* INLINE_FLEX */;
            case 'inline-grid':
                return 536870912 /* INLINE_GRID */;
        }
        return 0 /* NONE */;
    };

    var FLOAT;
    (function (FLOAT) {
        FLOAT[FLOAT["NONE"] = 0] = "NONE";
        FLOAT[FLOAT["LEFT"] = 1] = "LEFT";
        FLOAT[FLOAT["RIGHT"] = 2] = "RIGHT";
        FLOAT[FLOAT["INLINE_START"] = 3] = "INLINE_START";
        FLOAT[FLOAT["INLINE_END"] = 4] = "INLINE_END";
    })(FLOAT || (FLOAT = {}));
    var float = {
        name: 'float',
        initialValue: 'none',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (float) {
            switch (float) {
                case 'left':
                    return FLOAT.LEFT;
                case 'right':
                    return FLOAT.RIGHT;
                case 'inline-start':
                    return FLOAT.INLINE_START;
                case 'inline-end':
                    return FLOAT.INLINE_END;
            }
            return FLOAT.NONE;
        }
    };

    var letterSpacing = {
        name: 'letter-spacing',
        initialValue: '0',
        prefix: false,
        type: PropertyDescriptorParsingType.VALUE,
        parse: function (token) {
            if (token.type === TokenType.IDENT_TOKEN && token.value === 'normal') {
                return 0;
            }
            if (token.type === TokenType.NUMBER_TOKEN) {
                return token.number;
            }
            if (token.type === TokenType.DIMENSION_TOKEN) {
                return token.number;
            }
            return 0;
        }
    };

    var LINE_BREAK;
    (function (LINE_BREAK) {
        LINE_BREAK["NORMAL"] = "normal";
        LINE_BREAK["STRICT"] = "strict";
    })(LINE_BREAK || (LINE_BREAK = {}));
    var lineBreak = {
        name: 'line-break',
        initialValue: 'normal',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (lineBreak) {
            switch (lineBreak) {
                case 'strict':
                    return LINE_BREAK.STRICT;
                case 'normal':
                default:
                    return LINE_BREAK.NORMAL;
            }
        }
    };

    var lineHeight = {
        name: 'line-height',
        initialValue: 'normal',
        prefix: false,
        type: PropertyDescriptorParsingType.TOKEN_VALUE
    };
    var computeLineHeight = function (token, fontSize) {
        if (isIdentToken(token) && token.value === 'normal') {
            return 1.2 * fontSize;
        }
        else if (token.type === TokenType.NUMBER_TOKEN) {
            return fontSize * token.number;
        }
        else if (isLengthPercentage(token)) {
            return getAbsoluteValue(token, fontSize);
        }
        return fontSize;
    };

    var listStyleImage = {
        name: 'list-style-image',
        initialValue: 'none',
        type: PropertyDescriptorParsingType.VALUE,
        prefix: false,
        parse: function (token) {
            if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {
                return null;
            }
            return image.parse(token);
        }
    };

    var LIST_STYLE_POSITION;
    (function (LIST_STYLE_POSITION) {
        LIST_STYLE_POSITION[LIST_STYLE_POSITION["INSIDE"] = 0] = "INSIDE";
        LIST_STYLE_POSITION[LIST_STYLE_POSITION["OUTSIDE"] = 1] = "OUTSIDE";
    })(LIST_STYLE_POSITION || (LIST_STYLE_POSITION = {}));
    var listStylePosition = {
        name: 'list-style-position',
        initialValue: 'outside',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (position) {
            switch (position) {
                case 'inside':
                    return LIST_STYLE_POSITION.INSIDE;
                case 'outside':
                default:
                    return LIST_STYLE_POSITION.OUTSIDE;
            }
        }
    };

    var LIST_STYLE_TYPE;
    (function (LIST_STYLE_TYPE) {
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["NONE"] = -1] = "NONE";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["DISC"] = 0] = "DISC";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["CIRCLE"] = 1] = "CIRCLE";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["SQUARE"] = 2] = "SQUARE";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["DECIMAL"] = 3] = "DECIMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["CJK_DECIMAL"] = 4] = "CJK_DECIMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["DECIMAL_LEADING_ZERO"] = 5] = "DECIMAL_LEADING_ZERO";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["LOWER_ROMAN"] = 6] = "LOWER_ROMAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["UPPER_ROMAN"] = 7] = "UPPER_ROMAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["LOWER_GREEK"] = 8] = "LOWER_GREEK";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["LOWER_ALPHA"] = 9] = "LOWER_ALPHA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["UPPER_ALPHA"] = 10] = "UPPER_ALPHA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["ARABIC_INDIC"] = 11] = "ARABIC_INDIC";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["ARMENIAN"] = 12] = "ARMENIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["BENGALI"] = 13] = "BENGALI";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["CAMBODIAN"] = 14] = "CAMBODIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["CJK_EARTHLY_BRANCH"] = 15] = "CJK_EARTHLY_BRANCH";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["CJK_HEAVENLY_STEM"] = 16] = "CJK_HEAVENLY_STEM";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["CJK_IDEOGRAPHIC"] = 17] = "CJK_IDEOGRAPHIC";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["DEVANAGARI"] = 18] = "DEVANAGARI";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["ETHIOPIC_NUMERIC"] = 19] = "ETHIOPIC_NUMERIC";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["GEORGIAN"] = 20] = "GEORGIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["GUJARATI"] = 21] = "GUJARATI";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["GURMUKHI"] = 22] = "GURMUKHI";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["HEBREW"] = 22] = "HEBREW";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["HIRAGANA"] = 23] = "HIRAGANA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["HIRAGANA_IROHA"] = 24] = "HIRAGANA_IROHA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["JAPANESE_FORMAL"] = 25] = "JAPANESE_FORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["JAPANESE_INFORMAL"] = 26] = "JAPANESE_INFORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KANNADA"] = 27] = "KANNADA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KATAKANA"] = 28] = "KATAKANA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KATAKANA_IROHA"] = 29] = "KATAKANA_IROHA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KHMER"] = 30] = "KHMER";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KOREAN_HANGUL_FORMAL"] = 31] = "KOREAN_HANGUL_FORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KOREAN_HANJA_FORMAL"] = 32] = "KOREAN_HANJA_FORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["KOREAN_HANJA_INFORMAL"] = 33] = "KOREAN_HANJA_INFORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["LAO"] = 34] = "LAO";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["LOWER_ARMENIAN"] = 35] = "LOWER_ARMENIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["MALAYALAM"] = 36] = "MALAYALAM";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["MONGOLIAN"] = 37] = "MONGOLIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["MYANMAR"] = 38] = "MYANMAR";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["ORIYA"] = 39] = "ORIYA";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["PERSIAN"] = 40] = "PERSIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["SIMP_CHINESE_FORMAL"] = 41] = "SIMP_CHINESE_FORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["SIMP_CHINESE_INFORMAL"] = 42] = "SIMP_CHINESE_INFORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["TAMIL"] = 43] = "TAMIL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["TELUGU"] = 44] = "TELUGU";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["THAI"] = 45] = "THAI";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["TIBETAN"] = 46] = "TIBETAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["TRAD_CHINESE_FORMAL"] = 47] = "TRAD_CHINESE_FORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["TRAD_CHINESE_INFORMAL"] = 48] = "TRAD_CHINESE_INFORMAL";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["UPPER_ARMENIAN"] = 49] = "UPPER_ARMENIAN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["DISCLOSURE_OPEN"] = 50] = "DISCLOSURE_OPEN";
        LIST_STYLE_TYPE[LIST_STYLE_TYPE["DISCLOSURE_CLOSED"] = 51] = "DISCLOSURE_CLOSED";
    })(LIST_STYLE_TYPE || (LIST_STYLE_TYPE = {}));
    var listStyleType = {
        name: 'list-style-type',
        initialValue: 'none',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (type) {
            switch (type) {
                case 'disc':
                    return LIST_STYLE_TYPE.DISC;
                case 'circle':
                    return LIST_STYLE_TYPE.CIRCLE;
                case 'square':
                    return LIST_STYLE_TYPE.SQUARE;
                case 'decimal':
                    return LIST_STYLE_TYPE.DECIMAL;
                case 'cjk-decimal':
                    return LIST_STYLE_TYPE.CJK_DECIMAL;
                case 'decimal-leading-zero':
                    return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;
                case 'lower-roman':
                    return LIST_STYLE_TYPE.LOWER_ROMAN;
                case 'upper-roman':
                    return LIST_STYLE_TYPE.UPPER_ROMAN;
                case 'lower-greek':
                    return LIST_STYLE_TYPE.LOWER_GREEK;
                case 'lower-alpha':
                    return LIST_STYLE_TYPE.LOWER_ALPHA;
                case 'upper-alpha':
                    return LIST_STYLE_TYPE.UPPER_ALPHA;
                case 'arabic-indic':
                    return LIST_STYLE_TYPE.ARABIC_INDIC;
                case 'armenian':
                    return LIST_STYLE_TYPE.ARMENIAN;
                case 'bengali':
                    return LIST_STYLE_TYPE.BENGALI;
                case 'cambodian':
                    return LIST_STYLE_TYPE.CAMBODIAN;
                case 'cjk-earthly-branch':
                    return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;
                case 'cjk-heavenly-stem':
                    return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;
                case 'cjk-ideographic':
                    return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;
                case 'devanagari':
                    return LIST_STYLE_TYPE.DEVANAGARI;
                case 'ethiopic-numeric':
                    return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;
                case 'georgian':
                    return LIST_STYLE_TYPE.GEORGIAN;
                case 'gujarati':
                    return LIST_STYLE_TYPE.GUJARATI;
                case 'gurmukhi':
                    return LIST_STYLE_TYPE.GURMUKHI;
                case 'hebrew':
                    return LIST_STYLE_TYPE.HEBREW;
                case 'hiragana':
                    return LIST_STYLE_TYPE.HIRAGANA;
                case 'hiragana-iroha':
                    return LIST_STYLE_TYPE.HIRAGANA_IROHA;
                case 'japanese-formal':
                    return LIST_STYLE_TYPE.JAPANESE_FORMAL;
                case 'japanese-informal':
                    return LIST_STYLE_TYPE.JAPANESE_INFORMAL;
                case 'kannada':
                    return LIST_STYLE_TYPE.KANNADA;
                case 'katakana':
                    return LIST_STYLE_TYPE.KATAKANA;
                case 'katakana-iroha':
                    return LIST_STYLE_TYPE.KATAKANA_IROHA;
                case 'khmer':
                    return LIST_STYLE_TYPE.KHMER;
                case 'korean-hangul-formal':
                    return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;
                case 'korean-hanja-formal':
                    return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;
                case 'korean-hanja-informal':
                    return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;
                case 'lao':
                    return LIST_STYLE_TYPE.LAO;
                case 'lower-armenian':
                    return LIST_STYLE_TYPE.LOWER_ARMENIAN;
                case 'malayalam':
                    return LIST_STYLE_TYPE.MALAYALAM;
                case 'mongolian':
                    return LIST_STYLE_TYPE.MONGOLIAN;
                case 'myanmar':
                    return LIST_STYLE_TYPE.MYANMAR;
                case 'oriya':
                    return LIST_STYLE_TYPE.ORIYA;
                case 'persian':
                    return LIST_STYLE_TYPE.PERSIAN;
                case 'simp-chinese-formal':
                    return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;
                case 'simp-chinese-informal':
                    return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;
                case 'tamil':
                    return LIST_STYLE_TYPE.TAMIL;
                case 'telugu':
                    return LIST_STYLE_TYPE.TELUGU;
                case 'thai':
                    return LIST_STYLE_TYPE.THAI;
                case 'tibetan':
                    return LIST_STYLE_TYPE.TIBETAN;
                case 'trad-chinese-formal':
                    return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;
                case 'trad-chinese-informal':
                    return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;
                case 'upper-armenian':
                    return LIST_STYLE_TYPE.UPPER_ARMENIAN;
                case 'disclosure-open':
                    return LIST_STYLE_TYPE.DISCLOSURE_OPEN;
                case 'disclosure-closed':
                    return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;
                case 'none':
                default:
                    return LIST_STYLE_TYPE.NONE;
            }
        }
    };

    var marginForSide = function (side) { return ({
        name: "margin-" + side,
        initialValue: '0',
        prefix: false,
        type: PropertyDescriptorParsingType.TOKEN_VALUE
    }); };
    var marginTop = marginForSide('top');
    var marginRight = marginForSide('right');
    var marginBottom = marginForSide('bottom');
    var marginLeft = marginForSide('left');

    var OVERFLOW;
    (function (OVERFLOW) {
        OVERFLOW[OVERFLOW["VISIBLE"] = 0] = "VISIBLE";
        OVERFLOW[OVERFLOW["HIDDEN"] = 1] = "HIDDEN";
        OVERFLOW[OVERFLOW["SCROLL"] = 2] = "SCROLL";
        OVERFLOW[OVERFLOW["AUTO"] = 3] = "AUTO";
    })(OVERFLOW || (OVERFLOW = {}));
    var overflow = {
        name: 'overflow',
        initialValue: 'visible',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return tokens.filter(isIdentToken).map(function (overflow) {
                switch (overflow.value) {
                    case 'hidden':
                        return OVERFLOW.HIDDEN;
                    case 'scroll':
                        return OVERFLOW.SCROLL;
                    case 'auto':
                        return OVERFLOW.AUTO;
                    case 'visible':
                    default:
                        return OVERFLOW.VISIBLE;
                }
            });
        }
    };

    var OVERFLOW_WRAP;
    (function (OVERFLOW_WRAP) {
        OVERFLOW_WRAP["NORMAL"] = "normal";
        OVERFLOW_WRAP["BREAK_WORD"] = "break-word";
    })(OVERFLOW_WRAP || (OVERFLOW_WRAP = {}));
    var overflowWrap = {
        name: 'overflow-wrap',
        initialValue: 'normal',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (overflow) {
            switch (overflow) {
                case 'break-word':
                    return OVERFLOW_WRAP.BREAK_WORD;
                case 'normal':
                default:
                    return OVERFLOW_WRAP.NORMAL;
            }
        }
    };

    var paddingForSide = function (side) { return ({
        name: "padding-" + side,
        initialValue: '0',
        prefix: false,
        type: PropertyDescriptorParsingType.TYPE_VALUE,
        format: 'length-percentage'
    }); };
    var paddingTop = paddingForSide('top');
    var paddingRight = paddingForSide('right');
    var paddingBottom = paddingForSide('bottom');
    var paddingLeft = paddingForSide('left');

    var TEXT_ALIGN;
    (function (TEXT_ALIGN) {
        TEXT_ALIGN[TEXT_ALIGN["LEFT"] = 0] = "LEFT";
        TEXT_ALIGN[TEXT_ALIGN["CENTER"] = 1] = "CENTER";
        TEXT_ALIGN[TEXT_ALIGN["RIGHT"] = 2] = "RIGHT";
    })(TEXT_ALIGN || (TEXT_ALIGN = {}));
    var textAlign = {
        name: 'text-align',
        initialValue: 'left',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (textAlign) {
            switch (textAlign) {
                case 'right':
                    return TEXT_ALIGN.RIGHT;
                case 'center':
                case 'justify':
                    return TEXT_ALIGN.CENTER;
                case 'left':
                default:
                    return TEXT_ALIGN.LEFT;
            }
        }
    };

    var POSITION;
    (function (POSITION) {
        POSITION[POSITION["STATIC"] = 0] = "STATIC";
        POSITION[POSITION["RELATIVE"] = 1] = "RELATIVE";
        POSITION[POSITION["ABSOLUTE"] = 2] = "ABSOLUTE";
        POSITION[POSITION["FIXED"] = 3] = "FIXED";
        POSITION[POSITION["STICKY"] = 4] = "STICKY";
    })(POSITION || (POSITION = {}));
    var position = {
        name: 'position',
        initialValue: 'static',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (position) {
            switch (position) {
                case 'relative':
                    return POSITION.RELATIVE;
                case 'absolute':
                    return POSITION.ABSOLUTE;
                case 'fixed':
                    return POSITION.FIXED;
                case 'sticky':
                    return POSITION.STICKY;
            }
            return POSITION.STATIC;
        }
    };

    var textShadow = {
        name: 'text-shadow',
        initialValue: 'none',
        type: PropertyDescriptorParsingType.LIST,
        prefix: false,
        parse: function (tokens) {
            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {
                return [];
            }
            return parseFunctionArgs(tokens).map(function (values) {
                var shadow = {
                    color: COLORS.TRANSPARENT,
                    offsetX: ZERO_LENGTH,
                    offsetY: ZERO_LENGTH,
                    blur: ZERO_LENGTH
                };
                var c = 0;
                for (var i = 0; i < values.length; i++) {
                    var token = values[i];
                    if (isLength(token)) {
                        if (c === 0) {
                            shadow.offsetX = token;
                        }
                        else if (c === 1) {
                            shadow.offsetY = token;
                        }
                        else {
                            shadow.blur = token;
                        }
                        c++;
                    }
                    else {
                        shadow.color = color.parse(token);
                    }
                }
                return shadow;
            });
        }
    };

    var TEXT_TRANSFORM;
    (function (TEXT_TRANSFORM) {
        TEXT_TRANSFORM[TEXT_TRANSFORM["NONE"] = 0] = "NONE";
        TEXT_TRANSFORM[TEXT_TRANSFORM["LOWERCASE"] = 1] = "LOWERCASE";
        TEXT_TRANSFORM[TEXT_TRANSFORM["UPPERCASE"] = 2] = "UPPERCASE";
        TEXT_TRANSFORM[TEXT_TRANSFORM["CAPITALIZE"] = 3] = "CAPITALIZE";
    })(TEXT_TRANSFORM || (TEXT_TRANSFORM = {}));
    var textTransform = {
        name: 'text-transform',
        initialValue: 'none',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (textTransform) {
            switch (textTransform) {
                case 'uppercase':
                    return TEXT_TRANSFORM.UPPERCASE;
                case 'lowercase':
                    return TEXT_TRANSFORM.LOWERCASE;
                case 'capitalize':
                    return TEXT_TRANSFORM.CAPITALIZE;
            }
            return TEXT_TRANSFORM.NONE;
        }
    };

    var transform = {
        name: 'transform',
        initialValue: 'none',
        prefix: true,
        type: PropertyDescriptorParsingType.VALUE,
        parse: function (token) {
            if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {
                return null;
            }
            if (token.type === TokenType.FUNCTION) {
                var transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name];
                if (typeof transformFunction === 'undefined') {
                    throw new Error("Attempting to parse an unsupported transform function \"" + token.name + "\"");
                }
                return transformFunction(token.values);
            }
            return null;
        }
    };
    var matrix = function (args) {
        var values = args.filter(function (arg) { return arg.type === TokenType.NUMBER_TOKEN; }).map(function (arg) { return arg.number; });
        return values.length === 6 ? values : null;
    };
    // doesn't support 3D transforms at the moment
    var matrix3d = function (args) {
        var values = args.filter(function (arg) { return arg.type === TokenType.NUMBER_TOKEN; }).map(function (arg) { return arg.number; });
        var a1 = values[0], b1 = values[1], _a = values[2], _b = values[3], a2 = values[4], b2 = values[5], _c = values[6], _d = values[7], _e = values[8], _f = values[9], _g = values[10], _h = values[11], a4 = values[12], b4 = values[13], _j = values[14], _k = values[15];
        return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null;
    };
    var SUPPORTED_TRANSFORM_FUNCTIONS = {
        matrix: matrix,
        matrix3d: matrix3d
    };

    var DEFAULT_VALUE = {
        type: TokenType.PERCENTAGE_TOKEN,
        number: 50,
        flags: FLAG_INTEGER
    };
    var DEFAULT = [DEFAULT_VALUE, DEFAULT_VALUE];
    var transformOrigin = {
        name: 'transform-origin',
        initialValue: '50% 50%',
        prefix: true,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            var origins = tokens.filter(isLengthPercentage);
            if (origins.length !== 2) {
                return DEFAULT;
            }
            return [origins[0], origins[1]];
        }
    };

    var VISIBILITY;
    (function (VISIBILITY) {
        VISIBILITY[VISIBILITY["VISIBLE"] = 0] = "VISIBLE";
        VISIBILITY[VISIBILITY["HIDDEN"] = 1] = "HIDDEN";
        VISIBILITY[VISIBILITY["COLLAPSE"] = 2] = "COLLAPSE";
    })(VISIBILITY || (VISIBILITY = {}));
    var visibility = {
        name: 'visible',
        initialValue: 'none',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (visibility) {
            switch (visibility) {
                case 'hidden':
                    return VISIBILITY.HIDDEN;
                case 'collapse':
                    return VISIBILITY.COLLAPSE;
                case 'visible':
                default:
                    return VISIBILITY.VISIBLE;
            }
        }
    };

    var WORD_BREAK;
    (function (WORD_BREAK) {
        WORD_BREAK["NORMAL"] = "normal";
        WORD_BREAK["BREAK_ALL"] = "break-all";
        WORD_BREAK["KEEP_ALL"] = "keep-all";
    })(WORD_BREAK || (WORD_BREAK = {}));
    var wordBreak = {
        name: 'word-break',
        initialValue: 'normal',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (wordBreak) {
            switch (wordBreak) {
                case 'break-all':
                    return WORD_BREAK.BREAK_ALL;
                case 'keep-all':
                    return WORD_BREAK.KEEP_ALL;
                case 'normal':
                default:
                    return WORD_BREAK.NORMAL;
            }
        }
    };

    var zIndex = {
        name: 'z-index',
        initialValue: 'auto',
        prefix: false,
        type: PropertyDescriptorParsingType.VALUE,
        parse: function (token) {
            if (token.type === TokenType.IDENT_TOKEN) {
                return { auto: true, order: 0 };
            }
            if (isNumberToken(token)) {
                return { auto: false, order: token.number };
            }
            throw new Error("Invalid z-index number parsed");
        }
    };

    var opacity = {
        name: 'opacity',
        initialValue: '1',
        type: PropertyDescriptorParsingType.VALUE,
        prefix: false,
        parse: function (token) {
            if (isNumberToken(token)) {
                return token.number;
            }
            return 1;
        }
    };

    var textDecorationColor = {
        name: "text-decoration-color",
        initialValue: 'transparent',
        prefix: false,
        type: PropertyDescriptorParsingType.TYPE_VALUE,
        format: 'color'
    };

    var textDecorationLine = {
        name: 'text-decoration-line',
        initialValue: 'none',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return tokens
                .filter(isIdentToken)
                .map(function (token) {
                switch (token.value) {
                    case 'underline':
                        return 1 /* UNDERLINE */;
                    case 'overline':
                        return 2 /* OVERLINE */;
                    case 'line-through':
                        return 3 /* LINE_THROUGH */;
                    case 'none':
                        return 4 /* BLINK */;
                }
                return 0 /* NONE */;
            })
                .filter(function (line) { return line !== 0 /* NONE */; });
        }
    };

    var fontFamily = {
        name: "font-family",
        initialValue: '',
        prefix: false,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            return tokens.filter(isStringToken$1).map(function (token) { return token.value; });
        }
    };
    var isStringToken$1 = function (token) {
        return token.type === TokenType.STRING_TOKEN || token.type === TokenType.IDENT_TOKEN;
    };

    var fontSize = {
        name: "font-size",
        initialValue: '0',
        prefix: false,
        type: PropertyDescriptorParsingType.TYPE_VALUE,
        format: 'length'
    };

    var fontWeight = {
        name: 'font-weight',
        initialValue: 'normal',
        type: PropertyDescriptorParsingType.VALUE,
        prefix: false,
        parse: function (token) {
            if (isNumberToken(token)) {
                return token.number;
            }
            if (isIdentToken(token)) {
                switch (token.value) {
                    case 'bold':
                        return 700;
                    case 'normal':
                    default:
                        return 400;
                }
            }
            return 400;
        }
    };

    var fontVariant = {
        name: 'font-variant',
        initialValue: 'none',
        type: PropertyDescriptorParsingType.LIST,
        prefix: false,
        parse: function (tokens) {
            return tokens.filter(isIdentToken).map(function (token) { return token.value; });
        }
    };

    var FONT_STYLE;
    (function (FONT_STYLE) {
        FONT_STYLE["NORMAL"] = "normal";
        FONT_STYLE["ITALIC"] = "italic";
        FONT_STYLE["OBLIQUE"] = "oblique";
    })(FONT_STYLE || (FONT_STYLE = {}));
    var fontStyle = {
        name: 'font-style',
        initialValue: 'normal',
        prefix: false,
        type: PropertyDescriptorParsingType.IDENT_VALUE,
        parse: function (overflow) {
            switch (overflow) {
                case 'oblique':
                    return FONT_STYLE.OBLIQUE;
                case 'italic':
                    return FONT_STYLE.ITALIC;
                case 'normal':
                default:
                    return FONT_STYLE.NORMAL;
            }
        }
    };

    var contains = function (bit, value) { return (bit & value) !== 0; };

    var content = {
        name: 'content',
        initialValue: 'none',
        type: PropertyDescriptorParsingType.LIST,
        prefix: false,
        parse: function (tokens) {
            if (tokens.length === 0) {
                return [];
            }
            var first = tokens[0];
            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {
                return [];
            }
            return tokens;
        }
    };

    var counterIncrement = {
        name: 'counter-increment',
        initialValue: 'none',
        prefix: true,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            if (tokens.length === 0) {
                return null;
            }
            var first = tokens[0];
            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {
                return null;
            }
            var increments = [];
            var filtered = tokens.filter(nonWhiteSpace);
            for (var i = 0; i < filtered.length; i++) {
                var counter = filtered[i];
                var next = filtered[i + 1];
                if (counter.type === TokenType.IDENT_TOKEN) {
                    var increment = next && isNumberToken(next) ? next.number : 1;
                    increments.push({ counter: counter.value, increment: increment });
                }
            }
            return increments;
        }
    };

    var counterReset = {
        name: 'counter-reset',
        initialValue: 'none',
        prefix: true,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            if (tokens.length === 0) {
                return [];
            }
            var resets = [];
            var filtered = tokens.filter(nonWhiteSpace);
            for (var i = 0; i < filtered.length; i++) {
                var counter = filtered[i];
                var next = filtered[i + 1];
                if (isIdentToken(counter) && counter.value !== 'none') {
                    var reset = next && isNumberToken(next) ? next.number : 0;
                    resets.push({ counter: counter.value, reset: reset });
                }
            }
            return resets;
        }
    };

    var quotes = {
        name: 'quotes',
        initialValue: 'none',
        prefix: true,
        type: PropertyDescriptorParsingType.LIST,
        parse: function (tokens) {
            if (tokens.length === 0) {
                return null;
            }
            var first = tokens[0];
            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {
                return null;
            }
            var quotes = [];
            var filtered = tokens.filter(isStringToken);
            if (filtered.length % 2 !== 0) {
                return null;
            }
            for (var i = 0; i < filtered.length; i += 2) {
                var open_1 = filtered[i].value;
                var close_1 = filtered[i + 1].value;
                quotes.push({ open: open_1, close: close_1 });
            }
            return quotes;
        }
    };
    var getQuote = function (quotes, depth, open) {
        if (!quotes) {
            return '';
        }
        var quote = quotes[Math.min(depth, quotes.length - 1)];
        if (!quote) {
            return '';
        }
        return open ? quote.open : quote.close;
    };

    var boxShadow = {
        name: 'box-shadow',
        initialValue: 'none',
        type: PropertyDescriptorParsingType.LIST,
        prefix: false,
        parse: function (tokens) {
            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {
                return [];
            }
            return parseFunctionArgs(tokens).map(function (values) {
                var shadow = {
                    color: 0x000000ff,
                    offsetX: ZERO_LENGTH,
                    offsetY: ZERO_LENGTH,
                    blur: ZERO_LENGTH,
                    spread: ZERO_LENGTH,
                    inset: false
                };
                var c = 0;
                for (var i = 0; i < values.length; i++) {
                    var token = values[i];
                    if (isIdentWithValue(token, 'inset')) {
                        shadow.inset = true;
                    }
                    else if (isLength(token)) {
                        if (c === 0) {
                            shadow.offsetX = token;
                        }
                        else if (c === 1) {
                            shadow.offsetY = token;
                        }
                        else if (c === 2) {
                            shadow.blur = token;
                        }
                        else {
                            shadow.spread = token;
                        }
                        c++;
                    }
                    else {
                        shadow.color = color.parse(token);
                    }
                }
                return shadow;
            });
        }
    };

    var CSSParsedDeclaration = /** @class */ (function () {
        function CSSParsedDeclaration(declaration) {
            this.backgroundClip = parse(backgroundClip, declaration.backgroundClip);
            this.backgroundColor = parse(backgroundColor, declaration.backgroundColor);
            this.backgroundImage = parse(backgroundImage, declaration.backgroundImage);
            this.backgroundOrigin = parse(backgroundOrigin, declaration.backgroundOrigin);
            this.backgroundPosition = parse(backgroundPosition, declaration.backgroundPosition);
            this.backgroundRepeat = parse(backgroundRepeat, declaration.backgroundRepeat);
            this.backgroundSize = parse(backgroundSize, declaration.backgroundSize);
            this.borderTopColor = parse(borderTopColor, declaration.borderTopColor);
            this.borderRightColor = parse(borderRightColor, declaration.borderRightColor);
            this.borderBottomColor = parse(borderBottomColor, declaration.borderBottomColor);
            this.borderLeftColor = parse(borderLeftColor, declaration.borderLeftColor);
            this.borderTopLeftRadius = parse(borderTopLeftRadius, declaration.borderTopLeftRadius);
            this.borderTopRightRadius = parse(borderTopRightRadius, declaration.borderTopRightRadius);
            this.borderBottomRightRadius = parse(borderBottomRightRadius, declaration.borderBottomRightRadius);
            this.borderBottomLeftRadius = parse(borderBottomLeftRadius, declaration.borderBottomLeftRadius);
            this.borderTopStyle = parse(borderTopStyle, declaration.borderTopStyle);
            this.borderRightStyle = parse(borderRightStyle, declaration.borderRightStyle);
            this.borderBottomStyle = parse(borderBottomStyle, declaration.borderBottomStyle);
            this.borderLeftStyle = parse(borderLeftStyle, declaration.borderLeftStyle);
            this.borderTopWidth = parse(borderTopWidth, declaration.borderTopWidth);
            this.borderRightWidth = parse(borderRightWidth, declaration.borderRightWidth);
            this.borderBottomWidth = parse(borderBottomWidth, declaration.borderBottomWidth);
            this.borderLeftWidth = parse(borderLeftWidth, declaration.borderLeftWidth);
            this.boxShadow = parse(boxShadow, declaration.boxShadow);
            this.color = parse(color$1, declaration.color);
            this.display = parse(display, declaration.display);
            this.float = parse(float, declaration.cssFloat);
            this.fontFamily = parse(fontFamily, declaration.fontFamily);
            this.fontSize = parse(fontSize, declaration.fontSize);
            this.fontStyle = parse(fontStyle, declaration.fontStyle);
            this.fontVariant = parse(fontVariant, declaration.fontVariant);
            this.fontWeight = parse(fontWeight, declaration.fontWeight);
            this.letterSpacing = parse(letterSpacing, declaration.letterSpacing);
            this.lineBreak = parse(lineBreak, declaration.lineBreak);
            this.lineHeight = parse(lineHeight, declaration.lineHeight);
            this.listStyleImage = parse(listStyleImage, declaration.listStyleImage);
            this.listStylePosition = parse(listStylePosition, declaration.listStylePosition);
            this.listStyleType = parse(listStyleType, declaration.listStyleType);
            this.marginTop = parse(marginTop, declaration.marginTop);
            this.marginRight = parse(marginRight, declaration.marginRight);
            this.marginBottom = parse(marginBottom, declaration.marginBottom);
            this.marginLeft = parse(marginLeft, declaration.marginLeft);
            this.opacity = parse(opacity, declaration.opacity);
            var overflowTuple = parse(overflow, declaration.overflow);
            this.overflowX = overflowTuple[0];
            this.overflowY = overflowTuple[overflowTuple.length > 1 ? 1 : 0];
            this.overflowWrap = parse(overflowWrap, declaration.overflowWrap);
            this.paddingTop = parse(paddingTop, declaration.paddingTop);
            this.paddingRight = parse(paddingRight, declaration.paddingRight);
            this.paddingBottom = parse(paddingBottom, declaration.paddingBottom);
            this.paddingLeft = parse(paddingLeft, declaration.paddingLeft);
            this.position = parse(position, declaration.position);
            this.textAlign = parse(textAlign, declaration.textAlign);
            this.textDecorationColor = parse(textDecorationColor, declaration.textDecorationColor || declaration.color);
            this.textDecorationLine = parse(textDecorationLine, declaration.textDecorationLine);
            this.textShadow = parse(textShadow, declaration.textShadow);
            this.textTransform = parse(textTransform, declaration.textTransform);
            this.transform = parse(transform, declaration.transform);
            this.transformOrigin = parse(transformOrigin, declaration.transformOrigin);
            this.visibility = parse(visibility, declaration.visibility);
            this.wordBreak = parse(wordBreak, declaration.wordBreak);
            this.zIndex = parse(zIndex, declaration.zIndex);
        }
        CSSParsedDeclaration.prototype.isVisible = function () {
            return this.display > 0 && this.opacity > 0 && this.visibility === VISIBILITY.VISIBLE;
        };
        CSSParsedDeclaration.prototype.isTransparent = function () {
            return isTransparent(this.backgroundColor);
        };
        CSSParsedDeclaration.prototype.isTransformed = function () {
            return this.transform !== null;
        };
        CSSParsedDeclaration.prototype.isPositioned = function () {
            return this.position !== POSITION.STATIC;
        };
        CSSParsedDeclaration.prototype.isPositionedWithZIndex = function () {
            return this.isPositioned() && !this.zIndex.auto;
        };
        CSSParsedDeclaration.prototype.isFloating = function () {
            return this.float !== FLOAT.NONE;
        };
        CSSParsedDeclaration.prototype.isInlineLevel = function () {
            return (contains(this.display, 4 /* INLINE */) ||
                contains(this.display, 33554432 /* INLINE_BLOCK */) ||
                contains(this.display, 268435456 /* INLINE_FLEX */) ||
                contains(this.display, 536870912 /* INLINE_GRID */) ||
                contains(this.display, 67108864 /* INLINE_LIST_ITEM */) ||
                contains(this.display, 134217728 /* INLINE_TABLE */));
        };
        return CSSParsedDeclaration;
    }());
    var CSSParsedPseudoDeclaration = /** @class */ (function () {
        function CSSParsedPseudoDeclaration(declaration) {
            this.content = parse(content, declaration.content);
            this.quotes = parse(quotes, declaration.quotes);
        }
        return CSSParsedPseudoDeclaration;
    }());
    var CSSParsedCounterDeclaration = /** @class */ (function () {
        function CSSParsedCounterDeclaration(declaration) {
            this.counterIncrement = parse(counterIncrement, declaration.counterIncrement);
            this.counterReset = parse(counterReset, declaration.counterReset);
        }
        return CSSParsedCounterDeclaration;
    }());
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    var parse = function (descriptor, style) {
        var tokenizer = new Tokenizer();
        var value = style !== null && typeof style !== 'undefined' ? style.toString() : descriptor.initialValue;
        tokenizer.write(value);
        var parser = new Parser(tokenizer.read());
        switch (descriptor.type) {
            case PropertyDescriptorParsingType.IDENT_VALUE:
                var token = parser.parseComponentValue();
                return descriptor.parse(isIdentToken(token) ? token.value : descriptor.initialValue);
            case PropertyDescriptorParsingType.VALUE:
                return descriptor.parse(parser.parseComponentValue());
            case PropertyDescriptorParsingType.LIST:
                return descriptor.parse(parser.parseComponentValues());
            case PropertyDescriptorParsingType.TOKEN_VALUE:
                return parser.parseComponentValue();
            case PropertyDescriptorParsingType.TYPE_VALUE:
                switch (descriptor.format) {
                    case 'angle':
                        return angle.parse(parser.parseComponentValue());
                    case 'color':
                        return color.parse(parser.parseComponentValue());
                    case 'image':
                        return image.parse(parser.parseComponentValue());
                    case 'length':
                        var length_1 = parser.parseComponentValue();
                        return isLength(length_1) ? length_1 : ZERO_LENGTH;
                    case 'length-percentage':
                        var value_1 = parser.parseComponentValue();
                        return isLengthPercentage(value_1) ? value_1 : ZERO_LENGTH;
                }
        }
        throw new Error("Attempting to parse unsupported css format type " + descriptor.format);
    };

    var ElementContainer = /** @class */ (function () {
        function ElementContainer(element) {
            this.styles = new CSSParsedDeclaration(window.getComputedStyle(element, null));
            this.textNodes = [];
            this.elements = [];
            if (this.styles.transform !== null && isHTMLElementNode(element)) {
                // getBoundingClientRect takes transforms into account
                element.style.transform = 'none';
            }
            this.bounds = parseBounds(element);
            this.flags = 0;
        }
        return ElementContainer;
    }());

    var TextBounds = /** @class */ (function () {
        function TextBounds(text, bounds) {
            this.text = text;
            this.bounds = bounds;
        }
        return TextBounds;
    }());
    var parseTextBounds = function (value, styles, node) {
        var textList = breakText(value, styles);
        var textBounds = [];
        var offset = 0;
        textList.forEach(function (text) {
            if (styles.textDecorationLine.length || text.trim().length > 0) {
                if (FEATURES.SUPPORT_RANGE_BOUNDS) {
                    textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length)));
                }
                else {
                    var replacementNode = node.splitText(text.length);
                    textBounds.push(new TextBounds(text, getWrapperBounds(node)));
                    node = replacementNode;
                }
            }
            else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {
                node = node.splitText(text.length);
            }
            offset += text.length;
        });
        return textBounds;
    };
    var getWrapperBounds = function (node) {
        var ownerDocument = node.ownerDocument;
        if (ownerDocument) {
            var wrapper = ownerDocument.createElement('html2canvaswrapper');
            wrapper.appendChild(node.cloneNode(true));
            var parentNode = node.parentNode;
            if (parentNode) {
                parentNode.replaceChild(wrapper, node);
                var bounds = parseBounds(wrapper);
                if (wrapper.firstChild) {
                    parentNode.replaceChild(wrapper.firstChild, wrapper);
                }
                return bounds;
            }
        }
        return new Bounds(0, 0, 0, 0);
    };
    var getRangeBounds = function (node, offset, length) {
        var ownerDocument = node.ownerDocument;
        if (!ownerDocument) {
            throw new Error('Node has no owner document');
        }
        var range = ownerDocument.createRange();
        range.setStart(node, offset);
        range.setEnd(node, offset + length);
        return Bounds.fromClientRect(range.getBoundingClientRect());
    };
    var breakText = function (value, styles) {
        return styles.letterSpacing !== 0 ? toCodePoints(value).map(function (i) { return fromCodePoint(i); }) : breakWords(value, styles);
    };
    var breakWords = function (str, styles) {
        var breaker = LineBreaker(str, {
            lineBreak: styles.lineBreak,
            wordBreak: styles.overflowWrap === OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : styles.wordBreak
        });
        var words = [];
        var bk;
        while (!(bk = breaker.next()).done) {
            if (bk.value) {
                words.push(bk.value.slice());
            }
        }
        return words;
    };

    var TextContainer = /** @class */ (function () {
        function TextContainer(node, styles) {
            this.text = transform$1(node.data, styles.textTransform);
            this.textBounds = parseTextBounds(this.text, styles, node);
        }
        return TextContainer;
    }());
    var transform$1 = function (text, transform) {
        switch (transform) {
            case TEXT_TRANSFORM.LOWERCASE:
                return text.toLowerCase();
            case TEXT_TRANSFORM.CAPITALIZE:
                return text.replace(CAPITALIZE, capitalize);
            case TEXT_TRANSFORM.UPPERCASE:
                return text.toUpperCase();
            default:
                return text;
        }
    };
    var CAPITALIZE = /(^|\s|:|-|\(|\))([a-z])/g;
    var capitalize = function (m, p1, p2) {
        if (m.length > 0) {
            return p1 + p2.toUpperCase();
        }
        return m;
    };

    var ImageElementContainer = /** @class */ (function (_super) {
        __extends(ImageElementContainer, _super);
        function ImageElementContainer(img) {
            var _this = _super.call(this, img) || this;
            _this.src = img.currentSrc || img.src;
            _this.intrinsicWidth = img.naturalWidth;
            _this.intrinsicHeight = img.naturalHeight;
            CacheStorage.getInstance().addImage(_this.src);
            return _this;
        }
        return ImageElementContainer;
    }(ElementContainer));

    var CanvasElementContainer = /** @class */ (function (_super) {
        __extends(CanvasElementContainer, _super);
        function CanvasElementContainer(canvas) {
            var _this = _super.call(this, canvas) || this;
            _this.canvas = canvas;
            _this.intrinsicWidth = canvas.width;
            _this.intrinsicHeight = canvas.height;
            return _this;
        }
        return CanvasElementContainer;
    }(ElementContainer));

    var SVGElementContainer = /** @class */ (function (_super) {
        __extends(SVGElementContainer, _super);
        function SVGElementContainer(img) {
            var _this = _super.call(this, img) || this;
            var s = new XMLSerializer();
            _this.svg = "data:image/svg+xml," + encodeURIComponent(s.serializeToString(img));
            _this.intrinsicWidth = img.width.baseVal.value;
            _this.intrinsicHeight = img.height.baseVal.value;
            CacheStorage.getInstance().addImage(_this.svg);
            return _this;
        }
        return SVGElementContainer;
    }(ElementContainer));

    var LIElementContainer = /** @class */ (function (_super) {
        __extends(LIElementContainer, _super);
        function LIElementContainer(element) {
            var _this = _super.call(this, element) || this;
            _this.value = element.value;
            return _this;
        }
        return LIElementContainer;
    }(ElementContainer));

    var OLElementContainer = /** @class */ (function (_super) {
        __extends(OLElementContainer, _super);
        function OLElementContainer(element) {
            var _this = _super.call(this, element) || this;
            _this.start = element.start;
            _this.reversed = typeof element.reversed === 'boolean' && element.reversed === true;
            return _this;
        }
        return OLElementContainer;
    }(ElementContainer));

    var CHECKBOX_BORDER_RADIUS = [
        {
            type: TokenType.DIMENSION_TOKEN,
            flags: 0,
            unit: 'px',
            number: 3
        }
    ];
    var RADIO_BORDER_RADIUS = [
        {
            type: TokenType.PERCENTAGE_TOKEN,
            flags: 0,
            number: 50
        }
    ];
    var reformatInputBounds = function (bounds) {
        if (bounds.width > bounds.height) {
            return new Bounds(bounds.left + (bounds.width - bounds.height) / 2, bounds.top, bounds.height, bounds.height);
        }
        else if (bounds.width < bounds.height) {
            return new Bounds(bounds.left, bounds.top + (bounds.height - bounds.width) / 2, bounds.width, bounds.width);
        }
        return bounds;
    };
    var getInputValue = function (node) {
        var value = node.type === PASSWORD ? new Array(node.value.length + 1).join('\u2022') : node.value;
        return value.length === 0 ? node.placeholder || '' : value;
    };
    var CHECKBOX = 'checkbox';
    var RADIO = 'radio';
    var PASSWORD = 'password';
    var INPUT_COLOR = 0x2a2a2aff;
    var InputElementContainer = /** @class */ (function (_super) {
        __extends(InputElementContainer, _super);
        function InputElementContainer(input) {
            var _this = _super.call(this, input) || this;
            _this.type = input.type.toLowerCase();
            _this.checked = input.checked;
            _this.value = getInputValue(input);
            if (_this.type === CHECKBOX || _this.type === RADIO) {
                _this.styles.backgroundColor = 0xdededeff;
                _this.styles.borderTopColor = _this.styles.borderRightColor = _this.styles.borderBottomColor = _this.styles.borderLeftColor = 0xa5a5a5ff;
                _this.styles.borderTopWidth = _this.styles.borderRightWidth = _this.styles.borderBottomWidth = _this.styles.borderLeftWidth = 1;
                _this.styles.borderTopStyle = _this.styles.borderRightStyle = _this.styles.borderBottomStyle = _this.styles.borderLeftStyle =
                    BORDER_STYLE.SOLID;
                _this.styles.backgroundClip = [BACKGROUND_CLIP.BORDER_BOX];
                _this.styles.backgroundOrigin = [0 /* BORDER_BOX */];
                _this.bounds = reformatInputBounds(_this.bounds);
            }
            switch (_this.type) {
                case CHECKBOX:
                    _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = CHECKBOX_BORDER_RADIUS;
                    break;
                case RADIO:
                    _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = RADIO_BORDER_RADIUS;
                    break;
            }
            return _this;
        }
        return InputElementContainer;
    }(ElementContainer));

    var SelectElementContainer = /** @class */ (function (_super) {
        __extends(SelectElementContainer, _super);
        function SelectElementContainer(element) {
            var _this = _super.call(this, element) || this;
            var option = element.options[element.selectedIndex || 0];
            _this.value = option ? option.text || '' : '';
            return _this;
        }
        return SelectElementContainer;
    }(ElementContainer));

    var TextareaElementContainer = /** @class */ (function (_super) {
        __extends(TextareaElementContainer, _super);
        function TextareaElementContainer(element) {
            var _this = _super.call(this, element) || this;
            _this.value = element.value;
            return _this;
        }
        return TextareaElementContainer;
    }(ElementContainer));

    var parseColor = function (value) { return color.parse(Parser.create(value).parseComponentValue()); };
    var IFrameElementContainer = /** @class */ (function (_super) {
        __extends(IFrameElementContainer, _super);
        function IFrameElementContainer(iframe) {
            var _this = _super.call(this, iframe) || this;
            _this.src = iframe.src;
            _this.width = parseInt(iframe.width, 10) || 0;
            _this.height = parseInt(iframe.height, 10) || 0;
            _this.backgroundColor = _this.styles.backgroundColor;
            try {
                if (iframe.contentWindow &&
                    iframe.contentWindow.document &&
                    iframe.contentWindow.document.documentElement) {
                    _this.tree = parseTree(iframe.contentWindow.document.documentElement);
                    // http://www.w3.org/TR/css3-background/#special-backgrounds
                    var documentBackgroundColor = iframe.contentWindow.document.documentElement
                        ? parseColor(getComputedStyle(iframe.contentWindow.document.documentElement)
                            .backgroundColor)
                        : COLORS.TRANSPARENT;
                    var bodyBackgroundColor = iframe.contentWindow.document.body
                        ? parseColor(getComputedStyle(iframe.contentWindow.document.body).backgroundColor)
                        : COLORS.TRANSPARENT;
                    _this.backgroundColor = isTransparent(documentBackgroundColor)
                        ? isTransparent(bodyBackgroundColor)
                            ? _this.styles.backgroundColor
                            : bodyBackgroundColor
                        : documentBackgroundColor;
                }
            }
            catch (e) { }
            return _this;
        }
        return IFrameElementContainer;
    }(ElementContainer));

    var LIST_OWNERS = ['OL', 'UL', 'MENU'];
    var parseNodeTree = function (node, parent, root) {
        for (var childNode = node.firstChild, nextNode = void 0; childNode; childNode = nextNode) {
            nextNode = childNode.nextSibling;
            if (isTextNode(childNode) && childNode.data.trim().length > 0) {
                parent.textNodes.push(new TextContainer(childNode, parent.styles));
            }
            else if (isElementNode(childNode)) {
                var container = createContainer(childNode);
                if (container.styles.isVisible()) {
                    if (createsRealStackingContext(childNode, container, root)) {
                        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;
                    }
                    else if (createsStackingContext(container.styles)) {
                        container.flags |= 2 /* CREATES_STACKING_CONTEXT */;
                    }
                    if (LIST_OWNERS.indexOf(childNode.tagName) !== -1) {
                        container.flags |= 8 /* IS_LIST_OWNER */;
                    }
                    parent.elements.push(container);
                    if (!isTextareaElement(childNode) && !isSVGElement(childNode) && !isSelectElement(childNode)) {
                        parseNodeTree(childNode, container, root);
                    }
                }
            }
        }
    };
    var createContainer = function (element) {
        if (isImageElement(element)) {
            return new ImageElementContainer(element);
        }
        if (isCanvasElement(element)) {
            return new CanvasElementContainer(element);
        }
        if (isSVGElement(element)) {
            return new SVGElementContainer(element);
        }
        if (isLIElement(element)) {
            return new LIElementContainer(element);
        }
        if (isOLElement(element)) {
            return new OLElementContainer(element);
        }
        if (isInputElement(element)) {
            return new InputElementContainer(element);
        }
        if (isSelectElement(element)) {
            return new SelectElementContainer(element);
        }
        if (isTextareaElement(element)) {
            return new TextareaElementContainer(element);
        }
        if (isIFrameElement(element)) {
            return new IFrameElementContainer(element);
        }
        return new ElementContainer(element);
    };
    var parseTree = function (element) {
        var container = createContainer(element);
        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;
        parseNodeTree(element, container, container);
        return container;
    };
    var createsRealStackingContext = function (node, container, root) {
        return (container.styles.isPositionedWithZIndex() ||
            container.styles.opacity < 1 ||
            container.styles.isTransformed() ||
            (isBodyElement(node) && root.styles.isTransparent()));
    };
    var createsStackingContext = function (styles) { return styles.isPositioned() || styles.isFloating(); };
    var isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };
    var isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };
    var isHTMLElementNode = function (node) {
        return typeof node.style !== 'undefined';
    };
    var isLIElement = function (node) { return node.tagName === 'LI'; };
    var isOLElement = function (node) { return node.tagName === 'OL'; };
    var isInputElement = function (node) { return node.tagName === 'INPUT'; };
    var isHTMLElement = function (node) { return node.tagName === 'HTML'; };
    var isSVGElement = function (node) { return node.tagName === 'svg'; };
    var isBodyElement = function (node) { return node.tagName === 'BODY'; };
    var isCanvasElement = function (node) { return node.tagName === 'CANVAS'; };
    var isImageElement = function (node) { return node.tagName === 'IMG'; };
    var isIFrameElement = function (node) { return node.tagName === 'IFRAME'; };
    var isStyleElement = function (node) { return node.tagName === 'STYLE'; };
    var isScriptElement = function (node) { return node.tagName === 'SCRIPT'; };
    var isTextareaElement = function (node) { return node.tagName === 'TEXTAREA'; };
    var isSelectElement = function (node) { return node.tagName === 'SELECT'; };

    var CounterState = /** @class */ (function () {
        function CounterState() {
            this.counters = {};
        }
        CounterState.prototype.getCounterValue = function (name) {
            var counter = this.counters[name];
            if (counter && counter.length) {
                return counter[counter.length - 1];
            }
            return 1;
        };
        CounterState.prototype.getCounterValues = function (name) {
            var counter = this.counters[name];
            return counter ? counter : [];
        };
        CounterState.prototype.pop = function (counters) {
            var _this = this;
            counters.forEach(function (counter) { return _this.counters[counter].pop(); });
        };
        CounterState.prototype.parse = function (style) {
            var _this = this;
            var counterIncrement = style.counterIncrement;
            var counterReset = style.counterReset;
            var canReset = true;
            if (counterIncrement !== null) {
                counterIncrement.forEach(function (entry) {
                    var counter = _this.counters[entry.counter];
                    if (counter && entry.increment !== 0) {
                        canReset = false;
                        counter[Math.max(0, counter.length - 1)] += entry.increment;
                    }
                });
            }
            var counterNames = [];
            if (canReset) {
                counterReset.forEach(function (entry) {
                    var counter = _this.counters[entry.counter];
                    counterNames.push(entry.counter);
                    if (!counter) {
                        counter = _this.counters[entry.counter] = [];
                    }
                    counter.push(entry.reset);
                });
            }
            return counterNames;
        };
        return CounterState;
    }());
    var ROMAN_UPPER = {
        integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],
        values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']
    };
    var ARMENIAN = {
        integers: [
            9000,
            8000,
            7000,
            6000,
            5000,
            4000,
            3000,
            2000,
            1000,
            900,
            800,
            700,
            600,
            500,
            400,
            300,
            200,
            100,
            90,
            80,
            70,
            60,
            50,
            40,
            30,
            20,
            10,
            9,
            8,
            7,
            6,
            5,
            4,
            3,
            2,
            1
        ],
        values: [
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            ''
        ]
    };
    var HEBREW = {
        integers: [
            10000,
            9000,
            8000,
            7000,
            6000,
            5000,
            4000,
            3000,
            2000,
            1000,
            400,
            300,
            200,
            100,
            90,
            80,
            70,
            60,
            50,
            40,
            30,
            20,
            19,
            18,
            17,
            16,
            15,
            10,
            9,
            8,
            7,
            6,
            5,
            4,
            3,
            2,
            1
        ],
        values: [
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            ''
        ]
    };
    var GEORGIAN = {
        integers: [
            10000,
            9000,
            8000,
            7000,
            6000,
            5000,
            4000,
            3000,
            2000,
            1000,
            900,
            800,
            700,
            600,
            500,
            400,
            300,
            200,
            100,
            90,
            80,
            70,
            60,
            50,
            40,
            30,
            20,
            10,
            9,
            8,
            7,
            6,
            5,
            4,
            3,
            2,
            1
        ],
        values: [
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            '',
            ''
        ]
    };
    var createAdditiveCounter = function (value, min, max, symbols, fallback, suffix) {
        if (value < min || value > max) {
            return createCounterText(value, fallback, suffix.length > 0);
        }
        return (symbols.integers.reduce(function (string, integer, index) {
            while (value >= integer) {
                value -= integer;
                string += symbols.values[index];
            }
            return string;
        }, '') + suffix);
    };
    var createCounterStyleWithSymbolResolver = function (value, codePointRangeLength, isNumeric, resolver) {
        var string = '';
        do {
            if (!isNumeric) {
                value--;
            }
            string = resolver(value) + string;
            value /= codePointRangeLength;
        } while (value * codePointRangeLength >= codePointRangeLength);
        return string;
    };
    var createCounterStyleFromRange = function (value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {
        var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;
        return ((value < 0 ? '-' : '') +
            (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function (codePoint) {
                return fromCodePoint(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);
            }) +
                suffix));
    };
    var createCounterStyleFromSymbols = function (value, symbols, suffix) {
        if (suffix === void 0) { suffix = '. '; }
        var codePointRangeLength = symbols.length;
        return (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function (codePoint) { return symbols[Math.floor(codePoint % codePointRangeLength)]; }) + suffix);
    };
    var CJK_ZEROS = 1 << 0;
    var CJK_TEN_COEFFICIENTS = 1 << 1;
    var CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;
    var CJK_HUNDRED_COEFFICIENTS = 1 << 3;
    var createCJKCounter = function (value, numbers, multipliers, negativeSign, suffix, flags) {
        if (value < -9999 || value > 9999) {
            return createCounterText(value, LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);
        }
        var tmp = Math.abs(value);
        var string = suffix;
        if (tmp === 0) {
            return numbers[0] + string;
        }
        for (var digit = 0; tmp > 0 && digit <= 4; digit++) {
            var coefficient = tmp % 10;
            if (coefficient === 0 && contains(flags, CJK_ZEROS) && string !== '') {
                string = numbers[coefficient] + string;
            }
            else if (coefficient > 1 ||
                (coefficient === 1 && digit === 0) ||
                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_COEFFICIENTS)) ||
                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100) ||
                (coefficient === 1 && digit > 1 && contains(flags, CJK_HUNDRED_COEFFICIENTS))) {
                string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;
            }
            else if (coefficient === 1 && digit > 0) {
                string = multipliers[digit - 1] + string;
            }
            tmp = Math.floor(tmp / 10);
        }
        return (value < 0 ? negativeSign : '') + string;
    };
    var CHINESE_INFORMAL_MULTIPLIERS = '';
    var CHINESE_FORMAL_MULTIPLIERS = '';
    var JAPANESE_NEGATIVE = '';
    var KOREAN_NEGATIVE = '';
    var createCounterText = function (value, type, appendSuffix) {
        var defaultSuffix = appendSuffix ? '. ' : '';
        var cjkSuffix = appendSuffix ? '' : '';
        var koreanSuffix = appendSuffix ? ', ' : '';
        var spaceSuffix = appendSuffix ? ' ' : '';
        switch (type) {
            case LIST_STYLE_TYPE.DISC:
                return '' + spaceSuffix;
            case LIST_STYLE_TYPE.CIRCLE:
                return '' + spaceSuffix;
            case LIST_STYLE_TYPE.SQUARE:
                return '' + spaceSuffix;
            case LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:
                var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);
                return string.length < 4 ? "0" + string : string;
            case LIST_STYLE_TYPE.CJK_DECIMAL:
                return createCounterStyleFromSymbols(value, '', cjkSuffix);
            case LIST_STYLE_TYPE.LOWER_ROMAN:
                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();
            case LIST_STYLE_TYPE.UPPER_ROMAN:
                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);
            case LIST_STYLE_TYPE.LOWER_GREEK:
                return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);
            case LIST_STYLE_TYPE.LOWER_ALPHA:
                return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);
            case LIST_STYLE_TYPE.UPPER_ALPHA:
                return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);
            case LIST_STYLE_TYPE.ARABIC_INDIC:
                return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);
            case LIST_STYLE_TYPE.ARMENIAN:
            case LIST_STYLE_TYPE.UPPER_ARMENIAN:
                return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);
            case LIST_STYLE_TYPE.LOWER_ARMENIAN:
                return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();
            case LIST_STYLE_TYPE.BENGALI:
                return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);
            case LIST_STYLE_TYPE.CAMBODIAN:
            case LIST_STYLE_TYPE.KHMER:
                return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);
            case LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:
                return createCounterStyleFromSymbols(value, '', cjkSuffix);
            case LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:
                return createCounterStyleFromSymbols(value, '', cjkSuffix);
            case LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:
            case LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:
                return createCJKCounter(value, '', CHINESE_INFORMAL_MULTIPLIERS, '', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);
            case LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:
                return createCJKCounter(value, '', CHINESE_FORMAL_MULTIPLIERS, '', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);
            case LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:
                return createCJKCounter(value, '', CHINESE_INFORMAL_MULTIPLIERS, '', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);
            case LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:
                return createCJKCounter(value, '', CHINESE_FORMAL_MULTIPLIERS, '', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);
            case LIST_STYLE_TYPE.JAPANESE_INFORMAL:
                return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, 0);
            case LIST_STYLE_TYPE.JAPANESE_FORMAL:
                return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);
            case LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:
                return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);
            case LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:
                return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, 0);
            case LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:
                return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);
            case LIST_STYLE_TYPE.DEVANAGARI:
                return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);
            case LIST_STYLE_TYPE.GEORGIAN:
                return createAdditiveCounter(value, 1, 19999, GEORGIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);
            case LIST_STYLE_TYPE.GUJARATI:
                return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);
            case LIST_STYLE_TYPE.GURMUKHI:
                return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);
            case LIST_STYLE_TYPE.HEBREW:
                return createAdditiveCounter(value, 1, 10999, HEBREW, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);
            case LIST_STYLE_TYPE.HIRAGANA:
                return createCounterStyleFromSymbols(value, '');
            case LIST_STYLE_TYPE.HIRAGANA_IROHA:
                return createCounterStyleFromSymbols(value, '');
            case LIST_STYLE_TYPE.KANNADA:
                return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);
            case LIST_STYLE_TYPE.KATAKANA:
                return createCounterStyleFromSymbols(value, '', cjkSuffix);
            case LIST_STYLE_TYPE.KATAKANA_IROHA:
                return createCounterStyleFromSymbols(value, '', cjkSuffix);
            case LIST_STYLE_TYPE.LAO:
                return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);
            case LIST_STYLE_TYPE.MONGOLIAN:
                return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);
            case LIST_STYLE_TYPE.MYANMAR:
                return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);
            case LIST_STYLE_TYPE.ORIYA:
                return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);
            case LIST_STYLE_TYPE.PERSIAN:
                return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);
            case LIST_STYLE_TYPE.TAMIL:
                return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);
            case LIST_STYLE_TYPE.TELUGU:
                return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);
            case LIST_STYLE_TYPE.THAI:
                return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);
            case LIST_STYLE_TYPE.TIBETAN:
                return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);
            case LIST_STYLE_TYPE.DECIMAL:
            default:
                return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);
        }
    };

    var IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';
    var DocumentCloner = /** @class */ (function () {
        function DocumentCloner(element, options) {
            this.options = options;
            this.scrolledElements = [];
            this.referenceElement = element;
            this.counters = new CounterState();
            this.quoteDepth = 0;
            if (!element.ownerDocument) {
                throw new Error('Cloned element does not have an owner document');
            }
            this.documentElement = this.cloneNode(element.ownerDocument.documentElement);
        }
        DocumentCloner.prototype.toIFrame = function (ownerDocument, windowSize) {
            var _this = this;
            var iframe = createIFrameContainer(ownerDocument, windowSize);
            if (!iframe.contentWindow) {
                return Promise.reject("Unable to find iframe window");
            }
            var scrollX = ownerDocument.defaultView.pageXOffset;
            var scrollY = ownerDocument.defaultView.pageYOffset;
            var cloneWindow = iframe.contentWindow;
            var documentClone = cloneWindow.document;
            /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle
             if window url is about:blank, we can assign the url to current by writing onto the document
             */
            var iframeLoad = iframeLoader(iframe).then(function () { return __awaiter(_this, void 0, void 0, function () {
                var onclone;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            this.scrolledElements.forEach(restoreNodeScroll);
                            if (cloneWindow) {
                                cloneWindow.scrollTo(windowSize.left, windowSize.top);
                                if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&
                                    (cloneWindow.scrollY !== windowSize.top || cloneWindow.scrollX !== windowSize.left)) {
                                    documentClone.documentElement.style.top = -windowSize.top + 'px';
                                    documentClone.documentElement.style.left = -windowSize.left + 'px';
                                    documentClone.documentElement.style.position = 'absolute';
                                }
                            }
                            onclone = this.options.onclone;
                            if (typeof this.clonedReferenceElement === 'undefined') {
                                return [2 /*return*/, Promise.reject("Error finding the " + this.referenceElement.nodeName + " in the cloned document")];
                            }
                            if (!(documentClone.fonts && documentClone.fonts.ready)) return [3 /*break*/, 2];
                            return [4 /*yield*/, documentClone.fonts.ready];
                        case 1:
                            _a.sent();
                            _a.label = 2;
                        case 2:
                            if (typeof onclone === 'function') {
                                return [2 /*return*/, Promise.resolve()
                                        .then(function () { return onclone(documentClone); })
                                        .then(function () { return iframe; })];
                            }
                            return [2 /*return*/, iframe];
                    }
                });
            }); });
            documentClone.open();
            documentClone.write(serializeDoctype(document.doctype) + "<html></html>");
            // Chrome scrolls the parent document for some reason after the write to the cloned window???
            restoreOwnerScroll(this.referenceElement.ownerDocument, scrollX, scrollY);
            documentClone.replaceChild(documentClone.adoptNode(this.documentElement), documentClone.documentElement);
            documentClone.close();
            return iframeLoad;
        };
        DocumentCloner.prototype.createElementClone = function (node) {
            if (isCanvasElement(node)) {
                return this.createCanvasClone(node);
            }
            /*
            if (isIFrameElement(node)) {
                return this.createIFrameClone(node);
            }
    */
            if (isStyleElement(node)) {
                return this.createStyleClone(node);
            }
            return node.cloneNode(false);
        };
        DocumentCloner.prototype.createStyleClone = function (node) {
            try {
                var sheet = node.sheet;
                if (sheet && sheet.cssRules) {
                    var css = [].slice.call(sheet.cssRules, 0).reduce(function (css, rule) {
                        if (rule && typeof rule.cssText === 'string') {
                            return css + rule.cssText;
                        }
                        return css;
                    }, '');
                    var style = node.cloneNode(false);
                    style.textContent = css;
                    return style;
                }
            }
            catch (e) {
                // accessing node.sheet.cssRules throws a DOMException
                Logger.getInstance(this.options.id).error('Unable to access cssRules property', e);
                if (e.name !== 'SecurityError') {
                    throw e;
                }
            }
            return node.cloneNode(false);
        };
        DocumentCloner.prototype.createCanvasClone = function (canvas) {
            if (this.options.inlineImages && canvas.ownerDocument) {
                var img = canvas.ownerDocument.createElement('img');
                try {
                    img.src = canvas.toDataURL();
                    return img;
                }
                catch (e) {
                    Logger.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted");
                }
            }
            var clonedCanvas = canvas.cloneNode(false);
            try {
                clonedCanvas.width = canvas.width;
                clonedCanvas.height = canvas.height;
                var ctx = canvas.getContext('2d');
                var clonedCtx = clonedCanvas.getContext('2d');
                if (clonedCtx) {
                    if (ctx) {
                        clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);
                    }
                    else {
                        clonedCtx.drawImage(canvas, 0, 0);
                    }
                }
                return clonedCanvas;
            }
            catch (e) { }
            return clonedCanvas;
        };
        /*
        createIFrameClone(iframe: HTMLIFrameElement) {
            const tempIframe = <HTMLIFrameElement>iframe.cloneNode(false);
            const iframeKey = generateIframeKey();
            tempIframe.setAttribute('data-html2canvas-internal-iframe-key', iframeKey);

            const {width, height} = parseBounds(iframe);

            this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(iframe, this.options)
                .then(documentElement => {
                    return this.renderer(
                        documentElement,
                        {
                            allowTaint: this.options.allowTaint,
                            backgroundColor: '#ffffff',
                            canvas: null,
                            imageTimeout: this.options.imageTimeout,
                            logging: this.options.logging,
                            proxy: this.options.proxy,
                            removeContainer: this.options.removeContainer,
                            scale: this.options.scale,
                            foreignObjectRendering: this.options.foreignObjectRendering,
                            useCORS: this.options.useCORS,
                            target: new CanvasRenderer(),
                            width,
                            height,
                            x: 0,
                            y: 0,
                            windowWidth: documentElement.ownerDocument.defaultView.innerWidth,
                            windowHeight: documentElement.ownerDocument.defaultView.innerHeight,
                            scrollX: documentElement.ownerDocument.defaultView.pageXOffset,
                            scrollY: documentElement.ownerDocument.defaultView.pageYOffset
                        },
                    );
                })
                .then(
                    (canvas: HTMLCanvasElement) =>
                        new Promise((resolve, reject) => {
                            const iframeCanvas = document.createElement('img');
                            iframeCanvas.onload = () => resolve(canvas);
                            iframeCanvas.onerror = (event) => {
                                // Empty iframes may result in empty "data:," URLs, which are invalid from the <img>'s point of view
                                // and instead of `onload` cause `onerror` and unhandled rejection warnings
                                // https://github.com/niklasvh/html2canvas/issues/1502
                                iframeCanvas.src == 'data:,' ? resolve(canvas) : reject(event);
                            };
                            iframeCanvas.src = canvas.toDataURL();
                            if (tempIframe.parentNode && iframe.ownerDocument && iframe.ownerDocument.defaultView) {
                                tempIframe.parentNode.replaceChild(
                                    copyCSSStyles(
                                        iframe.ownerDocument.defaultView.getComputedStyle(iframe),
                                        iframeCanvas
                                    ),
                                    tempIframe
                                );
                            }
                        })
                );
            return tempIframe;
        }
    */
        DocumentCloner.prototype.cloneNode = function (node) {
            if (isTextNode(node)) {
                return document.createTextNode(node.data);
            }
            if (!node.ownerDocument) {
                return node.cloneNode(false);
            }
            var window = node.ownerDocument.defaultView;
            if (isHTMLElementNode(node) && window) {
                var clone = this.createElementClone(node);
                var style = window.getComputedStyle(node);
                var styleBefore = window.getComputedStyle(node, ':before');
                var styleAfter = window.getComputedStyle(node, ':after');
                if (this.referenceElement === node) {
                    this.clonedReferenceElement = clone;
                }
                if (isBodyElement(clone)) {
                    createPseudoHideStyles(clone);
                }
                var counters = this.counters.parse(new CSSParsedCounterDeclaration(style));
                var before = this.resolvePseudoContent(node, clone, styleBefore, PseudoElementType.BEFORE);
                for (var child = node.firstChild; child; child = child.nextSibling) {
                    if (!isElementNode(child) ||
                        (!isScriptElement(child) &&
                            !child.hasAttribute(IGNORE_ATTRIBUTE) &&
                            (typeof this.options.ignoreElements !== 'function' || !this.options.ignoreElements(child)))) {
                        if (!this.options.copyStyles || !isElementNode(child) || !isStyleElement(child)) {
                            clone.appendChild(this.cloneNode(child));
                        }
                    }
                }
                if (before) {
                    clone.insertBefore(before, clone.firstChild);
                }
                var after = this.resolvePseudoContent(node, clone, styleAfter, PseudoElementType.AFTER);
                if (after) {
                    clone.appendChild(after);
                }
                this.counters.pop(counters);
                if (style && this.options.copyStyles && !isIFrameElement(node)) {
                    copyCSSStyles(style, clone);
                }
                //this.inlineAllImages(clone);
                if (node.scrollTop !== 0 || node.scrollLeft !== 0) {
                    this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);
                }
                if ((isTextareaElement(node) || isSelectElement(node)) &&
                    (isTextareaElement(clone) || isSelectElement(clone))) {
                    clone.value = node.value;
                }
                return clone;
            }
            return node.cloneNode(false);
        };
        DocumentCloner.prototype.resolvePseudoContent = function (node, clone, style, pseudoElt) {
            var _this = this;
            if (!style) {
                return;
            }
            var value = style.content;
            var document = clone.ownerDocument;
            if (!document || !value || value === 'none' || value === '-moz-alt-content' || style.display === 'none') {
                return;
            }
            this.counters.parse(new CSSParsedCounterDeclaration(style));
            var declaration = new CSSParsedPseudoDeclaration(style);
            var anonymousReplacedElement = document.createElement('html2canvaspseudoelement');
            copyCSSStyles(style, anonymousReplacedElement);
            declaration.content.forEach(function (token) {
                if (token.type === TokenType.STRING_TOKEN) {
                    anonymousReplacedElement.appendChild(document.createTextNode(token.value));
                }
                else if (token.type === TokenType.URL_TOKEN) {
                    var img = document.createElement('img');
                    img.src = token.value;
                    img.style.opacity = '1';
                    anonymousReplacedElement.appendChild(img);
                }
                else if (token.type === TokenType.FUNCTION) {
                    if (token.name === 'attr') {
                        var attr = token.values.filter(isIdentToken);
                        if (attr.length) {
                            anonymousReplacedElement.appendChild(document.createTextNode(node.getAttribute(attr[0].value) || ''));
                        }
                    }
                    else if (token.name === 'counter') {
                        var _a = token.values.filter(nonFunctionArgSeparator), counter = _a[0], counterStyle = _a[1];
                        if (counter && isIdentToken(counter)) {
                            var counterState = _this.counters.getCounterValue(counter.value);
                            var counterType = counterStyle && isIdentToken(counterStyle)
                                ? listStyleType.parse(counterStyle.value)
                                : LIST_STYLE_TYPE.DECIMAL;
                            anonymousReplacedElement.appendChild(document.createTextNode(createCounterText(counterState, counterType, false)));
                        }
                    }
                    else if (token.name === 'counters') {
                        var _b = token.values.filter(nonFunctionArgSeparator), counter = _b[0], delim = _b[1], counterStyle = _b[2];
                        if (counter && isIdentToken(counter)) {
                            var counterStates = _this.counters.getCounterValues(counter.value);
                            var counterType_1 = counterStyle && isIdentToken(counterStyle)
                                ? listStyleType.parse(counterStyle.value)
                                : LIST_STYLE_TYPE.DECIMAL;
                            var separator = delim && delim.type === TokenType.STRING_TOKEN ? delim.value : '';
                            var text = counterStates
                                .map(function (value) { return createCounterText(value, counterType_1, false); })
                                .join(separator);
                            anonymousReplacedElement.appendChild(document.createTextNode(text));
                        }
                    }
                }
                else if (token.type === TokenType.IDENT_TOKEN) {
                    switch (token.value) {
                        case 'open-quote':
                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, _this.quoteDepth++, true)));
                            break;
                        case 'close-quote':
                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, --_this.quoteDepth, false)));
                            break;
                        default:
                            // safari doesn't parse string tokens correctly because of lack of quotes
                            anonymousReplacedElement.appendChild(document.createTextNode(token.value));
                    }
                }
            });
            anonymousReplacedElement.className = PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + " " + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;
            clone.className +=
                pseudoElt === PseudoElementType.BEFORE
                    ? " " + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE
                    : " " + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;
            return anonymousReplacedElement;
        };
        DocumentCloner.destroy = function (container) {
            if (container.parentNode) {
                container.parentNode.removeChild(container);
                return true;
            }
            return false;
        };
        return DocumentCloner;
    }());
    var PseudoElementType;
    (function (PseudoElementType) {
        PseudoElementType[PseudoElementType["BEFORE"] = 0] = "BEFORE";
        PseudoElementType[PseudoElementType["AFTER"] = 1] = "AFTER";
    })(PseudoElementType || (PseudoElementType = {}));
    var createIFrameContainer = function (ownerDocument, bounds) {
        var cloneIframeContainer = ownerDocument.createElement('iframe');
        cloneIframeContainer.className = 'html2canvas-container';
        cloneIframeContainer.style.visibility = 'hidden';
        cloneIframeContainer.style.position = 'fixed';
        cloneIframeContainer.style.left = '-10000px';
        cloneIframeContainer.style.top = '0px';
        cloneIframeContainer.style.border = '0';
        cloneIframeContainer.width = bounds.width.toString();
        cloneIframeContainer.height = bounds.height.toString();
        cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it
        cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');
        ownerDocument.body.appendChild(cloneIframeContainer);
        return cloneIframeContainer;
    };
    var iframeLoader = function (iframe) {
        return new Promise(function (resolve, reject) {
            var cloneWindow = iframe.contentWindow;
            if (!cloneWindow) {
                return reject("No window assigned for iframe");
            }
            var documentClone = cloneWindow.document;
            cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = function () {
                cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = null;
                var interval = setInterval(function () {
                    if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {
                        clearInterval(interval);
                        resolve(iframe);
                    }
                }, 50);
            };
        });
    };
    var copyCSSStyles = function (style, target) {
        // Edge does not provide value for cssText
        for (var i = style.length - 1; i >= 0; i--) {
            var property = style.item(i);
            // Safari shows pseudoelements if content is set
            if (property !== 'content') {
                target.style.setProperty(property, style.getPropertyValue(property));
            }
        }
        return target;
    };
    var serializeDoctype = function (doctype) {
        var str = '';
        if (doctype) {
            str += '<!DOCTYPE ';
            if (doctype.name) {
                str += doctype.name;
            }
            if (doctype.internalSubset) {
                str += doctype.internalSubset;
            }
            if (doctype.publicId) {
                str += "\"" + doctype.publicId + "\"";
            }
            if (doctype.systemId) {
                str += "\"" + doctype.systemId + "\"";
            }
            str += '>';
        }
        return str;
    };
    var restoreOwnerScroll = function (ownerDocument, x, y) {
        if (ownerDocument &&
            ownerDocument.defaultView &&
            (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {
            ownerDocument.defaultView.scrollTo(x, y);
        }
    };
    var restoreNodeScroll = function (_a) {
        var element = _a[0], x = _a[1], y = _a[2];
        element.scrollLeft = x;
        element.scrollTop = y;
    };
    var PSEUDO_BEFORE = ':before';
    var PSEUDO_AFTER = ':after';
    var PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';
    var PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';
    var PSEUDO_HIDE_ELEMENT_STYLE = "{\n    content: \"\" !important;\n    display: none !important;\n}";
    var createPseudoHideStyles = function (body) {
        createStyles(body, "." + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + PSEUDO_BEFORE + PSEUDO_HIDE_ELEMENT_STYLE + "\n         ." + PSEUDO_HIDE_ELEMENT_CLASS_AFTER + PSEUDO_AFTER + PSEUDO_HIDE_ELEMENT_STYLE);
    };
    var createStyles = function (body, styles) {
        var document = body.ownerDocument;
        if (document) {
            var style = document.createElement('style');
            style.textContent = styles;
            body.appendChild(style);
        }
    };

    var PathType;
    (function (PathType) {
        PathType[PathType["VECTOR"] = 0] = "VECTOR";
        PathType[PathType["BEZIER_CURVE"] = 1] = "BEZIER_CURVE";
    })(PathType || (PathType = {}));
    var equalPath = function (a, b) {
        if (a.length === b.length) {
            return a.some(function (v, i) { return v === b[i]; });
        }
        return false;
    };
    var transformPath = function (path, deltaX, deltaY, deltaW, deltaH) {
        return path.map(function (point, index) {
            switch (index) {
                case 0:
                    return point.add(deltaX, deltaY);
                case 1:
                    return point.add(deltaX + deltaW, deltaY);
                case 2:
                    return point.add(deltaX + deltaW, deltaY + deltaH);
                case 3:
                    return point.add(deltaX, deltaY + deltaH);
            }
            return point;
        });
    };

    var Vector = /** @class */ (function () {
        function Vector(x, y) {
            this.type = PathType.VECTOR;
            this.x = x;
            this.y = y;
        }
        Vector.prototype.add = function (deltaX, deltaY) {
            return new Vector(this.x + deltaX, this.y + deltaY);
        };
        return Vector;
    }());

    var lerp = function (a, b, t) {
        return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);
    };
    var BezierCurve = /** @class */ (function () {
        function BezierCurve(start, startControl, endControl, end) {
            this.type = PathType.BEZIER_CURVE;
            this.start = start;
            this.startControl = startControl;
            this.endControl = endControl;
            this.end = end;
        }
        BezierCurve.prototype.subdivide = function (t, firstHalf) {
            var ab = lerp(this.start, this.startControl, t);
            var bc = lerp(this.startControl, this.endControl, t);
            var cd = lerp(this.endControl, this.end, t);
            var abbc = lerp(ab, bc, t);
            var bccd = lerp(bc, cd, t);
            var dest = lerp(abbc, bccd, t);
            return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);
        };
        BezierCurve.prototype.add = function (deltaX, deltaY) {
            return new BezierCurve(this.start.add(deltaX, deltaY), this.startControl.add(deltaX, deltaY), this.endControl.add(deltaX, deltaY), this.end.add(deltaX, deltaY));
        };
        BezierCurve.prototype.reverse = function () {
            return new BezierCurve(this.end, this.endControl, this.startControl, this.start);
        };
        return BezierCurve;
    }());
    var isBezierCurve = function (path) { return path.type === PathType.BEZIER_CURVE; };

    var BoundCurves = /** @class */ (function () {
        function BoundCurves(element) {
            var styles = element.styles;
            var bounds = element.bounds;
            var _a = getAbsoluteValueForTuple(styles.borderTopLeftRadius, bounds.width, bounds.height), tlh = _a[0], tlv = _a[1];
            var _b = getAbsoluteValueForTuple(styles.borderTopRightRadius, bounds.width, bounds.height), trh = _b[0], trv = _b[1];
            var _c = getAbsoluteValueForTuple(styles.borderBottomRightRadius, bounds.width, bounds.height), brh = _c[0], brv = _c[1];
            var _d = getAbsoluteValueForTuple(styles.borderBottomLeftRadius, bounds.width, bounds.height), blh = _d[0], blv = _d[1];
            var factors = [];
            factors.push((tlh + trh) / bounds.width);
            factors.push((blh + brh) / bounds.width);
            factors.push((tlv + blv) / bounds.height);
            factors.push((trv + brv) / bounds.height);
            var maxFactor = Math.max.apply(Math, factors);
            if (maxFactor > 1) {
                tlh /= maxFactor;
                tlv /= maxFactor;
                trh /= maxFactor;
                trv /= maxFactor;
                brh /= maxFactor;
                brv /= maxFactor;
                blh /= maxFactor;
                blv /= maxFactor;
            }
            var topWidth = bounds.width - trh;
            var rightHeight = bounds.height - brv;
            var bottomWidth = bounds.width - brh;
            var leftHeight = bounds.height - blv;
            var borderTopWidth = styles.borderTopWidth;
            var borderRightWidth = styles.borderRightWidth;
            var borderBottomWidth = styles.borderBottomWidth;
            var borderLeftWidth = styles.borderLeftWidth;
            var paddingTop = getAbsoluteValue(styles.paddingTop, element.bounds.width);
            var paddingRight = getAbsoluteValue(styles.paddingRight, element.bounds.width);
            var paddingBottom = getAbsoluteValue(styles.paddingBottom, element.bounds.width);
            var paddingLeft = getAbsoluteValue(styles.paddingLeft, element.bounds.width);
            this.topLeftBorderBox =
                tlh > 0 || tlv > 0
                    ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT)
                    : new Vector(bounds.left, bounds.top);
            this.topRightBorderBox =
                trh > 0 || trv > 0
                    ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT)
                    : new Vector(bounds.left + bounds.width, bounds.top);
            this.bottomRightBorderBox =
                brh > 0 || brv > 0
                    ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT)
                    : new Vector(bounds.left + bounds.width, bounds.top + bounds.height);
            this.bottomLeftBorderBox =
                blh > 0 || blv > 0
                    ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT)
                    : new Vector(bounds.left, bounds.top + bounds.height);
            this.topLeftPaddingBox =
                tlh > 0 || tlv > 0
                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + borderTopWidth, Math.max(0, tlh - borderLeftWidth), Math.max(0, tlv - borderTopWidth), CORNER.TOP_LEFT)
                    : new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth);
            this.topRightPaddingBox =
                trh > 0 || trv > 0
                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth), bounds.top + borderTopWidth, topWidth > bounds.width + borderLeftWidth ? 0 : trh - borderLeftWidth, trv - borderTopWidth, CORNER.TOP_RIGHT)
                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + borderTopWidth);
            this.bottomRightPaddingBox =
                brh > 0 || brv > 0
                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth), Math.max(0, brh - borderRightWidth), brv - borderBottomWidth, CORNER.BOTTOM_RIGHT)
                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + bounds.height - borderBottomWidth);
            this.bottomLeftPaddingBox =
                blh > 0 || blv > 0
                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + leftHeight, Math.max(0, blh - borderLeftWidth), blv - borderBottomWidth, CORNER.BOTTOM_LEFT)
                    : new Vector(bounds.left + borderLeftWidth, bounds.top + bounds.height - borderBottomWidth);
            this.topLeftContentBox =
                tlh > 0 || tlv > 0
                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop, Math.max(0, tlh - (borderLeftWidth + paddingLeft)), Math.max(0, tlv - (borderTopWidth + paddingTop)), CORNER.TOP_LEFT)
                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop);
            this.topRightContentBox =
                trh > 0 || trv > 0
                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft), bounds.top + borderTopWidth + paddingTop, topWidth > bounds.width + borderLeftWidth + paddingLeft ? 0 : trh - borderLeftWidth + paddingLeft, trv - (borderTopWidth + paddingTop), CORNER.TOP_RIGHT)
                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + borderTopWidth + paddingTop);
            this.bottomRightContentBox =
                brh > 0 || brv > 0
                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - (borderLeftWidth + paddingLeft)), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop), Math.max(0, brh - (borderRightWidth + paddingRight)), brv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_RIGHT)
                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + bounds.height - (borderBottomWidth + paddingBottom));
            this.bottomLeftContentBox =
                blh > 0 || blv > 0
                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + leftHeight, Math.max(0, blh - (borderLeftWidth + paddingLeft)), blv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_LEFT)
                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + bounds.height - (borderBottomWidth + paddingBottom));
        }
        return BoundCurves;
    }());
    var CORNER;
    (function (CORNER) {
        CORNER[CORNER["TOP_LEFT"] = 0] = "TOP_LEFT";
        CORNER[CORNER["TOP_RIGHT"] = 1] = "TOP_RIGHT";
        CORNER[CORNER["BOTTOM_RIGHT"] = 2] = "BOTTOM_RIGHT";
        CORNER[CORNER["BOTTOM_LEFT"] = 3] = "BOTTOM_LEFT";
    })(CORNER || (CORNER = {}));
    var getCurvePoints = function (x, y, r1, r2, position) {
        var kappa = 4 * ((Math.sqrt(2) - 1) / 3);
        var ox = r1 * kappa; // control point offset horizontal
        var oy = r2 * kappa; // control point offset vertical
        var xm = x + r1; // x-middle
        var ym = y + r2; // y-middle
        switch (position) {
            case CORNER.TOP_LEFT:
                return new BezierCurve(new Vector(x, ym), new Vector(x, ym - oy), new Vector(xm - ox, y), new Vector(xm, y));
            case CORNER.TOP_RIGHT:
                return new BezierCurve(new Vector(x, y), new Vector(x + ox, y), new Vector(xm, ym - oy), new Vector(xm, ym));
            case CORNER.BOTTOM_RIGHT:
                return new BezierCurve(new Vector(xm, y), new Vector(xm, y + oy), new Vector(x + ox, ym), new Vector(x, ym));
            case CORNER.BOTTOM_LEFT:
            default:
                return new BezierCurve(new Vector(xm, ym), new Vector(xm - ox, ym), new Vector(x, y + oy), new Vector(x, y));
        }
    };
    var calculateBorderBoxPath = function (curves) {
        return [curves.topLeftBorderBox, curves.topRightBorderBox, curves.bottomRightBorderBox, curves.bottomLeftBorderBox];
    };
    var calculateContentBoxPath = function (curves) {
        return [
            curves.topLeftContentBox,
            curves.topRightContentBox,
            curves.bottomRightContentBox,
            curves.bottomLeftContentBox
        ];
    };
    var calculatePaddingBoxPath = function (curves) {
        return [
            curves.topLeftPaddingBox,
            curves.topRightPaddingBox,
            curves.bottomRightPaddingBox,
            curves.bottomLeftPaddingBox
        ];
    };

    var TransformEffect = /** @class */ (function () {
        function TransformEffect(offsetX, offsetY, matrix) {
            this.type = 0 /* TRANSFORM */;
            this.offsetX = offsetX;
            this.offsetY = offsetY;
            this.matrix = matrix;
            this.target = 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */;
        }
        return TransformEffect;
    }());
    var ClipEffect = /** @class */ (function () {
        function ClipEffect(path, target) {
            this.type = 1 /* CLIP */;
            this.target = target;
            this.path = path;
        }
        return ClipEffect;
    }());
    var isTransformEffect = function (effect) {
        return effect.type === 0 /* TRANSFORM */;
    };
    var isClipEffect = function (effect) { return effect.type === 1 /* CLIP */; };

    var StackingContext = /** @class */ (function () {
        function StackingContext(container) {
            this.element = container;
            this.inlineLevel = [];
            this.nonInlineLevel = [];
            this.negativeZIndex = [];
            this.zeroOrAutoZIndexOrTransformedOrOpacity = [];
            this.positiveZIndex = [];
            this.nonPositionedFloats = [];
            this.nonPositionedInlineLevel = [];
        }
        return StackingContext;
    }());
    var ElementPaint = /** @class */ (function () {
        function ElementPaint(element, parentStack) {
            this.container = element;
            this.effects = parentStack.slice(0);
            this.curves = new BoundCurves(element);
            if (element.styles.transform !== null) {
                var offsetX = element.bounds.left + element.styles.transformOrigin[0].number;
                var offsetY = element.bounds.top + element.styles.transformOrigin[1].number;
                var matrix = element.styles.transform;
                this.effects.push(new TransformEffect(offsetX, offsetY, matrix));
            }
            if (element.styles.overflowX !== OVERFLOW.VISIBLE) {
                var borderBox = calculateBorderBoxPath(this.curves);
                var paddingBox = calculatePaddingBoxPath(this.curves);
                if (equalPath(borderBox, paddingBox)) {
                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));
                }
                else {
                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */));
                    this.effects.push(new ClipEffect(paddingBox, 4 /* CONTENT */));
                }
            }
        }
        ElementPaint.prototype.getParentEffects = function () {
            var effects = this.effects.slice(0);
            if (this.container.styles.overflowX !== OVERFLOW.VISIBLE) {
                var borderBox = calculateBorderBoxPath(this.curves);
                var paddingBox = calculatePaddingBoxPath(this.curves);
                if (!equalPath(borderBox, paddingBox)) {
                    effects.push(new ClipEffect(paddingBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));
                }
            }
            return effects;
        };
        return ElementPaint;
    }());
    var parseStackTree = function (parent, stackingContext, realStackingContext, listItems) {
        parent.container.elements.forEach(function (child) {
            var treatAsRealStackingContext = contains(child.flags, 4 /* CREATES_REAL_STACKING_CONTEXT */);
            var createsStackingContext = contains(child.flags, 2 /* CREATES_STACKING_CONTEXT */);
            var paintContainer = new ElementPaint(child, parent.getParentEffects());
            if (contains(child.styles.display, 2048 /* LIST_ITEM */)) {
                listItems.push(paintContainer);
            }
            var listOwnerItems = contains(child.flags, 8 /* IS_LIST_OWNER */) ? [] : listItems;
            if (treatAsRealStackingContext || createsStackingContext) {
                var parentStack = treatAsRealStackingContext || child.styles.isPositioned() ? realStackingContext : stackingContext;
                var stack = new StackingContext(paintContainer);
                if (child.styles.isPositioned() || child.styles.opacity < 1 || child.styles.isTransformed()) {
                    var order_1 = child.styles.zIndex.order;
                    if (order_1 < 0) {
                        var index_1 = 0;
                        parentStack.negativeZIndex.some(function (current, i) {
                            if (order_1 > current.element.container.styles.zIndex.order) {
                                index_1 = i;
                                return false;
                            }
                            else if (index_1 > 0) {
                                return true;
                            }
                            return false;
                        });
                        parentStack.negativeZIndex.splice(index_1, 0, stack);
                    }
                    else if (order_1 > 0) {
                        var index_2 = 0;
                        parentStack.positiveZIndex.some(function (current, i) {
                            if (order_1 > current.element.container.styles.zIndex.order) {
                                index_2 = i + 1;
                                return false;
                            }
                            else if (index_2 > 0) {
                                return true;
                            }
                            return false;
                        });
                        parentStack.positiveZIndex.splice(index_2, 0, stack);
                    }
                    else {
                        parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);
                    }
                }
                else {
                    if (child.styles.isFloating()) {
                        parentStack.nonPositionedFloats.push(stack);
                    }
                    else {
                        parentStack.nonPositionedInlineLevel.push(stack);
                    }
                }
                parseStackTree(paintContainer, stack, treatAsRealStackingContext ? stack : realStackingContext, listOwnerItems);
            }
            else {
                if (child.styles.isInlineLevel()) {
                    stackingContext.inlineLevel.push(paintContainer);
                }
                else {
                    stackingContext.nonInlineLevel.push(paintContainer);
                }
                parseStackTree(paintContainer, stackingContext, realStackingContext, listOwnerItems);
            }
            if (contains(child.flags, 8 /* IS_LIST_OWNER */)) {
                processListItems(child, listOwnerItems);
            }
        });
    };
    var processListItems = function (owner, elements) {
        var numbering = owner instanceof OLElementContainer ? owner.start : 1;
        var reversed = owner instanceof OLElementContainer ? owner.reversed : false;
        for (var i = 0; i < elements.length; i++) {
            var item = elements[i];
            if (item.container instanceof LIElementContainer &&
                typeof item.container.value === 'number' &&
                item.container.value !== 0) {
                numbering = item.container.value;
            }
            item.listValue = createCounterText(numbering, item.container.styles.listStyleType, true);
            numbering += reversed ? -1 : 1;
        }
    };
    var parseStackingContexts = function (container) {
        var paintContainer = new ElementPaint(container, []);
        var root = new StackingContext(paintContainer);
        var listItems = [];
        parseStackTree(paintContainer, root, root, listItems);
        processListItems(paintContainer.container, listItems);
        return root;
    };

    var parsePathForBorder = function (curves, borderSide) {
        switch (borderSide) {
            case 0:
                return createPathFromCurves(curves.topLeftBorderBox, curves.topLeftPaddingBox, curves.topRightBorderBox, curves.topRightPaddingBox);
            case 1:
                return createPathFromCurves(curves.topRightBorderBox, curves.topRightPaddingBox, curves.bottomRightBorderBox, curves.bottomRightPaddingBox);
            case 2:
                return createPathFromCurves(curves.bottomRightBorderBox, curves.bottomRightPaddingBox, curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox);
            case 3:
            default:
                return createPathFromCurves(curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox, curves.topLeftBorderBox, curves.topLeftPaddingBox);
        }
    };
    var createPathFromCurves = function (outer1, inner1, outer2, inner2) {
        var path = [];
        if (isBezierCurve(outer1)) {
            path.push(outer1.subdivide(0.5, false));
        }
        else {
            path.push(outer1);
        }
        if (isBezierCurve(outer2)) {
            path.push(outer2.subdivide(0.5, true));
        }
        else {
            path.push(outer2);
        }
        if (isBezierCurve(inner2)) {
            path.push(inner2.subdivide(0.5, true).reverse());
        }
        else {
            path.push(inner2);
        }
        if (isBezierCurve(inner1)) {
            path.push(inner1.subdivide(0.5, false).reverse());
        }
        else {
            path.push(inner1);
        }
        return path;
    };

    var paddingBox = function (element) {
        var bounds = element.bounds;
        var styles = element.styles;
        return bounds.add(styles.borderLeftWidth, styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth), -(styles.borderTopWidth + styles.borderBottomWidth));
    };
    var contentBox = function (element) {
        var styles = element.styles;
        var bounds = element.bounds;
        var paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width);
        var paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width);
        var paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width);
        var paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width);
        return bounds.add(paddingLeft + styles.borderLeftWidth, paddingTop + styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth + paddingLeft + paddingRight), -(styles.borderTopWidth + styles.borderBottomWidth + paddingTop + paddingBottom));
    };

    var calculateBackgroundPositioningArea = function (backgroundOrigin, element) {
        if (backgroundOrigin === 0 /* BORDER_BOX */) {
            return element.bounds;
        }
        if (backgroundOrigin === 2 /* CONTENT_BOX */) {
            return contentBox(element);
        }
        return paddingBox(element);
    };
    var calculateBackgroundPaintingArea = function (backgroundClip, element) {
        if (backgroundClip === BACKGROUND_CLIP.BORDER_BOX) {
            return element.bounds;
        }
        if (backgroundClip === BACKGROUND_CLIP.CONTENT_BOX) {
            return contentBox(element);
        }
        return paddingBox(element);
    };
    var calculateBackgroundRendering = function (container, index, intrinsicSize) {
        var backgroundPositioningArea = calculateBackgroundPositioningArea(getBackgroundValueForIndex(container.styles.backgroundOrigin, index), container);
        var backgroundPaintingArea = calculateBackgroundPaintingArea(getBackgroundValueForIndex(container.styles.backgroundClip, index), container);
        var backgroundImageSize = calculateBackgroundSize(getBackgroundValueForIndex(container.styles.backgroundSize, index), intrinsicSize, backgroundPositioningArea);
        var sizeWidth = backgroundImageSize[0], sizeHeight = backgroundImageSize[1];
        var position = getAbsoluteValueForTuple(getBackgroundValueForIndex(container.styles.backgroundPosition, index), backgroundPositioningArea.width - sizeWidth, backgroundPositioningArea.height - sizeHeight);
        var path = calculateBackgroundRepeatPath(getBackgroundValueForIndex(container.styles.backgroundRepeat, index), position, backgroundImageSize, backgroundPositioningArea, backgroundPaintingArea);
        var offsetX = Math.round(backgroundPositioningArea.left + position[0]);
        var offsetY = Math.round(backgroundPositioningArea.top + position[1]);
        return [path, offsetX, offsetY, sizeWidth, sizeHeight];
    };
    var isAuto = function (token) { return isIdentToken(token) && token.value === BACKGROUND_SIZE.AUTO; };
    var hasIntrinsicValue = function (value) { return typeof value === 'number'; };
    var calculateBackgroundSize = function (size, _a, bounds) {
        var intrinsicWidth = _a[0], intrinsicHeight = _a[1], intrinsicProportion = _a[2];
        var first = size[0], second = size[1];
        if (isLengthPercentage(first) && second && isLengthPercentage(second)) {
            return [getAbsoluteValue(first, bounds.width), getAbsoluteValue(second, bounds.height)];
        }
        var hasIntrinsicProportion = hasIntrinsicValue(intrinsicProportion);
        if (isIdentToken(first) && (first.value === BACKGROUND_SIZE.CONTAIN || first.value === BACKGROUND_SIZE.COVER)) {
            if (hasIntrinsicValue(intrinsicProportion)) {
                var targetRatio = bounds.width / bounds.height;
                return targetRatio < intrinsicProportion !== (first.value === BACKGROUND_SIZE.COVER)
                    ? [bounds.width, bounds.width / intrinsicProportion]
                    : [bounds.height * intrinsicProportion, bounds.height];
            }
            return [bounds.width, bounds.height];
        }
        var hasIntrinsicWidth = hasIntrinsicValue(intrinsicWidth);
        var hasIntrinsicHeight = hasIntrinsicValue(intrinsicHeight);
        var hasIntrinsicDimensions = hasIntrinsicWidth || hasIntrinsicHeight;
        // If the background-size is auto or auto auto:
        if (isAuto(first) && (!second || isAuto(second))) {
            // If the image has both horizontal and vertical intrinsic dimensions, it's rendered at that size.
            if (hasIntrinsicWidth && hasIntrinsicHeight) {
                return [intrinsicWidth, intrinsicHeight];
            }
            // If the image has no intrinsic dimensions and has no intrinsic proportions,
            // it's rendered at the size of the background positioning area.
            if (!hasIntrinsicProportion && !hasIntrinsicDimensions) {
                return [bounds.width, bounds.height];
            }
            // TODO If the image has no intrinsic dimensions but has intrinsic proportions, it's rendered as if contain had been specified instead.
            // If the image has only one intrinsic dimension and has intrinsic proportions, it's rendered at the size corresponding to that one dimension.
            // The other dimension is computed using the specified dimension and the intrinsic proportions.
            if (hasIntrinsicDimensions && hasIntrinsicProportion) {
                var width_1 = hasIntrinsicWidth
                    ? intrinsicWidth
                    : intrinsicHeight * intrinsicProportion;
                var height_1 = hasIntrinsicHeight
                    ? intrinsicHeight
                    : intrinsicWidth / intrinsicProportion;
                return [width_1, height_1];
            }
            // If the image has only one intrinsic dimension but has no intrinsic proportions,
            // it's rendered using the specified dimension and the other dimension of the background positioning area.
            var width_2 = hasIntrinsicWidth ? intrinsicWidth : bounds.width;
            var height_2 = hasIntrinsicHeight ? intrinsicHeight : bounds.height;
            return [width_2, height_2];
        }
        // If the image has intrinsic proportions, it's stretched to the specified dimension.
        // The unspecified dimension is computed using the specified dimension and the intrinsic proportions.
        if (hasIntrinsicProportion) {
            var width_3 = 0;
            var height_3 = 0;
            if (isLengthPercentage(first)) {
                width_3 = getAbsoluteValue(first, bounds.width);
            }
            else if (isLengthPercentage(second)) {
                height_3 = getAbsoluteValue(second, bounds.height);
            }
            if (isAuto(first)) {
                width_3 = height_3 * intrinsicProportion;
            }
            else if (!second || isAuto(second)) {
                height_3 = width_3 / intrinsicProportion;
            }
            return [width_3, height_3];
        }
        // If the image has no intrinsic proportions, it's stretched to the specified dimension.
        // The unspecified dimension is computed using the image's corresponding intrinsic dimension,
        // if there is one. If there is no such intrinsic dimension,
        // it becomes the corresponding dimension of the background positioning area.
        var width = null;
        var height = null;
        if (isLengthPercentage(first)) {
            width = getAbsoluteValue(first, bounds.width);
        }
        else if (second && isLengthPercentage(second)) {
            height = getAbsoluteValue(second, bounds.height);
        }
        if (width !== null && (!second || isAuto(second))) {
            height =
                hasIntrinsicWidth && hasIntrinsicHeight
                    ? (width / intrinsicWidth) * intrinsicHeight
                    : bounds.height;
        }
        if (height !== null && isAuto(first)) {
            width =
                hasIntrinsicWidth && hasIntrinsicHeight
                    ? (height / intrinsicHeight) * intrinsicWidth
                    : bounds.width;
        }
        if (width !== null && height !== null) {
            return [width, height];
        }
        throw new Error("Unable to calculate background-size for element");
    };
    var getBackgroundValueForIndex = function (values, index) {
        var value = values[index];
        if (typeof value === 'undefined') {
            return values[0];
        }
        return value;
    };
    var calculateBackgroundRepeatPath = function (repeat, _a, _b, backgroundPositioningArea, backgroundPaintingArea) {
        var x = _a[0], y = _a[1];
        var width = _b[0], height = _b[1];
        switch (repeat) {
            case BACKGROUND_REPEAT.REPEAT_X:
                return [
                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(backgroundPositioningArea.top + y)),
                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(backgroundPositioningArea.top + y)),
                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(height + backgroundPositioningArea.top + y)),
                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(height + backgroundPositioningArea.top + y))
                ];
            case BACKGROUND_REPEAT.REPEAT_Y:
                return [
                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top)),
                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top)),
                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)),
                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top))
                ];
            case BACKGROUND_REPEAT.NO_REPEAT:
                return [
                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y)),
                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y)),
                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y + height)),
                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y + height))
                ];
            default:
                return [
                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.top)),
                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.top)),
                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)),
                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top))
                ];
        }
    };

    var SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';

    var SAMPLE_TEXT = 'Hidden Text';
    var FontMetrics = /** @class */ (function () {
        function FontMetrics(document) {
            this._data = {};
            this._document = document;
        }
        FontMetrics.prototype.parseMetrics = function (fontFamily, fontSize) {
            var container = this._document.createElement('div');
            var img = this._document.createElement('img');
            var span = this._document.createElement('span');
            var body = this._document.body;
            container.style.visibility = 'hidden';
            container.style.fontFamily = fontFamily;
            container.style.fontSize = fontSize;
            container.style.margin = '0';
            container.style.padding = '0';
            body.appendChild(container);
            img.src = SMALL_IMAGE;
            img.width = 1;
            img.height = 1;
            img.style.margin = '0';
            img.style.padding = '0';
            img.style.verticalAlign = 'baseline';
            span.style.fontFamily = fontFamily;
            span.style.fontSize = fontSize;
            span.style.margin = '0';
            span.style.padding = '0';
            span.appendChild(this._document.createTextNode(SAMPLE_TEXT));
            container.appendChild(span);
            container.appendChild(img);
            var baseline = img.offsetTop - span.offsetTop + 2;
            container.removeChild(span);
            container.appendChild(this._document.createTextNode(SAMPLE_TEXT));
            container.style.lineHeight = 'normal';
            img.style.verticalAlign = 'super';
            var middle = img.offsetTop - container.offsetTop + 2;
            body.removeChild(container);
            return { baseline: baseline, middle: middle };
        };
        FontMetrics.prototype.getMetrics = function (fontFamily, fontSize) {
            var key = fontFamily + " " + fontSize;
            if (typeof this._data[key] === 'undefined') {
                this._data[key] = this.parseMetrics(fontFamily, fontSize);
            }
            return this._data[key];
        };
        return FontMetrics;
    }());

    var MASK_OFFSET = 10000;
    var CanvasRenderer = /** @class */ (function () {
        function CanvasRenderer(options) {
            this._activeEffects = [];
            this.canvas = options.canvas ? options.canvas : document.createElement('canvas');
            this.ctx = this.canvas.getContext('2d');
            this.options = options;
            if (!options.canvas) {
                this.canvas.width = Math.floor(options.width * options.scale);
                this.canvas.height = Math.floor(options.height * options.scale);
                this.canvas.style.width = options.width + "px";
                this.canvas.style.height = options.height + "px";
            }
            this.fontMetrics = new FontMetrics(document);
            this.ctx.scale(this.options.scale, this.options.scale);
            this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);
            this.ctx.textBaseline = 'bottom';
            this._activeEffects = [];
            Logger.getInstance(options.id).debug("Canvas renderer initialized (" + options.width + "x" + options.height + " at " + options.x + "," + options.y + ") with scale " + options.scale);
        }
        CanvasRenderer.prototype.applyEffects = function (effects, target) {
            var _this = this;
            while (this._activeEffects.length) {
                this.popEffect();
            }
            effects.filter(function (effect) { return contains(effect.target, target); }).forEach(function (effect) { return _this.applyEffect(effect); });
        };
        CanvasRenderer.prototype.applyEffect = function (effect) {
            this.ctx.save();
            if (isTransformEffect(effect)) {
                this.ctx.translate(effect.offsetX, effect.offsetY);
                this.ctx.transform(effect.matrix[0], effect.matrix[1], effect.matrix[2], effect.matrix[3], effect.matrix[4], effect.matrix[5]);
                this.ctx.translate(-effect.offsetX, -effect.offsetY);
            }
            if (isClipEffect(effect)) {
                this.path(effect.path);
                this.ctx.clip();
            }
            this._activeEffects.push(effect);
        };
        CanvasRenderer.prototype.popEffect = function () {
            this._activeEffects.pop();
            this.ctx.restore();
        };
        CanvasRenderer.prototype.renderStack = function (stack) {
            return __awaiter(this, void 0, void 0, function () {
                var styles;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            styles = stack.element.container.styles;
                            if (!styles.isVisible()) return [3 /*break*/, 2];
                            this.ctx.globalAlpha = styles.opacity;
                            return [4 /*yield*/, this.renderStackContent(stack)];
                        case 1:
                            _a.sent();
                            _a.label = 2;
                        case 2: return [2 /*return*/];
                    }
                });
            });
        };
        CanvasRenderer.prototype.renderNode = function (paint) {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            if (!paint.container.styles.isVisible()) return [3 /*break*/, 3];
                            return [4 /*yield*/, this.renderNodeBackgroundAndBorders(paint)];
                        case 1:
                            _a.sent();
                            return [4 /*yield*/, this.renderNodeContent(paint)];
                        case 2:
                            _a.sent();
                            _a.label = 3;
                        case 3: return [2 /*return*/];
                    }
                });
            });
        };
        CanvasRenderer.prototype.renderTextWithLetterSpacing = function (text, letterSpacing) {
            var _this = this;
            if (letterSpacing === 0) {
                this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);
            }
            else {
                var letters = toCodePoints(text.text).map(function (i) { return fromCodePoint(i); });
                letters.reduce(function (left, letter) {
                    _this.ctx.fillText(letter, left, text.bounds.top + text.bounds.height);
                    return left + _this.ctx.measureText(letter).width;
                }, text.bounds.left);
            }
        };
        CanvasRenderer.prototype.createFontStyle = function (styles) {
            var fontVariant = styles.fontVariant
                .filter(function (variant) { return variant === 'normal' || variant === 'small-caps'; })
                .join('');
            var fontFamily = styles.fontFamily.join(', ');
            var fontSize = isDimensionToken(styles.fontSize)
                ? "" + styles.fontSize.number + styles.fontSize.unit
                : styles.fontSize.number + "px";
            return [
                [styles.fontStyle, fontVariant, styles.fontWeight, fontSize, fontFamily].join(' '),
                fontFamily,
                fontSize
            ];
        };
        CanvasRenderer.prototype.renderTextNode = function (text, styles) {
            return __awaiter(this, void 0, void 0, function () {
                var _a, font, fontFamily, fontSize;
                var _this = this;
                return __generator(this, function (_b) {
                    _a = this.createFontStyle(styles), font = _a[0], fontFamily = _a[1], fontSize = _a[2];
                    this.ctx.font = font;
                    text.textBounds.forEach(function (text) {
                        _this.ctx.fillStyle = asString(styles.color);
                        _this.renderTextWithLetterSpacing(text, styles.letterSpacing);
                        var textShadows = styles.textShadow;
                        if (textShadows.length && text.text.trim().length) {
                            textShadows
                                .slice(0)
                                .reverse()
                                .forEach(function (textShadow) {
                                _this.ctx.shadowColor = asString(textShadow.color);
                                _this.ctx.shadowOffsetX = textShadow.offsetX.number * _this.options.scale;
                                _this.ctx.shadowOffsetY = textShadow.offsetY.number * _this.options.scale;
                                _this.ctx.shadowBlur = textShadow.blur.number;
                                _this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);
                            });
                            _this.ctx.shadowColor = '';
                            _this.ctx.shadowOffsetX = 0;
                            _this.ctx.shadowOffsetY = 0;
                            _this.ctx.shadowBlur = 0;
                        }
                        if (styles.textDecorationLine.length) {
                            _this.ctx.fillStyle = asString(styles.textDecorationColor || styles.color);
                            styles.textDecorationLine.forEach(function (textDecorationLine) {
                                switch (textDecorationLine) {
                                    case 1 /* UNDERLINE */:
                                        // Draws a line at the baseline of the font
                                        // TODO As some browsers display the line as more than 1px if the font-size is big,
                                        // need to take that into account both in position and size
                                        var baseline = _this.fontMetrics.getMetrics(fontFamily, fontSize).baseline;
                                        _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1);
                                        break;
                                    case 2 /* OVERLINE */:
                                        _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1);
                                        break;
                                    case 3 /* LINE_THROUGH */:
                                        // TODO try and find exact position for line-through
                                        var middle = _this.fontMetrics.getMetrics(fontFamily, fontSize).middle;
                                        _this.ctx.fillRect(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1);
                                        break;
                                }
                            });
                        }
                    });
                    return [2 /*return*/];
                });
            });
        };
        CanvasRenderer.prototype.renderReplacedElement = function (container, curves, image) {
            if (image && container.intrinsicWidth > 0 && container.intrinsicHeight > 0) {
                var box = contentBox(container);
                var path = calculatePaddingBoxPath(curves);
                this.path(path);
                this.ctx.save();
                this.ctx.clip();
                this.ctx.drawImage(image, 0, 0, container.intrinsicWidth, container.intrinsicHeight, box.left, box.top, box.width, box.height);
                this.ctx.restore();
            }
        };
        CanvasRenderer.prototype.renderNodeContent = function (paint) {
            return __awaiter(this, void 0, void 0, function () {
                var container, curves, styles, _i, _a, child, image, e_1, image, e_2, iframeRenderer, canvas, size, bounds, x, textBounds, img, image, url, e_3, bounds;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            this.applyEffects(paint.effects, 4 /* CONTENT */);
                            container = paint.container;
                            curves = paint.curves;
                            styles = container.styles;
                            _i = 0, _a = container.textNodes;
                            _b.label = 1;
                        case 1:
                            if (!(_i < _a.length)) return [3 /*break*/, 4];
                            child = _a[_i];
                            return [4 /*yield*/, this.renderTextNode(child, styles)];
                        case 2:
                            _b.sent();
                            _b.label = 3;
                        case 3:
                            _i++;
                            return [3 /*break*/, 1];
                        case 4:
                            if (!(container instanceof ImageElementContainer)) return [3 /*break*/, 8];
                            _b.label = 5;
                        case 5:
                            _b.trys.push([5, 7, , 8]);
                            return [4 /*yield*/, this.options.cache.match(container.src)];
                        case 6:
                            image = _b.sent();
                            this.renderReplacedElement(container, curves, image);
                            return [3 /*break*/, 8];
                        case 7:
                            e_1 = _b.sent();
                            Logger.getInstance(this.options.id).error("Error loading image " + container.src);
                            return [3 /*break*/, 8];
                        case 8:
                            if (container instanceof CanvasElementContainer) {
                                this.renderReplacedElement(container, curves, container.canvas);
                            }
                            if (!(container instanceof SVGElementContainer)) return [3 /*break*/, 12];
                            _b.label = 9;
                        case 9:
                            _b.trys.push([9, 11, , 12]);
                            return [4 /*yield*/, this.options.cache.match(container.svg)];
                        case 10:
                            image = _b.sent();
                            this.renderReplacedElement(container, curves, image);
                            return [3 /*break*/, 12];
                        case 11:
                            e_2 = _b.sent();
                            Logger.getInstance(this.options.id).error("Error loading svg " + container.svg.substring(0, 255));
                            return [3 /*break*/, 12];
                        case 12:
                            if (!(container instanceof IFrameElementContainer && container.tree)) return [3 /*break*/, 14];
                            iframeRenderer = new CanvasRenderer({
                                id: this.options.id,
                                scale: this.options.scale,
                                backgroundColor: container.backgroundColor,
                                x: 0,
                                y: 0,
                                scrollX: 0,
                                scrollY: 0,
                                width: container.width,
                                height: container.height,
                                cache: this.options.cache,
                                windowWidth: container.width,
                                windowHeight: container.height
                            });
                            return [4 /*yield*/, iframeRenderer.render(container.tree)];
                        case 13:
                            canvas = _b.sent();
                            if (container.width && container.height) {
                                this.ctx.drawImage(canvas, 0, 0, container.width, container.height, container.bounds.left, container.bounds.top, container.bounds.width, container.bounds.height);
                            }
                            _b.label = 14;
                        case 14:
                            if (container instanceof InputElementContainer) {
                                size = Math.min(container.bounds.width, container.bounds.height);
                                if (container.type === CHECKBOX) {
                                    if (container.checked) {
                                        this.ctx.save();
                                        this.path([
                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79),
                                            new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549),
                                            new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071),
                                            new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649),
                                            new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23),
                                            new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085),
                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)
                                        ]);
                                        this.ctx.fillStyle = asString(INPUT_COLOR);
                                        this.ctx.fill();
                                        this.ctx.restore();
                                    }
                                }
                                else if (container.type === RADIO) {
                                    if (container.checked) {
                                        this.ctx.save();
                                        this.ctx.beginPath();
                                        this.ctx.arc(container.bounds.left + size / 2, container.bounds.top + size / 2, size / 4, 0, Math.PI * 2, true);
                                        this.ctx.fillStyle = asString(INPUT_COLOR);
                                        this.ctx.fill();
                                        this.ctx.restore();
                                    }
                                }
                            }
                            if (isTextInputElement(container) && container.value.length) {
                                this.ctx.font = this.createFontStyle(styles)[0];
                                this.ctx.fillStyle = asString(styles.color);
                                this.ctx.textBaseline = 'middle';
                                this.ctx.textAlign = canvasTextAlign(container.styles.textAlign);
                                bounds = contentBox(container);
                                x = 0;
                                switch (container.styles.textAlign) {
                                    case TEXT_ALIGN.CENTER:
                                        x += bounds.width / 2;
                                        break;
                                    case TEXT_ALIGN.RIGHT:
                                        x += bounds.width;
                                        break;
                                }
                                textBounds = bounds.add(x, 0, 0, -bounds.height / 2 + 1);
                                this.ctx.save();
                                this.path([
                                    new Vector(bounds.left, bounds.top),
                                    new Vector(bounds.left + bounds.width, bounds.top),
                                    new Vector(bounds.left + bounds.width, bounds.top + bounds.height),
                                    new Vector(bounds.left, bounds.top + bounds.height)
                                ]);
                                this.ctx.clip();
                                this.renderTextWithLetterSpacing(new TextBounds(container.value, textBounds), styles.letterSpacing);
                                this.ctx.restore();
                                this.ctx.textBaseline = 'bottom';
                                this.ctx.textAlign = 'left';
                            }
                            if (!contains(container.styles.display, 2048 /* LIST_ITEM */)) return [3 /*break*/, 20];
                            if (!(container.styles.listStyleImage !== null)) return [3 /*break*/, 19];
                            img = container.styles.listStyleImage;
                            if (!(img.type === CSSImageType.URL)) return [3 /*break*/, 18];
                            image = void 0;
                            url = img.url;
                            _b.label = 15;
                        case 15:
                            _b.trys.push([15, 17, , 18]);
                            return [4 /*yield*/, this.options.cache.match(url)];
                        case 16:
                            image = _b.sent();
                            this.ctx.drawImage(image, container.bounds.left - (image.width + 10), container.bounds.top);
                            return [3 /*break*/, 18];
                        case 17:
                            e_3 = _b.sent();
                            Logger.getInstance(this.options.id).error("Error loading list-style-image " + url);
                            return [3 /*break*/, 18];
                        case 18: return [3 /*break*/, 20];
                        case 19:
                            if (paint.listValue && container.styles.listStyleType !== LIST_STYLE_TYPE.NONE) {
                                this.ctx.font = this.createFontStyle(styles)[0];
                                this.ctx.fillStyle = asString(styles.color);
                                this.ctx.textBaseline = 'middle';
                                this.ctx.textAlign = 'right';
                                bounds = new Bounds(container.bounds.left, container.bounds.top + getAbsoluteValue(container.styles.paddingTop, container.bounds.width), container.bounds.width, computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 1);
                                this.renderTextWithLetterSpacing(new TextBounds(paint.listValue, bounds), styles.letterSpacing);
                                this.ctx.textBaseline = 'bottom';
                                this.ctx.textAlign = 'left';
                            }
                            _b.label = 20;
                        case 20: return [2 /*return*/];
                    }
                });
            });
        };
        CanvasRenderer.prototype.renderStackContent = function (stack) {
            return __awaiter(this, void 0, void 0, function () {
                var _i, _a, child, _b, _c, child, _d, _e, child, _f, _g, child, _h, _j, child, _k, _l, child, _m, _o, child;
                return __generator(this, function (_p) {
                    switch (_p.label) {
                        case 0: 
                        // https://www.w3.org/TR/css-position-3/#painting-order
                        // 1. the background and borders of the element forming the stacking context.
                        return [4 /*yield*/, this.renderNodeBackgroundAndBorders(stack.element)];
                        case 1:
                            // https://www.w3.org/TR/css-position-3/#painting-order
                            // 1. the background and borders of the element forming the stacking context.
                            _p.sent();
                            _i = 0, _a = stack.negativeZIndex;
                            _p.label = 2;
                        case 2:
                            if (!(_i < _a.length)) return [3 /*break*/, 5];
                            child = _a[_i];
                            return [4 /*yield*/, this.renderStack(child)];
                        case 3:
                            _p.sent();
                            _p.label = 4;
                        case 4:
                            _i++;
                            return [3 /*break*/, 2];
                        case 5: 
                        // 3. For all its in-flow, non-positioned, block-level descendants in tree order:
                        return [4 /*yield*/, this.renderNodeContent(stack.element)];
                        case 6:
                            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:
                            _p.sent();
                            _b = 0, _c = stack.nonInlineLevel;
                            _p.label = 7;
                        case 7:
                            if (!(_b < _c.length)) return [3 /*break*/, 10];
                            child = _c[_b];
                            return [4 /*yield*/, this.renderNode(child)];
                        case 8:
                            _p.sent();
                            _p.label = 9;
                        case 9:
                            _b++;
                            return [3 /*break*/, 7];
                        case 10:
                            _d = 0, _e = stack.nonPositionedFloats;
                            _p.label = 11;
                        case 11:
                            if (!(_d < _e.length)) return [3 /*break*/, 14];
                            child = _e[_d];
                            return [4 /*yield*/, this.renderStack(child)];
                        case 12:
                            _p.sent();
                            _p.label = 13;
                        case 13:
                            _d++;
                            return [3 /*break*/, 11];
                        case 14:
                            _f = 0, _g = stack.nonPositionedInlineLevel;
                            _p.label = 15;
                        case 15:
                            if (!(_f < _g.length)) return [3 /*break*/, 18];
                            child = _g[_f];
                            return [4 /*yield*/, this.renderStack(child)];
                        case 16:
                            _p.sent();
                            _p.label = 17;
                        case 17:
                            _f++;
                            return [3 /*break*/, 15];
                        case 18:
                            _h = 0, _j = stack.inlineLevel;
                            _p.label = 19;
                        case 19:
                            if (!(_h < _j.length)) return [3 /*break*/, 22];
                            child = _j[_h];
                            return [4 /*yield*/, this.renderNode(child)];
                        case 20:
                            _p.sent();
                            _p.label = 21;
                        case 21:
                            _h++;
                            return [3 /*break*/, 19];
                        case 22:
                            _k = 0, _l = stack.zeroOrAutoZIndexOrTransformedOrOpacity;
                            _p.label = 23;
                        case 23:
                            if (!(_k < _l.length)) return [3 /*break*/, 26];
                            child = _l[_k];
                            return [4 /*yield*/, this.renderStack(child)];
                        case 24:
                            _p.sent();
                            _p.label = 25;
                        case 25:
                            _k++;
                            return [3 /*break*/, 23];
                        case 26:
                            _m = 0, _o = stack.positiveZIndex;
                            _p.label = 27;
                        case 27:
                            if (!(_m < _o.length)) return [3 /*break*/, 30];
                            child = _o[_m];
                            return [4 /*yield*/, this.renderStack(child)];
                        case 28:
                            _p.sent();
                            _p.label = 29;
                        case 29:
                            _m++;
                            return [3 /*break*/, 27];
                        case 30: return [2 /*return*/];
                    }
                });
            });
        };
        CanvasRenderer.prototype.mask = function (paths) {
            this.ctx.beginPath();
            this.ctx.moveTo(0, 0);
            this.ctx.lineTo(this.canvas.width, 0);
            this.ctx.lineTo(this.canvas.width, this.canvas.height);
            this.ctx.lineTo(0, this.canvas.height);
            this.ctx.lineTo(0, 0);
            this.formatPath(paths.slice(0).reverse());
            this.ctx.closePath();
        };
        CanvasRenderer.prototype.path = function (paths) {
            this.ctx.beginPath();
            this.formatPath(paths);
            this.ctx.closePath();
        };
        CanvasRenderer.prototype.formatPath = function (paths) {
            var _this = this;
            paths.forEach(function (point, index) {
                var start = isBezierCurve(point) ? point.start : point;
                if (index === 0) {
                    _this.ctx.moveTo(start.x, start.y);
                }
                else {
                    _this.ctx.lineTo(start.x, start.y);
                }
                if (isBezierCurve(point)) {
                    _this.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);
                }
            });
        };
        CanvasRenderer.prototype.renderRepeat = function (path, pattern, offsetX, offsetY) {
            this.path(path);
            this.ctx.fillStyle = pattern;
            this.ctx.translate(offsetX, offsetY);
            this.ctx.fill();
            this.ctx.translate(-offsetX, -offsetY);
        };
        CanvasRenderer.prototype.resizeImage = function (image, width, height) {
            if (image.width === width && image.height === height) {
                return image;
            }
            var canvas = this.canvas.ownerDocument.createElement('canvas');
            canvas.width = width;
            canvas.height = height;
            var ctx = canvas.getContext('2d');
            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, width, height);
            return canvas;
        };
        CanvasRenderer.prototype.renderBackgroundImage = function (container) {
            return __awaiter(this, void 0, void 0, function () {
                var index, _loop_1, this_1, _i, _a, backgroundImage;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            index = container.styles.backgroundImage.length - 1;
                            _loop_1 = function (backgroundImage) {
                                var image, url, e_4, _a, path, x, y, width, height, pattern, _b, path, x, y, width, height, _c, lineLength, x0, x1, y0, y1, canvas, ctx, gradient_1, pattern, _d, path, left, top_1, width, height, position, x, y, _e, rx, ry, radialGradient_1, midX, midY, f, invF;
                                return __generator(this, function (_f) {
                                    switch (_f.label) {
                                        case 0:
                                            if (!(backgroundImage.type === CSSImageType.URL)) return [3 /*break*/, 5];
                                            image = void 0;
                                            url = backgroundImage.url;
                                            _f.label = 1;
                                        case 1:
                                            _f.trys.push([1, 3, , 4]);
                                            return [4 /*yield*/, this_1.options.cache.match(url)];
                                        case 2:
                                            image = _f.sent();
                                            return [3 /*break*/, 4];
                                        case 3:
                                            e_4 = _f.sent();
                                            Logger.getInstance(this_1.options.id).error("Error loading background-image " + url);
                                            return [3 /*break*/, 4];
                                        case 4:
                                            if (image) {
                                                _a = calculateBackgroundRendering(container, index, [
                                                    image.width,
                                                    image.height,
                                                    image.width / image.height
                                                ]), path = _a[0], x = _a[1], y = _a[2], width = _a[3], height = _a[4];
                                                pattern = this_1.ctx.createPattern(this_1.resizeImage(image, width, height), 'repeat');
                                                this_1.renderRepeat(path, pattern, x, y);
                                            }
                                            return [3 /*break*/, 6];
                                        case 5:
                                            if (isLinearGradient(backgroundImage)) {
                                                _b = calculateBackgroundRendering(container, index, [null, null, null]), path = _b[0], x = _b[1], y = _b[2], width = _b[3], height = _b[4];
                                                _c = calculateGradientDirection(backgroundImage.angle, width, height), lineLength = _c[0], x0 = _c[1], x1 = _c[2], y0 = _c[3], y1 = _c[4];
                                                canvas = document.createElement('canvas');
                                                canvas.width = width;
                                                canvas.height = height;
                                                ctx = canvas.getContext('2d');
                                                gradient_1 = ctx.createLinearGradient(x0, y0, x1, y1);
                                                processColorStops(backgroundImage.stops, lineLength).forEach(function (colorStop) {
                                                    return gradient_1.addColorStop(colorStop.stop, asString(colorStop.color));
                                                });
                                                ctx.fillStyle = gradient_1;
                                                ctx.fillRect(0, 0, width, height);
                                                if (width > 0 && height > 0) {
                                                    pattern = this_1.ctx.createPattern(canvas, 'repeat');
                                                    this_1.renderRepeat(path, pattern, x, y);
                                                }
                                            }
                                            else if (isRadialGradient(backgroundImage)) {
                                                _d = calculateBackgroundRendering(container, index, [
                                                    null,
                                                    null,
                                                    null
                                                ]), path = _d[0], left = _d[1], top_1 = _d[2], width = _d[3], height = _d[4];
                                                position = backgroundImage.position.length === 0 ? [FIFTY_PERCENT] : backgroundImage.position;
                                                x = getAbsoluteValue(position[0], width);
                                                y = getAbsoluteValue(position[position.length - 1], height);
                                                _e = calculateRadius(backgroundImage, x, y, width, height), rx = _e[0], ry = _e[1];
                                                if (rx > 0 && rx > 0) {
                                                    radialGradient_1 = this_1.ctx.createRadialGradient(left + x, top_1 + y, 0, left + x, top_1 + y, rx);
                                                    processColorStops(backgroundImage.stops, rx * 2).forEach(function (colorStop) {
                                                        return radialGradient_1.addColorStop(colorStop.stop, asString(colorStop.color));
                                                    });
                                                    this_1.path(path);
                                                    this_1.ctx.fillStyle = radialGradient_1;
                                                    if (rx !== ry) {
                                                        midX = container.bounds.left + 0.5 * container.bounds.width;
                                                        midY = container.bounds.top + 0.5 * container.bounds.height;
                                                        f = ry / rx;
                                                        invF = 1 / f;
                                                        this_1.ctx.save();
                                                        this_1.ctx.translate(midX, midY);
                                                        this_1.ctx.transform(1, 0, 0, f, 0, 0);
                                                        this_1.ctx.translate(-midX, -midY);
                                                        this_1.ctx.fillRect(left, invF * (top_1 - midY) + midY, width, height * invF);
                                                        this_1.ctx.restore();
                                                    }
                                                    else {
                                                        this_1.ctx.fill();
                                                    }
                                                }
                                            }
                                            _f.label = 6;
                                        case 6:
                                            index--;
                                            return [2 /*return*/];
                                    }
                                });
                            };
                            this_1 = this;
                            _i = 0, _a = container.styles.backgroundImage.slice(0).reverse();
                            _b.label = 1;
                        case 1:
                            if (!(_i < _a.length)) return [3 /*break*/, 4];
                            backgroundImage = _a[_i];
                            return [5 /*yield**/, _loop_1(backgroundImage)];
                        case 2:
                            _b.sent();
                            _b.label = 3;
                        case 3:
                            _i++;
                            return [3 /*break*/, 1];
                        case 4: return [2 /*return*/];
                    }
                });
            });
        };
        CanvasRenderer.prototype.renderBorder = function (color, side, curvePoints) {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.path(parsePathForBorder(curvePoints, side));
                    this.ctx.fillStyle = asString(color);
                    this.ctx.fill();
                    return [2 /*return*/];
                });
            });
        };
        CanvasRenderer.prototype.renderNodeBackgroundAndBorders = function (paint) {
            return __awaiter(this, void 0, void 0, function () {
                var styles, hasBackground, borders, backgroundPaintingArea, side, _i, borders_1, border;
                var _this = this;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            this.applyEffects(paint.effects, 2 /* BACKGROUND_BORDERS */);
                            styles = paint.container.styles;
                            hasBackground = !isTransparent(styles.backgroundColor) || styles.backgroundImage.length;
                            borders = [
                                { style: styles.borderTopStyle, color: styles.borderTopColor },
                                { style: styles.borderRightStyle, color: styles.borderRightColor },
                                { style: styles.borderBottomStyle, color: styles.borderBottomColor },
                                { style: styles.borderLeftStyle, color: styles.borderLeftColor }
                            ];
                            backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(styles.backgroundClip, 0), paint.curves);
                            if (!(hasBackground || styles.boxShadow.length)) return [3 /*break*/, 2];
                            this.ctx.save();
                            this.path(backgroundPaintingArea);
                            this.ctx.clip();
                            if (!isTransparent(styles.backgroundColor)) {
                                this.ctx.fillStyle = asString(styles.backgroundColor);
                                this.ctx.fill();
                            }
                            return [4 /*yield*/, this.renderBackgroundImage(paint.container)];
                        case 1:
                            _a.sent();
                            this.ctx.restore();
                            styles.boxShadow
                                .slice(0)
                                .reverse()
                                .forEach(function (shadow) {
                                _this.ctx.save();
                                var borderBoxArea = calculateBorderBoxPath(paint.curves);
                                var maskOffset = shadow.inset ? 0 : MASK_OFFSET;
                                var shadowPaintingArea = transformPath(borderBoxArea, -maskOffset + (shadow.inset ? 1 : -1) * shadow.spread.number, (shadow.inset ? 1 : -1) * shadow.spread.number, shadow.spread.number * (shadow.inset ? -2 : 2), shadow.spread.number * (shadow.inset ? -2 : 2));
                                if (shadow.inset) {
                                    _this.path(borderBoxArea);
                                    _this.ctx.clip();
                                    _this.mask(shadowPaintingArea);
                                }
                                else {
                                    _this.mask(borderBoxArea);
                                    _this.ctx.clip();
                                    _this.path(shadowPaintingArea);
                                }
                                _this.ctx.shadowOffsetX = shadow.offsetX.number + maskOffset;
                                _this.ctx.shadowOffsetY = shadow.offsetY.number;
                                _this.ctx.shadowColor = asString(shadow.color);
                                _this.ctx.shadowBlur = shadow.blur.number;
                                _this.ctx.fillStyle = shadow.inset ? asString(shadow.color) : 'rgba(0,0,0,1)';
                                _this.ctx.fill();
                                _this.ctx.restore();
                            });
                            _a.label = 2;
                        case 2:
                            side = 0;
                            _i = 0, borders_1 = borders;
                            _a.label = 3;
                        case 3:
                            if (!(_i < borders_1.length)) return [3 /*break*/, 7];
                            border = borders_1[_i];
                            if (!(border.style !== BORDER_STYLE.NONE && !isTransparent(border.color))) return [3 /*break*/, 5];
                            return [4 /*yield*/, this.renderBorder(border.color, side, paint.curves)];
                        case 4:
                            _a.sent();
                            _a.label = 5;
                        case 5:
                            side++;
                            _a.label = 6;
                        case 6:
                            _i++;
                            return [3 /*break*/, 3];
                        case 7: return [2 /*return*/];
                    }
                });
            });
        };
        CanvasRenderer.prototype.render = function (element) {
            return __awaiter(this, void 0, void 0, function () {
                var stack;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            if (this.options.backgroundColor) {
                                this.ctx.fillStyle = asString(this.options.backgroundColor);
                                this.ctx.fillRect(this.options.x - this.options.scrollX, this.options.y - this.options.scrollY, this.options.width, this.options.height);
                            }
                            stack = parseStackingContexts(element);
                            return [4 /*yield*/, this.renderStack(stack)];
                        case 1:
                            _a.sent();
                            this.applyEffects([], 2 /* BACKGROUND_BORDERS */);
                            return [2 /*return*/, this.canvas];
                    }
                });
            });
        };
        return CanvasRenderer;
    }());
    var isTextInputElement = function (container) {
        if (container instanceof TextareaElementContainer) {
            return true;
        }
        else if (container instanceof SelectElementContainer) {
            return true;
        }
        else if (container instanceof InputElementContainer && container.type !== RADIO && container.type !== CHECKBOX) {
            return true;
        }
        return false;
    };
    var calculateBackgroundCurvedPaintingArea = function (clip, curves) {
        switch (clip) {
            case BACKGROUND_CLIP.BORDER_BOX:
                return calculateBorderBoxPath(curves);
            case BACKGROUND_CLIP.CONTENT_BOX:
                return calculateContentBoxPath(curves);
            case BACKGROUND_CLIP.PADDING_BOX:
            default:
                return calculatePaddingBoxPath(curves);
        }
    };
    var canvasTextAlign = function (textAlign) {
        switch (textAlign) {
            case TEXT_ALIGN.CENTER:
                return 'center';
            case TEXT_ALIGN.RIGHT:
                return 'right';
            case TEXT_ALIGN.LEFT:
            default:
                return 'left';
        }
    };

    var ForeignObjectRenderer = /** @class */ (function () {
        function ForeignObjectRenderer(options) {
            this.canvas = options.canvas ? options.canvas : document.createElement('canvas');
            this.ctx = this.canvas.getContext('2d');
            this.options = options;
            this.canvas.width = Math.floor(options.width * options.scale);
            this.canvas.height = Math.floor(options.height * options.scale);
            this.canvas.style.width = options.width + "px";
            this.canvas.style.height = options.height + "px";
            this.ctx.scale(this.options.scale, this.options.scale);
            this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);
            Logger.getInstance(options.id).debug("EXPERIMENTAL ForeignObject renderer initialized (" + options.width + "x" + options.height + " at " + options.x + "," + options.y + ") with scale " + options.scale);
        }
        ForeignObjectRenderer.prototype.render = function (element) {
            return __awaiter(this, void 0, void 0, function () {
                var svg, img;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            svg = createForeignObjectSVG(Math.max(this.options.windowWidth, this.options.width) * this.options.scale, Math.max(this.options.windowHeight, this.options.height) * this.options.scale, this.options.scrollX * this.options.scale, this.options.scrollY * this.options.scale, element);
                            return [4 /*yield*/, loadSerializedSVG$1(svg)];
                        case 1:
                            img = _a.sent();
                            if (this.options.backgroundColor) {
                                this.ctx.fillStyle = asString(this.options.backgroundColor);
                                this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale);
                            }
                            this.ctx.drawImage(img, -this.options.x * this.options.scale, -this.options.y * this.options.scale);
                            return [2 /*return*/, this.canvas];
                    }
                });
            });
        };
        return ForeignObjectRenderer;
    }());
    var loadSerializedSVG$1 = function (svg) {
        return new Promise(function (resolve, reject) {
            var img = new Image();
            img.onload = function () {
                resolve(img);
            };
            img.onerror = reject;
            img.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(new XMLSerializer().serializeToString(svg));
        });
    };

    var _this = undefined;
    var parseColor$1 = function (value) { return color.parse(Parser.create(value).parseComponentValue()); };
    var html2canvas = function (element, options) {
        if (options === void 0) { options = {}; }
        return renderElement(element, options);
    };
    CacheStorage.setContext(window);
    var renderElement = function (element, opts) { return __awaiter(_this, void 0, void 0, function () {
        var ownerDocument, defaultView, instanceName, _a, width, height, left, top, defaultResourceOptions, resourceOptions, defaultOptions, options, windowBounds, documentCloner, clonedElement, container, documentBackgroundColor, bodyBackgroundColor, bgColor, defaultBackgroundColor, backgroundColor, renderOptions, canvas, renderer, root, renderer;
        return __generator(this, function (_b) {
            switch (_b.label) {
                case 0:
                    ownerDocument = element.ownerDocument;
                    if (!ownerDocument) {
                        throw new Error("Element is not attached to a Document");
                    }
                    defaultView = ownerDocument.defaultView;
                    if (!defaultView) {
                        throw new Error("Document is not attached to a Window");
                    }
                    instanceName = (Math.round(Math.random() * 1000) + Date.now()).toString(16);
                    _a = isBodyElement(element) || isHTMLElement(element) ? parseDocumentSize(ownerDocument) : parseBounds(element), width = _a.width, height = _a.height, left = _a.left, top = _a.top;
                    defaultResourceOptions = {
                        allowTaint: false,
                        imageTimeout: 15000,
                        proxy: undefined,
                        useCORS: false
                    };
                    resourceOptions = __assign({}, defaultResourceOptions, opts);
                    defaultOptions = {
                        backgroundColor: '#ffffff',
                        cache: opts.cache ? opts.cache : CacheStorage.create(instanceName, resourceOptions),
                        logging: true,
                        removeContainer: true,
                        foreignObjectRendering: false,
                        scale: defaultView.devicePixelRatio || 1,
                        windowWidth: defaultView.innerWidth,
                        windowHeight: defaultView.innerHeight,
                        scrollX: defaultView.pageXOffset,
                        scrollY: defaultView.pageYOffset,
                        x: left,
                        y: top,
                        width: Math.ceil(width),
                        height: Math.ceil(height),
                        id: instanceName
                    };
                    options = __assign({}, defaultOptions, resourceOptions, opts);
                    windowBounds = new Bounds(options.scrollX, options.scrollY, options.windowWidth, options.windowHeight);
                    Logger.create({ id: instanceName, enabled: options.logging });
                    Logger.getInstance(instanceName).debug("Starting document clone");
                    documentCloner = new DocumentCloner(element, {
                        id: instanceName,
                        onclone: options.onclone,
                        ignoreElements: options.ignoreElements,
                        inlineImages: options.foreignObjectRendering,
                        copyStyles: options.foreignObjectRendering
                    });
                    clonedElement = documentCloner.clonedReferenceElement;
                    if (!clonedElement) {
                        return [2 /*return*/, Promise.reject("Unable to find element in cloned iframe")];
                    }
                    return [4 /*yield*/, documentCloner.toIFrame(ownerDocument, windowBounds)];
                case 1:
                    container = _b.sent();
                    documentBackgroundColor = ownerDocument.documentElement
                        ? parseColor$1(getComputedStyle(ownerDocument.documentElement).backgroundColor)
                        : COLORS.TRANSPARENT;
                    bodyBackgroundColor = ownerDocument.body
                        ? parseColor$1(getComputedStyle(ownerDocument.body).backgroundColor)
                        : COLORS.TRANSPARENT;
                    bgColor = opts.backgroundColor;
                    defaultBackgroundColor = typeof bgColor === 'string' ? parseColor$1(bgColor) : bgColor === null ? COLORS.TRANSPARENT : 0xffffffff;
                    backgroundColor = element === ownerDocument.documentElement
                        ? isTransparent(documentBackgroundColor)
                            ? isTransparent(bodyBackgroundColor)
                                ? defaultBackgroundColor
                                : bodyBackgroundColor
                            : documentBackgroundColor
                        : defaultBackgroundColor;
                    renderOptions = {
                        id: instanceName,
                        cache: options.cache,
                        canvas: options.canvas,
                        backgroundColor: backgroundColor,
                        scale: options.scale,
                        x: options.x,
                        y: options.y,
                        scrollX: options.scrollX,
                        scrollY: options.scrollY,
                        width: options.width,
                        height: options.height,
                        windowWidth: options.windowWidth,
                        windowHeight: options.windowHeight
                    };
                    if (!options.foreignObjectRendering) return [3 /*break*/, 3];
                    Logger.getInstance(instanceName).debug("Document cloned, using foreign object rendering");
                    renderer = new ForeignObjectRenderer(renderOptions);
                    return [4 /*yield*/, renderer.render(clonedElement)];
                case 2:
                    canvas = _b.sent();
                    return [3 /*break*/, 5];
                case 3:
                    Logger.getInstance(instanceName).debug("Document cloned, using computed rendering");
                    CacheStorage.attachInstance(options.cache);
                    Logger.getInstance(instanceName).debug("Starting DOM parsing");
                    root = parseTree(clonedElement);
                    CacheStorage.detachInstance();
                    if (backgroundColor === root.styles.backgroundColor) {
                        root.styles.backgroundColor = COLORS.TRANSPARENT;
                    }
                    Logger.getInstance(instanceName).debug("Starting renderer");
                    renderer = new CanvasRenderer(renderOptions);
                    return [4 /*yield*/, renderer.render(root)];
                case 4:
                    canvas = _b.sent();
                    _b.label = 5;
                case 5:
                    if (options.removeContainer === true) {
                        if (!DocumentCloner.destroy(container)) {
                            Logger.getInstance(instanceName).error("Cannot detach cloned iframe as it is not in the DOM anymore");
                        }
                    }
                    Logger.getInstance(instanceName).debug("Finished rendering");
                    Logger.destroy(instanceName);
                    CacheStorage.destroy(instanceName);
                    return [2 /*return*/, canvas];
            }
        });
    }); };

    return html2canvas;

}));
//# sourceMappingURL=html2canvas.js.map


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var isOldIE = function isOldIE() {
  var memo;
  return function memorize() {
    if (typeof memo === 'undefined') {
      // Test for IE <= 9 as proposed by Browserhacks
      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
      // Tests for existence of standard globals is to allow style-loader
      // to operate correctly into non-standard environments
      // @see https://github.com/webpack-contrib/style-loader/issues/177
      memo = Boolean(window && document && document.all && !window.atob);
    }

    return memo;
  };
}();

var getTarget = function getTarget() {
  var memo = {};
  return function memorize(target) {
    if (typeof memo[target] === 'undefined') {
      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
        try {
          // This will throw an exception if access to iframe is blocked
          // due to cross-origin restrictions
          styleTarget = styleTarget.contentDocument.head;
        } catch (e) {
          // istanbul ignore next
          styleTarget = null;
        }
      }

      memo[target] = styleTarget;
    }

    return memo[target];
  };
}();

var stylesInDom = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDom.length; i++) {
    if (stylesInDom[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var index = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3]
    };

    if (index !== -1) {
      stylesInDom[index].references++;
      stylesInDom[index].updater(obj);
    } else {
      stylesInDom.push({
        identifier: identifier,
        updater: addStyle(obj, options),
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function insertStyleElement(options) {
  var style = document.createElement('style');
  var attributes = options.attributes || {};

  if (typeof attributes.nonce === 'undefined') {
    var nonce =  true ? __webpack_require__.nc : undefined;

    if (nonce) {
      attributes.nonce = nonce;
    }
  }

  Object.keys(attributes).forEach(function (key) {
    style.setAttribute(key, attributes[key]);
  });

  if (typeof options.insert === 'function') {
    options.insert(style);
  } else {
    var target = getTarget(options.insert || 'head');

    if (!target) {
      throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
    }

    target.appendChild(style);
  }

  return style;
}

function removeStyleElement(style) {
  // istanbul ignore if
  if (style.parentNode === null) {
    return false;
  }

  style.parentNode.removeChild(style);
}
/* istanbul ignore next  */


var replaceText = function replaceText() {
  var textStore = [];
  return function replace(index, replacement) {
    textStore[index] = replacement;
    return textStore.filter(Boolean).join('\n');
  };
}();

function applyToSingletonTag(style, index, remove, obj) {
  var css = remove ? '' : obj.media ? "@media ".concat(obj.media, " {").concat(obj.css, "}") : obj.css; // For old IE

  /* istanbul ignore if  */

  if (style.styleSheet) {
    style.styleSheet.cssText = replaceText(index, css);
  } else {
    var cssNode = document.createTextNode(css);
    var childNodes = style.childNodes;

    if (childNodes[index]) {
      style.removeChild(childNodes[index]);
    }

    if (childNodes.length) {
      style.insertBefore(cssNode, childNodes[index]);
    } else {
      style.appendChild(cssNode);
    }
  }
}

function applyToTag(style, options, obj) {
  var css = obj.css;
  var media = obj.media;
  var sourceMap = obj.sourceMap;

  if (media) {
    style.setAttribute('media', media);
  } else {
    style.removeAttribute('media');
  }

  if (sourceMap && btoa) {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    while (style.firstChild) {
      style.removeChild(style.firstChild);
    }

    style.appendChild(document.createTextNode(css));
  }
}

var singleton = null;
var singletonCounter = 0;

function addStyle(obj, options) {
  var style;
  var update;
  var remove;

  if (options.singleton) {
    var styleIndex = singletonCounter++;
    style = singleton || (singleton = insertStyleElement(options));
    update = applyToSingletonTag.bind(null, style, styleIndex, false);
    remove = applyToSingletonTag.bind(null, style, styleIndex, true);
  } else {
    style = insertStyleElement(options);
    update = applyToTag.bind(null, style, options);

    remove = function remove() {
      removeStyleElement(style);
    };
  }

  update(obj);
  return function updateStyle(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {
        return;
      }

      update(obj = newObj);
    } else {
      remove();
    }
  };
}

module.exports = function (list, options) {
  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
  // tags it will allow on a page

  if (!options.singleton && typeof options.singleton !== 'boolean') {
    options.singleton = isOldIE();
  }

  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    if (Object.prototype.toString.call(newList) !== '[object Array]') {
      return;
    }

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDom[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDom[_index].references === 0) {
        stylesInDom[_index].updater();

        stylesInDom.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
  !*** (webpack)/buildin/amd-options.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(this, {}))

/***/ }),

/***/ "./node_modules/webpack/buildin/harmony-module.js":
/*!*******************************************!*\
  !*** (webpack)/buildin/harmony-module.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(originalModule) {
	if (!originalModule.webpackPolyfill) {
		var module = Object.create(originalModule);
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		Object.defineProperty(module, "exports", {
			enumerable: true
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/*! exports provided: name, version, description, main, module, private, scripts, keywords, author, license, devDependencies, dependencies, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"name\":\"kmap\",\"version\":\"1.0.3\",\"description\":\"Karnagh Map Editor\",\"main\":\"dist/kmap.js\",\"module\":\"index.js\",\"private\":false,\"scripts\":{\"build:dev\":\"npx webpack --config webpack.dev.js\",\"build:prod\":\"npx webpack --config webpack.prod.js\",\"build:all\":\"npm run build:dev && npm run build:prod\",\"test\":\"karma start karma.conf.js\",\"serve\":\"webpack-dev-server  --config webpack.dev.js --open\",\"build:docs\":\"documentation build src/Kmap/**/*.js --sort-order alpha -f html -o doc/js\"},\"keywords\":[\"Education\",\"Circuits\",\"Computer Architecture\",\"Karnagh Maps\"],\"author\":\"Charles B. Owen\",\"license\":\"MIT\",\"devDependencies\":{\"@babel/core\":\"^7.10.1\",\"@babel/plugin-transform-runtime\":\"^7.10.1\",\"@babel/preset-env\":\"^7.10.1\",\"@babel/runtime\":\"7.10.1\",\"babel-loader\":\"^8.1.0\",\"clean-webpack-plugin\":\"^3.0.0\",\"copy-webpack-plugin\":\"^6.0.1\",\"css-loader\":\"^3.5.3\",\"file-loader\":\"^6.0.0\",\"html-webpack-tags-plugin\":\"^2.0.17\",\"html-webpack-plugin\":\"^4.3.0\",\"jasmine-core\":\"^3.5.0\",\"karma\":\"^5.0.9\",\"karma-chrome-launcher\":\"^3.1.0\",\"karma-jasmine\":\"^3.2.0\",\"karma-jasmine-html-reporter\":\"^1.5.4\",\"karma-sourcemap-loader\":\"^0.3.7\",\"karma-webpack\":\"^4.0.2\",\"node-sass\":\"^4.14.1\",\"optimize-css-assets-webpack-plugin\":\"^5.0.3\",\"resolve-url-loader\":\"^3.1.1\",\"sass-loader\":\"^8.0.2\",\"style-loader\":\"^1.2.1\",\"terser-webpack-plugin\":\"^3.0.2\",\"webpack\":\"^4.43.0\",\"webpack-cli\":\"^3.3.11\",\"webpack-dev-server\":\"^3.11.0\",\"webpack-merge\":\"^4.2.2\"},\"dependencies\":{\"classlist-polyfill\":\"^1.2.0\",\"html2canvas\":\"^1.0.0-rc.5\"}}");

/***/ }),

/***/ "./src/Kmap/Generator.js":
/*!*******************************!*\
  !*** ./src/Kmap/Generator.js ***!
  \*******************************/
/*! exports provided: Generator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Generator", function() { return Generator; });
/* harmony import */ var _Logic_Minterms__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Logic/Minterms */ "./src/Logic/Minterms.js");

/**
 * This object manages the practice generator section.
 * @param main
 * @param element
 * @constructor
 */

var Generator = function Generator(main, element) {
  var _this = this;

  var mintermsSpan;
  var options = main.options;

  var initialize = function initialize() {
    var div = document.createElement('div');
    div.classList.add('kmap-cl-generator');
    element.appendChild(div); // Heading

    var h3 = document.createElement('h3');
    h3.innerText = options.fixed ? 'Minterms' : 'Minterm Generator';
    div.appendChild(h3);
    var form = document.createElement('form');
    div.appendChild(form);
    var p = document.createElement('p');
    p.innerText = 'Size: ';
    div.appendChild(p);

    if (options.fixed) {
      p.appendChild(document.createTextNode('' + options.size + ' Minterms: '));
    } else {
      //
      // The size select control
      //
      var select = document.createElement('select');
      p.appendChild(select);
      var options1 = '';
      var options2 = '';

      for (var s = 2; s <= 4; s++) {
        if (s === +main.options.size) {
          if (main.options.genDontCare) {
            options1 += '<option value="' + s + '">' + s + '</option>';

            if (main.options.genDontCareOption) {
              options2 += '<option value="' + s + 'd" selected>' + s + " w/don't cares</option>";
            }
          } else {
            options1 += '<option value="' + s + '" selected>' + s + '</option>';

            if (main.options.genDontCareOption) {
              options2 += '<option value="' + s + 'd">' + s + " w/don't cares</option>";
            }
          }
        } else {
          options1 += '<option value="' + s + '">' + s + '</option>';

          if (main.options.genDontCareOption) {
            options2 += '<option value="' + s + 'd">' + s + " <span>w/don't cares</span></option>";
          }
        }
      }

      select.innerHTML = options1 + options2;
      select.addEventListener('change', function (event) {
        event.preventDefault();
        var val = select.value;
        var newSize = parseInt(val);
        main.options.genDontCare = val.match(/d$/) !== null;
        main.newSize(newSize);
      }); //
      // The Generate button
      //

      p.appendChild(document.createTextNode(' '));
      var button = document.createElement('button');
      button.innerText = 'Generate';
      p.appendChild(button);
      p.appendChild(document.createTextNode(' '));
      button.addEventListener('click', function (event) {
        event.preventDefault();
        main.generate();
      });
    }

    mintermsSpan = document.createElement('span');
    p.appendChild(mintermsSpan);

    _this.refresh();
  };

  this.refresh = function () {
    if (main.minterms.dontcare.length > 0) {
      mintermsSpan.innerHTML = main.minterms.list(true) + "<br>X=" + main.minterms.list_dontcare(true);
    } else {
      mintermsSpan.innerHTML = main.minterms.list(true);
    }
  };

  initialize();
};

/***/ }),

/***/ "./src/Kmap/Group.js":
/*!***************************!*\
  !*** ./src/Kmap/Group.js ***!
  \***************************/
/*! exports provided: Group */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Group", function() { return Group; });
/**
 * A single group
 * @param groups Kmap.Group object
 * @param list List to add this item to
 * @param selected Minterms that are selected
 * @param color Color to draw item
 * @constructor
 */
var Group = function Group(groups, list, selected, color) {
  var _this = this;

  this.groups = groups;
  this.selected = selected;
  this.color = color;

  if (list === null) {
    return;
  }

  var lst = '';
  var first = true;

  for (var i = 0; i < selected.length; i++) {
    if (!first) {
      lst += ',';
    } else {
      first = false;
    }

    if (i === 8) {
      lst += '<br/>';
    }

    lst += selected[i];
  } // var div = $('<div class="group">' + lst + '</div>');


  var div = document.createElement('div');
  div.classList.add('group');
  div.innerHTML = lst; // var span = $('<span></span>');
  // div.append(span);

  var span = document.createElement('span');
  div.appendChild(span); // var a = $('<a href="javascript:;"></a>');
  // span.append(a);

  var a = document.createElement('a');
  span.appendChild(a);
  list.appendChild(div);
  a.addEventListener('click', function (event) {
    event.preventDefault();
    list.removeChild(div);
    groups.remove(_this);
  });
  div.style.backgroundColor = color; // div.css("background-color", color);
};

Group.prototype.draw = function (ctx, wid, hit, insetDepth) {
  var inset = 15;
  var spacing = 10;
  var cols, rows, mapR, mapC, max;

  switch (this.groups.main.options.size) {
    case 2:
      cols = 2;
      rows = 2;
      mapR = [0, 1, 0, 1];
      mapC = [0, 0, 1, 1];
      max = 4;
      break;

    case 3:
      cols = 4;
      rows = 2;
      mapR = [0, 1, 0, 1, 0, 1, 0, 1];
      mapC = [0, 0, 1, 1, 3, 3, 2, 2];
      max = 8;
      break;

    case 4:
      cols = 4;
      rows = 4;
      mapR = [0, 1, 3, 2, 0, 1, 3, 2, 0, 1, 3, 2, 0, 1, 3, 2];
      mapC = [0, 0, 0, 0, 1, 1, 1, 1, 3, 3, 3, 3, 2, 2, 2, 2];
      max = 16;
      break;
  }

  var cnt = this.selected.length;

  if (cnt === max) {
    // We are wrapping the whole thing
    this.drawGroup(ctx, 0, 0, wid, hit, inset + spacing * insetDepth);
    return;
  }

  if (cnt === 1) {
    var c1 = mapC[this.selected[0]];
    var r1 = mapR[this.selected[0]];
    this.drawGroup(ctx, c1 * wid / cols, r1 * hit / rows, wid / cols, hit / rows, inset + spacing * insetDepth);
  } else if (cnt == 2) {
    var c1 = mapC[this.selected[0]];
    var r1 = mapR[this.selected[0]];
    var c2 = mapC[this.selected[1]];
    var r2 = mapR[this.selected[1]];

    if (r1 == r2) {
      // Horizontal
      if (c2 < c1) {
        var t = c1;
        c1 = c2;
        c2 = t;
      }

      if (c2 - c1 > 1) {
        // Not adjacent!
        this.drawGroup(ctx, c2 * wid / cols, r1 * hit / rows, wid * 2 / cols, hit / rows, inset + spacing * insetDepth);
        this.drawGroup(ctx, (c1 - 1) * wid / cols, r1 * hit / rows, wid * 2 / cols, hit / rows, inset + spacing * insetDepth);
      } else {
        this.drawGroup(ctx, c1 * wid / cols, r1 * hit / rows, wid * 2 / cols, hit / rows, inset + spacing * insetDepth);
      }
    } else {
      // Vertical
      if (r2 < r1) {
        var t = r1;
        r1 = r2;
        r2 = t;
      }

      if (r2 - r1 > 1) {
        // Not adjacent
        this.drawGroup(ctx, c1 * wid / cols, r2 * hit / rows, wid / cols, hit * 2 / rows, inset + spacing * insetDepth);
        this.drawGroup(ctx, c1 * wid / cols, (r1 - 1) * hit / rows, wid / cols, hit * 2 / rows, inset + spacing * insetDepth);
      } else {
        this.drawGroup(ctx, c1 * wid / cols, r1 * hit / rows, wid / cols, hit * 2 / rows, inset + spacing * insetDepth);
      }
    }
  } else if (cnt == 4) {
    var c1 = mapC[this.selected[0]];
    var r1 = mapR[this.selected[0]];
    var c2 = mapC[this.selected[1]];
    var r2 = mapR[this.selected[1]];
    var c3 = mapC[this.selected[2]];
    var r3 = mapR[this.selected[2]];
    var c4 = mapC[this.selected[3]];
    var r4 = mapR[this.selected[3]]; // Are all in same row?

    if (r1 == r2 && r2 == r3 && r3 == r4) {
      // Size 4 cover in the same row
      this.drawGroup(ctx, c1 * wid / cols, r1 * hit / rows, wid * 4 / cols, hit / rows, inset + spacing * insetDepth);
    } else if (c1 == c2 && c2 == c3 && c3 == c4) {
      // Size 4 cover in the same column
      this.drawGroup(ctx, c1 * wid / cols, r1 * hit / rows, wid / cols, hit * 4 / rows, inset + spacing * insetDepth);
    } else {
      // This must be square
      var wid4 = wid * 2 / cols;
      var hit4 = hit * 2 / rows;

      if (c1 == 0 && c2 == 0 && c3 == 3 && c4 == 3) {
        // This is a left/right side split
        if (r1 == 0 && r2 == 3 && r3 == 0 && r4 == 3) {
          // Four corner split
          this.drawGroup(ctx, -1 * wid / cols, -1 * hit / rows, wid4, hit4, inset + spacing * insetDepth);
          this.drawGroup(ctx, -1 * wid / cols, 3 * hit / rows, wid4, hit4, inset + spacing * insetDepth);
          this.drawGroup(ctx, 3 * wid / cols, -1 * hit / rows, wid4, hit4, inset + spacing * insetDepth);
          this.drawGroup(ctx, 3 * wid / cols, 3 * hit / rows, wid4, hit4, inset + spacing * insetDepth);
        } else {
          if (r1 > r2) {
            var t = r1;
            r1 = r2;
            r2 = t;
          }

          this.drawGroup(ctx, -1 * wid / cols, r1 * hit / rows, wid4, hit4, inset + spacing * insetDepth);
          this.drawGroup(ctx, 3 * wid / cols, r1 * hit / rows, wid4, hit4, inset + spacing * insetDepth);
        }
      } else if (r1 == 0 && r2 == 3) {
        if (c1 > c3) {
          var t = c1;
          c1 = c3;
          c3 = t;
        } // This is a top-bottom split


        this.drawGroup(ctx, c1 * wid / cols, -1 * hit / rows, wid4, hit4, inset + spacing * insetDepth);
        this.drawGroup(ctx, c1 * wid / cols, 3 * hit / rows, wid4, hit4, inset + spacing * insetDepth);
      } else {
        // Simple square!
        if (c1 > c3) {
          var t = c1;
          c1 = c3;
          c3 = t;
        }

        if (r1 > r2) {
          var t = r1;
          r1 = r2;
          r2 = t;
        }

        this.drawGroup(ctx, c1 * wid / cols, r1 * hit / rows, wid4, hit4, inset + spacing * insetDepth);
      }
    }
  } else if (cnt == 8) {
    var c1 = mapC[this.selected[0]];
    var r1 = mapR[this.selected[0]];
    var c2 = mapC[this.selected[1]];
    var r2 = mapR[this.selected[1]];
    var c3 = mapC[this.selected[2]];
    var r3 = mapR[this.selected[2]];
    var c4 = mapC[this.selected[3]];
    var r4 = mapR[this.selected[3]];
    var c5 = mapC[this.selected[4]];
    var r5 = mapR[this.selected[4]];

    if (c1 == c2 && c2 == c3 && c3 == c4) {
      var wid8 = wid * 2 / cols;
      var hit8 = hit * 4 / rows; // Vertical layout

      if (c1 == 0 && c5 == 3) {
        // Left/right split
        this.drawGroup(ctx, -1 * wid / cols, 0 * hit / rows, wid8, hit8, inset + spacing * insetDepth);
        this.drawGroup(ctx, 3 * wid / cols, 0 * hit / rows, wid8, hit8, inset + spacing * insetDepth);
      } else {
        if (c1 > c5) {
          c1 = c5;
        }

        this.drawGroup(ctx, c1 * wid / cols, 0 * hit / rows, wid8, hit8, inset + spacing * insetDepth);
      }
    } else {
      //Horizontal layout
      var wid8 = wid * 4 / cols;
      var hit8 = hit * 2 / rows;

      if (r2 - r1 > 1) {
        // Split
        this.drawGroup(ctx, 0 * wid / cols, -1 * hit / rows, wid8, hit8, inset + spacing * insetDepth);
        this.drawGroup(ctx, 0 * wid / cols, 3 * hit / rows, wid8, hit8, inset + spacing * insetDepth);
      } else {
        if (r1 > r2) {
          r1 = r2;
        }

        this.drawGroup(ctx, 0 * wid / cols, r1 * hit / rows, wid8, hit8, inset + spacing * insetDepth);
      }
    }
  }
};

Group.prototype.drawGroup = function (ctx, x1, y1, wid, hit, inset) {
  var x = x1 + inset;
  var y = y1 + inset;
  var width = wid - inset * 2 - 1;
  var height = hit - inset * 2 - 1;
  var radius = 30;
  ctx.lineWidth = 7;
  ctx.strokeStyle = this.color;
  ctx.beginPath();
  ctx.moveTo(x, y + radius);
  ctx.lineTo(x, y + height - radius);
  ctx.arcTo(x, y + height, x + radius, y + height, radius);
  ctx.lineTo(x + width - radius, y + height);
  ctx.arcTo(x + width, y + height, x + width, y + height - radius, radius);
  ctx.lineTo(x + width, y + radius);
  ctx.arcTo(x + width, y, x + width - radius, y, radius);
  ctx.lineTo(x + radius, y);
  ctx.arcTo(x, y, x, y + radius, radius);
  ctx.stroke();
};

/***/ }),

/***/ "./src/Kmap/Groups.js":
/*!****************************!*\
  !*** ./src/Kmap/Groups.js ***!
  \****************************/
/*! exports provided: Groups */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Groups", function() { return Groups; });
/* harmony import */ var _MessageDialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MessageDialog */ "./src/Kmap/MessageDialog.js");
/* harmony import */ var _Group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Group */ "./src/Kmap/Group.js");


/**
 * The groups area of the editor
 */

var Groups = function Groups(main, sel) {
  var _this = this;

  var that = this;
  this.main = main;
  var list;

  var initialize = function initialize() {
    var button = document.createElement('button');
    sel.appendChild(button);
    button.innerText = 'Cover';
    list = document.createElement('div');
    list.classList.add('list');
    sel.appendChild(list);
    _this.groups = [];
    _this.colorN = 0;
    button.addEventListener('click', function (event) {
      event.preventDefault();
      var selected = main.work.map.selected;

      if (main.options.strict) {
        // Determine how many common bits there are
        var and1 = Math.pow(2, main.options.size) - 1;
        var and2 = and1;

        for (var i = 0; i < selected.length; i++) {
          var _sel = selected[i];
          and1 &= _sel;
          and2 &= ~_sel;
        }

        var or = and1 | and2;
        var bits = 0;
        var size = main.options.size;

        for (var _i = 0; _i < size; _i++) {
          if ((or & 1) === 1) {
            bits++;
          }

          or >>= 1;
        } // Test for valid


        var valid = true;

        switch (selected.length) {
          case 1:
            break;

          case 2:
            valid = bits == size - 1;
            break;

          case 4:
            valid = bits == size - 2;
            break;

          case 8:
            valid = bits == size - 3;
            break;

          case 16:
            break;

          default:
            var html = '<p>Grouping must be of some power of two minterms.</p><p>The only ' + 'groupings possible are 1, 2, 4, 8, or 16, depending on the size of the ' + 'Karnaugh map.</p>';
            var dlg = new _MessageDialog__WEBPACK_IMPORTED_MODULE_0__["MessageDialog"](main, "You can't do that", html);
            dlg.open();
            return;
        }

        if (!valid) {
          var _html = '<p>Your minterm grouping is invalid.</p><p>Groupings must be such ' + 'that there are bits in common. This means the groupings must be a rectangle ' + 'on the Karnaugh map. This can be a 1 by 4 rectangle or a 2 by 2 rectangle for ' + 'a grouping of 4, for example. Note that the map does <em>wrap around</em> at' + ' the edges, so the right side is adjacent to the left side, for example.</p>';

          var _dlg = new _MessageDialog__WEBPACK_IMPORTED_MODULE_0__["MessageDialog"](main, "You can't do that", _html);

          _dlg.open();

          return;
        } //
        // Ensure this group does not already exist
        //


        for (var _i2 = 0; _i2 < that.groups.length && valid; _i2++) {
          if (that.groups[_i2].selected.length === selected.length) {
            var ok = false;

            for (var j = 0; j < that.groups[_i2].selected.length; j++) {
              if (that.groups[_i2].selected[j] !== selected[j]) {
                ok = true;
                break;
              }
            }

            if (!ok) {
              valid = false;
              var _html2 = '<p>This cover already exists.</p>';

              var _dlg2 = new _MessageDialog__WEBPACK_IMPORTED_MODULE_0__["MessageDialog"](main, "You can't do that", _html2);

              _dlg2.open();

              return;
            }
          }
        }
      }

      _this.add_group(selected);

      _this.drawGroups();

      main.work.map.clear();
    });
  };
  /**
   * Add a new group (cover)
   * @param minterms Array of minterms in the group
   */


  this.add_group = function (minterms) {
    var group = new _Group__WEBPACK_IMPORTED_MODULE_1__["Group"](this, list, minterms, this.colors[this.colorN]);
    this.colorN = (this.colorN + 1) % this.colors.length;
    this.groups.push(group);
  };
  /**
   * Draw all of the groups on the canvas
   */


  this.drawGroups = function () {
    var canvas = main.work.map.get_canvas();
    var ctx = canvas.getContext("2d");
    var wid = canvas.width;
    var hit = canvas.height;
    ctx.clearRect(0, 0, wid, hit);
    var size = main.options.size;
    var counter = [];

    for (var i = 0; i < Math.pow(2, size); i++) {
      counter.push(0);
    }

    for (var i = 0; i < this.groups.length; i++) {
      var group = this.groups[i];
      var max = 1;

      for (var j = 0; j < group.selected.length; j++) {
        counter[group.selected[j]]++;

        if (counter[group.selected[j]] > max) {
          max = counter[group.selected[j]];
        }
      }

      group.draw(ctx, wid, hit, max);
    }
  };

  this.clear = function () {
    list.innerHTML = '';
    this.colorN = 0;
    this.groups = [];
    this.drawGroups();
  };

  this.remove = function (group) {
    for (var i = 0; i < this.groups.length; i++) {
      if (this.groups[i] === group) {
        this.groups.splice(i, 1);
      }
    }

    this.drawGroups();
  };

  initialize();
  /*
   '<button>Group</button>' +
   '            <div class="list">' +
   '            <div class="group">' +
   '            0,1,2,3,4,5,6,7,8, 9,10,11,12,13,14,15' +
   '        <span><a href="javascript:;"></a><img src="images/x.png"></a></span>' +
   '            </div>' +
   '            <div class="group">' +
   '            0,1,2,3,4,5,6,7,8, 9,10,11,12,13,14,15' +
   '        <span><a href="javascript:;"></a><img src="images/x.png"></a></span>' +
   '            </div>' +
   '            <div class="group">' +
   '            0,1,2,3,4,5,6,7,8, 9,10,11,12,13,14,15' +
   '        <span><a href="javascript:;"></a><img src="images/x.png"></a></span>' +
   '            </div>' +
   '            <div class="group">' +
   '            0,1,2,3,4,5,6,7,8, 9,10,11,12,13,14,15' +
   '        <span><a href="javascript:;"></a><img src="images/x.png"></a></span> ' +
   '           </div>' +
   '            <div class="group">' +
   '            0,1,2,3,4,5,6,7,8, 9,10,11,12,13,14,15' +
   '        <span><a href="javascript:;"></a><img src="images/x.png"></a></span>' +
   '            </div>' +
   '            </div>' +
     */
};
Groups.prototype.colors = ["#0000FF", "#808088", "#FF8800", "#008080", "#BDB76B", "#800000", "#00FF88", "#778899", "#FFA500", "#9ACD32", "#4682B4"];

/***/ }),

/***/ "./src/Kmap/Kmap.js":
/*!**************************!*\
  !*** ./src/Kmap/Kmap.js ***!
  \**************************/
/*! exports provided: Kmap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Kmap", function() { return Kmap; });
/* harmony import */ var _Options__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Options */ "./src/Kmap/Options.js");
/* harmony import */ var _Utility_Ready__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utility/Ready */ "./src/Kmap/Utility/Ready.js");
/* harmony import */ var _Main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Main */ "./src/Kmap/Main.js");



/**
 * Create an instance of Kmap Karnaugh Map.
 * @constructor
 */

var Kmap = function Kmap(sel, options) {
  var _this = this;

  //
  // Master set of the version
  //
  var PACKAGE = __webpack_require__(/*! ../../package.json */ "./package.json");

  this.version = PACKAGE.version; // The Options object that manages user options

  this.options = new _Options__WEBPACK_IMPORTED_MODULE_0__["Options"](options); // A collection of Main objects.

  var mains = [];

  this.start = function () {
    _Utility_Ready__WEBPACK_IMPORTED_MODULE_1__["Ready"].go(function () {
      _this.startNow();
    });
  };
  /**
   * Start Kmap running now. Does not wait for document ready.
   */


  this.startNow = function () {
    if (sel instanceof Element) {
      var main = new _Main__WEBPACK_IMPORTED_MODULE_2__["Main"](_this, sel);
      mains.push(main);
    } else {
      var elements = document.querySelectorAll(sel);

      for (var i = 0; i < elements.length; i++) {
        var element = elements[i];

        var _main = new _Main__WEBPACK_IMPORTED_MODULE_2__["Main"](_this, element);

        mains.push(_main);
      }
    }

    if (mains.length === 1) {
      return mains[0];
    }

    return null;
  };
};

/***/ }),

/***/ "./src/Kmap/Main.js":
/*!**************************!*\
  !*** ./src/Kmap/Main.js ***!
  \**************************/
/*! exports provided: Main */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Main", function() { return Main; });
/* harmony import */ var _Work__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Work */ "./src/Kmap/Work.js");
/* harmony import */ var _Generator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Generator */ "./src/Kmap/Generator.js");
/* harmony import */ var _Solution__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Solution */ "./src/Kmap/Solution.js");
/* harmony import */ var _Manual__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Manual */ "./src/Kmap/Manual.js");
/* harmony import */ var _Logic_Minterms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Logic/Minterms */ "./src/Logic/Minterms.js");





/**
 * Main window management object
 * @param kmap Kmap object (parent)
 * @param element The DOM element to use
 * @constructor
 */

var Main = function Main(kmap, element) {
  var _this = this;

  this.options = kmap.options;
  this.element = element; // Ensure empty and add the kmap-cl class

  element.innerHTML = '';
  element.classList.add('kmap-cl'); // The current minterms

  this.minterms = new _Logic_Minterms__WEBPACK_IMPORTED_MODULE_4__["Minterms"]();
  this.work = null;
  this.generator = null;
  this.solution = null;
  this.manual = null;

  this.initialize = function () {
    if (_this.options.generator) {
      _this.generator = new _Generator__WEBPACK_IMPORTED_MODULE_1__["Generator"](_this, element);
    }

    if (_this.options.manual) {
      _this.manual = new _Manual__WEBPACK_IMPORTED_MODULE_3__["Manual"](_this, element);
    }

    if (_this.options.map) {
      _this.work = new _Work__WEBPACK_IMPORTED_MODULE_0__["Work"](_this, element);
    }

    _this.solution = new _Solution__WEBPACK_IMPORTED_MODULE_2__["Solution"](_this, element); // Generate initial minterms

    if (_this.options.minterms.length === 0) {
      _this.generate();
    } else {
      _this.set(_this.options.minterms, _this.options.dontcare);
    }

    if (_this.options.solved) {
      _this.solution.solve();
    }
  };
  /**
   * Generate a new set of minterms with optional don't cares
   */


  this.generate = function () {
    this.minterms.size = this.options.size;

    if (this.options.genDontCare) {
      var dcMax = 8;

      switch (this.options.size) {
        case 2:
          dcMax = 2;
          break;

        case 3:
          dcMax = 4;
          break;
      }

      this.minterms.generate_bounded(0.5, 1, Math.pow(2, this.options.size) - 1, 0.2, 1, dcMax);
      newMinterms();
    } else {
      this.minterms.generate_bounded(0.5, 1, Math.pow(2, this.options.size) - 1);
      newMinterms();
    }
  };

  this.set = function (minterms, dontcare) {
    this.minterms.set_from(minterms, dontcare);
    newMinterms();
  };

  var newMinterms = function newMinterms() {
    if (_this.solution !== null) {
      _this.solution.clear();
    }

    _this.options.minterms = _this.minterms.minterms.slice();
    _this.options.dontcare = _this.minterms.dontcare.slice();

    if (_this.work !== null) {
      _this.work.render();
    }

    if (_this.generator !== null) {
      _this.generator.refresh();
    }
  };

  this.newSize = function (size) {
    this.options.size = size;
    this.generate();
  };

  this.initialize();
};

/***/ }),

/***/ "./src/Kmap/Manual.js":
/*!****************************!*\
  !*** ./src/Kmap/Manual.js ***!
  \****************************/
/*! exports provided: Manual */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Manual", function() { return Manual; });
/**
 * Manual entry of minterms and don't cares support
 * @param main Main object
 * @param element Element we are adding this component to
 * @constructor
 */
var Manual = function Manual(main, element) {
  var that = this;
  var labels = main.options.labels;
  var manualMinterms, manualDontCares, manualVariables;

  var initialize = function initialize() {
    var div = document.createElement('div');
    div.classList.add('kmap-cl-manual');
    element.appendChild(div);
    var h3 = document.createElement('h3');
    h3.innerHTML = 'Manual Entry';
    div.appendChild(h3); // var form = '<form><div class="left">' +
    //     '<p><label for="manual-minterms">Minterms: </label><br><input type="text" id="manual-minterms" spellcheck="false"></p>' +
    //     '<p><label for="manual-dontcares">Don\'t cares: </label><br><input type="text" id="manual-dontcares" spellcheck="false"></p>' +
    //     '<p><button>Take</button></p>' +
    //     '</div><div class="right">' +
    //     '<p><label for="manual-variables">Labels: </label><br><input type="text" id="manual-variables" value="' +
    //     labels + '" spellcheck="false"></p>' +
    //     '</div></form>';

    var form = document.createElement('form');
    div.appendChild(form); //
    // Left div
    //

    var left = document.createElement('div');
    form.appendChild(left); // <p><label for="manual-minterms">Minterms: </label><br><input type="text" id="manual-minterms" spellcheck="false"></p>

    var p = document.createElement('p');
    left.appendChild(p);
    var label = document.createElement('label');
    p.appendChild(label);
    label.innerText = 'Minterms: ';
    label.appendChild(document.createElement('br'));
    manualMinterms = document.createElement('input');
    manualMinterms.setAttribute('type', 'text');
    manualMinterms.setAttribute('spellcheck', 'false');
    label.appendChild(manualMinterms); // <p><label for="manual-dontcares">Don\'t cares: </label><br><input type="text" id="manual-dontcares" spellcheck="false"></p>

    p = document.createElement('p');
    left.appendChild(p);
    label = document.createElement('label');
    p.appendChild(label);
    label.innerText = 'Don\'t cares: ';
    label.appendChild(document.createElement('br'));
    manualDontCares = document.createElement('input');
    manualDontCares.setAttribute('type', 'text');
    manualDontCares.setAttribute('spellcheck', 'false');
    label.appendChild(manualDontCares); // <p><button>Take</button></p>

    p = document.createElement('p');
    left.appendChild(p);
    var take = document.createElement('button');
    p.appendChild(take);
    take.innerText = 'Take'; //
    // Right div
    //

    var right = document.createElement('div');
    form.appendChild(right); // <p><label for="manual-variables">Labels: </label><br><input type="text" id="manual-variables" value="' +
    // labels + '" spellcheck="false"></p>

    p = document.createElement('p');
    right.appendChild(p);
    label = document.createElement('label');
    p.appendChild(label);
    label.innerText = 'Labels: ';
    label.appendChild(document.createElement('br'));
    manualVariables = document.createElement('input');
    manualVariables.setAttribute('type', 'text');
    manualVariables.setAttribute('spellcheck', 'false');
    label.appendChild(manualVariables);
    manualVariables.value = labels;
    take.addEventListener('click', function (event) {
      event.preventDefault();
      var mintermslist = parse(manualMinterms.value);
      var dontcarelist = parse(manualDontCares.value); // Get the labels, stripping any HTML tags just in case

      var labels = manualVariables.value.replace(/(<([^>]+)>)/ig, "");
      main.options.labels = labels.split(",");
      main.set(mintermslist, dontcarelist);
    });
  };

  function parse(input) {
    var reM = /m/g;
    var re = /[, ]+/g;
    var items = input.replace(reM, '').split(re);
    var ret = [];
    items.forEach(function (item) {
      if (item !== "") {
        ret.push(parseInt(item));
      }
    });
    return ret;
  }

  initialize();
};

/***/ }),

/***/ "./src/Kmap/Map.js":
/*!*************************!*\
  !*** ./src/Kmap/Map.js ***!
  \*************************/
/*! exports provided: Map */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Map", function() { return Map; });
/* harmony import */ var _MessageDialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MessageDialog */ "./src/Kmap/MessageDialog.js");
function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }


/**
 * The actual Karnaugh Map
 * @param main
 * @param element
 * @constructor
 */

var Map = function Map(main, element) {
  var _this = this;

  this.main = main;
  this.element = element;
  this.selected = [];
  var topLeft, botRight, canvas;

  var initialize = function initialize() {
    var table = document.createElement('table');
    table.classList.add('kmap-cl');
    element.appendChild(table); // Make a local copy of the labels, converting
    // _1 to <sub>1</sub>

    var labels = [];

    var _iterator = _createForOfIteratorHelper(main.options.labels),
        _step;

    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var label = _step.value;
        labels.push(label.replace(/_([a-zA-Z0-9])*/g, '<sub>$1</sub>'));
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }

    var left, right, rest, colheads;

    if (+main.options.size === 2) {
      var A = labels[0];
      var B = labels[1];
      left = B;
      right = A;
      rest = "<th>" + A + "'</th><th>" + A + "</th>";
      colheads = [B + "'", B];
    } else if (+main.options.size === 3) {
      var _A = labels[0];
      var _B = labels[1];
      var C = labels[2];
      left = C;
      right = _A + _B;
      rest = "<th>" + _A + "'" + _B + "'</th><th>" + _A + "'" + _B + "</th><th>" + _A + _B + "</th><th>" + _A + _B + "'</th>";
      colheads = [C + "'", C];
    } else {
      var _A2 = labels[0];
      var _B2 = labels[1];
      var _C = labels[2];
      var D = labels[3];
      left = _C + D;
      right = _A2 + _B2;
      rest = "<th>" + _A2 + "'" + _B2 + "'</th><th>" + _A2 + "'" + _B2 + "</th><th>" + _A2 + _B2 + "</th><th>" + _A2 + _B2 + "'</th>";
      colheads = [_C + "'" + D + "'", _C + "'" + D, _C + D, _C + D + "'"];
    }
    /*
     * Top row first
     */


    var tr = document.createElement('tr');
    tr.innerHTML = '<th><div class="kmap-cl-left">' + left + '</div><div class="kmap-cl-line"></div><div class="kmap-cl-right">' + right + '</div></th>' + rest;
    table.appendChild(tr);
    /*
     * Rest of the table
     */

    var rows = +main.options.size === 4 ? 4 : 2;
    var cols = +main.options.size === 2 ? 2 : 4;

    for (var r = 1; r <= rows; r++) {
      tr = document.createElement('tr');
      tr.innerHTML = '<th>' + colheads[r - 1] + '</th>';

      for (var c = 1; c <= cols; c++) {
        var td = make_cell(c, r);
        tr.appendChild(td);

        if (r === 1 && c === 1) {
          topLeft = td;
        } else if (r === rows && c === cols) {
          botRight = td;
        }
      }

      table.appendChild(tr);
    }

    canvas = document.createElement('canvas');
    canvas.setAttribute('width', '1000');
    canvas.setAttribute('height', '1000');
    _this.canvas = canvas;
    element.appendChild(canvas);
    setTimeout(function () {
      set_canvas();
    }, 0);
    window.addEventListener('resize', set_canvas);
  };

  this.get_canvas = function () {
    return this.canvas;
  };

  this.destroy = function () {
    window.removeEventListener('resize', set_canvas);
  };

  function set_canvas() {
    var tl = {
      left: topLeft.offsetLeft,
      top: topLeft.offsetTop
    };
    var br = {
      left: botRight.offsetLeft,
      top: botRight.offsetTop
    };
    canvas.style.top = tl.top + 'px';
    canvas.style.left = tl.left + 'px';
    canvas.style.width = br.left - tl.left + botRight.offsetWidth + 'px';
    canvas.style.height = br.top - tl.top + botRight.offsetHeight + 'px';
  }

  var make_cell = function make_cell(c, r) {
    var td = document.createElement('td');
    var minterm = to_minterm(c, r);
    var bit = '0';

    for (var i = 0; i < main.options.minterms.length; i++) {
      if (minterm === +main.options.minterms[i]) {
        bit = '1';
        break;
      }
    }

    for (i = 0; i < main.options.dontcare.length; i++) {
      if (minterm === +main.options.dontcare[i]) {
        bit = 'X';
        break;
      }
    }

    if (main.options.labelMinterms) {
      td.innerHTML = '<span class="minterm">m' + minterm + '</span>' + bit;
    } else {
      td.innerHTML = bit;
    }

    td.addEventListener('click', function (event) {
      event.preventDefault();

      if (_this.main.options.strict && bit === '0') {
        var html = '<p>You are only allowed to select cells that are either true ' + 'or set to don\'t care.</p><p>We are grouping minterms that all are true ' + 'so we can minimize the circuit. So, only true cells can be grouped.</p>';
        var dlg = new _MessageDialog__WEBPACK_IMPORTED_MODULE_0__["MessageDialog"](main, "You can't do that", html);
        dlg.open();
        return;
      }

      if (td.classList.contains("kmap-cl-selected")) {
        td.classList.remove("kmap-cl-selected");

        var n = _this.selected.indexOf(minterm);

        if (n > -1) {
          _this.selected.splice(n, 1);
        }
      } else {
        td.classList.add("kmap-cl-selected");

        if (!is_selected(minterm)) {
          _this.selected.push(minterm);

          _this.selected.sort(function (a, b) {
            return a - b;
          });
        }
      }
    });
    return td;
  };

  var to_minterm = function to_minterm(c, r) {
    var map;

    if (+_this.main.options.size === 2) {
      map = [[0, 2], [1, 3]];
    } else if (+_this.main.options.size === 3) {
      map = [[0, 2, 6, 4], [1, 3, 7, 5]];
    } else {
      map = [[0, 4, 12, 8], [1, 5, 13, 9], [3, 7, 15, 11], [2, 6, 14, 10]];
    }

    return map[r - 1][c - 1];
  };

  var is_selected = function is_selected(minterm) {
    return _this.selected.indexOf(minterm) > -1; //
  };

  this.clear = function () {
    this.selected = [];
    var tds = this.element.querySelectorAll('td');

    var _iterator2 = _createForOfIteratorHelper(tds),
        _step2;

    try {
      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
        var td = _step2.value;
        td.classList.remove('kmap-cl-selected');
      }
    } catch (err) {
      _iterator2.e(err);
    } finally {
      _iterator2.f();
    }
  };

  initialize();
};

/***/ }),

/***/ "./src/Kmap/MessageDialog.js":
/*!***********************************!*\
  !*** ./src/Kmap/MessageDialog.js ***!
  \***********************************/
/*! exports provided: MessageDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageDialog", function() { return MessageDialog; });
/**
 * The standard Message dialog box.
 *
 * Pretty minimalist dialog box
 *
 * @param main The Main object
 * @param title Title for the dialog box
 * @param body Body HTML to put in the dialog box
 * @constructor
 */
var MessageDialog = function MessageDialog(main, title, body) {
  var div = null;

  this.open = function () {
    // The top level dialog element
    div = document.createElement('div');
    div.classList.add('kmap-cl-dlg');
    main.element.appendChild(div); // The mask

    var mask = document.createElement('div');
    div.appendChild(mask); // The dialog box itself

    var dlg = document.createElement('div');
    div.appendChild(dlg); // Title bar

    var tb = document.createElement('div');
    dlg.appendChild(tb);
    tb.innerText = title; // Body

    var db = document.createElement('div');
    dlg.appendChild(db);
    db.innerHTML = body; // Controls

    var controls = document.createElement('div');
    dlg.appendChild(controls);
    var ok = document.createElement('button');
    controls.appendChild(ok);
    ok.innerText = 'Ok';
    ok.addEventListener('click', function (event) {
      event.preventDefault();

      if (div !== null) {
        main.element.removeChild(div);
        div = null;
      }
    });
  };
};

/***/ }),

/***/ "./src/Kmap/Options.js":
/*!*****************************!*\
  !*** ./src/Kmap/Options.js ***!
  \*****************************/
/*! exports provided: Options */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Options", function() { return Options; });
/**
 * User interface options.
 *
 * Options can be passed as a Javascript Object, JSON, or base64-encoded JSON
 *
 * @param options User provided options that override the default values.
 * @constructor
 */
var Options = function Options(options) {
  options = options ? options : {};

  if (options !== Object(options)) {
    if (options.substr(0, 1) === '{') {
      options = JSON.parse(options);
    } else {
      // Not JSON, must be base64 encoded
      options = JSON.parse(atob(options));
    }
  } /// The input size: 2, 3, or 4


  this.size = 4; /// The minterms. Set to integers starting at 0

  this.minterms = []; // [1, 2, 7, 8, 9, 14];
  /// The don't care minterms

  this.dontcare = []; /// Labels for the variables.

  this.labels = ['A', 'B', 'C', 'D']; /// Generate don't care maps

  this.genDontCare = false; /// Are don't cares an option for the generator?

  this.genDontCareOption = true; //
  // User interface sections
  //
  /// Include the generator?

  this.generator = true; /// Include the manual data entry section?

  this.manual = false; /// Include the map?

  this.map = true; /// Include the solution section?

  this.solution = true; /// Include the To PNG button

  this.toPNG = false; /// If set true, practice generate features are disabled

  this.fixed = false; /// Verbose answers on mistakes

  this.verbose = true; /// If true, the minterm name appears in each cell.

  this.labelMinterms = true; /// If set true, user input is checked for selecting invalid cells
  /// such as zeros.

  this.strict = true; /// If true, the header Karnaugh Map is included with an option to hide the map

  this.mapHeading = true; /// A results selector. Selector that will be set to the success value
  /// if the expression successfully checks

  this.resultSel = null; /// Value resultsSel will be set to if check is successful ('fail' otherwise)

  this.success = 'success'; /// Selector that will be set to the expression each time check is pressed.

  this.expressionSel = null; /// Is the solve button provided?

  this.solve = false; /// Is the problem solved?

  this.solved = false;

  for (var property in options) {
    if (options.hasOwnProperty(property)) {
      if (!this.hasOwnProperty(property)) {
        throw new Error("Invalid option " + property);
      }

      this[property] = options[property];
    }
  }
};

/***/ }),

/***/ "./src/Kmap/Solution.js":
/*!******************************!*\
  !*** ./src/Kmap/Solution.js ***!
  \******************************/
/*! exports provided: Solution */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Solution", function() { return Solution; });
/* harmony import */ var _Logic_Expression__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Logic/Expression */ "./src/Logic/Expression.js");
/* harmony import */ var _Logic_QuineMcCluskeySolver__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Logic/QuineMcCluskeySolver */ "./src/Logic/QuineMcCluskeySolver.js");
/* harmony import */ var _Vendor_Blob_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Vendor/Blob.js */ "./src/Vendor/Blob.js");
/* harmony import */ var _Vendor_Blob_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Vendor_Blob_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Vendor_FileSaver_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Vendor/FileSaver.js */ "./src/Vendor/FileSaver.js");
/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! html2canvas */ "./node_modules/html2canvas/dist/html2canvas.js");
/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(html2canvas__WEBPACK_IMPORTED_MODULE_4__);
function _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }






/**
 * Practice page solution form
 * @param main Main object
 * @param element Parent element
 * @constructor
 */

var Solution = function Solution(main, element) {
  var _this = this;

  this.main = main; // The various section elements

  var div = null,
      expressionInput = null,
      result = null;

  var initialize = function initialize() {
    // We only create the div is the user wants the solution
    // interface or is a solution is presented.
    if (main.options.solution || main.options.solved) {
      div = document.createElement('div');
      div.classList.add('kmap-cl-solution');
      element.append(div); // If a solution is presented, we don't need the interface

      if (main.options.solution && !main.options.solved) {
        addDiv();
      } // Results div


      result = document.createElement('div');
      div.appendChild(result);
    }
  }; // Add the <div> to main


  var addDiv = function addDiv() {
    // Heading
    var h3 = document.createElement('h3');
    h3.innerText = 'Solution';
    div.appendChild(h3);
    var form = document.createElement('form');
    div.appendChild(form); //
    // Enter expression
    // '<p><label>Enter Expression<br><input type="text" spellcheck="false" class="expression"></label></p>'
    //

    var p = document.createElement('p');
    form.appendChild(p);
    var label = document.createElement('label');
    p.appendChild(label);
    label.innerText = 'Enter Expression';
    label.appendChild(document.createElement('br'));
    expressionInput = document.createElement('input');
    expressionInput.setAttribute('type', 'text');
    expressionInput.setAttribute('spellcheck', 'false');
    label.appendChild(expressionInput); //
    // Check button
    //

    p = document.createElement('p');
    form.appendChild(p);
    var check = document.createElement('button');
    check.classList.add('check');
    check.innerText = 'Check';
    p.appendChild(check);
    check.addEventListener('click', function (event) {
      event.preventDefault();

      _this.check();
    }); //
    // Clear button (input)
    //

    p.appendChild(document.createTextNode(' '));
    var clear = document.createElement('a');
    clear.classList.add('clear');
    p.appendChild(clear);
    clear.addEventListener('click', function (event) {
      event.preventDefault();

      _this.clear();
    }); //
    // Optional solve button
    //

    if (main.options.solve) {
      var solve = document.createElement('button');
      solve.classList.add('kmap-cl-solve');
      solve.innerHTML = 'Solve';
      p.appendChild(solve);
      solve.addEventListener('click', function (event) {
        event.preventDefault();

        _this.solve();
      });
    } //
    // Optional To PNG button
    //


    if (main.options.toPNG) {
      var toPNG = document.createElement('button');
      toPNG.classList.add('kmap-cl-topng');
      toPNG.innerHTML = 'To PNG';
      p.appendChild(toPNG);
      toPNG.addEventListener('click', function (event) {
        event.preventDefault();

        _this.toPNG();
      });
    }
  };
  /**
   * Clear the map
   */


  this.clear = function () {
    if (expressionInput !== null) {
      expressionInput.value = '';
    }

    if (result !== null) {
      result.innerHTML = '';
    }
  };

  this.check = function () {
    var mt = '';
    var first = true;

    for (var _i in main.options.minterms) {
      if (first) {
        mt += ",";
      } else {
        first = false;
      }

      mt += main.options.minterms[_i];
    }

    result.innerHTML = '';
    var expression = new _Logic_Expression__WEBPACK_IMPORTED_MODULE_0__["Expression"]();
    expression.labels = main.options.labels;
    expression.set_size(main.options.size);
    var str = expressionInput.value;

    if (main.options.expressionSel !== null) {
      var elements = document.querySelectorAll(main.options.expressionSel);

      var _iterator = _createForOfIteratorHelper(elements),
          _step;

      try {
        for (_iterator.s(); !(_step = _iterator.n()).done;) {
          var _element = _step.value;
          _element.value = str.replace(/(<([^>]+)>)/ig, "");
        }
      } catch (err) {
        _iterator.e(err);
      } finally {
        _iterator.f();
      }
    }

    try {
      expression.parse(str);
    } catch (msg) {
      fail('<p>Your expression failed to parse and must not be ' + 'in the correct form.</p>' + '<p>' + msg + '</p>');
      return;
    } // Is this result minimal?


    var qm = new _Logic_QuineMcCluskeySolver__WEBPACK_IMPORTED_MODULE_1__["QuineMcCluskeySolver"]();
    qm.labels = main.options.labels;
    qm.init(main.options.size);

    for (var i in main.options.minterms) {
      qm.set(main.options.minterms[i], true);
    }

    for (i in main.options.dontcare) {
      qm.set(main.options.dontcare[i], undefined);
    }

    qm.compute();
    var qmExpression = new _Logic_Expression__WEBPACK_IMPORTED_MODULE_0__["Expression"]();
    qmExpression.labels = main.options.labels;
    qmExpression.set_size(main.options.size);
    qmExpression.parse(qm.expression());
    var valid = true; //
    // Test that every minterm supplied is either
    // a valid minterm or a don't care
    //

    for (var i in expression.minterms.minterms) {
      var m = expression.minterms.minterms[i];
      var inlist = false;

      for (var j in main.options.minterms) {
        if (main.options.minterms[j] == m) {
          inlist = true;
          break;
        }
      }

      for (j in main.options.dontcare) {
        if (main.options.dontcare[j] == m) {
          inlist = true;
          break;
        }
      }

      if (!inlist) {
        // If we got to here, this term is extraneous!
        valid = false;
        break;
      }
    } //
    // Test that every minterm required is in the supplied list
    //


    for (i in main.options.minterms) {
      m = main.options.minterms[i];
      inlist = false;

      for (var j in expression.minterms.minterms) {
        if (expression.minterms.minterms[j] == m) {
          inlist = true;
          break;
        }
      }

      if (!inlist) {
        // If we got to here, this term is extraneous!
        valid = false;
        break;
      }
    }

    if (!valid) {
      if (main.options.verbose) {
        var html = '<p>Your expression is not a valid solution for this ' + 'set of minterms. The minterms for your expression have been ' + 'computed as: </p>';

        if (expression.minterms.minterms.length > 0) {
          html += '<p class="center small">' + expression.minterms.list() + '</p>';
        } else {
          html += '<p class="center small">none</p>';
        }
      } else {
        var html = '<p>Your expression is not a valid solution for this ' + 'set of minterms.</p>';
      }

      fail(html);
      return;
    }

    if (!expression.as_good_as(qmExpression)) {
      if (main.options.verbose) {
        fail('<p>Your expression is not minimal. A minimal solution ' + 'for this problem is:</p>' + '<p class="small">' + qm.expression() + '</p>');
      } else {
        fail('<p>Your expression is not minimal.</p>');
      }

      return;
    } //
    // Success
    //


    result.innerHTML = '<p>Your expression is correct and minimal.</p>';

    if (main.options.resultSel !== null) {
      var _elements = document.querySelectorAll(main.options.resultSel);

      var _iterator2 = _createForOfIteratorHelper(_elements),
          _step2;

      try {
        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
          var _element2 = _step2.value;
          _element2.value = main.options.success;
        }
      } catch (err) {
        _iterator2.e(err);
      } finally {
        _iterator2.f();
      }
    }
  };

  this.solve = function () {
    var qm = this.minimumExpression();

    if (result !== null) {
      result.innerHTML = '<p class="center">' + qm.expression() + "</p>";
    }

    main.work.map.clear();
    var groups = main.work.groups;
    groups.clear();
    var terms = qm.expression().split('+');
    var exp = new _Logic_Expression__WEBPACK_IMPORTED_MODULE_0__["Expression"]();
    exp.labels = main.options.labels;
    exp.set_size(main.options.size);

    for (var i = 0; i < terms.length; i++) {
      var term = terms[i];
      exp.parse(term);
      groups.add_group(exp.minterms.minterms);
    }

    groups.drawGroups();
  };

  var fail = function fail(msg) {
    result.innerHTML = msg;

    if (main.options.resultSel !== null) {
      var elements = document.querySelectorAll(main.options.resultSel);

      var _iterator3 = _createForOfIteratorHelper(elements),
          _step3;

      try {
        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
          var _element3 = _step3.value;
          _element3.value = 'fail';
        }
      } catch (err) {
        _iterator3.e(err);
      } finally {
        _iterator3.f();
      }
    }
  };

  this.minimumExpression = function () {
    // Is this result minimal?
    var qm = new _Logic_QuineMcCluskeySolver__WEBPACK_IMPORTED_MODULE_1__["QuineMcCluskeySolver"]();
    qm.labels = this.main.options.labels;
    qm.init(this.main.options.size);

    for (var i in this.main.options.minterms) {
      qm.set(this.main.options.minterms[i], true);
    }

    for (i in this.main.options.dontcare) {
      qm.set(this.main.options.dontcare[i], undefined);
    }

    qm.compute();
    return qm;
  };

  this.toPNG = function () {
    var _this2 = this;

    html2canvas__WEBPACK_IMPORTED_MODULE_4___default()(main.element).then(function (canvas) {
      var options = _this2.main.options;
      var filename = 'k' + options.size;

      if (main.minterms.dontcare.length > 0) {
        filename += 'x';
      }

      filename += '-';

      var _iterator4 = _createForOfIteratorHelper(main.minterms.minterms),
          _step4;

      try {
        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
          var _term = _step4.value;
          filename += new Number(_term).toString(16);
        }
      } catch (err) {
        _iterator4.e(err);
      } finally {
        _iterator4.f();
      }

      if (main.minterms.dontcare.length > 0) {
        filename += '-';

        var _iterator5 = _createForOfIteratorHelper(main.minterms.dontcare),
            _step5;

        try {
          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
            var term = _step5.value;
            filename += new Number(term).toString(16);
          }
        } catch (err) {
          _iterator5.e(err);
        } finally {
          _iterator5.f();
        }
      }

      filename += '.png';
      canvas.toBlob(function (blob) {
        Object(_Vendor_FileSaver_js__WEBPACK_IMPORTED_MODULE_3__["default"])(blob, filename);
      });
    });
  };

  initialize();
};

/***/ }),

/***/ "./src/Kmap/Utility/Ready.js":
/*!***********************************!*\
  !*** ./src/Kmap/Utility/Ready.js ***!
  \***********************************/
/*! exports provided: Ready */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Ready", function() { return Ready; });
/**
 * Simple Document ready function, equivalent to jQuery's document ready.
 * @constructor
 */
var Ready = function Ready() {};
/**
 * Call a function when the document is readon.
 * @param fn Function to be called on document ready
 */

Ready.go = function (fn) {
  if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
    fn();
  } else {
    document.addEventListener('DOMContentLoaded', fn);
  }
};

/***/ }),

/***/ "./src/Kmap/Work.js":
/*!**************************!*\
  !*** ./src/Kmap/Work.js ***!
  \**************************/
/*! exports provided: Work */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Work", function() { return Work; });
/* harmony import */ var _Map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Map */ "./src/Kmap/Map.js");
/* harmony import */ var _Groups__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Groups */ "./src/Kmap/Groups.js");


/**
 * The work area is the Karnaugh map and the groupings controls.
 * @param main
 * @param element
 * @constructor
 */

var Work = function Work(main, element) {
  this.map = null;
  this.groups = null;
  var div, left, right;

  this.initialize = function () {
    if (main.options.mapHeading) {
      var h3 = document.createElement('h3');
      element.appendChild(h3);
      var checkBox = document.createElement('input');
      checkBox.setAttribute('type', 'checkbox');
      checkBox.setAttribute('checked', 'true');
      h3.appendChild(checkBox);
      h3.appendChild(document.createTextNode(' Karnaugh Map'));
      checkBox.addEventListener('change', function (event) {
        event.preventDefault();

        if (checkBox.checked) {
          div.style.display = 'table';
        } else {
          div.style.display = 'none';
        }
      });
    } // Create the main div that contains the work area


    div = document.createElement('div');
    div.classList.add('kmap-cl-work');
    element.appendChild(div);
    this.div = div;
    this.render();
  };

  this.render = function () {
    div.innerHTML = '';
    left = document.createElement('div');
    div.appendChild(left);
    right = document.createElement('div');
    div.appendChild(right); //
    // Add the Kmap
    //

    if (this.map !== null) {
      this.map.destroy();
    }

    this.map = new _Map__WEBPACK_IMPORTED_MODULE_0__["Map"](main, right); //
    // Add the groups
    //

    this.groups = new _Groups__WEBPACK_IMPORTED_MODULE_1__["Groups"](main, left);
  };

  this.initialize();
};

/***/ }),

/***/ "./src/Logic/Expression.js":
/*!*********************************!*\
  !*** ./src/Logic/Expression.js ***!
  \*********************************/
/*! exports provided: Expression */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Expression", function() { return Expression; });
/* harmony import */ var _Minterms__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Minterms */ "./src/Logic/Minterms.js");

/**
 * Handle simple expressions. Only works for sum of products
 * for now. Will consider fancier version later on.
 * @constructor
 */

var Expression = function Expression() {
  var that = this;
  var size = 4;
  this.minterms = new _Minterms__WEBPACK_IMPORTED_MODULE_0__["Minterms"]();
  this.labels = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K'];
  /**
   * Set the size of the expression
   * @param sz Value 1-? number of terms
   */

  this.set_size = function (sz) {
    size = sz;
    this.minterms.size = sz;
    terms_init();
  };
  /**
   * Test that this expression is as good as some other expression.
   * @param other
   */


  this.as_good_as = function (other) {
    if (this.num_products() > other.num_products()) {
      return false;
    }

    if (this.num_terms() > other.num_terms()) {
      return false;
    }

    return true;
  };
  /*
   * Minterms
   */


  function generate_minterms() {
    that.minterms.clear();

    for (var i = 0; i < Math.pow(2, size); i++) {
      terms_set(i);
      var resultS = false;

      for (var s in sop) {
        var prod = sop[s];
        var resultP = true;

        for (var p in prod) {
          var t = prod[p];

          if (t.not) {
            resultP = resultP && !t.term.value;
          } else {
            resultP = resultP && t.term.value;
          }
        }

        resultS = resultS || resultP;
      }

      if (resultS) {
        that.minterms.add(i);
      }
    }
  }
  /**
   * Parse an expression in sum-of-products form only
   * @param str
   */


  var sop = [];

  this.parse = function (exp) {
    lex(exp);
    sop = [];
    var prod = [];

    if (token() === "0") {
      generate_minterms();
      return;
    }

    if (token() === "1") {
      this.minterms.clear();

      for (var i = 0; i < Math.pow(2, size); i++) {
        this.minterms.add(i);
      }

      return;
    }

    while (true) {
      var ch = token();

      if (ch === null) {
        break;
      }

      if (ch === '+') {
        if (prod.length === 0) {
          error("Syntax error");
        }

        sop.push(prod);
        prod = [];
        advance();
      } else {
        // Is it a term?
        var term = get_term(ch);

        if (term !== null) {
          // We have a new term
          // Have we already seen it?
          for (var j in prod) {
            if (term === prod[j].term) {
              // Already seen this term
              error("Not in correct sum of products form. " + "Terms may only be used once per product.");
            }
          }

          advance();

          if (token() === "'") {
            prod.push({
              term: term,
              not: true
            });
            advance();
          } else {
            prod.push({
              term: term,
              not: false
            });
          }
        } else {
          error("Unexpected symbol.");
        }
      }
    }

    if (prod.length > 0) {
      sop.push(prod);
      prod = [];
    } else {
      error("Not in correct sum of products form. " + "Missing terms?");
    }

    generate_minterms();
  };

  this.num_products = function () {
    return sop.length;
  };

  this.num_terms = function () {
    var cnt = 0;

    for (var i in sop) {
      cnt += sop[i].length;
    }

    return cnt;
  };

  function error(msg) {
    throw "Expression parsing error [" + expressionLoc + "]: " + msg;
  }
  /*
   * Terms management
   */


  var terms = [];

  function terms_init() {
    terms = []; // Create the terms

    for (var i = 0; i < size; i++) {
      var term = {
        literal: that.labels[i],
        value: false
      };
      terms.push(term);
    }
  }

  function get_term(ch) {
    for (var i in terms) {
      if (ch.toUpperCase() === terms[i].literal.toUpperCase()) {
        return terms[i];
      }
    }

    return null;
  }

  function terms_set(val) {
    for (var j = terms.length - 1; j >= 0; j--) {
      terms[j].value = (val & 1) == 1;
      val >>= 1;
    }
  }
  /*
   * Simple lexical analyzer
   */


  var expression;
  var expressionLoc;

  function lex(exp) {
    expression = exp;
    expressionLoc = 0;
  }

  function token() {
    while (expressionLoc < expression.length) {
      var ch = expression.charAt(expressionLoc);

      if (ch !== ' ') {
        // Is this a term?
        for (var i in terms) {
          var maybe = expression.substr(expressionLoc, terms[i].literal.length);

          if (maybe === terms[i].literal) {
            return maybe;
          }
        }

        return ch;
      }

      expressionLoc++;
    }

    return null;
  }

  function advance() {
    var t = token();

    if (t !== null) {
      expressionLoc += t.length;
    }
  }

  this.set_size(4);
};

/***/ }),

/***/ "./src/Logic/Minterms.js":
/*!*******************************!*\
  !*** ./src/Logic/Minterms.js ***!
  \*******************************/
/*! exports provided: Minterms */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Minterms", function() { return Minterms; });
/**
 * Object that represents a list of minterms and can generate random lists
 * @constructor
 */
var Minterms = function Minterms() {
  this.size = 4;
  this.minterms = []; // List of numbers

  this.dontcare = []; // List of don't cares

  /**
   * Generate random minterms and optionally dontcares
   * @param oneChance probability a minterm will be true
   * If omitted, the probability is 0.5
   * @param dcChance probablity a minterm will a dontcare
   * If omitted, the probability is 0
   */

  this.generate = function (oneChance, dcChance) {
    if (oneChance === undefined) {
      oneChance = 0.5;
    }

    if (dcChance === undefined) {
      dcChance = 0;
    }

    this.dontcare = [];
    this.minterms = [];
    var num = Math.pow(2, this.size);

    for (var i = 0; i < num; i++) {
      var rnd = Math.random();

      if (rnd <= oneChance) {
        this.minterms.push(i);
      } else if (rnd > 1 - dcChance) {
        this.dontcare.push(i);
      }
    }
  };
  /**
   * Generate random minterms and optionally dontcares
   * @param oneChance probability a minterm will be true
   * If omitted, the probability is 0.5
   * @param oneMin Minimum acceptable number of minterms
   * @param oneMax Maximum acceptable number of minterms
   * @param dcChance probablity a minterm will a dontcare
   * If omitted, the probability is 0
   * @param dcMin Minimum acceptable number of don't cares
   * @param dxMax Maximum acceptable number of don't cares
   */


  this.generate_bounded = function (oneChance, oneMin, oneMax, dcChance, dcMin, dcMax) {
    if (dcMin === undefined) {
      dcMin = 0;
    }

    if (dcMax === undefined) {
      dcMax = Math.pow(2, this.size);
    }

    for (var i = 0; i < 1000; i++) {
      this.generate(oneChance, dcChance);

      if (this.minterms.length >= oneMin && this.minterms.length <= oneMax && this.dontcare.length >= dcMin && this.dontcare.length <= dcMax) {
        return;
      }
    }
  };
  /**
   * Set the minterms list. This will accept any number of function arguments.
   */


  this.set = function () {
    this.minterms = [];

    for (var i = 0; i < arguments.length; i++) {
      this.minterms.push(arguments[i]);
    }

    this.minterms.sort(function (a, b) {
      return a - b;
    });
  };
  /**
   * Set from a list of minterms as an array
   * @param minterms Minterms array. The array is copied.
   * @param dontcare Optional don't care array
   */


  this.set_from = function (minterms, dontcare) {
    this.minterms = minterms.slice();
    this.minterms.sort(function (a, b) {
      return a - b;
    });

    if (dontcare !== null) {
      this.dontcare = dontcare.slice();
      this.dontcare.sort(function (a, b) {
        return a - b;
      });
    } else {
      this.dontcare = [];
    }
  };
  /**
   * Determine if two minterm lists are the same.
   * @param other Other Minterms object
   */


  this.equal = function (other) {
    var otherMinterms;

    if (other instanceof Logic.Minterms) {
      otherMinterms = other.minterms;
    } else {
      otherMinterms = other;
    }

    if (otherMinterms.length !== this.minterms.length) {
      return false;
    }

    for (var i = 0; i < otherMinterms.length; i++) {
      if (otherMinterms[i] != this.minterms[i]) {
        return false;
      }
    }

    return true;
  };

  this.clear = function () {
    this.minterms = [];
  };

  this.add = function (minterm) {
    for (var i in this.minterms) {
      if (this.minterms[i] == minterm) {
        return;
      }
    }

    this.minterms.push(minterm);
    this.minterms.sort(function (a, b) {
      return a - b;
    });
  };

  this.list = function (withBreak) {
    var first = true;
    var ret = '';
    var cr = false;

    for (var i in this.minterms) {
      if (first) {
        first = false;
      } else {
        ret += ', ';
      }

      if (withBreak === true && !cr && ret.length > 40) {
        cr = true;
        ret += '<br>';
      }

      ret += 'm' + this.minterms[i];
    }

    return ret;
  };

  this.list_dontcare = function (withBreak) {
    var first = true;
    var ret = '';
    var cr = false;

    for (var i in this.dontcare) {
      if (first) {
        first = false;
      } else {
        ret += ', ';
      }

      if (withBreak === true && !cr && ret.length > 40) {
        cr = true;
        ret += '<br>';
      }

      ret += 'm' + this.dontcare[i];
    }

    return ret;
  };
};

/***/ }),

/***/ "./src/Logic/QuineMcCluskeySolver.js":
/*!*******************************************!*\
  !*** ./src/Logic/QuineMcCluskeySolver.js ***!
  \*******************************************/
/*! exports provided: QuineMcCluskeySolver */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuineMcCluskeySolver", function() { return QuineMcCluskeySolver; });
/* harmony import */ var _qmc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./qmc */ "./src/Logic/qmc.js");

/**
 * Solver for circuit minimization based on Quine McCluskey algorithm.
 * This uses the implemention in qmc.js, but adapts the interface
 * to match the variable names I use.
 * @constructor
 */

var QuineMcCluskeySolver = function QuineMcCluskeySolver() {
  this.qm = new _qmc__WEBPACK_IMPORTED_MODULE_0__["QuineMcCluskeyDataCtrl"]();
  this.labels = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K'];

  this.init = function (numVars) {
    this.qm.init(numVars);
    this.clear();
  };

  this.clear = function () {
    var size = Math.pow(2, this.qm.noOfVars);
    this.qm.allowDontCare = true;

    for (var i = 0; i < size; i++) {
      this.qm.setFuncData(i, 0);
    }
  };
  /**
   * Set a minterm
   * @param minterm Minterm number
   * @param value true, false, or undefined for dontcare
   */


  this.set = function (minterm, value) {
    if (value === true) {
      this.qm.setFuncData(minterm, 1);
    } else if (value === undefined) {
      this.qm.setFuncData(minterm, 2);
    } else {
      this.qm.setFuncData(minterm, 0);
    }
  };

  this.compute = function () {
    this.qm.compute();
  };

  this.num_terms = function () {
    return this.qm.minimalTermPrims.length;
  };

  this.expression = function () {
    var qm = this.qm;
    var exp = "";
    var first = true;

    if (qm.minimalTermPrims.length === 0) {
      return "0";
    }

    if (qm.minimalTermPrims.length === 1 && qm.minimalTermPrims[0].termString === '1') {
      return "1";
    } // Loop over the results


    for (var i = 0; i < qm.minimalTermPrims.length; i++) {
      if (!first) {
        exp += "+";
      } else {
        first = false;
      } //
      // Find smallest prime implicant.
      // This is probably not strictly necessary
      // but I don't trust the method they use
      // that stops on the first iteration of a
      // for/in loop.
      //


      first = true;
      var minterm;
      var primTerm = qm.minimalTermPrims[i];

      for (var imp in primTerm.implicant.imp) {
        if (first) {
          minterm = imp;
          first = false;
        } else {
          if (imp < minterm) {
            minterm = imp;
          }
        }
      } // minterm is a minterm that is needed
      // except that some bits can be masked off
      // I count backwards, since I prefer
      // the most significant value to be A
      // to match the course materials.


      var one = 1 << qm.noOfVars - 1; // If a bit is set in primTerm.implicant.bitMask,
      // that term is not needed.

      var needed = ~primTerm.implicant.bitMask;
      var term = '';

      for (var v = qm.noOfVars - 1; v >= 0; v--) {
        var v1 = qm.noOfVars - v - 1;

        if ((needed & one) === one) {
          if ((minterm & one) === one) {
            term += this.labels[v1];
          } else {
            term += this.labels[v1] + "'";
          }
        }

        one = one >> 1;
      }

      exp += term;
    }

    return exp;
  };
};

/***/ }),

/***/ "./src/Logic/qmc.js":
/*!**************************!*\
  !*** ./src/Logic/qmc.js ***!
  \**************************/
/*! exports provided: QuineMcCluskeyDataCtrl, QuineMcCluskey */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuineMcCluskeyDataCtrl", function() { return QuineMcCluskeyDataCtrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuineMcCluskey", function() { return QuineMcCluskey; });
// Copyright (C) Thorsten Thormaehlen, Marburg, 2013, All rights reserved
// Contact: www.thormae.de
// This software is written for educational (non-commercial) purpose. 
// There is no warranty or other guarantee of fitness for this software, 
// it is provided solely "as is". 
function PetrickMethod() {
  this.problem;
  this.maxProblemSize = 100;
  this.solution;
  this.log = "";
  var that = this;

  this.test = function () {
    var andArray = new Array();
    var orArray;
    var monomA;
    var monomB;
    orArray = new Array();
    monomA = new Object(); // using objects ensures that (x and x) = x

    monomA[1] = 1;
    orArray.push(monomA);
    monomB = new Object();
    monomB[2] = 2;
    orArray.push(monomB);
    andArray.push(orArray);
    orArray = new Array();
    monomA = new Object();
    monomA[3] = 3;
    orArray.push(monomA);
    monomB = new Object();
    monomB[4] = 4;
    orArray.push(monomB);
    andArray.push(orArray);
    orArray = new Array();
    monomA = new Object();
    monomA[1] = 1;
    orArray.push(monomA);
    monomB = new Object();
    monomB[3] = 3;
    orArray.push(monomB);
    andArray.push(orArray);
    orArray = new Array();
    monomA = new Object();
    monomA[5] = 5;
    orArray.push(monomA);
    monomB = new Object();
    monomB[6] = 6;
    orArray.push(monomB);
    andArray.push(orArray);
    orArray = new Array();
    monomA = new Object();
    monomA[2] = 2;
    orArray.push(monomA);
    monomB = new Object();
    monomB[5] = 5;
    orArray.push(monomB);
    andArray.push(orArray);
    orArray = new Array();
    monomA = new Object();
    monomA[4] = 4;
    orArray.push(monomA);
    monomB = new Object();
    monomB[6] = 6;
    orArray.push(monomB);
    andArray.push(orArray);
    /*orArray = new Array();
     monomA = new Object(); 
     monomA[4] = 4;
     orArray.push(monomA);
     monomB = new Object();
     monomB[4] = 4;
     orArray.push(monomB);
     andArray.push(orArray);*/

    this.solve(andArray);
  };

  this.solve = function (eq) {
    this.problem = eq;
    this.log = ""; //printEqnArray(eq);

    printEqnArrayFancy(eq); // multiply out

    var andArray = eq;
    var loopCounter = 0;

    while (andArray.length > 1) {
      var newAndArray = new Array();

      for (var i = 1; i < andArray.length; i += 2) {
        var orTermA = andArray[i - 1];
        var orTermB = andArray[i];
        var newOrArray = new Array();

        for (var a = 0; a < orTermA.length; a++) {
          for (var b = 0; b < orTermB.length; b++) {
            var monom1 = orTermA[a];
            var monom2 = orTermB[b];
            var resultingMonom = new Object();

            for (var m in monom1) {
              resultingMonom[monom1[m]] = monom1[m];
            }

            for (var n in monom2) {
              resultingMonom[monom2[n]] = monom2[n];
            }

            newOrArray.push(resultingMonom);
          }
        }

        newAndArray.push(newOrArray);
      } // if uneven copy last and-term


      if (andArray.length % 2 === 1) {
        newAndArray.push(andArray[andArray.length - 1]);
      } //printEqnArray(newAndArray);


      printEqnArrayFancy(newAndArray);
      andArray.length = 0; // simplify or-term

      for (var i = 0; i < newAndArray.length; i++) {
        var orTerm = newAndArray[i];
        var newOrTerm = simplifyOrTerm(orTerm);

        if (newOrTerm.length > 0) {
          andArray.push(newOrTerm);
        }
      }

      var problemSize = eqnArrayProblemSize(andArray);

      if (problemSize > this.maxProblemSize) {
        console.log("Error: The cyclic covering problem is too large to be solved with Petrick's method (increase maxProblemSize). Size=" + problemSize);
        return false;
      } //printEqnArray(andArray);


      printEqnArrayFancy(andArray);
      loopCounter++;
    }

    this.solution = andArray;
    return true;
  };

  function simplifyOrTerm(orTerm) {
    // find a monom that is the same or simpler than another one
    var newOrTerm = new Array();
    var markedForDeletion = new Object();

    for (var a = 0; a < orTerm.length; a++) {
      var keepA = true;
      var monomA = orTerm[a];

      for (var b = a + 1; b < orTerm.length && keepA; b++) {
        var monomB = orTerm[b];
        var overlapBoverA = 0;
        var lengthA = 0;

        for (var m in monomA) {
          if (monomB[m] in monomA) {
            overlapBoverA++;
          }

          lengthA++;
        }

        var overlapAoverB = 0;
        var lengthB = 0;

        for (var m in monomB) {
          if (monomA[m] in monomB) {
            overlapAoverB++;
          }

          lengthB++;
        }

        if (overlapBoverA === lengthB) {
          keepA = false;
        }

        if (lengthA < lengthB && overlapAoverB === lengthA) {
          markedForDeletion[b] = b;
        }
      }

      if (keepA) {
        if (a in markedForDeletion) {// do nothing
        } else newOrTerm.push(orTerm[a]);
      }
    }

    return newOrTerm;
  }

  function printEqnArrayFancy(andArray) {
    var str = "";

    for (var i = 0; i < andArray.length; i++) {
      var first = true;
      str += "(";
      var orArray = andArray[i];

      for (var j = 0; j < orArray.length; j++) {
        if (!first) str += " &or; ";
        var monom = orArray[j];

        for (var k in monom) {
          str += "<i>p</i><sub><small>" + monom[k] + "</small></sub>";
        }

        first = false;
      }

      str += ")";
    }

    if (that.log.length > 0) {
      that.log += "<p>&hArr;&nbsp;" + str + "</p>";
    } else {
      that.log += "<p>" + str + "</p>";
    }
  }

  function eqnArrayProblemSize(andArray) {
    var monomCounter = 0;

    for (var i = 0; i < andArray.length; i++) {
      var orArray = andArray[i];
      monomCounter += orArray.length;
    }

    return monomCounter;
  }

  function printEqnArray(andArray) {
    var str = "";

    for (var i = 0; i < andArray.length; i++) {
      var first = true;
      str += "(";
      var orArray = andArray[i];

      for (var j = 0; j < orArray.length; j++) {
        if (!first) str += " or ";
        var monom = orArray[j];

        for (var k in monom) {
          str += monom[k];
        }

        first = false;
      }

      str += ")";
    }

    console.log(str);
  }
}

function PrimTerm() {
  this.implicant = -1;
  this.termString = "";
  this.color = [0, 0, 0];
  this.coloredTermString = "";
  this.used = false;
  this.neededByVar = new Object();
}

function Implicant() {
  this.imp = new Object();
  this.isPrim = false;
  this.isOnlyDontCare = false;
  this.bitMask = 0;
}

function ImplicantGroup() {
  this.group = new Array();
  this.order = -1;
}

function PrimTermTable(ord) {
  this.essentialPrimTerms = new Array();
  this.order = ord;
  this.remainingVars = new Array();
  ;
  this.remainingPrimTerms = new Array();
  this.supersededPrimTerms = new Array();
}

function hsvToRgb(h, s, v) {
  var r, g, b;
  var i = Math.floor(h * 6);
  var f = h * 6 - i;
  var p = v * (1 - s);
  var q = v * (1 - f * s);
  var t = v * (1 - (1 - f) * s);

  switch (i % 6) {
    case 0:
      r = v, g = t, b = p;
      break;

    case 1:
      r = q, g = v, b = p;
      break;

    case 2:
      r = p, g = v, b = t;
      break;

    case 3:
      r = p, g = q, b = v;
      break;

    case 4:
      r = t, g = p, b = v;
      break;

    case 5:
      r = v, g = p, b = q;
      break;
  }

  return [Math.floor(r * 255), Math.floor(g * 255), Math.floor(b * 255)];
}

var QuineMcCluskeyDataCtrl = function QuineMcCluskeyDataCtrl() {
  this.noOfVars = -1;
  this.funcdata = new Array();
  this.primTerms = new Array();
  this.implicantGroups = new Array();
  this.minimalTerm = "";
  this.coloredMinimalTerm = "";
  this.minimalTermPrims = new Array();
  this.primTermTables = new Array();
  this.petrickSolver = new PetrickMethod();
  this.petrickTermPrims = new Array();
  this.allowDontCare = false;

  this.init = function (no) {
    this.noOfVars = no;
    this.funcdata.length = 0;
    this.primTerms.length = 0;
    this.implicantGroups.length = 0;
    this.minimalTerm = "0";
    this.coloredMinimalTerm = "0";
    this.minimalTermPrims.length = 0;
    this.primTermTables.length = 0;
    this.petrickTermPrims.length = 0;
    var noOfFuncData = Math.pow(2, this.noOfVars);

    for (var i = 0; i < noOfFuncData; i++) {
      this.funcdata.push(0);
    } //this.petrickSolver.test();

  };

  this.setFuncData = function (i, val) {
    if (i < 0 || i >= this.funcdata.length) return;
    this.funcdata[i] = val;
  };

  this.activated = function (i) {
    if (i < 0 || i >= this.funcdata.length) return;
    this.funcdata[i] += 1;

    if (this.allowDontCare) {
      if (this.funcdata[i] > 2) this.funcdata[i] = 0;
    } else {
      if (this.funcdata[i] > 1) this.funcdata[i] = 0;
    }

    this.compute();
  };

  this.random = function () {
    for (var i = 0; i < this.funcdata.length; i++) {
      if (this.allowDontCare) {
        this.funcdata[i] = Math.floor(Math.random() * 3);
      } else {
        this.funcdata[i] = Math.floor(Math.random() * 2);
      }
    }

    this.compute();
  };

  this.clear = function () {
    for (var i = 0; i < this.funcdata.length; i++) {
      this.funcdata[i] = 0;
    }

    this.compute();
  };

  function bitCount(value) {
    var counter = 0;

    while (value > 0) {
      if ((value & 1) === 1) counter++;
      value >>= 1;
    }

    return counter;
  }

  this.compute = function () {
    this.primTerms.length = 0;
    this.implicantGroups.length = 0;
    this.minimalTerm = "0";
    this.coloredMinimalTerm = "0";
    this.minimalTermPrims.length = 0;
    this.primTermTables.length = 0;
    this.petrickTermPrims.length = 0;
    var counter = 0;
    var lastIg = -1;
    var continueLoop = true;

    while (continueLoop) {
      continueLoop = false;
      var ig = new ImplicantGroup();

      if (counter === 0) {
        for (var i = 0; i < this.funcdata.length; i++) {
          if (this.funcdata[i] > 0) {
            var impl = new Implicant();
            impl.imp[i] = i;
            impl.isPrim = true;
            ig.group.push(impl);
            continueLoop = true;
          }
        }
      } else {
        for (var i = 0; i < lastIg.group.length; i++) {
          for (var j = i + 1; j < lastIg.group.length; j++) {
            var imp1 = lastIg.group[i];
            var imp2 = lastIg.group[j];

            if (imp1.bitMask === imp2.bitMask) {
              var found = false;
              var xor = -1;

              for (var m in imp1.imp) {
                for (var n in imp2.imp) {
                  var i1 = imp1.imp[m];
                  var i2 = imp2.imp[n]; //console.log(i1 + "<->" + i2);

                  xor = (i1 ^ i2) & ~imp1.bitMask;

                  if (bitCount(xor) === 1) {
                    //console.log("found merge candidate" + i1 + "<->" + i2);
                    found = true;
                  }

                  break;
                }

                break;
              }

              if (found) {
                imp1.isPrim = false;
                imp2.isPrim = false;
                var impl = new Implicant();
                impl.isPrim = true;
                impl.bitMask = imp1.bitMask | xor;

                for (var m in imp1.imp) {
                  impl.imp[m] = parseInt(m);
                }

                for (var n in imp2.imp) {
                  impl.imp[n] = parseInt(n);
                }

                var foundMatch = false; // determine if this combination is already there

                for (var k = 0; k < ig.group.length; k++) {
                  var exist = ig.group[k];
                  var isTheSame = true;

                  for (var m in impl.imp) {
                    var found = false;

                    for (var n in exist.imp) {
                      if (parseInt(m) === parseInt(n)) {
                        found = true;
                      }
                    }

                    if (!found) {
                      isTheSame = false;
                      break;
                    }
                  }

                  if (isTheSame) {
                    foundMatch = true;
                    break;
                  }
                }

                if (!foundMatch) {
                  ig.group.push(impl);
                  continueLoop = true;
                }
              }
            }
          }
        }
      }

      if (continueLoop) this.implicantGroups.push(ig);
      lastIg = ig;
      counter++;
    } // collect primterms


    this.primTerms.length = 0;
    this.minimalTermPrims.length = 0;
    var color = 0.0;

    for (var i = this.implicantGroups.length - 1; i >= 0; i--) {
      var g = this.implicantGroups[i].group;

      for (var j = 0; j < g.length; j++) {
        if (g[j].isPrim) {
          // prim terms introduced by don't cares
          // must have at least one 1
          var containsOne = false;
          var allFuncPrimTerm = g[j].imp;

          for (var kk in allFuncPrimTerm) {
            var k = allFuncPrimTerm[kk];

            if (this.funcdata[k] === 1) {
              containsOne = true;
            }
          }

          if (!containsOne) {
            g[j].isOnlyDontCare = true;
          } else {
            var primTerm = new PrimTerm();
            primTerm.implicant = g[j]; // extract minTerm as string

            for (var thisVal in primTerm.implicant.imp) {
              var minTerm = "";
              var one = 1;
              var needed = ~primTerm.implicant.bitMask;

              for (var v = 0; v < this.noOfVars; v++) {
                if ((needed & one) === one) {
                  if ((thisVal & one) === one) {
                    minTerm = "<i>x</i><sub><small>" + v + "</small></sub>" + minTerm;
                  } else {
                    minTerm = "<i>x&#772;</i><sub><small>" + v + "</small></sub>" + minTerm;
                  }
                }

                one = one << 1;
              }

              minTerm = "(" + minTerm + ")";
              if (primTerm.implicant.bitMask === Math.pow(2, this.noOfVars) - 1) minTerm = "1";
              primTerm.color = hsvToRgb(color, 1.0, 0.5);
              color += 0.22;
              color = color % 1.0;
              primTerm.termString = minTerm;
              var colorStr = "rgb(" + primTerm.color[0] + "," + primTerm.color[1] + "," + primTerm.color[2] + ")";
              primTerm.coloredTermString = "<span style='color:" + colorStr + "'>" + minTerm + "</span>";
              break;
            }

            this.primTerms.push(primTerm);
          }
        }
      }
    } // looking for essential prime implicants 


    var remaining = new Object();

    for (var i = 0; i < this.funcdata.length; i++) {
      if (this.funcdata[i] === 1) {
        remaining[i] = i;
      }
    }

    this.primTermTables.length = 0;
    var primTableLoop = 0;
    var primTableFound = this.primTerms.length > 0;
    var cyclicCoveringFound = false;
    var primTermTable;

    while (primTableFound) {
      primTableFound = false;
      primTermTable = new PrimTermTable(primTableLoop);

      for (var r in remaining) {
        primTermTable.remainingVars.push(remaining[r]);
      }

      if (primTableLoop === 0) {
        for (var j = 0; j < this.primTerms.length; j++) {
          primTermTable.remainingPrimTerms.push(this.primTerms[j]);
        }
      } else {
        // remove rows
        var prevTable = this.primTermTables[primTableLoop - 1];

        for (var k = 0; k < prevTable.remainingPrimTerms.length; k++) {
          if (!prevTable.remainingPrimTerms[k].used) {
            var superseded = false;
            var impA = prevTable.remainingPrimTerms[k].implicant.imp;
            var varCover = new Object();
            var countA = 0;

            for (var r in remaining) {
              var v = remaining[r];

              if (v in impA) {
                varCover[v] = v;
                countA++;
              }
            }

            for (var l = 0; l < prevTable.remainingPrimTerms.length && !superseded; l++) {
              if (!prevTable.remainingPrimTerms[l].used && k !== l) {
                var impB = prevTable.remainingPrimTerms[l].implicant.imp;
                var countB = 0;

                for (var r in varCover) {
                  var v = varCover[r];

                  if (v in impB) {
                    countB++;
                  }
                }

                if (countA === countB) {
                  var countBInRemaining = 0;

                  for (var r in remaining) {
                    var v = remaining[r];

                    if (v in impB) {
                      countBInRemaining++;
                    }
                  }

                  if (countBInRemaining > countA) {
                    superseded = true;
                  } else {
                    if (k > l) {
                      superseded = true;
                    }
                  }
                }
              }
            }

            if (!superseded) {
              primTermTable.remainingPrimTerms.push(prevTable.remainingPrimTerms[k]);
            } else {
              prevTable.supersededPrimTerms.push(prevTable.remainingPrimTerms[k]);
            }
          }
        }
      }

      if (primTermTable.remainingPrimTerms.length > 0) {
        this.primTermTables.push(primTermTable);
        var currentTerms = primTermTable.remainingPrimTerms;
        var toBeRemoved = new Object();

        for (var r in remaining) {
          var i = remaining[r];
          var count = 0;
          var term = -1;

          for (var j = 0; j < currentTerms.length && count < 2; j++) {
            if (i in currentTerms[j].implicant.imp) {
              term = j;
              count++;
            }
          }

          if (count === 1) {
            currentTerms[term].neededByVar[i] = primTableLoop;

            if (!currentTerms[term].used) {
              this.minimalTermPrims.push(currentTerms[term]);
              currentTerms[term].used = true;
              primTermTable.essentialPrimTerms.push(currentTerms[term]);
              primTableFound = true;

              for (var r in remaining) {
                var ii = remaining[r];

                if (ii in currentTerms[term].implicant.imp) {
                  toBeRemoved[ii] = ii;
                }
              }
            }
          }
        } // remove columns


        var tmpRemaining = new Object();

        for (var e in remaining) {
          var ee = remaining[e];
          tmpRemaining[ee] = ee;
          delete remaining[e];
        }

        var remainingCount = 0;

        for (var r in tmpRemaining) {
          var t = tmpRemaining[r];

          if (!(t in toBeRemoved)) {
            remaining[t] = t;
            remainingCount++;
          }
        }
      }

      if (remainingCount === 0) {
        primTableFound = false; // break loop
      } else {
        if (!primTableFound) {
          cyclicCoveringFound = true;
        }
      }

      primTableLoop++;
    }

    var solutionFound = true; // Petrick's Method

    if (cyclicCoveringFound) {
      //console.log("Cyclic covering found");
      var andArray = new Array();

      for (var r in remaining) {
        var ii = remaining[r];
        var orArray = new Array();

        for (var k = 0; k < primTermTable.remainingPrimTerms.length; k++) {
          var imp = primTermTable.remainingPrimTerms[k].implicant.imp;

          if (ii in imp) {
            var monom = new Object();
            monom[k] = k;
            orArray.push(monom);
          }
        }

        andArray.push(orArray);
      }

      solutionFound = this.petrickSolver.solve(andArray);

      if (solutionFound) {
        var solutions = this.petrickSolver.solution[0];
        var bestSolution = -1;
        var bestCount = 10000000;
        var bestVarCount = 10000000;

        for (var i = 0; i < solutions.length; i++) {
          var count = 0;

          for (var j in solutions[i]) {
            count++;
          }

          if (count <= bestCount) {
            // first sort accoring to monom length
            var foundBest = true;

            if (count === bestCount) {
              var bestVarCountNew = 0;

              for (var j in solutions[i]) {
                for (var v in primTermTable.remainingPrimTerms[j].implicant.imp) {
                  bestVarCountNew++;
                }
              }

              if (bestVarCountNew >= bestVarCount) foundBest = false;
            }

            if (foundBest) {
              bestCount = count;
              bestSolution = i;
              bestVarCount = 0;

              for (var j in solutions[bestSolution]) {
                for (var v in primTermTable.remainingPrimTerms[j].implicant.imp) {
                  bestVarCount++;
                }
              }
            }
          }
        } //console.log("Best solution " + bestSolution);


        var best = solutions[bestSolution];

        for (var b in best) {
          var addPrimTerm = primTermTable.remainingPrimTerms[best[b]];
          this.minimalTermPrims.push(addPrimTerm);
          this.petrickTermPrims.push(addPrimTerm);
        }
      }
    }

    if (solutionFound) {
      this.minimalTerm = "";
      this.coloredMinimalTerm = "";
      var firstL = true;

      for (var i = 0; i < this.minimalTermPrims.length; i++) {
        if (!firstL) {
          this.minimalTerm += " &or; ";
          this.coloredMinimalTerm += " &or; ";
        }

        this.minimalTerm += this.minimalTermPrims[i].termString;
        this.coloredMinimalTerm += this.minimalTermPrims[i].coloredTermString;
        firstL = false;
      }

      if (this.minimalTermPrims.length === 0) {
        this.minimalTerm = "0";
        this.coloredMinimalTerm = "0";
      }
    } else {
      this.minimalTerm = 'Error: The cyclic covering problem is too large (increase the "maxProblemSize" parameter)';
      this.coloredMinimalTerm = 'Error: The cyclic covering problem is too large (increase the "maxProblemSize" parameter)';
    }
  };
};
var QuineMcCluskey = function QuineMcCluskey(parentDivId, columns, language) {
  var myDiv = -1;
  var divId = parentDivId;
  this.cols = columns + 1;
  this.rows = Math.pow(2, columns);
  this.data = new QuineMcCluskeyDataCtrl();
  var that = this;
  var labels;

  if (language === 0) {
    labels = {
      ttable: "Truth table",
      minExp: "Minimal boolean expression",
      impli: "Implicants",
      order: "Order",
      primChart: "Prime implicant chart",
      primChartReduced: "Reduced prime implicant chart (Iteration",
      extractedPrims: "Extracted essential prime implicants",
      extractedMPrims: "Extracted prime implicants",
      petricksM: "Petrick's method"
    };
  } else {
    labels = {
      ttable: "Wahrheitstafel",
      minExp: "Minimaler boolescher Ausdruck",
      impli: "Implikanten",
      order: "Ordnung",
      primChart: "Primimplikantentafel",
      primChartReduced: "Reduzierte Primimplikantentafel (Iteration",
      extractedPrims: "Extrahierte essentielle Primimplikanten",
      extractedMPrims: "Extrahierte Primimplikanten",
      petricksM: "Verfahren von Petrick"
    };
  }

  this.init = function () {
    this.data.init(columns);
    myDiv = document.createElement('div');

    if (!myDiv) {
      console.log("QuineMcCluskey error: can not create a canvas element");
      myDiv = -1;
    } else {
      var parent = document.getElementById(divId);

      if (!parent) {
        if (divId !== "fakeDivId") {
          console.log("QuineMcCluskey error: can not find an element with the given name: " + divId);
        }

        myDiv = -1;
      } else {
        document.body.appendChild(myDiv);
        parent.appendChild(myDiv);
      }
    }

    this.update();
  };

  this.setNoOfVars = function (vars) {
    var c = parseInt(vars);
    if (c < 1 && c > 6) return;
    this.cols = c + 1;
    this.rows = Math.pow(2, c);
    this.data.init(c);
    this.update();
  };

  this.genRandom = function () {
    this.data.random();
    this.update();
  };

  this.allowDontCares = function (type) {
    if (type > 0) {
      this.data.allowDontCare = true;
    } else {
      this.data.allowDontCare = false;
    }

    this.data.clear();
    this.update();
  };

  this.drawImplicantGroup = function (g, parent, primFlag, t, drawPetrickVars) {
    var primTermTable = this.data.primTermTables[t];
    var myTable = document.createElement('table');
    myTable.setAttribute('class', 'qmcTableClass');
    var myRow = document.createElement('tr');
    var cell1h = document.createElement('td');
    cell1h.setAttribute('class', 'qmcTdNoBorder');
    cell1h.innerHTML = "";
    myRow.appendChild(cell1h);

    for (var j = 0; j < this.data.noOfVars; j++) {
      var myCell = document.createElement('th');
      myCell.innerHTML = "<i>x</i><sub><small>" + (this.data.noOfVars - 1 - j) + "</small></sub>";
      myCell.setAttribute('class', 'qmcHeaderX qmcBit');
      myRow.appendChild(myCell);
    }

    if (primFlag) {
      for (var i = 0; i < primTermTable.remainingVars.length; i++) {
        var cellImph = document.createElement('td');
        cellImph.setAttribute('class', 'qmcTdNoBorder');
        cellImph.innerHTML = primTermTable.remainingVars[i].toString(10);
        myRow.appendChild(cellImph);
      }
    }

    var cellImph = document.createElement('td');
    cellImph.setAttribute('class', 'qmcTdNoBorder');
    cellImph.innerHTML = "";
    myRow.appendChild(cellImph);
    myTable.appendChild(myRow);
    var iMax = 0;
    if (!primFlag) iMax = g.group.length;else iMax = primTermTable.remainingPrimTerms.length;

    for (var i = 0; i < iMax; i++) {
      var impl = -1;
      if (!primFlag) impl = g.group[i];else impl = primTermTable.remainingPrimTerms[i].implicant;
      var bits = 0;
      var mask = impl.bitMask;

      for (var m in impl.imp) {
        bits = impl.imp[m];
        break;
      }

      myRow = document.createElement('tr');
      var cell1 = document.createElement('td');
      var cell1Str = "";
      var first = true;

      for (var m in impl.imp) {
        if (!first) cell1Str += ", ";
        cell1Str += impl.imp[m].toString(10);
        first = false;
      }

      cell1.innerHTML = cell1Str + ":";
      cell1.setAttribute('class', 'qmcTdNoBorder');
      myRow.appendChild(cell1);
      var res = bits.toString(2);

      for (var j = 0; j < this.data.noOfVars; j++) {
        var myCell = document.createElement('td');
        myCell.setAttribute('class', 'qmcBit');
        var str;
        var currentBit = Math.pow(2, this.data.noOfVars - 1 - j);

        if ((currentBit & mask) === currentBit) {
          str = "-";
          myCell.innerHTML = str;
        } else {
          if (j >= this.data.noOfVars - res.length) {
            str = res.charAt(j - (this.data.noOfVars - res.length));
            myCell.innerHTML = str;
          } else {
            str = "0";
            myCell.innerHTML = str;
          }
        }

        myRow.appendChild(myCell);
      }

      if (!primFlag) {
        var cellLast = document.createElement('td');
        cellLast.setAttribute('class', 'qmcTdNoBorder');

        if (impl.isPrim) {
          cellLast.innerHTML = "&#x2713;"; //equivalent &check; in most browsers

          if (impl.isOnlyDontCare) {
            cellLast.innerHTML = " (&times;)";
          }
        } else {
          cellLast.innerHTML = "&rarr;";
        }

        myRow.appendChild(cellLast);
      } else {
        for (var v = 0; v < primTermTable.remainingVars.length; v++) {
          var ii = primTermTable.remainingVars[v];
          var cellUsed = document.createElement('td');
          cellUsed.setAttribute('class', 'qmcPrimItem qmcBit');

          if (ii in impl.imp) {
            cellUsed.innerHTML = "&#9675;";

            if (ii in primTermTable.remainingPrimTerms[i].neededByVar) {
              if (primTermTable.remainingPrimTerms[i].neededByVar[ii] === t) {
                cellUsed.innerHTML = "<span style='color:green;'>&#9679;</span>";
              }
            }
          }

          myRow.appendChild(cellUsed);
        }

        var cellLast = document.createElement('td');
        cellLast.setAttribute('class', 'qmcTdNoBorder');
        cellLast.innerHTML = primTermTable.remainingPrimTerms[i].coloredTermString;

        if (drawPetrickVars) {
          var pVars = "&nbsp;&equiv;&nbsp;<i>p</i><sub><small>" + i + "</small></sub>";
          cellLast.innerHTML += pVars;
        }

        myRow.appendChild(cellLast);
      }

      myTable.appendChild(myRow);
    }

    parent.appendChild(myTable);
  };

  this.update = function () {
    if (myDiv === -1) return; // clean up

    var oldInnerDiv = document.getElementById(divId + "_innerDiv");
    if (oldInnerDiv) myDiv.removeChild(oldInnerDiv);
    var myInnerDiv = document.createElement('div');
    myInnerDiv.setAttribute('id', divId + "_innerDiv");
    var myTruthTableDiv = document.createElement('div');
    myTruthTableDiv.innerHTML = "<div>" + labels['ttable'] + ":</div>";
    myTruthTableDiv.setAttribute('class', 'qmcTableLabelDiv'); // re-generate

    var myTable = document.createElement('table');
    myTable.setAttribute('class', 'qmcTableClass');
    var myRow = document.createElement('tr');
    var cell1h = document.createElement('td');
    cell1h.innerHTML = "";
    cell1h.setAttribute('class', 'qmcTdNoBorder');
    myRow.appendChild(cell1h);

    for (var j = 0; j < this.cols; j++) {
      var myCell = document.createElement('th');

      if (j < this.cols - 1) {
        myCell.innerHTML = "<i>x</i><sub><small>" + (this.cols - 2 - j) + "</small></sub>";
        myCell.setAttribute('class', 'qmcHeaderX qmcBit');
      } else {
        myCell.innerHTML = "<i>y</i>";
        myCell.setAttribute('class', 'qmcHeaderY qmcBit');
      }

      myRow.appendChild(myCell);
    }

    myTable.appendChild(myRow);

    for (var i = 0; i < this.rows; i++) {
      myRow = document.createElement('tr');
      var cell1 = document.createElement('td');
      cell1.innerHTML = i.toString(10) + ":";
      cell1.setAttribute('class', 'qmcTdNoBorder');
      myRow.appendChild(cell1);
      var res = i.toString(2);

      for (var j = 0; j < this.cols; j++) {
        var myCell = document.createElement('td');

        if (j < this.cols - 1) {
          // x element
          myCell.setAttribute('class', 'qmcBit');
          var str;

          if (j >= this.cols - 1 - res.length) {
            str = res.charAt(j - (this.cols - 1 - res.length));
            myCell.innerHTML = str;
          } else {
            str = "0";
            myCell.innerHTML = str;
          }
        } else {
          // y element
          myCell.setAttribute('class', 'qmcBit qmcBitY');
          myCell.setAttribute('title', i);

          myCell.onmousedown = function (event) {
            myCellMouseDown(event);
          };

          if (this.data.funcdata[i] === 0) {
            myCell.innerHTML = "0";
          }

          if (this.data.funcdata[i] === 1) {
            myCell.innerHTML = "1";
          }

          if (this.data.funcdata[i] === 2) {
            myCell.innerHTML = "&times;";
          }
        }

        myRow.appendChild(myCell);
      }

      myTable.appendChild(myRow);
    }

    myTruthTableDiv.appendChild(myTable);
    myInnerDiv.appendChild(myTruthTableDiv);

    for (var i = 0; i < this.data.implicantGroups.length; i++) {
      var myImplicantDiv = document.createElement('div');
      myImplicantDiv.innerHTML = "<div>" + labels['impli'] + " (" + labels['order'] + " " + i + "):</div>";
      myImplicantDiv.setAttribute('class', 'qmcTableLabelDiv');
      this.drawImplicantGroup(this.data.implicantGroups[i], myImplicantDiv, false, 0, false);
      myInnerDiv.appendChild(myImplicantDiv);
    }

    for (var i = 0; i < this.data.primTermTables.length; i++) {
      var resultDiv = document.createElement('div');

      if (i === 0) {
        resultDiv.innerHTML = "<p>" + labels['primChart'] + ":</p";
      } else {
        resultDiv.innerHTML = "<p> " + labels['primChartReduced'] + " " + (i - 1) + "):</p>";
      }

      resultDiv.setAttribute('class', 'qmcTableResultDiv');
      var drawPetrickVars = false;

      if (this.data.petrickTermPrims.length > 0 && i === this.data.primTermTables.length - 1) {
        drawPetrickVars = true;
      }

      this.drawImplicantGroup(this.data.primTerms, resultDiv, true, i, drawPetrickVars);
      var essPTermsDiv = document.createElement('div');
      var essPTermsStr = "";
      var primTermTable = this.data.primTermTables[i];
      var jj = primTermTable.essentialPrimTerms.length;

      for (var j = 0; j < jj; j++) {
        essPTermsStr += primTermTable.essentialPrimTerms[j].coloredTermString;
        if (j !== jj - 1) essPTermsStr += ", ";
      }

      if (jj > 0) {
        essPTermsDiv.innerHTML = "<p>" + labels['extractedPrims'] + ": <span class='qmcMathFont'>" + essPTermsStr + "</span></p>";
        essPTermsDiv.setAttribute('class', 'qmcIndent');
        resultDiv.appendChild(essPTermsDiv);
      }

      myInnerDiv.appendChild(resultDiv);
    }

    if (this.data.petrickTermPrims.length > 0) {
      var petrickDiv = document.createElement('div');
      petrickDiv.innerHTML = "<p> " + labels['petricksM'] + " </p>";
      var petrickInnerDiv = document.createElement('div');
      petrickInnerDiv.innerHTML = "<span class='qmcMathFont'>" + this.data.petrickSolver.log + "</span>";
      petrickInnerDiv.setAttribute('class', 'qmcIndent');
      petrickDiv.appendChild(petrickInnerDiv);
      var petrickEssTermsDiv = document.createElement('div');
      var petrickEssTermsStr = "";
      var jj = this.data.petrickTermPrims.length;

      for (var j = 0; j < jj; j++) {
        petrickEssTermsStr += this.data.petrickTermPrims[j].coloredTermString;
        if (j !== jj - 1) petrickEssTermsStr += ", ";
      }

      if (jj > 0) {
        petrickEssTermsDiv.innerHTML = "<p>" + labels['extractedMPrims'] + " (" + labels['petricksM'] + "): <span class='qmcMathFont'>" + petrickEssTermsStr + "</span></p>";
        petrickEssTermsDiv.setAttribute('class', 'qmcIndent');
        petrickDiv.appendChild(petrickEssTermsDiv);
      }

      myInnerDiv.appendChild(petrickDiv);
    }

    var termDiv = document.createElement('div');
    termDiv.innerHTML = "<p><strong>" + labels['minExp'] + ":</strong> </p> <p ><span class='qmcMathFont'><i>y</i>&nbsp;=&nbsp;" + this.data.coloredMinimalTerm;
    +"</span></p>";
    myInnerDiv.appendChild(termDiv);
    myDiv.appendChild(myInnerDiv);
  };

  function myCellMouseDown(e) {
    var targ;

    if (e.target) {
      targ = e.target;
    } else {
      // deal with Microsoft
      if (e.srcElement) targ = e.srcElement;
    }

    if (targ.nodeType === 3) {
      // deal with Safari
      targ = targ.parentNode;
    }

    var i = parseInt(targ.title);
    that.data.activated(i);
    that.update();
  }
};

/***/ }),

/***/ "./src/Vendor/Blob.js":
/*!****************************!*\
  !*** ./src/Vendor/Blob.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* Blob.js
 * A Blob implementation.
 * 2014-07-24
 *
 * By Eli Grey, http://eligrey.com
 * By Devin Samarin, https://github.com/dsamarin
 * License: MIT
 *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md
 */

/*global self, unescape */

/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,
 plusplus: true */

/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
(function (view) {
  "use strict";

  view.URL = view.URL || view.webkitURL;

  if (view.Blob && view.URL) {
    try {
      new Blob();
      return;
    } catch (e) {}
  } // Internally we use a BlobBuilder implementation to base Blob off of
  // in order to support older browsers that only have BlobBuilder


  var BlobBuilder = view.BlobBuilder || view.WebKitBlobBuilder || view.MozBlobBuilder || function (view) {
    var get_class = function get_class(object) {
      return Object.prototype.toString.call(object).match(/^\[object\s(.*)\]$/)[1];
    },
        FakeBlobBuilder = function BlobBuilder() {
      this.data = [];
    },
        FakeBlob = function Blob(data, type, encoding) {
      this.data = data;
      this.size = data.length;
      this.type = type;
      this.encoding = encoding;
    },
        FBB_proto = FakeBlobBuilder.prototype,
        FB_proto = FakeBlob.prototype,
        FileReaderSync = view.FileReaderSync,
        FileException = function FileException(type) {
      this.code = this[this.name = type];
    },
        file_ex_codes = ("NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR " + "NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR").split(" "),
        file_ex_code = file_ex_codes.length,
        real_URL = view.URL || view.webkitURL || view,
        real_create_object_URL = real_URL.createObjectURL,
        real_revoke_object_URL = real_URL.revokeObjectURL,
        URL = real_URL,
        btoa = view.btoa,
        atob = view.atob,
        ArrayBuffer = view.ArrayBuffer,
        Uint8Array = view.Uint8Array,
        origin = /^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;

    FakeBlob.fake = FB_proto.fake = true;

    while (file_ex_code--) {
      FileException.prototype[file_ex_codes[file_ex_code]] = file_ex_code + 1;
    } // Polyfill URL


    if (!real_URL.createObjectURL) {
      URL = view.URL = function (uri) {
        var uri_info = document.createElementNS("http://www.w3.org/1999/xhtml", "a"),
            uri_origin;
        uri_info.href = uri;

        if (!("origin" in uri_info)) {
          if (uri_info.protocol.toLowerCase() === "data:") {
            uri_info.origin = null;
          } else {
            uri_origin = uri.match(origin);
            uri_info.origin = uri_origin && uri_origin[1];
          }
        }

        return uri_info;
      };
    }

    URL.createObjectURL = function (blob) {
      var type = blob.type,
          data_URI_header;

      if (type === null) {
        type = "application/octet-stream";
      }

      if (blob instanceof FakeBlob) {
        data_URI_header = "data:" + type;

        if (blob.encoding === "base64") {
          return data_URI_header + ";base64," + blob.data;
        } else if (blob.encoding === "URI") {
          return data_URI_header + "," + decodeURIComponent(blob.data);
        }

        if (btoa) {
          return data_URI_header + ";base64," + btoa(blob.data);
        } else {
          return data_URI_header + "," + encodeURIComponent(blob.data);
        }
      } else if (real_create_object_URL) {
        return real_create_object_URL.call(real_URL, blob);
      }
    };

    URL.revokeObjectURL = function (object_URL) {
      if (object_URL.substring(0, 5) !== "data:" && real_revoke_object_URL) {
        real_revoke_object_URL.call(real_URL, object_URL);
      }
    };

    FBB_proto.append = function (data
    /*, endings*/
    ) {
      var bb = this.data; // decode data to a binary string

      if (Uint8Array && (data instanceof ArrayBuffer || data instanceof Uint8Array)) {
        var str = "",
            buf = new Uint8Array(data),
            i = 0,
            buf_len = buf.length;

        for (; i < buf_len; i++) {
          str += String.fromCharCode(buf[i]);
        }

        bb.push(str);
      } else if (get_class(data) === "Blob" || get_class(data) === "File") {
        if (FileReaderSync) {
          var fr = new FileReaderSync();
          bb.push(fr.readAsBinaryString(data));
        } else {
          // async FileReader won't work as BlobBuilder is sync
          throw new FileException("NOT_READABLE_ERR");
        }
      } else if (data instanceof FakeBlob) {
        if (data.encoding === "base64" && atob) {
          bb.push(atob(data.data));
        } else if (data.encoding === "URI") {
          bb.push(decodeURIComponent(data.data));
        } else if (data.encoding === "raw") {
          bb.push(data.data);
        }
      } else {
        if (typeof data !== "string") {
          data += ""; // convert unsupported types to strings
        } // decode UTF-16 to binary string


        bb.push(unescape(encodeURIComponent(data)));
      }
    };

    FBB_proto.getBlob = function (type) {
      if (!arguments.length) {
        type = null;
      }

      return new FakeBlob(this.data.join(""), type, "raw");
    };

    FBB_proto.toString = function () {
      return "[object BlobBuilder]";
    };

    FB_proto.slice = function (start, end, type) {
      var args = arguments.length;

      if (args < 3) {
        type = null;
      }

      return new FakeBlob(this.data.slice(start, args > 1 ? end : this.data.length), type, this.encoding);
    };

    FB_proto.toString = function () {
      return "[object Blob]";
    };

    FB_proto.close = function () {
      this.size = 0;
      delete this.data;
    };

    return FakeBlobBuilder;
  }(view);

  view.Blob = function (blobParts, options) {
    var type = options ? options.type || "" : "";
    var builder = new BlobBuilder();

    if (blobParts) {
      for (var i = 0, len = blobParts.length; i < len; i++) {
        if (Uint8Array && blobParts[i] instanceof Uint8Array) {
          builder.append(blobParts[i].buffer);
        } else {
          builder.append(blobParts[i]);
        }
      }
    }

    var blob = builder.getBlob(type);

    if (!blob.slice && blob.webkitSlice) {
      blob.slice = blob.webkitSlice;
    }

    return blob;
  };

  var getPrototypeOf = Object.getPrototypeOf || function (object) {
    return object.__proto__;
  };

  view.Blob.prototype = getPrototypeOf(new view.Blob());
})(typeof self !== "undefined" && self || typeof window !== "undefined" && window || this.content || this);

/***/ }),

/***/ "./src/Vendor/FileSaver.js":
/*!*********************************!*\
  !*** ./src/Vendor/FileSaver.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(module) {/* FileSaver.js
 * A saveAs() FileSaver implementation.
 * 1.3.2
 * 2016-06-16 18:25:19
 *
 * By Eli Grey, http://eligrey.com
 * License: MIT
 *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md
 */

/*global self */

/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */

/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs = saveAs || function (view) {
  "use strict"; // IE <10 is explicitly unsupported

  if (typeof view === "undefined" || typeof navigator !== "undefined" && /MSIE [1-9]\./.test(navigator.userAgent)) {
    return;
  }

  var doc = view.document // only get URL when necessary in case Blob.js hasn't overridden it yet
  ,
      get_URL = function get_URL() {
    return view.URL || view.webkitURL || view;
  },
      save_link = doc.createElementNS("http://www.w3.org/1999/xhtml", "a"),
      can_use_save_link = ("download" in save_link),
      click = function click(node) {
    var event = new MouseEvent("click");
    node.dispatchEvent(event);
  },
      is_safari = /constructor/i.test(view.HTMLElement),
      is_chrome_ios = /CriOS\/[\d]+/.test(navigator.userAgent),
      throw_outside = function throw_outside(ex) {
    (view.setImmediate || view.setTimeout)(function () {
      throw ex;
    }, 0);
  },
      force_saveable_type = "application/octet-stream" // the Blob API is fundamentally broken as there is no "downloadfinished" event to subscribe to
  ,
      arbitrary_revoke_timeout = 1000 * 40 // in ms
  ,
      revoke = function revoke(file) {
    var revoker = function revoker() {
      if (typeof file === "string") {
        // file is an object URL
        get_URL().revokeObjectURL(file);
      } else {
        // file is a File
        file.remove();
      }
    };

    setTimeout(revoker, arbitrary_revoke_timeout);
  },
      dispatch = function dispatch(filesaver, event_types, event) {
    event_types = [].concat(event_types);
    var i = event_types.length;

    while (i--) {
      var listener = filesaver["on" + event_types[i]];

      if (typeof listener === "function") {
        try {
          listener.call(filesaver, event || filesaver);
        } catch (ex) {
          throw_outside(ex);
        }
      }
    }
  },
      auto_bom = function auto_bom(blob) {
    // prepend BOM for UTF-8 XML and text/* types (including HTML)
    // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF
    if (/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)) {
      return new Blob([String.fromCharCode(0xFEFF), blob], {
        type: blob.type
      });
    }

    return blob;
  },
      FileSaver = function FileSaver(blob, name, no_auto_bom) {
    if (!no_auto_bom) {
      blob = auto_bom(blob);
    } // First try a.download, then web filesystem, then object URLs


    var filesaver = this,
        type = blob.type,
        force = type === force_saveable_type,
        object_url,
        dispatch_all = function dispatch_all() {
      dispatch(filesaver, "writestart progress write writeend".split(" "));
    } // on any filesys errors revert to saving with object URLs
    ,
        fs_error = function fs_error() {
      if ((is_chrome_ios || force && is_safari) && view.FileReader) {
        // Safari doesn't allow downloading of blob urls
        var reader = new FileReader();

        reader.onloadend = function () {
          var url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');
          var popup = view.open(url, '_blank');
          if (!popup) view.location.href = url;
          url = undefined; // release reference before dispatching

          filesaver.readyState = filesaver.DONE;
          dispatch_all();
        };

        reader.readAsDataURL(blob);
        filesaver.readyState = filesaver.INIT;
        return;
      } // don't create more object URLs than needed


      if (!object_url) {
        object_url = get_URL().createObjectURL(blob);
      }

      if (force) {
        view.location.href = object_url;
      } else {
        var opened = view.open(object_url, "_blank");

        if (!opened) {
          // Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html
          view.location.href = object_url;
        }
      }

      filesaver.readyState = filesaver.DONE;
      dispatch_all();
      revoke(object_url);
    };

    filesaver.readyState = filesaver.INIT;

    if (can_use_save_link) {
      object_url = get_URL().createObjectURL(blob);
      setTimeout(function () {
        save_link.href = object_url;
        save_link.download = name;
        click(save_link);
        dispatch_all();
        revoke(object_url);
        filesaver.readyState = filesaver.DONE;
      });
      return;
    }

    fs_error();
  },
      FS_proto = FileSaver.prototype,
      saveAs = function saveAs(blob, name, no_auto_bom) {
    return new FileSaver(blob, name || blob.name || "download", no_auto_bom);
  }; // IE 10+ (native saveAs)


  if (typeof navigator !== "undefined" && navigator.msSaveOrOpenBlob) {
    return function (blob, name, no_auto_bom) {
      name = name || blob.name || "download";

      if (!no_auto_bom) {
        blob = auto_bom(blob);
      }

      return navigator.msSaveOrOpenBlob(blob, name);
    };
  }

  FS_proto.abort = function () {};

  FS_proto.readyState = FS_proto.INIT = 0;
  FS_proto.WRITING = 1;
  FS_proto.DONE = 2;
  FS_proto.error = FS_proto.onwritestart = FS_proto.onprogress = FS_proto.onwrite = FS_proto.onabort = FS_proto.onerror = FS_proto.onwriteend = null;
  return saveAs;
}(typeof self !== "undefined" && self || typeof window !== "undefined" && window || undefined.content); // `self` is undefined in Firefox for Android content script context
// while `this` is nsIContentFrameMessageManager
// with an attribute `content` that corresponds to the window


if ( true && module.exports) {
  module.exports.saveAs = saveAs;
} else if (typeof define !== "undefined" && define !== null && __webpack_require__(/*! !webpack amd options */ "./node_modules/webpack/buildin/amd-options.js") !== null) {
  define([], function () {
    return saveAs;
  });
}

/* harmony default export */ __webpack_exports__["default"] = (saveAs);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./src/img/x.png":
/*!***********************!*\
  !*** ./src/img/x.png ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (__webpack_require__.p + "img/x.png");

/***/ }),

/***/ "./src/kmap.scss":
/*!***********************!*\
  !*** ./src/kmap.scss ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var api = __webpack_require__(/*! ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!../node_modules/resolve-url-loader!../node_modules/sass-loader/dist/cjs.js?sourceMap!./kmap.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./src/kmap.scss");

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);


if (true) {
  if (!content.locals || module.hot.invalidate) {
    var isEqualLocals = function isEqualLocals(a, b) {
  if (!a && b || a && !b) {
    return false;
  }

  var p;

  for (p in a) {
    if (a[p] !== b[p]) {
      return false;
    }
  }

  for (p in b) {
    if (!a[p]) {
      return false;
    }
  }

  return true;
};
    var oldLocals = content.locals;

    module.hot.accept(
      /*! !../node_modules/css-loader/dist/cjs.js!../node_modules/resolve-url-loader!../node_modules/sass-loader/dist/cjs.js?sourceMap!./kmap.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./src/kmap.scss",
      function () {
        content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js!../node_modules/resolve-url-loader!../node_modules/sass-loader/dist/cjs.js?sourceMap!./kmap.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/dist/cjs.js?sourceMap!./src/kmap.scss");

              content = content.__esModule ? content.default : content;

              if (typeof content === 'string') {
                content = [[module.i, content, '']];
              }

              if (!isEqualLocals(oldLocals, content.locals)) {
                module.hot.invalidate();

                return;
              }

              oldLocals = content.locals;

              update(content);
      }
    )
  }

  module.hot.dispose(function() {
    update();
  });
}

module.exports = content.locals || {};

/***/ }),

/***/ "./src/polyfills/all.js":
/*!******************************!*\
  !*** ./src/polyfills/all.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _pointer_events_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pointer_events_polyfill */ "./src/polyfills/pointer_events_polyfill.js");
/* harmony import */ var classlist_polyfill__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classlist-polyfill */ "./node_modules/classlist-polyfill/src/index.js");
/* harmony import */ var classlist_polyfill__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classlist_polyfill__WEBPACK_IMPORTED_MODULE_1__);


_pointer_events_polyfill__WEBPACK_IMPORTED_MODULE_0__["PointerEventsPolyfill"].initialize();

/***/ }),

/***/ "./src/polyfills/pointer_events_polyfill.js":
/*!**************************************************!*\
  !*** ./src/polyfills/pointer_events_polyfill.js ***!
  \**************************************************/
/*! exports provided: PointerEventsPolyfill */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PointerEventsPolyfill", function() { return PointerEventsPolyfill; });
/*
 * Pointer Events Polyfill: Adds support for the style attribute "pointer-events: none" to browsers without this feature (namely, IE).
 * (c) 2013, Kent Mewhort, licensed under BSD. See LICENSE.txt for details.
 */
// constructor
var PointerEventsPolyfill = function PointerEventsPolyfill(options) {
  // set defaults
  this.options = {
    selector: '*',
    mouseEvents: ['click', 'dblclick', 'mousedown', 'mouseup'],
    usePolyfillIf: function usePolyfillIf() {
      if (navigator.appName == 'Microsoft Internet Explorer') {
        var agent = navigator.userAgent;

        if (agent.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/) != null) {
          var version = parseFloat(RegExp.$1);
          if (version < 11) return true;
        }
      }

      return false;
    }
  };

  if (options) {
    var obj = this;
    $.each(options, function (k, v) {
      obj.options[k] = v;
    });
  }

  if (this.options.usePolyfillIf()) this.register_mouse_events();
}; // singleton initializer

PointerEventsPolyfill.initialize = function (options) {
  if (PointerEventsPolyfill.singleton == null) PointerEventsPolyfill.singleton = new PointerEventsPolyfill(options);
  return PointerEventsPolyfill.singleton;
}; // handle mouse events w/ support for pointer-events: none


PointerEventsPolyfill.prototype.register_mouse_events = function () {
  // register on all elements (and all future elements) matching the selector
  $(document).on(this.options.mouseEvents.join(" "), this.options.selector, function (e) {
    if ($(this).css('pointer-events') == 'none') {
      // peak at the element below
      var origDisplayAttribute = $(this).css('display');
      $(this).css('display', 'none');
      var underneathElem = document.elementFromPoint(e.clientX, e.clientY);
      if (origDisplayAttribute) $(this).css('display', origDisplayAttribute);else $(this).css('display', ''); // fire the mouse event on the element below

      e.target = underneathElem;
      $(underneathElem).trigger(e);
      return false;
    }

    return true;
  });
};

/***/ })

/******/ })["default"];
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9LbWFwL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9LbWFwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0ttYXAvLi9pbmRleC5qcyIsIndlYnBhY2s6Ly9LbWFwLy4vbm9kZV9tb2R1bGVzL2NsYXNzbGlzdC1wb2x5ZmlsbC9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vS21hcC8uL3NyYy9rbWFwLnNjc3MiLCJ3ZWJwYWNrOi8vS21hcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vS21hcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanMiLCJ3ZWJwYWNrOi8vS21hcC8uL25vZGVfbW9kdWxlcy9odG1sMmNhbnZhcy9kaXN0L2h0bWwyY2FudmFzLmpzIiwid2VicGFjazovL0ttYXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vS21hcC8od2VicGFjaykvYnVpbGRpbi9hbWQtb3B0aW9ucy5qcyIsIndlYnBhY2s6Ly9LbWFwLyh3ZWJwYWNrKS9idWlsZGluL2hhcm1vbnktbW9kdWxlLmpzIiwid2VicGFjazovL0ttYXAvLi9zcmMvS21hcC9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vS21hcC8uL3NyYy9LbWFwL0dyb3VwLmpzIiwid2VicGFjazovL0ttYXAvLi9zcmMvS21hcC9Hcm91cHMuanMiLCJ3ZWJwYWNrOi8vS21hcC8uL3NyYy9LbWFwL0ttYXAuanMiLCJ3ZWJwYWNrOi8vS21hcC8uL3NyYy9LbWFwL01haW4uanMiLCJ3ZWJwYWNrOi8vS21hcC8uL3NyYy9LbWFwL01hbnVhbC5qcyIsIndlYnBhY2s6Ly9LbWFwLy4vc3JjL0ttYXAvTWFwLmpzIiwid2VicGFjazovL0ttYXAvLi9zcmMvS21hcC9NZXNzYWdlRGlhbG9nLmpzIiwid2VicGFjazovL0ttYXAvLi9zcmMvS21hcC9PcHRpb25zLmpzIiwid2VicGFjazovL0ttYXAvLi9zcmMvS21hcC9Tb2x1dGlvbi5qcyIsIndlYnBhY2s6Ly9LbWFwLy4vc3JjL0ttYXAvVXRpbGl0eS9SZWFkeS5qcyIsIndlYnBhY2s6Ly9LbWFwLy4vc3JjL0ttYXAvV29yay5qcyIsIndlYnBhY2s6Ly9LbWFwLy4vc3JjL0xvZ2ljL0V4cHJlc3Npb24uanMiLCJ3ZWJwYWNrOi8vS21hcC8uL3NyYy9Mb2dpYy9NaW50ZXJtcy5qcyIsIndlYnBhY2s6Ly9LbWFwLy4vc3JjL0xvZ2ljL1F1aW5lTWNDbHVza2V5U29sdmVyLmpzIiwid2VicGFjazovL0ttYXAvLi9zcmMvTG9naWMvcW1jLmpzIiwid2VicGFjazovL0ttYXAvLi9zcmMvVmVuZG9yL0Jsb2IuanMiLCJ3ZWJwYWNrOi8vS21hcC8uL3NyYy9WZW5kb3IvRmlsZVNhdmVyLmpzIiwid2VicGFjazovL0ttYXAvLi9zcmMvaW1nL3gucG5nIiwid2VicGFjazovL0ttYXAvLi9zcmMva21hcC5zY3NzPzFkOTkiLCJ3ZWJwYWNrOi8vS21hcC8uL3NyYy9wb2x5ZmlsbHMvYWxsLmpzIiwid2VicGFjazovL0ttYXAvLi9zcmMvcG9seWZpbGxzL3BvaW50ZXJfZXZlbnRzX3BvbHlmaWxsLmpzIl0sIm5hbWVzIjpbIlJlYWR5IiwiZ28iLCJlbGVtZW50cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImkiLCJsZW5ndGgiLCJlbGVtZW50IiwianNvbiIsIkpTT04iLCJwYXJzZSIsInRleHRDb250ZW50IiwiaW5uZXJIVE1MIiwia21hcCIsIkttYXAiLCJzdGFydE5vdyIsInN0eWxlIiwiZGlzcGxheSIsIkdlbmVyYXRvciIsIm1haW4iLCJtaW50ZXJtc1NwYW4iLCJvcHRpb25zIiwiaW5pdGlhbGl6ZSIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImgzIiwiaW5uZXJUZXh0IiwiZml4ZWQiLCJmb3JtIiwicCIsImNyZWF0ZVRleHROb2RlIiwic2l6ZSIsInNlbGVjdCIsIm9wdGlvbnMxIiwib3B0aW9uczIiLCJzIiwiZ2VuRG9udENhcmUiLCJnZW5Eb250Q2FyZU9wdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidmFsIiwidmFsdWUiLCJuZXdTaXplIiwicGFyc2VJbnQiLCJtYXRjaCIsImJ1dHRvbiIsImdlbmVyYXRlIiwicmVmcmVzaCIsIm1pbnRlcm1zIiwiZG9udGNhcmUiLCJsaXN0IiwibGlzdF9kb250Y2FyZSIsIkdyb3VwIiwiZ3JvdXBzIiwic2VsZWN0ZWQiLCJjb2xvciIsImxzdCIsImZpcnN0Iiwic3BhbiIsImEiLCJyZW1vdmVDaGlsZCIsInJlbW92ZSIsImJhY2tncm91bmRDb2xvciIsInByb3RvdHlwZSIsImRyYXciLCJjdHgiLCJ3aWQiLCJoaXQiLCJpbnNldERlcHRoIiwiaW5zZXQiLCJzcGFjaW5nIiwiY29scyIsInJvd3MiLCJtYXBSIiwibWFwQyIsIm1heCIsImNudCIsImRyYXdHcm91cCIsImMxIiwicjEiLCJjMiIsInIyIiwidCIsImMzIiwicjMiLCJjNCIsInI0Iiwid2lkNCIsImhpdDQiLCJjNSIsInI1Iiwid2lkOCIsImhpdDgiLCJ4MSIsInkxIiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsInJhZGl1cyIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwiYXJjVG8iLCJzdHJva2UiLCJHcm91cHMiLCJzZWwiLCJ0aGF0IiwiY29sb3JOIiwid29yayIsIm1hcCIsInN0cmljdCIsImFuZDEiLCJNYXRoIiwicG93IiwiYW5kMiIsIm9yIiwiYml0cyIsInZhbGlkIiwiaHRtbCIsImRsZyIsIk1lc3NhZ2VEaWFsb2ciLCJvcGVuIiwib2siLCJqIiwiYWRkX2dyb3VwIiwiZHJhd0dyb3VwcyIsImNsZWFyIiwiZ3JvdXAiLCJjb2xvcnMiLCJwdXNoIiwiY2FudmFzIiwiZ2V0X2NhbnZhcyIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJjb3VudGVyIiwic3BsaWNlIiwiUEFDS0FHRSIsInJlcXVpcmUiLCJ2ZXJzaW9uIiwiT3B0aW9ucyIsIm1haW5zIiwic3RhcnQiLCJFbGVtZW50IiwiTWFpbiIsIk1pbnRlcm1zIiwiZ2VuZXJhdG9yIiwic29sdXRpb24iLCJtYW51YWwiLCJNYW51YWwiLCJXb3JrIiwiU29sdXRpb24iLCJzZXQiLCJzb2x2ZWQiLCJzb2x2ZSIsImRjTWF4IiwiZ2VuZXJhdGVfYm91bmRlZCIsIm5ld01pbnRlcm1zIiwic2V0X2Zyb20iLCJzbGljZSIsInJlbmRlciIsImxhYmVscyIsIm1hbnVhbE1pbnRlcm1zIiwibWFudWFsRG9udENhcmVzIiwibWFudWFsVmFyaWFibGVzIiwibGVmdCIsImxhYmVsIiwic2V0QXR0cmlidXRlIiwidGFrZSIsInJpZ2h0IiwibWludGVybXNsaXN0IiwiZG9udGNhcmVsaXN0IiwicmVwbGFjZSIsInNwbGl0IiwiaW5wdXQiLCJyZU0iLCJyZSIsIml0ZW1zIiwicmV0IiwiZm9yRWFjaCIsIml0ZW0iLCJNYXAiLCJ0b3BMZWZ0IiwiYm90UmlnaHQiLCJ0YWJsZSIsInJlc3QiLCJjb2xoZWFkcyIsIkEiLCJCIiwiQyIsIkQiLCJ0ciIsInIiLCJjIiwidGQiLCJtYWtlX2NlbGwiLCJzZXRUaW1lb3V0Iiwic2V0X2NhbnZhcyIsIndpbmRvdyIsImRlc3Ryb3kiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGwiLCJvZmZzZXRMZWZ0IiwidG9wIiwib2Zmc2V0VG9wIiwiYnIiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsIm1pbnRlcm0iLCJ0b19taW50ZXJtIiwiYml0IiwibGFiZWxNaW50ZXJtcyIsImNvbnRhaW5zIiwibiIsImluZGV4T2YiLCJpc19zZWxlY3RlZCIsInNvcnQiLCJiIiwidGRzIiwidGl0bGUiLCJib2R5IiwibWFzayIsInRiIiwiZGIiLCJjb250cm9scyIsIk9iamVjdCIsInN1YnN0ciIsImF0b2IiLCJ0b1BORyIsInZlcmJvc2UiLCJtYXBIZWFkaW5nIiwicmVzdWx0U2VsIiwic3VjY2VzcyIsImV4cHJlc3Npb25TZWwiLCJwcm9wZXJ0eSIsImhhc093blByb3BlcnR5IiwiRXJyb3IiLCJleHByZXNzaW9uSW5wdXQiLCJyZXN1bHQiLCJhcHBlbmQiLCJhZGREaXYiLCJjaGVjayIsIm10IiwiZXhwcmVzc2lvbiIsIkV4cHJlc3Npb24iLCJzZXRfc2l6ZSIsInN0ciIsIm1zZyIsImZhaWwiLCJxbSIsIlF1aW5lTWNDbHVza2V5U29sdmVyIiwiaW5pdCIsInVuZGVmaW5lZCIsImNvbXB1dGUiLCJxbUV4cHJlc3Npb24iLCJtIiwiaW5saXN0IiwiYXNfZ29vZF9hcyIsIm1pbmltdW1FeHByZXNzaW9uIiwidGVybXMiLCJleHAiLCJ0ZXJtIiwiaHRtbDJjYW52YXMiLCJ0aGVuIiwiZmlsZW5hbWUiLCJOdW1iZXIiLCJ0b1N0cmluZyIsInRvQmxvYiIsImJsb2IiLCJzYXZlQXMiLCJmbiIsImF0dGFjaEV2ZW50IiwicmVhZHlTdGF0ZSIsImNoZWNrQm94IiwiY2hlY2tlZCIsInN6IiwidGVybXNfaW5pdCIsIm90aGVyIiwibnVtX3Byb2R1Y3RzIiwibnVtX3Rlcm1zIiwiZ2VuZXJhdGVfbWludGVybXMiLCJ0ZXJtc19zZXQiLCJyZXN1bHRTIiwic29wIiwicHJvZCIsInJlc3VsdFAiLCJub3QiLCJsZXgiLCJ0b2tlbiIsImNoIiwiZXJyb3IiLCJhZHZhbmNlIiwiZ2V0X3Rlcm0iLCJleHByZXNzaW9uTG9jIiwibGl0ZXJhbCIsInRvVXBwZXJDYXNlIiwiY2hhckF0IiwibWF5YmUiLCJvbmVDaGFuY2UiLCJkY0NoYW5jZSIsIm51bSIsInJuZCIsInJhbmRvbSIsIm9uZU1pbiIsIm9uZU1heCIsImRjTWluIiwiYXJndW1lbnRzIiwiZXF1YWwiLCJvdGhlck1pbnRlcm1zIiwiTG9naWMiLCJ3aXRoQnJlYWsiLCJjciIsIlF1aW5lTWNDbHVza2V5RGF0YUN0cmwiLCJudW1WYXJzIiwibm9PZlZhcnMiLCJhbGxvd0RvbnRDYXJlIiwic2V0RnVuY0RhdGEiLCJtaW5pbWFsVGVybVByaW1zIiwidGVybVN0cmluZyIsInByaW1UZXJtIiwiaW1wIiwiaW1wbGljYW50Iiwib25lIiwibmVlZGVkIiwiYml0TWFzayIsInYiLCJ2MSIsIlBldHJpY2tNZXRob2QiLCJwcm9ibGVtIiwibWF4UHJvYmxlbVNpemUiLCJsb2ciLCJ0ZXN0IiwiYW5kQXJyYXkiLCJBcnJheSIsIm9yQXJyYXkiLCJtb25vbUEiLCJtb25vbUIiLCJlcSIsInByaW50RXFuQXJyYXlGYW5jeSIsImxvb3BDb3VudGVyIiwibmV3QW5kQXJyYXkiLCJvclRlcm1BIiwib3JUZXJtQiIsIm5ld09yQXJyYXkiLCJtb25vbTEiLCJtb25vbTIiLCJyZXN1bHRpbmdNb25vbSIsIm9yVGVybSIsIm5ld09yVGVybSIsInNpbXBsaWZ5T3JUZXJtIiwicHJvYmxlbVNpemUiLCJlcW5BcnJheVByb2JsZW1TaXplIiwiY29uc29sZSIsIm1hcmtlZEZvckRlbGV0aW9uIiwia2VlcEEiLCJvdmVybGFwQm92ZXJBIiwibGVuZ3RoQSIsIm92ZXJsYXBBb3ZlckIiLCJsZW5ndGhCIiwibW9ub20iLCJrIiwibW9ub21Db3VudGVyIiwicHJpbnRFcW5BcnJheSIsIlByaW1UZXJtIiwiY29sb3JlZFRlcm1TdHJpbmciLCJ1c2VkIiwibmVlZGVkQnlWYXIiLCJJbXBsaWNhbnQiLCJpc1ByaW0iLCJpc09ubHlEb250Q2FyZSIsIkltcGxpY2FudEdyb3VwIiwib3JkZXIiLCJQcmltVGVybVRhYmxlIiwib3JkIiwiZXNzZW50aWFsUHJpbVRlcm1zIiwicmVtYWluaW5nVmFycyIsInJlbWFpbmluZ1ByaW1UZXJtcyIsInN1cGVyc2VkZWRQcmltVGVybXMiLCJoc3ZUb1JnYiIsImgiLCJnIiwiZmxvb3IiLCJmIiwicSIsImZ1bmNkYXRhIiwicHJpbVRlcm1zIiwiaW1wbGljYW50R3JvdXBzIiwibWluaW1hbFRlcm0iLCJjb2xvcmVkTWluaW1hbFRlcm0iLCJwcmltVGVybVRhYmxlcyIsInBldHJpY2tTb2x2ZXIiLCJwZXRyaWNrVGVybVByaW1zIiwibm8iLCJub09mRnVuY0RhdGEiLCJhY3RpdmF0ZWQiLCJiaXRDb3VudCIsImxhc3RJZyIsImNvbnRpbnVlTG9vcCIsImlnIiwiaW1wbCIsImltcDEiLCJpbXAyIiwiZm91bmQiLCJ4b3IiLCJpMSIsImkyIiwiZm91bmRNYXRjaCIsImV4aXN0IiwiaXNUaGVTYW1lIiwiY29udGFpbnNPbmUiLCJhbGxGdW5jUHJpbVRlcm0iLCJrayIsInRoaXNWYWwiLCJtaW5UZXJtIiwiY29sb3JTdHIiLCJyZW1haW5pbmciLCJwcmltVGFibGVMb29wIiwicHJpbVRhYmxlRm91bmQiLCJjeWNsaWNDb3ZlcmluZ0ZvdW5kIiwicHJpbVRlcm1UYWJsZSIsInByZXZUYWJsZSIsInN1cGVyc2VkZWQiLCJpbXBBIiwidmFyQ292ZXIiLCJjb3VudEEiLCJsIiwiaW1wQiIsImNvdW50QiIsImNvdW50QkluUmVtYWluaW5nIiwiY3VycmVudFRlcm1zIiwidG9CZVJlbW92ZWQiLCJjb3VudCIsImlpIiwidG1wUmVtYWluaW5nIiwiZSIsImVlIiwicmVtYWluaW5nQ291bnQiLCJzb2x1dGlvbkZvdW5kIiwic29sdXRpb25zIiwiYmVzdFNvbHV0aW9uIiwiYmVzdENvdW50IiwiYmVzdFZhckNvdW50IiwiZm91bmRCZXN0IiwiYmVzdFZhckNvdW50TmV3IiwiYmVzdCIsImFkZFByaW1UZXJtIiwiZmlyc3RMIiwiUXVpbmVNY0NsdXNrZXkiLCJwYXJlbnREaXZJZCIsImNvbHVtbnMiLCJsYW5ndWFnZSIsIm15RGl2IiwiZGl2SWQiLCJkYXRhIiwidHRhYmxlIiwibWluRXhwIiwiaW1wbGkiLCJwcmltQ2hhcnQiLCJwcmltQ2hhcnRSZWR1Y2VkIiwiZXh0cmFjdGVkUHJpbXMiLCJleHRyYWN0ZWRNUHJpbXMiLCJwZXRyaWNrc00iLCJwYXJlbnQiLCJnZXRFbGVtZW50QnlJZCIsInVwZGF0ZSIsInNldE5vT2ZWYXJzIiwidmFycyIsImdlblJhbmRvbSIsImFsbG93RG9udENhcmVzIiwidHlwZSIsImRyYXdJbXBsaWNhbnRHcm91cCIsInByaW1GbGFnIiwiZHJhd1BldHJpY2tWYXJzIiwibXlUYWJsZSIsIm15Um93IiwiY2VsbDFoIiwibXlDZWxsIiwiY2VsbEltcGgiLCJpTWF4IiwiY2VsbDEiLCJjZWxsMVN0ciIsInJlcyIsImN1cnJlbnRCaXQiLCJjZWxsTGFzdCIsImNlbGxVc2VkIiwicFZhcnMiLCJvbGRJbm5lckRpdiIsIm15SW5uZXJEaXYiLCJteVRydXRoVGFibGVEaXYiLCJvbm1vdXNlZG93biIsIm15Q2VsbE1vdXNlRG93biIsIm15SW1wbGljYW50RGl2IiwicmVzdWx0RGl2IiwiZXNzUFRlcm1zRGl2IiwiZXNzUFRlcm1zU3RyIiwiamoiLCJwZXRyaWNrRGl2IiwicGV0cmlja0lubmVyRGl2IiwicGV0cmlja0Vzc1Rlcm1zRGl2IiwicGV0cmlja0Vzc1Rlcm1zU3RyIiwidGVybURpdiIsInRhcmciLCJ0YXJnZXQiLCJzcmNFbGVtZW50Iiwibm9kZVR5cGUiLCJwYXJlbnROb2RlIiwidmlldyIsIlVSTCIsIndlYmtpdFVSTCIsIkJsb2IiLCJCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJnZXRfY2xhc3MiLCJvYmplY3QiLCJjYWxsIiwiRmFrZUJsb2JCdWlsZGVyIiwiRmFrZUJsb2IiLCJlbmNvZGluZyIsIkZCQl9wcm90byIsIkZCX3Byb3RvIiwiRmlsZVJlYWRlclN5bmMiLCJGaWxlRXhjZXB0aW9uIiwiY29kZSIsIm5hbWUiLCJmaWxlX2V4X2NvZGVzIiwiZmlsZV9leF9jb2RlIiwicmVhbF9VUkwiLCJyZWFsX2NyZWF0ZV9vYmplY3RfVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmVhbF9yZXZva2Vfb2JqZWN0X1VSTCIsInJldm9rZU9iamVjdFVSTCIsImJ0b2EiLCJBcnJheUJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJvcmlnaW4iLCJmYWtlIiwidXJpIiwidXJpX2luZm8iLCJjcmVhdGVFbGVtZW50TlMiLCJ1cmlfb3JpZ2luIiwiaHJlZiIsInByb3RvY29sIiwidG9Mb3dlckNhc2UiLCJkYXRhX1VSSV9oZWFkZXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJvYmplY3RfVVJMIiwic3Vic3RyaW5nIiwiYmIiLCJidWYiLCJidWZfbGVuIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiZnIiLCJyZWFkQXNCaW5hcnlTdHJpbmciLCJ1bmVzY2FwZSIsImdldEJsb2IiLCJqb2luIiwiZW5kIiwiYXJncyIsImNsb3NlIiwiYmxvYlBhcnRzIiwiYnVpbGRlciIsImxlbiIsImJ1ZmZlciIsIndlYmtpdFNsaWNlIiwiZ2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJzZWxmIiwiY29udGVudCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImRvYyIsImdldF9VUkwiLCJzYXZlX2xpbmsiLCJjYW5fdXNlX3NhdmVfbGluayIsImNsaWNrIiwibm9kZSIsIk1vdXNlRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiaXNfc2FmYXJpIiwiSFRNTEVsZW1lbnQiLCJpc19jaHJvbWVfaW9zIiwidGhyb3dfb3V0c2lkZSIsImV4Iiwic2V0SW1tZWRpYXRlIiwiZm9yY2Vfc2F2ZWFibGVfdHlwZSIsImFyYml0cmFyeV9yZXZva2VfdGltZW91dCIsInJldm9rZSIsImZpbGUiLCJyZXZva2VyIiwiZGlzcGF0Y2giLCJmaWxlc2F2ZXIiLCJldmVudF90eXBlcyIsImNvbmNhdCIsImxpc3RlbmVyIiwiYXV0b19ib20iLCJGaWxlU2F2ZXIiLCJub19hdXRvX2JvbSIsImZvcmNlIiwib2JqZWN0X3VybCIsImRpc3BhdGNoX2FsbCIsImZzX2Vycm9yIiwiRmlsZVJlYWRlciIsInJlYWRlciIsIm9ubG9hZGVuZCIsInVybCIsInBvcHVwIiwibG9jYXRpb24iLCJET05FIiwicmVhZEFzRGF0YVVSTCIsIklOSVQiLCJvcGVuZWQiLCJkb3dubG9hZCIsIkZTX3Byb3RvIiwibXNTYXZlT3JPcGVuQmxvYiIsImFib3J0IiwiV1JJVElORyIsIm9ud3JpdGVzdGFydCIsIm9ucHJvZ3Jlc3MiLCJvbndyaXRlIiwib25hYm9ydCIsIm9uZXJyb3IiLCJvbndyaXRlZW5kIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmluZSIsIlBvaW50ZXJFdmVudHNQb2x5ZmlsbCIsInNlbGVjdG9yIiwibW91c2VFdmVudHMiLCJ1c2VQb2x5ZmlsbElmIiwiYXBwTmFtZSIsImFnZW50IiwicGFyc2VGbG9hdCIsIlJlZ0V4cCIsIiQxIiwib2JqIiwiJCIsImVhY2giLCJyZWdpc3Rlcl9tb3VzZV9ldmVudHMiLCJzaW5nbGV0b24iLCJvbiIsImNzcyIsIm9yaWdEaXNwbGF5QXR0cmlidXRlIiwidW5kZXJuZWF0aEVsZW0iLCJlbGVtZW50RnJvbVBvaW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJ0cmlnZ2VyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsTztRQ1ZBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxHQUFHOztRQUVIO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQSxNQUFNO1FBQ047UUFDQTtRQUNBLE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQSxPQUFPO1FBQ1A7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsSUFBSTtRQUNKOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSzs7UUFFTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQSw2QkFBNkI7UUFDN0IsNkJBQTZCO1FBQzdCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EscUJBQXFCLGdCQUFnQjtRQUNyQztRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQTtRQUNBLHFCQUFxQixnQkFBZ0I7UUFDckM7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSzs7UUFFTDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBLEtBQUs7UUFDTDtRQUNBO1FBQ0E7UUFDQSxLQUFLOztRQUVMO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQSxrQkFBa0IsOEJBQThCO1FBQ2hEO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxJQUFJO1FBQ0o7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSxJQUFJO1FBQ0o7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQSxNQUFNO1FBQ047UUFDQTtRQUNBO1FBQ0EsT0FBTztRQUNQO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsSUFBSTtRQUNKO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsS0FBSztRQUNMO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLG9CQUFvQiwyQkFBMkI7UUFDL0M7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLE9BQU87UUFDUDtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0EsbUJBQW1CLGNBQWM7UUFDakM7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLGdCQUFnQixLQUFLO1FBQ3JCO1FBQ0E7UUFDQTtRQUNBLE1BQU07UUFDTjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EsZ0JBQWdCLFlBQVk7UUFDNUI7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQSxjQUFjLDRCQUE0QjtRQUMxQztRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLE1BQU07UUFDTjtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBLElBQUk7O1FBRUo7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBOztRQUVBO1FBQ0E7UUFDQSxlQUFlLDRCQUE0QjtRQUMzQztRQUNBO1FBQ0E7UUFDQTs7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O0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixTQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFlBQVk7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsWUFBWTtBQUNuQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGVBQWU7QUFDZixlQUFlO0FBQ2YsZUFBZTtBQUNmLGVBQWU7QUFDZixlQUFlO0FBQ2YsZUFBZTtBQUNmLGVBQWU7QUFDZixnQkFBZ0I7QUFDaEIsaUJBQWlCO0FBQ2pCO0FBQ0EsZ0JBQWdCO0FBQ2hCLGdCQUFnQjtBQUNoQixnQkFBZ0I7QUFDaEIsZ0JBQWdCO0FBQ2hCLGdCQUFnQjtBQUNoQjtBQUNBLGdCQUFnQjtBQUNoQixnQkFBZ0I7QUFDaEIsZ0JBQWdCO0FBQ2hCLGdCQUFnQjtBQUNoQixnQkFBZ0I7QUFDaEIsZ0JBQWdCO0FBQ2hCLGdCQUFnQjtBQUNoQjtBQUNBLGdCQUFnQjtBQUNoQixnQkFBZ0I7QUFDaEIsZ0JBQWdCO0FBQ2hCLGdCQUFnQjtBQUNoQixnQkFBZ0IsNEJBQTRCO0FBQzVDO0FBQ0EsZ0JBQWdCLDJDQUEyQyxXQUFXO0FBQ3RFLGdCQUFnQjtBQUNoQixnQkFBZ0I7QUFDaEIsZ0JBQWdCO0FBQ2hCLGdCQUFnQjtBQUNoQixnQkFBZ0I7QUFDaEIsZ0JBQWdCO0FBQ2hCLGdCQUFnQiw0Q0FBNEM7QUFDNUQsZ0JBQWdCLDJCQUEyQjtBQUMzQyxnQkFBZ0I7QUFDaEIsZ0JBQWdCO0FBQ2hCLGdCQUFnQjtBQUNoQixnQkFBZ0Isb0NBQW9DO0FBQ3BELGdCQUFnQjtBQUNoQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHNCQUFzQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx3REFBd0QsRUFBRTtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxvQkFBb0IsRUFBRTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw4QkFBOEI7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsNkJBQTZCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUssRUFBRTtBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxvQ0FBb0M7QUFDekMsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEVBQUU7QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEVBQUU7QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxzQkFBc0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxnQ0FBZ0M7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtEQUFrRDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMENBQTBDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxFQUFFO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyw0QkFBNEI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHNDQUFzQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEVBQUU7QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxnQ0FBZ0M7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRix5QkFBeUIsRUFBRTtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsdUNBQXVDLGdFQUFnRTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxnRUFBZ0UsV0FBVztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QscURBQXFEO0FBQ3pHLHNDQUFzQyx5Q0FBeUM7QUFDL0UseUNBQXlDLDRDQUE0QztBQUNyRjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsOEJBQThCO0FBQ3JFLHVDQUF1Qyw4QkFBOEI7QUFDckUsMENBQTBDLGlDQUFpQztBQUMzRSx5Q0FBeUMsZ0NBQWdDO0FBQ3pFLHdDQUF3QywrQkFBK0I7QUFDdkUseUNBQXlDLGdDQUFnQztBQUN6RSwyQ0FBMkMsa0NBQWtDO0FBQzdFLDBDQUEwQywrQkFBK0I7QUFDekUsMkNBQTJDLGtDQUFrQztBQUM3RSwwQ0FBMEMsaUNBQWlDO0FBQzNFLDJDQUEyQyxrQ0FBa0M7QUFDN0UsNkNBQTZDLG9DQUFvQztBQUNqRiwyQ0FBMkMsa0NBQWtDOztBQUU3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELHNDQUFzQyxFQUFFO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGVBQWU7QUFDL0M7QUFDQSx5SEFBeUgsOERBQThELEVBQUU7QUFDekw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1QkFBdUI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRTtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELCtCQUErQixFQUFFO0FBQzVGLDJEQUEyRCxlQUFlLEVBQUU7QUFDNUU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWEsRUFBRSxFQUFFO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGNBQWM7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCx1REFBdUQsRUFBRTtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyw4Q0FBOEM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxRQUFRO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0JBQStCLCtCQUErQixHQUFHO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDRCQUE0QjtBQUNqQztBQUNBO0FBQ0EsMkNBQTJDLG1CQUFtQixFQUFFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wseUNBQXlDLDRDQUE0Qzs7QUFFckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHdCQUF3QjtBQUM3QjtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLDRCQUE0QjtBQUM1Qix3QkFBd0I7QUFDeEIsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMscUNBQXFDOztBQUUvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxQkFBcUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLG9FQUFvRTtBQUN2Ryw4Q0FBOEMsa0NBQWtDO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw2REFBNkQ7QUFDOUYsaUNBQWlDLGlFQUFpRTtBQUNsRyxpQ0FBaUMsbUVBQW1FO0FBQ3BHLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLFNBQVM7QUFDVDs7QUFFQTtBQUNBLHlDQUF5QyxnRUFBZ0U7QUFDekc7QUFDQSxpQ0FBaUMsY0FBYztBQUMvQztBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0EsbUNBQW1DLDZDQUE2QztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLLEVBQUU7O0FBRVA7O0FBRUEsQ0FBQztBQUNEOzs7Ozs7Ozs7Ozs7O0FDejNOYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEOztBQUV2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsd0JBQXdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLEtBQXdDLEdBQUcsc0JBQWlCLEdBQUcsU0FBSTs7QUFFbkY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0EscUVBQXFFLHFCQUFxQixhQUFhOztBQUV2Rzs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EseURBQXlEO0FBQ3pELEdBQUc7O0FBRUg7OztBQUdBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEI7QUFDMUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsNEJBQTRCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLG9CQUFvQiw2QkFBNkI7QUFDakQ7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEU7Ozs7Ozs7Ozs7O0FDNVFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZCQTtBQUFBO0FBQUE7QUFBQTtBQUVBOzs7Ozs7O0FBTU8sSUFBTUMsU0FBUyxHQUFHLFNBQVpBLFNBQVksQ0FBU0MsSUFBVCxFQUFlWixPQUFmLEVBQXdCO0FBQUE7O0FBRWhELE1BQUlhLFlBQUo7QUFFQSxNQUFNQyxPQUFPLEdBQUdGLElBQUksQ0FBQ0UsT0FBckI7O0FBRUEsTUFBTUMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsR0FBTTtBQUN4QixRQUFNQyxHQUFHLEdBQUdwQixRQUFRLENBQUNxQixhQUFULENBQXVCLEtBQXZCLENBQVo7QUFDQUQsT0FBRyxDQUFDRSxTQUFKLENBQWNDLEdBQWQsQ0FBa0IsbUJBQWxCO0FBQ0FuQixXQUFPLENBQUNvQixXQUFSLENBQW9CSixHQUFwQixFQUh3QixDQUt4Qjs7QUFDQSxRQUFNSyxFQUFFLEdBQUd6QixRQUFRLENBQUNxQixhQUFULENBQXVCLElBQXZCLENBQVg7QUFDQUksTUFBRSxDQUFDQyxTQUFILEdBQWVSLE9BQU8sQ0FBQ1MsS0FBUixHQUFnQixVQUFoQixHQUE2QixtQkFBNUM7QUFDQVAsT0FBRyxDQUFDSSxXQUFKLENBQWdCQyxFQUFoQjtBQUVBLFFBQU1HLElBQUksR0FBRzVCLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsTUFBdkIsQ0FBYjtBQUNBRCxPQUFHLENBQUNJLFdBQUosQ0FBZ0JJLElBQWhCO0FBRUEsUUFBTUMsQ0FBQyxHQUFHN0IsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixHQUF2QixDQUFWO0FBQ0FRLEtBQUMsQ0FBQ0gsU0FBRixHQUFjLFFBQWQ7QUFDQU4sT0FBRyxDQUFDSSxXQUFKLENBQWdCSyxDQUFoQjs7QUFFQSxRQUFHWCxPQUFPLENBQUNTLEtBQVgsRUFBa0I7QUFDakJFLE9BQUMsQ0FBQ0wsV0FBRixDQUFjeEIsUUFBUSxDQUFDOEIsY0FBVCxDQUF3QixLQUFLWixPQUFPLENBQUNhLElBQWIsR0FBb0IsYUFBNUMsQ0FBZDtBQUVBLEtBSEQsTUFHTztBQUNOO0FBQ0E7QUFDQTtBQUNBLFVBQU1DLE1BQU0sR0FBR2hDLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBZjtBQUNBUSxPQUFDLENBQUNMLFdBQUYsQ0FBY1EsTUFBZDtBQUVBLFVBQUlDLFFBQVEsR0FBRyxFQUFmO0FBQ0EsVUFBSUMsUUFBUSxHQUFHLEVBQWY7O0FBQ0EsV0FBSSxJQUFJQyxDQUFDLEdBQUMsQ0FBVixFQUFhQSxDQUFDLElBQUUsQ0FBaEIsRUFBbUJBLENBQUMsRUFBcEIsRUFBd0I7QUFDdkIsWUFBR0EsQ0FBQyxLQUFLLENBQUNuQixJQUFJLENBQUNFLE9BQUwsQ0FBYWEsSUFBdkIsRUFBNkI7QUFDNUIsY0FBR2YsSUFBSSxDQUFDRSxPQUFMLENBQWFrQixXQUFoQixFQUE2QjtBQUM1Qkgsb0JBQVEsSUFBSSxvQkFBb0JFLENBQXBCLEdBQXdCLElBQXhCLEdBQStCQSxDQUEvQixHQUFtQyxXQUEvQzs7QUFDQSxnQkFBR25CLElBQUksQ0FBQ0UsT0FBTCxDQUFhbUIsaUJBQWhCLEVBQW1DO0FBQ2xDSCxzQkFBUSxJQUFJLG9CQUFvQkMsQ0FBcEIsR0FBd0IsY0FBeEIsR0FBeUNBLENBQXpDLEdBQTZDLHlCQUF6RDtBQUNBO0FBQ0QsV0FMRCxNQUtPO0FBQ05GLG9CQUFRLElBQUksb0JBQW9CRSxDQUFwQixHQUF3QixhQUF4QixHQUF3Q0EsQ0FBeEMsR0FBNEMsV0FBeEQ7O0FBQ0EsZ0JBQUduQixJQUFJLENBQUNFLE9BQUwsQ0FBYW1CLGlCQUFoQixFQUFtQztBQUNsQ0gsc0JBQVEsSUFBSSxvQkFBb0JDLENBQXBCLEdBQXdCLEtBQXhCLEdBQWdDQSxDQUFoQyxHQUFvQyx5QkFBaEQ7QUFDQTtBQUNEO0FBRUQsU0FiRCxNQWFPO0FBQ05GLGtCQUFRLElBQUksb0JBQW9CRSxDQUFwQixHQUF3QixJQUF4QixHQUErQkEsQ0FBL0IsR0FBbUMsV0FBL0M7O0FBQ0EsY0FBR25CLElBQUksQ0FBQ0UsT0FBTCxDQUFhbUIsaUJBQWhCLEVBQW1DO0FBQ2xDSCxvQkFBUSxJQUFJLG9CQUFvQkMsQ0FBcEIsR0FBd0IsS0FBeEIsR0FBZ0NBLENBQWhDLEdBQW9DLHNDQUFoRDtBQUNBO0FBQ0Q7QUFDRDs7QUFFREgsWUFBTSxDQUFDdkIsU0FBUCxHQUFtQndCLFFBQVEsR0FBR0MsUUFBOUI7QUFFQUYsWUFBTSxDQUFDTSxnQkFBUCxDQUF3QixRQUF4QixFQUFrQyxVQUFDQyxLQUFELEVBQVc7QUFDNUNBLGFBQUssQ0FBQ0MsY0FBTjtBQUNBLFlBQUlDLEdBQUcsR0FBR1QsTUFBTSxDQUFDVSxLQUFqQjtBQUNBLFlBQUlDLE9BQU8sR0FBR0MsUUFBUSxDQUFDSCxHQUFELENBQXRCO0FBQ0F6QixZQUFJLENBQUNFLE9BQUwsQ0FBYWtCLFdBQWIsR0FBMkJLLEdBQUcsQ0FBQ0ksS0FBSixDQUFVLElBQVYsTUFBb0IsSUFBL0M7QUFDQTdCLFlBQUksQ0FBQzJCLE9BQUwsQ0FBYUEsT0FBYjtBQUNBLE9BTkQsRUFqQ00sQ0F5Q047QUFDQTtBQUNBOztBQUNBZCxPQUFDLENBQUNMLFdBQUYsQ0FBY3hCLFFBQVEsQ0FBQzhCLGNBQVQsQ0FBd0IsR0FBeEIsQ0FBZDtBQUVBLFVBQU1nQixNQUFNLEdBQUc5QyxRQUFRLENBQUNxQixhQUFULENBQXVCLFFBQXZCLENBQWY7QUFDQXlCLFlBQU0sQ0FBQ3BCLFNBQVAsR0FBbUIsVUFBbkI7QUFDQUcsT0FBQyxDQUFDTCxXQUFGLENBQWNzQixNQUFkO0FBRUFqQixPQUFDLENBQUNMLFdBQUYsQ0FBY3hCLFFBQVEsQ0FBQzhCLGNBQVQsQ0FBd0IsR0FBeEIsQ0FBZDtBQUVBZ0IsWUFBTSxDQUFDUixnQkFBUCxDQUF3QixPQUF4QixFQUFpQyxVQUFDQyxLQUFELEVBQVc7QUFDM0NBLGFBQUssQ0FBQ0MsY0FBTjtBQUNBeEIsWUFBSSxDQUFDK0IsUUFBTDtBQUNBLE9BSEQ7QUFJQTs7QUFFRDlCLGdCQUFZLEdBQUdqQixRQUFRLENBQUNxQixhQUFULENBQXVCLE1BQXZCLENBQWY7QUFDQVEsS0FBQyxDQUFDTCxXQUFGLENBQWNQLFlBQWQ7O0FBRUEsU0FBSSxDQUFDK0IsT0FBTDtBQUNBLEdBbEZEOztBQW9GQSxPQUFLQSxPQUFMLEdBQWUsWUFBVztBQUN0QixRQUFHaEMsSUFBSSxDQUFDaUMsUUFBTCxDQUFjQyxRQUFkLENBQXVCL0MsTUFBdkIsR0FBZ0MsQ0FBbkMsRUFBc0M7QUFDckNjLGtCQUFZLENBQUNSLFNBQWIsR0FBeUJPLElBQUksQ0FBQ2lDLFFBQUwsQ0FBY0UsSUFBZCxDQUFtQixJQUFuQixJQUN2QixRQUR1QixHQUNabkMsSUFBSSxDQUFDaUMsUUFBTCxDQUFjRyxhQUFkLENBQTRCLElBQTVCLENBRGI7QUFFQSxLQUhELE1BR087QUFDTm5DLGtCQUFZLENBQUNSLFNBQWIsR0FBeUJPLElBQUksQ0FBQ2lDLFFBQUwsQ0FBY0UsSUFBZCxDQUFtQixJQUFuQixDQUF6QjtBQUNBO0FBQ0osR0FQRDs7QUFTQWhDLFlBQVU7QUFDVixDQXBHTSxDOzs7Ozs7Ozs7Ozs7QUNSUDtBQUFBO0FBQUE7Ozs7Ozs7O0FBUU8sSUFBTWtDLEtBQUssR0FBRyxTQUFSQSxLQUFRLENBQVNDLE1BQVQsRUFBaUJILElBQWpCLEVBQXVCSSxRQUF2QixFQUFpQ0MsS0FBakMsRUFBd0M7QUFBQTs7QUFDekQsT0FBS0YsTUFBTCxHQUFjQSxNQUFkO0FBQ0EsT0FBS0MsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxPQUFLQyxLQUFMLEdBQWFBLEtBQWI7O0FBQ0EsTUFBR0wsSUFBSSxLQUFLLElBQVosRUFBa0I7QUFDZDtBQUNIOztBQUVELE1BQUlNLEdBQUcsR0FBRyxFQUFWO0FBQ0EsTUFBSUMsS0FBSyxHQUFHLElBQVo7O0FBQ0EsT0FBSSxJQUFJeEQsQ0FBQyxHQUFDLENBQVYsRUFBYUEsQ0FBQyxHQUFDcUQsUUFBUSxDQUFDcEQsTUFBeEIsRUFBZ0NELENBQUMsRUFBakMsRUFBcUM7QUFDakMsUUFBRyxDQUFDd0QsS0FBSixFQUFXO0FBQ1BELFNBQUcsSUFBSSxHQUFQO0FBQ0gsS0FGRCxNQUVPO0FBQ0hDLFdBQUssR0FBRyxLQUFSO0FBQ0g7O0FBRUQsUUFBR3hELENBQUMsS0FBSyxDQUFULEVBQVk7QUFDUnVELFNBQUcsSUFBSSxPQUFQO0FBQ0g7O0FBRURBLE9BQUcsSUFBSUYsUUFBUSxDQUFDckQsQ0FBRCxDQUFmO0FBQ0gsR0F0QndELENBd0I1RDs7O0FBQ0csTUFBSWtCLEdBQUcsR0FBR3BCLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBVjtBQUNBRCxLQUFHLENBQUNFLFNBQUosQ0FBY0MsR0FBZCxDQUFrQixPQUFsQjtBQUNBSCxLQUFHLENBQUNYLFNBQUosR0FBZ0JnRCxHQUFoQixDQTNCeUQsQ0E2QjVEO0FBQ0E7O0FBQ0EsTUFBSUUsSUFBSSxHQUFHM0QsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixNQUF2QixDQUFYO0FBQ0FELEtBQUcsQ0FBQ0ksV0FBSixDQUFnQm1DLElBQWhCLEVBaEM0RCxDQWtDNUQ7QUFDQTs7QUFDQSxNQUFJQyxDQUFDLEdBQUc1RCxRQUFRLENBQUNxQixhQUFULENBQXVCLEdBQXZCLENBQVI7QUFDQXNDLE1BQUksQ0FBQ25DLFdBQUwsQ0FBaUJvQyxDQUFqQjtBQUVHVCxNQUFJLENBQUMzQixXQUFMLENBQWlCSixHQUFqQjtBQUVBd0MsR0FBQyxDQUFDdEIsZ0JBQUYsQ0FBbUIsT0FBbkIsRUFBNEIsVUFBQ0MsS0FBRCxFQUFXO0FBQ3RDQSxTQUFLLENBQUNDLGNBQU47QUFFQVcsUUFBSSxDQUFDVSxXQUFMLENBQWlCekMsR0FBakI7QUFDQWtDLFVBQU0sQ0FBQ1EsTUFBUCxDQUFjLEtBQWQ7QUFDQSxHQUxEO0FBT0gxQyxLQUFHLENBQUNQLEtBQUosQ0FBVWtELGVBQVYsR0FBNEJQLEtBQTVCLENBaEQ0RCxDQWlEMUQ7QUFDRixDQWxETTs7QUFvRFBILEtBQUssQ0FBQ1csU0FBTixDQUFnQkMsSUFBaEIsR0FBdUIsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CQyxHQUFuQixFQUF3QkMsVUFBeEIsRUFBb0M7QUFDdkQsTUFBSUMsS0FBSyxHQUFHLEVBQVo7QUFDQSxNQUFJQyxPQUFPLEdBQUcsRUFBZDtBQUVBLE1BQUlDLElBQUosRUFBVUMsSUFBVixFQUFnQkMsSUFBaEIsRUFBc0JDLElBQXRCLEVBQTRCQyxHQUE1Qjs7QUFDQSxVQUFPLEtBQUt0QixNQUFMLENBQVl0QyxJQUFaLENBQWlCRSxPQUFqQixDQUF5QmEsSUFBaEM7QUFDSSxTQUFLLENBQUw7QUFDSXlDLFVBQUksR0FBRyxDQUFQO0FBQ0FDLFVBQUksR0FBRyxDQUFQO0FBQ0FDLFVBQUksR0FBRyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FBUDtBQUNBQyxVQUFJLEdBQUcsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBQVA7QUFDQUMsU0FBRyxHQUFHLENBQU47QUFDQTs7QUFFSixTQUFLLENBQUw7QUFDSUosVUFBSSxHQUFHLENBQVA7QUFDQUMsVUFBSSxHQUFHLENBQVA7QUFDQUMsVUFBSSxHQUFHLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixFQUFhLENBQWIsRUFBZ0IsQ0FBaEIsRUFBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsQ0FBUDtBQUNBQyxVQUFJLEdBQUcsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLEVBQWEsQ0FBYixFQUFnQixDQUFoQixFQUFtQixDQUFuQixFQUFzQixDQUF0QixDQUFQO0FBQ0FDLFNBQUcsR0FBRyxDQUFOO0FBQ0E7O0FBRUosU0FBSyxDQUFMO0FBQ0lKLFVBQUksR0FBRyxDQUFQO0FBQ0FDLFVBQUksR0FBRyxDQUFQO0FBQ0FDLFVBQUksR0FBRyxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsRUFBYSxDQUFiLEVBQWdCLENBQWhCLEVBQW1CLENBQW5CLEVBQXNCLENBQXRCLEVBQXlCLENBQXpCLEVBQTRCLENBQTVCLEVBQStCLENBQS9CLEVBQWtDLENBQWxDLEVBQXFDLENBQXJDLEVBQXdDLENBQXhDLEVBQTJDLENBQTNDLEVBQThDLENBQTlDLENBQVA7QUFDQUMsVUFBSSxHQUFHLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxDQUFQLEVBQVUsQ0FBVixFQUFhLENBQWIsRUFBZ0IsQ0FBaEIsRUFBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsRUFBeUIsQ0FBekIsRUFBNEIsQ0FBNUIsRUFBK0IsQ0FBL0IsRUFBa0MsQ0FBbEMsRUFBcUMsQ0FBckMsRUFBd0MsQ0FBeEMsRUFBMkMsQ0FBM0MsRUFBOEMsQ0FBOUMsQ0FBUDtBQUNBQyxTQUFHLEdBQUcsRUFBTjtBQUNBO0FBdkJSOztBQTBCQSxNQUFJQyxHQUFHLEdBQUcsS0FBS3RCLFFBQUwsQ0FBY3BELE1BQXhCOztBQUNBLE1BQUcwRSxHQUFHLEtBQUtELEdBQVgsRUFBZ0I7QUFDWjtBQUNBLFNBQUtFLFNBQUwsQ0FBZVosR0FBZixFQUFvQixDQUFwQixFQUF1QixDQUF2QixFQUEwQkMsR0FBMUIsRUFBK0JDLEdBQS9CLEVBQW9DRSxLQUFLLEdBQUdDLE9BQU8sR0FBR0YsVUFBdEQ7QUFDQTtBQUNIOztBQUVELE1BQUdRLEdBQUcsS0FBSyxDQUFYLEVBQWM7QUFDVixRQUFJRSxFQUFFLEdBQUdKLElBQUksQ0FBQyxLQUFLcEIsUUFBTCxDQUFjLENBQWQsQ0FBRCxDQUFiO0FBQ0EsUUFBSXlCLEVBQUUsR0FBR04sSUFBSSxDQUFDLEtBQUtuQixRQUFMLENBQWMsQ0FBZCxDQUFELENBQWI7QUFDQSxTQUFLdUIsU0FBTCxDQUFlWixHQUFmLEVBQW9CYSxFQUFFLEdBQUdaLEdBQUwsR0FBV0ssSUFBL0IsRUFBcUNRLEVBQUUsR0FBR1osR0FBTCxHQUFXSyxJQUFoRCxFQUNJTixHQUFHLEdBQUdLLElBRFYsRUFDZ0JKLEdBQUcsR0FBR0ssSUFEdEIsRUFDNEJILEtBQUssR0FBR0MsT0FBTyxHQUFHRixVQUQ5QztBQUVILEdBTEQsTUFLTyxJQUFHUSxHQUFHLElBQUksQ0FBVixFQUFhO0FBQ2hCLFFBQUlFLEVBQUUsR0FBR0osSUFBSSxDQUFDLEtBQUtwQixRQUFMLENBQWMsQ0FBZCxDQUFELENBQWI7QUFDQSxRQUFJeUIsRUFBRSxHQUFHTixJQUFJLENBQUMsS0FBS25CLFFBQUwsQ0FBYyxDQUFkLENBQUQsQ0FBYjtBQUNBLFFBQUkwQixFQUFFLEdBQUdOLElBQUksQ0FBQyxLQUFLcEIsUUFBTCxDQUFjLENBQWQsQ0FBRCxDQUFiO0FBQ0EsUUFBSTJCLEVBQUUsR0FBR1IsSUFBSSxDQUFDLEtBQUtuQixRQUFMLENBQWMsQ0FBZCxDQUFELENBQWI7O0FBRUEsUUFBR3lCLEVBQUUsSUFBSUUsRUFBVCxFQUFhO0FBQ1Q7QUFDQSxVQUFHRCxFQUFFLEdBQUdGLEVBQVIsRUFBWTtBQUNSLFlBQUlJLENBQUMsR0FBR0osRUFBUjtBQUFZQSxVQUFFLEdBQUdFLEVBQUw7QUFBU0EsVUFBRSxHQUFHRSxDQUFMO0FBQ3hCOztBQUVELFVBQUlGLEVBQUUsR0FBR0YsRUFBTixHQUFZLENBQWYsRUFBa0I7QUFDZDtBQUNBLGFBQUtELFNBQUwsQ0FBZVosR0FBZixFQUFvQmUsRUFBRSxHQUFHZCxHQUFMLEdBQVdLLElBQS9CLEVBQXFDUSxFQUFFLEdBQUdaLEdBQUwsR0FBV0ssSUFBaEQsRUFDSU4sR0FBRyxHQUFHLENBQU4sR0FBVUssSUFEZCxFQUNvQkosR0FBRyxHQUFHSyxJQUQxQixFQUNnQ0gsS0FBSyxHQUFHQyxPQUFPLEdBQUdGLFVBRGxEO0FBRUEsYUFBS1MsU0FBTCxDQUFlWixHQUFmLEVBQW9CLENBQUNhLEVBQUUsR0FBRyxDQUFOLElBQVdaLEdBQVgsR0FBaUJLLElBQXJDLEVBQTJDUSxFQUFFLEdBQUdaLEdBQUwsR0FBV0ssSUFBdEQsRUFDSU4sR0FBRyxHQUFHLENBQU4sR0FBVUssSUFEZCxFQUNvQkosR0FBRyxHQUFHSyxJQUQxQixFQUNnQ0gsS0FBSyxHQUFHQyxPQUFPLEdBQUdGLFVBRGxEO0FBRUgsT0FORCxNQU1PO0FBQ0gsYUFBS1MsU0FBTCxDQUFlWixHQUFmLEVBQW9CYSxFQUFFLEdBQUdaLEdBQUwsR0FBV0ssSUFBL0IsRUFBcUNRLEVBQUUsR0FBR1osR0FBTCxHQUFXSyxJQUFoRCxFQUNJTixHQUFHLEdBQUcsQ0FBTixHQUFVSyxJQURkLEVBQ29CSixHQUFHLEdBQUdLLElBRDFCLEVBQ2dDSCxLQUFLLEdBQUdDLE9BQU8sR0FBR0YsVUFEbEQ7QUFFSDtBQUNKLEtBaEJELE1BZ0JPO0FBQ0g7QUFDQSxVQUFHYSxFQUFFLEdBQUdGLEVBQVIsRUFBWTtBQUNSLFlBQUlHLENBQUMsR0FBR0gsRUFBUjtBQUFZQSxVQUFFLEdBQUdFLEVBQUw7QUFBU0EsVUFBRSxHQUFHQyxDQUFMO0FBQ3hCOztBQUVELFVBQUlELEVBQUUsR0FBR0YsRUFBTixHQUFZLENBQWYsRUFBa0I7QUFDZDtBQUNBLGFBQUtGLFNBQUwsQ0FBZVosR0FBZixFQUFvQmEsRUFBRSxHQUFHWixHQUFMLEdBQVdLLElBQS9CLEVBQXFDVSxFQUFFLEdBQUdkLEdBQUwsR0FBV0ssSUFBaEQsRUFDSU4sR0FBRyxHQUFHSyxJQURWLEVBQ2dCSixHQUFHLEdBQUcsQ0FBTixHQUFVSyxJQUQxQixFQUNnQ0gsS0FBSyxHQUFHQyxPQUFPLEdBQUdGLFVBRGxEO0FBRUEsYUFBS1MsU0FBTCxDQUFlWixHQUFmLEVBQW9CYSxFQUFFLEdBQUdaLEdBQUwsR0FBV0ssSUFBL0IsRUFBcUMsQ0FBQ1EsRUFBRSxHQUFDLENBQUosSUFBU1osR0FBVCxHQUFlSyxJQUFwRCxFQUNJTixHQUFHLEdBQUdLLElBRFYsRUFDZ0JKLEdBQUcsR0FBRyxDQUFOLEdBQVVLLElBRDFCLEVBQ2dDSCxLQUFLLEdBQUdDLE9BQU8sR0FBR0YsVUFEbEQ7QUFFSCxPQU5ELE1BTU87QUFDSCxhQUFLUyxTQUFMLENBQWVaLEdBQWYsRUFBb0JhLEVBQUUsR0FBR1osR0FBTCxHQUFXSyxJQUEvQixFQUFxQ1EsRUFBRSxHQUFHWixHQUFMLEdBQVdLLElBQWhELEVBQ0lOLEdBQUcsR0FBR0ssSUFEVixFQUNnQkosR0FBRyxHQUFHLENBQU4sR0FBVUssSUFEMUIsRUFDZ0NILEtBQUssR0FBR0MsT0FBTyxHQUFHRixVQURsRDtBQUVIO0FBQ0o7QUFFSixHQXhDTSxNQXdDQSxJQUFHUSxHQUFHLElBQUksQ0FBVixFQUFhO0FBQ2hCLFFBQUlFLEVBQUUsR0FBR0osSUFBSSxDQUFDLEtBQUtwQixRQUFMLENBQWMsQ0FBZCxDQUFELENBQWI7QUFDQSxRQUFJeUIsRUFBRSxHQUFHTixJQUFJLENBQUMsS0FBS25CLFFBQUwsQ0FBYyxDQUFkLENBQUQsQ0FBYjtBQUNBLFFBQUkwQixFQUFFLEdBQUdOLElBQUksQ0FBQyxLQUFLcEIsUUFBTCxDQUFjLENBQWQsQ0FBRCxDQUFiO0FBQ0EsUUFBSTJCLEVBQUUsR0FBR1IsSUFBSSxDQUFDLEtBQUtuQixRQUFMLENBQWMsQ0FBZCxDQUFELENBQWI7QUFDQSxRQUFJNkIsRUFBRSxHQUFHVCxJQUFJLENBQUMsS0FBS3BCLFFBQUwsQ0FBYyxDQUFkLENBQUQsQ0FBYjtBQUNBLFFBQUk4QixFQUFFLEdBQUdYLElBQUksQ0FBQyxLQUFLbkIsUUFBTCxDQUFjLENBQWQsQ0FBRCxDQUFiO0FBQ0EsUUFBSStCLEVBQUUsR0FBR1gsSUFBSSxDQUFDLEtBQUtwQixRQUFMLENBQWMsQ0FBZCxDQUFELENBQWI7QUFDQSxRQUFJZ0MsRUFBRSxHQUFHYixJQUFJLENBQUMsS0FBS25CLFFBQUwsQ0FBYyxDQUFkLENBQUQsQ0FBYixDQVJnQixDQVVoQjs7QUFDQSxRQUFHeUIsRUFBRSxJQUFJRSxFQUFOLElBQVlBLEVBQUUsSUFBSUcsRUFBbEIsSUFBd0JBLEVBQUUsSUFBSUUsRUFBakMsRUFBcUM7QUFDakM7QUFDQSxXQUFLVCxTQUFMLENBQWVaLEdBQWYsRUFBb0JhLEVBQUUsR0FBR1osR0FBTCxHQUFXSyxJQUEvQixFQUFxQ1EsRUFBRSxHQUFHWixHQUFMLEdBQVdLLElBQWhELEVBQ0lOLEdBQUcsR0FBRyxDQUFOLEdBQVVLLElBRGQsRUFDb0JKLEdBQUcsR0FBR0ssSUFEMUIsRUFDZ0NILEtBQUssR0FBR0MsT0FBTyxHQUFHRixVQURsRDtBQUVILEtBSkQsTUFJTyxJQUFHVSxFQUFFLElBQUlFLEVBQU4sSUFBWUEsRUFBRSxJQUFJRyxFQUFsQixJQUF3QkEsRUFBRSxJQUFJRSxFQUFqQyxFQUFxQztBQUN4QztBQUNBLFdBQUtSLFNBQUwsQ0FBZVosR0FBZixFQUFvQmEsRUFBRSxHQUFHWixHQUFMLEdBQVdLLElBQS9CLEVBQXFDUSxFQUFFLEdBQUdaLEdBQUwsR0FBV0ssSUFBaEQsRUFDSU4sR0FBRyxHQUFHSyxJQURWLEVBQ2dCSixHQUFHLEdBQUcsQ0FBTixHQUFVSyxJQUQxQixFQUNnQ0gsS0FBSyxHQUFHQyxPQUFPLEdBQUdGLFVBRGxEO0FBRUgsS0FKTSxNQUlBO0FBQ0g7QUFDQSxVQUFJbUIsSUFBSSxHQUFHckIsR0FBRyxHQUFHLENBQU4sR0FBVUssSUFBckI7QUFDQSxVQUFJaUIsSUFBSSxHQUFHckIsR0FBRyxHQUFHLENBQU4sR0FBVUssSUFBckI7O0FBRUEsVUFBR00sRUFBRSxJQUFJLENBQU4sSUFBV0UsRUFBRSxJQUFJLENBQWpCLElBQXNCRyxFQUFFLElBQUksQ0FBNUIsSUFBaUNFLEVBQUUsSUFBSSxDQUExQyxFQUE2QztBQUN6QztBQUNBLFlBQUdOLEVBQUUsSUFBSSxDQUFOLElBQVdFLEVBQUUsSUFBSSxDQUFqQixJQUFzQkcsRUFBRSxJQUFJLENBQTVCLElBQWlDRSxFQUFFLElBQUksQ0FBMUMsRUFBNkM7QUFDekM7QUFDQSxlQUFLVCxTQUFMLENBQWVaLEdBQWYsRUFBcUIsQ0FBQyxDQUFGLEdBQU9DLEdBQVAsR0FBYUssSUFBakMsRUFBd0MsQ0FBQyxDQUFGLEdBQU9KLEdBQVAsR0FBYUssSUFBcEQsRUFDSWUsSUFESixFQUNVQyxJQURWLEVBQ2dCbkIsS0FBSyxHQUFHQyxPQUFPLEdBQUdGLFVBRGxDO0FBRUEsZUFBS1MsU0FBTCxDQUFlWixHQUFmLEVBQXFCLENBQUMsQ0FBRixHQUFPQyxHQUFQLEdBQWFLLElBQWpDLEVBQXdDLENBQUQsR0FBTUosR0FBTixHQUFZSyxJQUFuRCxFQUNJZSxJQURKLEVBQ1VDLElBRFYsRUFDZ0JuQixLQUFLLEdBQUdDLE9BQU8sR0FBR0YsVUFEbEM7QUFFQSxlQUFLUyxTQUFMLENBQWVaLEdBQWYsRUFBcUIsQ0FBRCxHQUFNQyxHQUFOLEdBQVlLLElBQWhDLEVBQXVDLENBQUMsQ0FBRixHQUFPSixHQUFQLEdBQWFLLElBQW5ELEVBQ0llLElBREosRUFDVUMsSUFEVixFQUNnQm5CLEtBQUssR0FBR0MsT0FBTyxHQUFHRixVQURsQztBQUVBLGVBQUtTLFNBQUwsQ0FBZVosR0FBZixFQUFxQixDQUFELEdBQU1DLEdBQU4sR0FBWUssSUFBaEMsRUFBdUMsQ0FBRCxHQUFNSixHQUFOLEdBQVlLLElBQWxELEVBQ0llLElBREosRUFDVUMsSUFEVixFQUNnQm5CLEtBQUssR0FBR0MsT0FBTyxHQUFHRixVQURsQztBQUVILFNBVkQsTUFVTztBQUNILGNBQUdXLEVBQUUsR0FBR0UsRUFBUixFQUFZO0FBQ1IsZ0JBQUlDLENBQUMsR0FBR0gsRUFBUjtBQUFZQSxjQUFFLEdBQUdFLEVBQUw7QUFBU0EsY0FBRSxHQUFHQyxDQUFMO0FBQ3hCOztBQUVELGVBQUtMLFNBQUwsQ0FBZVosR0FBZixFQUFxQixDQUFDLENBQUYsR0FBT0MsR0FBUCxHQUFhSyxJQUFqQyxFQUF1Q1EsRUFBRSxHQUFHWixHQUFMLEdBQVdLLElBQWxELEVBQ0llLElBREosRUFDVUMsSUFEVixFQUNnQm5CLEtBQUssR0FBR0MsT0FBTyxHQUFHRixVQURsQztBQUVBLGVBQUtTLFNBQUwsQ0FBZVosR0FBZixFQUFxQixDQUFELEdBQU1DLEdBQU4sR0FBWUssSUFBaEMsRUFBc0NRLEVBQUUsR0FBR1osR0FBTCxHQUFXSyxJQUFqRCxFQUNJZSxJQURKLEVBQ1VDLElBRFYsRUFDZ0JuQixLQUFLLEdBQUdDLE9BQU8sR0FBR0YsVUFEbEM7QUFFSDtBQUNKLE9BdEJELE1Bc0JPLElBQUdXLEVBQUUsSUFBSSxDQUFOLElBQVdFLEVBQUUsSUFBSSxDQUFwQixFQUF1QjtBQUMxQixZQUFHSCxFQUFFLEdBQUdLLEVBQVIsRUFBWTtBQUNSLGNBQUlELENBQUMsR0FBR0osRUFBUjtBQUFZQSxZQUFFLEdBQUdLLEVBQUw7QUFBU0EsWUFBRSxHQUFHRCxDQUFMO0FBQ3hCLFNBSHlCLENBSTFCOzs7QUFDQSxhQUFLTCxTQUFMLENBQWVaLEdBQWYsRUFBb0JhLEVBQUUsR0FBR1osR0FBTCxHQUFXSyxJQUEvQixFQUFzQyxDQUFDLENBQUYsR0FBT0osR0FBUCxHQUFhSyxJQUFsRCxFQUNJZSxJQURKLEVBQ1VDLElBRFYsRUFDZ0JuQixLQUFLLEdBQUdDLE9BQU8sR0FBR0YsVUFEbEM7QUFFQSxhQUFLUyxTQUFMLENBQWVaLEdBQWYsRUFBb0JhLEVBQUUsR0FBR1osR0FBTCxHQUFXSyxJQUEvQixFQUFzQyxDQUFELEdBQU1KLEdBQU4sR0FBWUssSUFBakQsRUFDSWUsSUFESixFQUNVQyxJQURWLEVBQ2dCbkIsS0FBSyxHQUFHQyxPQUFPLEdBQUdGLFVBRGxDO0FBRUgsT0FUTSxNQVNBO0FBQ0g7QUFDQSxZQUFHVSxFQUFFLEdBQUdLLEVBQVIsRUFBWTtBQUNSLGNBQUlELENBQUMsR0FBR0osRUFBUjtBQUFZQSxZQUFFLEdBQUdLLEVBQUw7QUFBU0EsWUFBRSxHQUFHRCxDQUFMO0FBQ3hCOztBQUNELFlBQUdILEVBQUUsR0FBR0UsRUFBUixFQUFZO0FBQ1IsY0FBSUMsQ0FBQyxHQUFHSCxFQUFSO0FBQVlBLFlBQUUsR0FBR0UsRUFBTDtBQUFTQSxZQUFFLEdBQUdDLENBQUw7QUFDeEI7O0FBRUQsYUFBS0wsU0FBTCxDQUFlWixHQUFmLEVBQW9CYSxFQUFFLEdBQUdaLEdBQUwsR0FBV0ssSUFBL0IsRUFBcUNRLEVBQUUsR0FBR1osR0FBTCxHQUFXSyxJQUFoRCxFQUNJZSxJQURKLEVBQ1VDLElBRFYsRUFDZ0JuQixLQUFLLEdBQUdDLE9BQU8sR0FBR0YsVUFEbEM7QUFFSDtBQUdKO0FBQ0osR0F0RU0sTUFzRUEsSUFBR1EsR0FBRyxJQUFJLENBQVYsRUFBYTtBQUNoQixRQUFJRSxFQUFFLEdBQUdKLElBQUksQ0FBQyxLQUFLcEIsUUFBTCxDQUFjLENBQWQsQ0FBRCxDQUFiO0FBQ0EsUUFBSXlCLEVBQUUsR0FBR04sSUFBSSxDQUFDLEtBQUtuQixRQUFMLENBQWMsQ0FBZCxDQUFELENBQWI7QUFDQSxRQUFJMEIsRUFBRSxHQUFHTixJQUFJLENBQUMsS0FBS3BCLFFBQUwsQ0FBYyxDQUFkLENBQUQsQ0FBYjtBQUNBLFFBQUkyQixFQUFFLEdBQUdSLElBQUksQ0FBQyxLQUFLbkIsUUFBTCxDQUFjLENBQWQsQ0FBRCxDQUFiO0FBQ0EsUUFBSTZCLEVBQUUsR0FBR1QsSUFBSSxDQUFDLEtBQUtwQixRQUFMLENBQWMsQ0FBZCxDQUFELENBQWI7QUFDQSxRQUFJOEIsRUFBRSxHQUFHWCxJQUFJLENBQUMsS0FBS25CLFFBQUwsQ0FBYyxDQUFkLENBQUQsQ0FBYjtBQUNBLFFBQUkrQixFQUFFLEdBQUdYLElBQUksQ0FBQyxLQUFLcEIsUUFBTCxDQUFjLENBQWQsQ0FBRCxDQUFiO0FBQ0EsUUFBSWdDLEVBQUUsR0FBR2IsSUFBSSxDQUFDLEtBQUtuQixRQUFMLENBQWMsQ0FBZCxDQUFELENBQWI7QUFDQSxRQUFJbUMsRUFBRSxHQUFHZixJQUFJLENBQUMsS0FBS3BCLFFBQUwsQ0FBYyxDQUFkLENBQUQsQ0FBYjtBQUNBLFFBQUlvQyxFQUFFLEdBQUdqQixJQUFJLENBQUMsS0FBS25CLFFBQUwsQ0FBYyxDQUFkLENBQUQsQ0FBYjs7QUFFQSxRQUFHd0IsRUFBRSxJQUFJRSxFQUFOLElBQVlBLEVBQUUsSUFBSUcsRUFBbEIsSUFBd0JBLEVBQUUsSUFBSUUsRUFBakMsRUFBcUM7QUFDakMsVUFBSU0sSUFBSSxHQUFHekIsR0FBRyxHQUFHLENBQU4sR0FBVUssSUFBckI7QUFDQSxVQUFJcUIsSUFBSSxHQUFHekIsR0FBRyxHQUFHLENBQU4sR0FBVUssSUFBckIsQ0FGaUMsQ0FJakM7O0FBQ0EsVUFBR00sRUFBRSxJQUFJLENBQU4sSUFBV1csRUFBRSxJQUFJLENBQXBCLEVBQXVCO0FBQ25CO0FBQ0EsYUFBS1osU0FBTCxDQUFlWixHQUFmLEVBQXFCLENBQUMsQ0FBRixHQUFPQyxHQUFQLEdBQWFLLElBQWpDLEVBQXdDLENBQUQsR0FBTUosR0FBTixHQUFZSyxJQUFuRCxFQUNJbUIsSUFESixFQUNVQyxJQURWLEVBQ2dCdkIsS0FBSyxHQUFHQyxPQUFPLEdBQUdGLFVBRGxDO0FBRUEsYUFBS1MsU0FBTCxDQUFlWixHQUFmLEVBQXFCLENBQUQsR0FBTUMsR0FBTixHQUFZSyxJQUFoQyxFQUF1QyxDQUFELEdBQU1KLEdBQU4sR0FBWUssSUFBbEQsRUFDSW1CLElBREosRUFDVUMsSUFEVixFQUNnQnZCLEtBQUssR0FBR0MsT0FBTyxHQUFHRixVQURsQztBQUVILE9BTkQsTUFNTztBQUNILFlBQUdVLEVBQUUsR0FBR1csRUFBUixFQUFZO0FBQ1JYLFlBQUUsR0FBR1csRUFBTDtBQUNIOztBQUVELGFBQUtaLFNBQUwsQ0FBZVosR0FBZixFQUFvQmEsRUFBRSxHQUFHWixHQUFMLEdBQVdLLElBQS9CLEVBQXNDLENBQUQsR0FBTUosR0FBTixHQUFZSyxJQUFqRCxFQUNJbUIsSUFESixFQUNVQyxJQURWLEVBQ2dCdkIsS0FBSyxHQUFHQyxPQUFPLEdBQUdGLFVBRGxDO0FBRUg7QUFDSixLQW5CRCxNQW1CTztBQUNIO0FBQ0EsVUFBSXVCLElBQUksR0FBR3pCLEdBQUcsR0FBRyxDQUFOLEdBQVVLLElBQXJCO0FBQ0EsVUFBSXFCLElBQUksR0FBR3pCLEdBQUcsR0FBRyxDQUFOLEdBQVVLLElBQXJCOztBQUVBLFVBQUlTLEVBQUUsR0FBR0YsRUFBTixHQUFZLENBQWYsRUFBa0I7QUFDZDtBQUNBLGFBQUtGLFNBQUwsQ0FBZVosR0FBZixFQUFvQixJQUFJQyxHQUFKLEdBQVVLLElBQTlCLEVBQXFDLENBQUMsQ0FBRixHQUFPSixHQUFQLEdBQWFLLElBQWpELEVBQ0ltQixJQURKLEVBQ1VDLElBRFYsRUFDZ0J2QixLQUFLLEdBQUdDLE9BQU8sR0FBR0YsVUFEbEM7QUFFQSxhQUFLUyxTQUFMLENBQWVaLEdBQWYsRUFBb0IsSUFBSUMsR0FBSixHQUFVSyxJQUE5QixFQUFxQyxDQUFELEdBQU1KLEdBQU4sR0FBWUssSUFBaEQsRUFDSW1CLElBREosRUFDVUMsSUFEVixFQUNnQnZCLEtBQUssR0FBR0MsT0FBTyxHQUFHRixVQURsQztBQUVILE9BTkQsTUFNTztBQUNILFlBQUdXLEVBQUUsR0FBR0UsRUFBUixFQUFZO0FBQ1JGLFlBQUUsR0FBR0UsRUFBTDtBQUNIOztBQUVELGFBQUtKLFNBQUwsQ0FBZVosR0FBZixFQUFvQixJQUFJQyxHQUFKLEdBQVVLLElBQTlCLEVBQXFDUSxFQUFELEdBQU9aLEdBQVAsR0FBYUssSUFBakQsRUFDSW1CLElBREosRUFDVUMsSUFEVixFQUNnQnZCLEtBQUssR0FBR0MsT0FBTyxHQUFHRixVQURsQztBQUVIO0FBQ0o7QUFDSjtBQUNKLENBN01EOztBQStNQWhCLEtBQUssQ0FBQ1csU0FBTixDQUFnQmMsU0FBaEIsR0FBNEIsVUFBU1osR0FBVCxFQUFjNEIsRUFBZCxFQUFrQkMsRUFBbEIsRUFBc0I1QixHQUF0QixFQUEyQkMsR0FBM0IsRUFBZ0NFLEtBQWhDLEVBQXVDO0FBQy9ELE1BQUkwQixDQUFDLEdBQUdGLEVBQUUsR0FBR3hCLEtBQWI7QUFDQSxNQUFJMkIsQ0FBQyxHQUFHRixFQUFFLEdBQUd6QixLQUFiO0FBQ0EsTUFBSTRCLEtBQUssR0FBRy9CLEdBQUcsR0FBR0csS0FBSyxHQUFHLENBQWQsR0FBa0IsQ0FBOUI7QUFDQSxNQUFJNkIsTUFBTSxHQUFHL0IsR0FBRyxHQUFHRSxLQUFLLEdBQUcsQ0FBZCxHQUFrQixDQUEvQjtBQUNBLE1BQUk4QixNQUFNLEdBQUcsRUFBYjtBQUNBbEMsS0FBRyxDQUFDbUMsU0FBSixHQUFnQixDQUFoQjtBQUNBbkMsS0FBRyxDQUFDb0MsV0FBSixHQUFrQixLQUFLOUMsS0FBdkI7QUFFQVUsS0FBRyxDQUFDcUMsU0FBSjtBQUNBckMsS0FBRyxDQUFDc0MsTUFBSixDQUFXUixDQUFYLEVBQWFDLENBQUMsR0FBQ0csTUFBZjtBQUNBbEMsS0FBRyxDQUFDdUMsTUFBSixDQUFXVCxDQUFYLEVBQWFDLENBQUMsR0FBQ0UsTUFBRixHQUFTQyxNQUF0QjtBQUNBbEMsS0FBRyxDQUFDd0MsS0FBSixDQUFVVixDQUFWLEVBQVlDLENBQUMsR0FBQ0UsTUFBZCxFQUFxQkgsQ0FBQyxHQUFDSSxNQUF2QixFQUE4QkgsQ0FBQyxHQUFDRSxNQUFoQyxFQUF1Q0MsTUFBdkM7QUFDQWxDLEtBQUcsQ0FBQ3VDLE1BQUosQ0FBV1QsQ0FBQyxHQUFDRSxLQUFGLEdBQVFFLE1BQW5CLEVBQTBCSCxDQUFDLEdBQUNFLE1BQTVCO0FBQ0FqQyxLQUFHLENBQUN3QyxLQUFKLENBQVVWLENBQUMsR0FBQ0UsS0FBWixFQUFrQkQsQ0FBQyxHQUFDRSxNQUFwQixFQUEyQkgsQ0FBQyxHQUFDRSxLQUE3QixFQUFtQ0QsQ0FBQyxHQUFDRSxNQUFGLEdBQVNDLE1BQTVDLEVBQW1EQSxNQUFuRDtBQUNBbEMsS0FBRyxDQUFDdUMsTUFBSixDQUFXVCxDQUFDLEdBQUNFLEtBQWIsRUFBbUJELENBQUMsR0FBQ0csTUFBckI7QUFDQWxDLEtBQUcsQ0FBQ3dDLEtBQUosQ0FBVVYsQ0FBQyxHQUFDRSxLQUFaLEVBQWtCRCxDQUFsQixFQUFvQkQsQ0FBQyxHQUFDRSxLQUFGLEdBQVFFLE1BQTVCLEVBQW1DSCxDQUFuQyxFQUFxQ0csTUFBckM7QUFDQWxDLEtBQUcsQ0FBQ3VDLE1BQUosQ0FBV1QsQ0FBQyxHQUFDSSxNQUFiLEVBQW9CSCxDQUFwQjtBQUNBL0IsS0FBRyxDQUFDd0MsS0FBSixDQUFVVixDQUFWLEVBQVlDLENBQVosRUFBY0QsQ0FBZCxFQUFnQkMsQ0FBQyxHQUFDRyxNQUFsQixFQUF5QkEsTUFBekI7QUFDQWxDLEtBQUcsQ0FBQ3lDLE1BQUo7QUFDSCxDQXBCRCxDOzs7Ozs7Ozs7Ozs7QUMzUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7Ozs7QUFJTyxJQUFNQyxNQUFNLEdBQUcsU0FBVEEsTUFBUyxDQUFTNUYsSUFBVCxFQUFlNkYsR0FBZixFQUFvQjtBQUFBOztBQUN6QyxNQUFJQyxJQUFJLEdBQUcsSUFBWDtBQUVBLE9BQUs5RixJQUFMLEdBQVlBLElBQVo7QUFFQSxNQUFJbUMsSUFBSjs7QUFFQSxNQUFNaEMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsR0FBTTtBQUN4QixRQUFJMkIsTUFBTSxHQUFHOUMsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixRQUF2QixDQUFiO0FBQ0F3RixPQUFHLENBQUNyRixXQUFKLENBQWdCc0IsTUFBaEI7QUFDQUEsVUFBTSxDQUFDcEIsU0FBUCxHQUFtQixPQUFuQjtBQUVBeUIsUUFBSSxHQUFHbkQsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixLQUF2QixDQUFQO0FBQ0E4QixRQUFJLENBQUM3QixTQUFMLENBQWVDLEdBQWYsQ0FBbUIsTUFBbkI7QUFDQXNGLE9BQUcsQ0FBQ3JGLFdBQUosQ0FBZ0IyQixJQUFoQjtBQUVBLFNBQUksQ0FBQ0csTUFBTCxHQUFjLEVBQWQ7QUFDQSxTQUFJLENBQUN5RCxNQUFMLEdBQWMsQ0FBZDtBQUVBakUsVUFBTSxDQUFDUixnQkFBUCxDQUF3QixPQUF4QixFQUFpQyxVQUFDQyxLQUFELEVBQVc7QUFDeENBLFdBQUssQ0FBQ0MsY0FBTjtBQUVILFVBQUllLFFBQVEsR0FBR3ZDLElBQUksQ0FBQ2dHLElBQUwsQ0FBVUMsR0FBVixDQUFjMUQsUUFBN0I7O0FBRUEsVUFBR3ZDLElBQUksQ0FBQ0UsT0FBTCxDQUFhZ0csTUFBaEIsRUFBd0I7QUFDdkI7QUFDQSxZQUFJQyxJQUFJLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxDQUFTLENBQVQsRUFBWXJHLElBQUksQ0FBQ0UsT0FBTCxDQUFhYSxJQUF6QixJQUFpQyxDQUE1QztBQUNBLFlBQUl1RixJQUFJLEdBQUdILElBQVg7O0FBRUEsYUFBSSxJQUFJakgsQ0FBQyxHQUFDLENBQVYsRUFBYUEsQ0FBQyxHQUFDcUQsUUFBUSxDQUFDcEQsTUFBeEIsRUFBZ0NELENBQUMsRUFBakMsRUFBcUM7QUFDcEMsY0FBSTJHLElBQUcsR0FBR3RELFFBQVEsQ0FBQ3JELENBQUQsQ0FBbEI7QUFDQWlILGNBQUksSUFBSU4sSUFBUjtBQUNBUyxjQUFJLElBQUksQ0FBQ1QsSUFBVDtBQUNBOztBQUVELFlBQUlVLEVBQUUsR0FBR0osSUFBSSxHQUFHRyxJQUFoQjtBQUNBLFlBQUlFLElBQUksR0FBRyxDQUFYO0FBQ0EsWUFBSXpGLElBQUksR0FBR2YsSUFBSSxDQUFDRSxPQUFMLENBQWFhLElBQXhCOztBQUVBLGFBQUksSUFBSTdCLEVBQUMsR0FBQyxDQUFWLEVBQWFBLEVBQUMsR0FBQzZCLElBQWYsRUFBcUI3QixFQUFDLEVBQXRCLEVBQTBCO0FBQ3pCLGNBQUcsQ0FBQ3FILEVBQUUsR0FBRyxDQUFOLE1BQWEsQ0FBaEIsRUFBbUI7QUFDbEJDLGdCQUFJO0FBQ0o7O0FBRURELFlBQUUsS0FBSyxDQUFQO0FBQ0EsU0FyQnNCLENBdUJ2Qjs7O0FBQ0EsWUFBSUUsS0FBSyxHQUFHLElBQVo7O0FBQ0EsZ0JBQU9sRSxRQUFRLENBQUNwRCxNQUFoQjtBQUNDLGVBQUssQ0FBTDtBQUNDOztBQUVELGVBQUssQ0FBTDtBQUNDc0gsaUJBQUssR0FBR0QsSUFBSSxJQUFJekYsSUFBSSxHQUFHLENBQXZCO0FBQ0E7O0FBRUQsZUFBSyxDQUFMO0FBQ0MwRixpQkFBSyxHQUFHRCxJQUFJLElBQUl6RixJQUFJLEdBQUcsQ0FBdkI7QUFDQTs7QUFFRCxlQUFLLENBQUw7QUFDQzBGLGlCQUFLLEdBQUdELElBQUksSUFBSXpGLElBQUksR0FBRyxDQUF2QjtBQUNBOztBQUVELGVBQUssRUFBTDtBQUNDOztBQUVEO0FBQ0MsZ0JBQUkyRixJQUFJLEdBQUcsdUVBQ1YseUVBRFUsR0FFVixtQkFGRDtBQUdBLGdCQUFJQyxHQUFHLEdBQUcsSUFBSUMsNERBQUosQ0FBa0I1RyxJQUFsQixFQUF3QixtQkFBeEIsRUFBNkMwRyxJQUE3QyxDQUFWO0FBQ0FDLGVBQUcsQ0FBQ0UsSUFBSjtBQUNBO0FBekJGOztBQTRCQSxZQUFHLENBQUNKLEtBQUosRUFBVztBQUNWLGNBQUlDLEtBQUksR0FBRyx1RUFDViw4RUFEVSxHQUVWLGdGQUZVLEdBR1YsOEVBSFUsR0FJViw4RUFKRDs7QUFLQSxjQUFJQyxJQUFHLEdBQUcsSUFBSUMsNERBQUosQ0FBa0I1RyxJQUFsQixFQUF3QixtQkFBeEIsRUFBNkMwRyxLQUE3QyxDQUFWOztBQUNBQyxjQUFHLENBQUNFLElBQUo7O0FBQ0E7QUFDQSxTQTlEc0IsQ0FnRXZCO0FBQ0E7QUFDQTs7O0FBQ0EsYUFBSSxJQUFJM0gsR0FBQyxHQUFDLENBQVYsRUFBYUEsR0FBQyxHQUFDNEcsSUFBSSxDQUFDeEQsTUFBTCxDQUFZbkQsTUFBZCxJQUF3QnNILEtBQXJDLEVBQTRDdkgsR0FBQyxFQUE3QyxFQUFpRDtBQUNoRCxjQUFHNEcsSUFBSSxDQUFDeEQsTUFBTCxDQUFZcEQsR0FBWixFQUFlcUQsUUFBZixDQUF3QnBELE1BQXhCLEtBQW1Db0QsUUFBUSxDQUFDcEQsTUFBL0MsRUFBdUQ7QUFDdEQsZ0JBQUkySCxFQUFFLEdBQUcsS0FBVDs7QUFDQSxpQkFBSSxJQUFJQyxDQUFDLEdBQUMsQ0FBVixFQUFhQSxDQUFDLEdBQUNqQixJQUFJLENBQUN4RCxNQUFMLENBQVlwRCxHQUFaLEVBQWVxRCxRQUFmLENBQXdCcEQsTUFBdkMsRUFBK0M0SCxDQUFDLEVBQWhELEVBQW9EO0FBQ25ELGtCQUFHakIsSUFBSSxDQUFDeEQsTUFBTCxDQUFZcEQsR0FBWixFQUFlcUQsUUFBZixDQUF3QndFLENBQXhCLE1BQStCeEUsUUFBUSxDQUFDd0UsQ0FBRCxDQUExQyxFQUErQztBQUM5Q0Qsa0JBQUUsR0FBRyxJQUFMO0FBQ0E7QUFDQTtBQUNEOztBQUVELGdCQUFHLENBQUNBLEVBQUosRUFBUTtBQUNQTCxtQkFBSyxHQUFHLEtBQVI7QUFDQSxrQkFBSUMsTUFBSSxHQUFHLG1DQUFYOztBQUNBLGtCQUFJQyxLQUFHLEdBQUcsSUFBSUMsNERBQUosQ0FBa0I1RyxJQUFsQixFQUF3QixtQkFBeEIsRUFBNkMwRyxNQUE3QyxDQUFWOztBQUNBQyxtQkFBRyxDQUFDRSxJQUFKOztBQUNBO0FBQ0E7QUFDRDtBQUNEO0FBQ0Q7O0FBRUQsV0FBSSxDQUFDRyxTQUFMLENBQWV6RSxRQUFmOztBQUNBLFdBQUksQ0FBQzBFLFVBQUw7O0FBRUFqSCxVQUFJLENBQUNnRyxJQUFMLENBQVVDLEdBQVYsQ0FBY2lCLEtBQWQ7QUFDTSxLQWpHUDtBQWtHRyxHQTlHSjtBQWdIQTs7Ozs7O0FBSUEsT0FBS0YsU0FBTCxHQUFpQixVQUFTL0UsUUFBVCxFQUFtQjtBQUNuQyxRQUFJa0YsS0FBSyxHQUFHLElBQUk5RSw0Q0FBSixDQUFVLElBQVYsRUFBZ0JGLElBQWhCLEVBQXNCRixRQUF0QixFQUFnQyxLQUFLbUYsTUFBTCxDQUFZLEtBQUtyQixNQUFqQixDQUFoQyxDQUFaO0FBQ0EsU0FBS0EsTUFBTCxHQUFjLENBQUMsS0FBS0EsTUFBTCxHQUFjLENBQWYsSUFBb0IsS0FBS3FCLE1BQUwsQ0FBWWpJLE1BQTlDO0FBQ0EsU0FBS21ELE1BQUwsQ0FBWStFLElBQVosQ0FBaUJGLEtBQWpCO0FBQ0EsR0FKRDtBQU1BOzs7OztBQUdBLE9BQUtGLFVBQUwsR0FBa0IsWUFBVztBQUM1QixRQUFNSyxNQUFNLEdBQUd0SCxJQUFJLENBQUNnRyxJQUFMLENBQVVDLEdBQVYsQ0FBY3NCLFVBQWQsRUFBZjtBQUNBLFFBQUlyRSxHQUFHLEdBQUdvRSxNQUFNLENBQUNFLFVBQVAsQ0FBa0IsSUFBbEIsQ0FBVjtBQUVBLFFBQUlyRSxHQUFHLEdBQUdtRSxNQUFNLENBQUNwQyxLQUFqQjtBQUNBLFFBQUk5QixHQUFHLEdBQUdrRSxNQUFNLENBQUNuQyxNQUFqQjtBQUVBakMsT0FBRyxDQUFDdUUsU0FBSixDQUFjLENBQWQsRUFBaUIsQ0FBakIsRUFBb0J0RSxHQUFwQixFQUF5QkMsR0FBekI7QUFFQSxRQUFJckMsSUFBSSxHQUFHZixJQUFJLENBQUNFLE9BQUwsQ0FBYWEsSUFBeEI7QUFDQSxRQUFJMkcsT0FBTyxHQUFHLEVBQWQ7O0FBQ0EsU0FBSSxJQUFJeEksQ0FBQyxHQUFDLENBQVYsRUFBYUEsQ0FBQyxHQUFDa0gsSUFBSSxDQUFDQyxHQUFMLENBQVMsQ0FBVCxFQUFZdEYsSUFBWixDQUFmLEVBQW1DN0IsQ0FBQyxFQUFwQyxFQUF3QztBQUN2Q3dJLGFBQU8sQ0FBQ0wsSUFBUixDQUFhLENBQWI7QUFDQTs7QUFFRCxTQUFJLElBQUluSSxDQUFDLEdBQUMsQ0FBVixFQUFhQSxDQUFDLEdBQUMsS0FBS29ELE1BQUwsQ0FBWW5ELE1BQTNCLEVBQW1DRCxDQUFDLEVBQXBDLEVBQXdDO0FBQ3ZDLFVBQUlpSSxLQUFLLEdBQUcsS0FBSzdFLE1BQUwsQ0FBWXBELENBQVosQ0FBWjtBQUVBLFVBQUkwRSxHQUFHLEdBQUcsQ0FBVjs7QUFDQSxXQUFJLElBQUltRCxDQUFDLEdBQUMsQ0FBVixFQUFhQSxDQUFDLEdBQUNJLEtBQUssQ0FBQzVFLFFBQU4sQ0FBZXBELE1BQTlCLEVBQXNDNEgsQ0FBQyxFQUF2QyxFQUEyQztBQUMxQ1csZUFBTyxDQUFDUCxLQUFLLENBQUM1RSxRQUFOLENBQWV3RSxDQUFmLENBQUQsQ0FBUDs7QUFDQSxZQUFHVyxPQUFPLENBQUNQLEtBQUssQ0FBQzVFLFFBQU4sQ0FBZXdFLENBQWYsQ0FBRCxDQUFQLEdBQTZCbkQsR0FBaEMsRUFBcUM7QUFDcENBLGFBQUcsR0FBRzhELE9BQU8sQ0FBQ1AsS0FBSyxDQUFDNUUsUUFBTixDQUFld0UsQ0FBZixDQUFELENBQWI7QUFDQTtBQUVEOztBQUNESSxXQUFLLENBQUNsRSxJQUFOLENBQVdDLEdBQVgsRUFBZ0JDLEdBQWhCLEVBQXFCQyxHQUFyQixFQUEwQlEsR0FBMUI7QUFDQTtBQUVELEdBN0JEOztBQStCQSxPQUFLc0QsS0FBTCxHQUFhLFlBQVc7QUFDdkIvRSxRQUFJLENBQUMxQyxTQUFMLEdBQWlCLEVBQWpCO0FBQ0EsU0FBS3NHLE1BQUwsR0FBYyxDQUFkO0FBQ0EsU0FBS3pELE1BQUwsR0FBYyxFQUFkO0FBQ0EsU0FBSzJFLFVBQUw7QUFDQSxHQUxEOztBQU9BLE9BQUtuRSxNQUFMLEdBQWMsVUFBU3FFLEtBQVQsRUFBZ0I7QUFDN0IsU0FBSSxJQUFJakksQ0FBQyxHQUFDLENBQVYsRUFBYUEsQ0FBQyxHQUFDLEtBQUtvRCxNQUFMLENBQVluRCxNQUEzQixFQUFtQ0QsQ0FBQyxFQUFwQyxFQUF3QztBQUN2QyxVQUFHLEtBQUtvRCxNQUFMLENBQVlwRCxDQUFaLE1BQW1CaUksS0FBdEIsRUFBNkI7QUFDNUIsYUFBSzdFLE1BQUwsQ0FBWXFGLE1BQVosQ0FBbUJ6SSxDQUFuQixFQUFzQixDQUF0QjtBQUNBO0FBQ0Q7O0FBRUQsU0FBSytILFVBQUw7QUFDQSxHQVJEOztBQVVBOUcsWUFBVTtBQUVQOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMEJILENBaE5NO0FBa05QeUYsTUFBTSxDQUFDNUMsU0FBUCxDQUFpQm9FLE1BQWpCLEdBQTBCLENBQUMsU0FBRCxFQUFZLFNBQVosRUFBdUIsU0FBdkIsRUFBa0MsU0FBbEMsRUFBNkMsU0FBN0MsRUFDdEIsU0FEc0IsRUFDWCxTQURXLEVBQ0EsU0FEQSxFQUNXLFNBRFgsRUFDc0IsU0FEdEIsRUFDaUMsU0FEakMsQ0FBMUIsQzs7Ozs7Ozs7Ozs7O0FDek5BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFJTyxJQUFNekgsSUFBSSxHQUFHLFNBQVBBLElBQU8sQ0FBU2tHLEdBQVQsRUFBYzNGLE9BQWQsRUFBdUI7QUFBQTs7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsTUFBSTBILE9BQU8sR0FBR0MsbUJBQU8sQ0FBQywwQ0FBRCxDQUFyQjs7QUFDQSxPQUFLQyxPQUFMLEdBQWVGLE9BQU8sQ0FBQ0UsT0FBdkIsQ0FMMEMsQ0FPMUM7O0FBQ0EsT0FBSzVILE9BQUwsR0FBZSxJQUFJNkgsZ0RBQUosQ0FBWTdILE9BQVosQ0FBZixDQVIwQyxDQVUxQzs7QUFDQSxNQUFNOEgsS0FBSyxHQUFHLEVBQWQ7O0FBRUEsT0FBS0MsS0FBTCxHQUFhLFlBQU07QUFDbEJwSix3REFBSyxDQUFDQyxFQUFOLENBQVMsWUFBTTtBQUNkLFdBQUksQ0FBQ2MsUUFBTDtBQUNBLEtBRkQ7QUFHQSxHQUpEO0FBTUE7Ozs7O0FBR0EsT0FBS0EsUUFBTCxHQUFnQixZQUFNO0FBQ3JCLFFBQUdpRyxHQUFHLFlBQVlxQyxPQUFsQixFQUEyQjtBQUMxQixVQUFNbEksSUFBSSxHQUFHLElBQUltSSwwQ0FBSixDQUFTLEtBQVQsRUFBZXRDLEdBQWYsQ0FBYjtBQUNBbUMsV0FBSyxDQUFDWCxJQUFOLENBQVdySCxJQUFYO0FBQ0EsS0FIRCxNQUdPO0FBQ04sVUFBTWpCLFFBQVEsR0FBR0MsUUFBUSxDQUFDQyxnQkFBVCxDQUEwQjRHLEdBQTFCLENBQWpCOztBQUNBLFdBQUksSUFBSTNHLENBQUMsR0FBQyxDQUFWLEVBQWFBLENBQUMsR0FBQ0gsUUFBUSxDQUFDSSxNQUF4QixFQUFnQ0QsQ0FBQyxFQUFqQyxFQUFxQztBQUNwQyxZQUFNRSxPQUFPLEdBQUdMLFFBQVEsQ0FBQ0csQ0FBRCxDQUF4Qjs7QUFDQSxZQUFNYyxLQUFJLEdBQUcsSUFBSW1JLDBDQUFKLENBQVMsS0FBVCxFQUFlL0ksT0FBZixDQUFiOztBQUNBNEksYUFBSyxDQUFDWCxJQUFOLENBQVdySCxLQUFYO0FBQ0E7QUFDRDs7QUFFRCxRQUFHZ0ksS0FBSyxDQUFDN0ksTUFBTixLQUFpQixDQUFwQixFQUF1QjtBQUN0QixhQUFPNkksS0FBSyxDQUFDLENBQUQsQ0FBWjtBQUNBOztBQUVELFdBQU8sSUFBUDtBQUNBLEdBbEJEO0FBbUJBLENBekNNLEM7Ozs7Ozs7Ozs7OztBQ1JQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBTU8sSUFBTUcsSUFBSSxHQUFHLFNBQVBBLElBQU8sQ0FBU3pJLElBQVQsRUFBZU4sT0FBZixFQUF3QjtBQUFBOztBQUN4QyxPQUFLYyxPQUFMLEdBQWVSLElBQUksQ0FBQ1EsT0FBcEI7QUFDQSxPQUFLZCxPQUFMLEdBQWVBLE9BQWYsQ0FGd0MsQ0FJeEM7O0FBQ0FBLFNBQU8sQ0FBQ0ssU0FBUixHQUFvQixFQUFwQjtBQUNBTCxTQUFPLENBQUNrQixTQUFSLENBQWtCQyxHQUFsQixDQUFzQixTQUF0QixFQU53QyxDQVF4Qzs7QUFDSCxPQUFLMEIsUUFBTCxHQUFnQixJQUFJbUcsd0RBQUosRUFBaEI7QUFFQSxPQUFLcEMsSUFBTCxHQUFZLElBQVo7QUFDRyxPQUFLcUMsU0FBTCxHQUFpQixJQUFqQjtBQUNBLE9BQUtDLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxPQUFLQyxNQUFMLEdBQWMsSUFBZDs7QUFFQSxPQUFLcEksVUFBTCxHQUFrQixZQUFNO0FBQ3BCLFFBQUcsS0FBSSxDQUFDRCxPQUFMLENBQWFtSSxTQUFoQixFQUEyQjtBQUMxQixXQUFJLENBQUNBLFNBQUwsR0FBaUIsSUFBSXRJLG9EQUFKLENBQWMsS0FBZCxFQUFvQlgsT0FBcEIsQ0FBakI7QUFDQTs7QUFFRCxRQUFHLEtBQUksQ0FBQ2MsT0FBTCxDQUFhcUksTUFBaEIsRUFBd0I7QUFDdkIsV0FBSSxDQUFDQSxNQUFMLEdBQWMsSUFBSUMsOENBQUosQ0FBVyxLQUFYLEVBQWlCcEosT0FBakIsQ0FBZDtBQUNBOztBQUVELFFBQUcsS0FBSSxDQUFDYyxPQUFMLENBQWErRixHQUFoQixFQUFxQjtBQUNwQixXQUFJLENBQUNELElBQUwsR0FBWSxJQUFJeUMsMENBQUosQ0FBUyxLQUFULEVBQWVySixPQUFmLENBQVo7QUFDQTs7QUFFUCxTQUFJLENBQUNrSixRQUFMLEdBQWdCLElBQUlJLGtEQUFKLENBQWEsS0FBYixFQUFtQnRKLE9BQW5CLENBQWhCLENBYjBCLENBZXZCOztBQUNBLFFBQUcsS0FBSSxDQUFDYyxPQUFMLENBQWErQixRQUFiLENBQXNCOUMsTUFBdEIsS0FBaUMsQ0FBcEMsRUFBdUM7QUFDdEMsV0FBSSxDQUFDNEMsUUFBTDtBQUNBLEtBRkQsTUFFTztBQUNOLFdBQUksQ0FBQzRHLEdBQUwsQ0FBUyxLQUFJLENBQUN6SSxPQUFMLENBQWErQixRQUF0QixFQUFnQyxLQUFJLENBQUMvQixPQUFMLENBQWFnQyxRQUE3QztBQUNBOztBQUVELFFBQUcsS0FBSSxDQUFDaEMsT0FBTCxDQUFhMEksTUFBaEIsRUFBd0I7QUFDdkIsV0FBSSxDQUFDTixRQUFMLENBQWNPLEtBQWQ7QUFDSDtBQUNFLEdBekJEO0FBMkJIOzs7OztBQUdBLE9BQUs5RyxRQUFMLEdBQWdCLFlBQVc7QUFDMUIsU0FBS0UsUUFBTCxDQUFjbEIsSUFBZCxHQUFxQixLQUFLYixPQUFMLENBQWFhLElBQWxDOztBQUNBLFFBQUcsS0FBS2IsT0FBTCxDQUFha0IsV0FBaEIsRUFBNkI7QUFDNUIsVUFBSTBILEtBQUssR0FBRyxDQUFaOztBQUNBLGNBQU8sS0FBSzVJLE9BQUwsQ0FBYWEsSUFBcEI7QUFDQyxhQUFLLENBQUw7QUFDQytILGVBQUssR0FBRyxDQUFSO0FBQ0E7O0FBRUQsYUFBSyxDQUFMO0FBQ0NBLGVBQUssR0FBRyxDQUFSO0FBQ0E7QUFQRjs7QUFTQSxXQUFLN0csUUFBTCxDQUFjOEcsZ0JBQWQsQ0FBK0IsR0FBL0IsRUFBb0MsQ0FBcEMsRUFBdUMzQyxJQUFJLENBQUNDLEdBQUwsQ0FBUyxDQUFULEVBQVksS0FBS25HLE9BQUwsQ0FBYWEsSUFBekIsSUFBK0IsQ0FBdEUsRUFDQyxHQURELEVBQ00sQ0FETixFQUNTK0gsS0FEVDtBQUdBRSxpQkFBVztBQUNYLEtBZkQsTUFlTztBQUNOLFdBQUsvRyxRQUFMLENBQWM4RyxnQkFBZCxDQUErQixHQUEvQixFQUFvQyxDQUFwQyxFQUF1QzNDLElBQUksQ0FBQ0MsR0FBTCxDQUFTLENBQVQsRUFBWSxLQUFLbkcsT0FBTCxDQUFhYSxJQUF6QixJQUErQixDQUF0RTtBQUNBaUksaUJBQVc7QUFDWDtBQUNELEdBckJEOztBQXVCQSxPQUFLTCxHQUFMLEdBQVcsVUFBUzFHLFFBQVQsRUFBbUJDLFFBQW5CLEVBQTZCO0FBQ3ZDLFNBQUtELFFBQUwsQ0FBY2dILFFBQWQsQ0FBdUJoSCxRQUF2QixFQUFpQ0MsUUFBakM7QUFDQThHLGVBQVc7QUFDWCxHQUhEOztBQUtBLE1BQU1BLFdBQVcsR0FBRyxTQUFkQSxXQUFjLEdBQU07QUFDekIsUUFBRyxLQUFJLENBQUNWLFFBQUwsS0FBa0IsSUFBckIsRUFBMkI7QUFDMUIsV0FBSSxDQUFDQSxRQUFMLENBQWNwQixLQUFkO0FBQ0E7O0FBRUQsU0FBSSxDQUFDaEgsT0FBTCxDQUFhK0IsUUFBYixHQUF3QixLQUFJLENBQUNBLFFBQUwsQ0FBY0EsUUFBZCxDQUF1QmlILEtBQXZCLEVBQXhCO0FBQ0EsU0FBSSxDQUFDaEosT0FBTCxDQUFhZ0MsUUFBYixHQUF3QixLQUFJLENBQUNELFFBQUwsQ0FBY0MsUUFBZCxDQUF1QmdILEtBQXZCLEVBQXhCOztBQUVBLFFBQUcsS0FBSSxDQUFDbEQsSUFBTCxLQUFjLElBQWpCLEVBQXVCO0FBQ3RCLFdBQUksQ0FBQ0EsSUFBTCxDQUFVbUQsTUFBVjtBQUNBOztBQUVELFFBQUcsS0FBSSxDQUFDZCxTQUFMLEtBQW1CLElBQXRCLEVBQTRCO0FBQzNCLFdBQUksQ0FBQ0EsU0FBTCxDQUFlckcsT0FBZjtBQUNBO0FBQ0QsR0FmRDs7QUFrQkEsT0FBS0wsT0FBTCxHQUFlLFVBQVNaLElBQVQsRUFBZTtBQUM3QixTQUFLYixPQUFMLENBQWFhLElBQWIsR0FBb0JBLElBQXBCO0FBQ0EsU0FBS2dCLFFBQUw7QUFDQSxHQUhEOztBQUtHLE9BQUs1QixVQUFMO0FBQ0gsQ0FsR00sQzs7Ozs7Ozs7Ozs7O0FDWlA7QUFBQTtBQUFBOzs7Ozs7QUFNTyxJQUFNcUksTUFBTSxHQUFHLFNBQVRBLE1BQVMsQ0FBU3hJLElBQVQsRUFBZVosT0FBZixFQUF3QjtBQUMxQyxNQUFJMEcsSUFBSSxHQUFHLElBQVg7QUFFQSxNQUFNc0QsTUFBTSxHQUFHcEosSUFBSSxDQUFDRSxPQUFMLENBQWFrSixNQUE1QjtBQUVBLE1BQUlDLGNBQUosRUFBb0JDLGVBQXBCLEVBQXFDQyxlQUFyQzs7QUFFQSxNQUFNcEosVUFBVSxHQUFHLFNBQWJBLFVBQWEsR0FBTTtBQUNyQixRQUFNQyxHQUFHLEdBQUdwQixRQUFRLENBQUNxQixhQUFULENBQXVCLEtBQXZCLENBQVo7QUFDQUQsT0FBRyxDQUFDRSxTQUFKLENBQWNDLEdBQWQsQ0FBa0IsZ0JBQWxCO0FBQ0FuQixXQUFPLENBQUNvQixXQUFSLENBQW9CSixHQUFwQjtBQUVBLFFBQU1LLEVBQUUsR0FBR3pCLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBWDtBQUNBSSxNQUFFLENBQUNoQixTQUFILEdBQWUsY0FBZjtBQUNBVyxPQUFHLENBQUNJLFdBQUosQ0FBZ0JDLEVBQWhCLEVBUHFCLENBU3hCO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU0sUUFBTUcsSUFBSSxHQUFHNUIsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixNQUF2QixDQUFiO0FBQ0FELE9BQUcsQ0FBQ0ksV0FBSixDQUFnQkksSUFBaEIsRUFuQnFCLENBcUJyQjtBQUNBO0FBQ0E7O0FBRUEsUUFBTTRJLElBQUksR0FBR3hLLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBYjtBQUNBTyxRQUFJLENBQUNKLFdBQUwsQ0FBaUJnSixJQUFqQixFQTFCcUIsQ0E0QnhCOztBQUNHLFFBQUkzSSxDQUFDLEdBQUc3QixRQUFRLENBQUNxQixhQUFULENBQXVCLEdBQXZCLENBQVI7QUFDQW1KLFFBQUksQ0FBQ2hKLFdBQUwsQ0FBaUJLLENBQWpCO0FBRUEsUUFBSTRJLEtBQUssR0FBR3pLLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBWjtBQUNBUSxLQUFDLENBQUNMLFdBQUYsQ0FBY2lKLEtBQWQ7QUFFQUEsU0FBSyxDQUFDL0ksU0FBTixHQUFrQixZQUFsQjtBQUNBK0ksU0FBSyxDQUFDakosV0FBTixDQUFrQnhCLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBbEI7QUFFQWdKLGtCQUFjLEdBQUdySyxRQUFRLENBQUNxQixhQUFULENBQXVCLE9BQXZCLENBQWpCO0FBQ0FnSixrQkFBYyxDQUFDSyxZQUFmLENBQTRCLE1BQTVCLEVBQW9DLE1BQXBDO0FBQ0FMLGtCQUFjLENBQUNLLFlBQWYsQ0FBNEIsWUFBNUIsRUFBMEMsT0FBMUM7QUFDQUQsU0FBSyxDQUFDakosV0FBTixDQUFrQjZJLGNBQWxCLEVBekNxQixDQTJDckI7O0FBQ0h4SSxLQUFDLEdBQUc3QixRQUFRLENBQUNxQixhQUFULENBQXVCLEdBQXZCLENBQUo7QUFDQW1KLFFBQUksQ0FBQ2hKLFdBQUwsQ0FBaUJLLENBQWpCO0FBRUE0SSxTQUFLLEdBQUd6SyxRQUFRLENBQUNxQixhQUFULENBQXVCLE9BQXZCLENBQVI7QUFDQVEsS0FBQyxDQUFDTCxXQUFGLENBQWNpSixLQUFkO0FBRUFBLFNBQUssQ0FBQy9JLFNBQU4sR0FBa0IsZ0JBQWxCO0FBQ0ErSSxTQUFLLENBQUNqSixXQUFOLENBQWtCeEIsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixJQUF2QixDQUFsQjtBQUVBaUosbUJBQWUsR0FBR3RLLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsT0FBdkIsQ0FBbEI7QUFDQWlKLG1CQUFlLENBQUNJLFlBQWhCLENBQTZCLE1BQTdCLEVBQXFDLE1BQXJDO0FBQ0FKLG1CQUFlLENBQUNJLFlBQWhCLENBQTZCLFlBQTdCLEVBQTJDLE9BQTNDO0FBQ0FELFNBQUssQ0FBQ2pKLFdBQU4sQ0FBa0I4SSxlQUFsQixFQXhEd0IsQ0EwRHhCOztBQUNBekksS0FBQyxHQUFHN0IsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixHQUF2QixDQUFKO0FBQ0FtSixRQUFJLENBQUNoSixXQUFMLENBQWlCSyxDQUFqQjtBQUVHLFFBQU04SSxJQUFJLEdBQUczSyxRQUFRLENBQUNxQixhQUFULENBQXVCLFFBQXZCLENBQWI7QUFDQVEsS0FBQyxDQUFDTCxXQUFGLENBQWNtSixJQUFkO0FBQ0FBLFFBQUksQ0FBQ2pKLFNBQUwsR0FBaUIsTUFBakIsQ0FoRXFCLENBa0VyQjtBQUNBO0FBQ0E7O0FBRUEsUUFBTWtKLEtBQUssR0FBRzVLLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZDtBQUNBTyxRQUFJLENBQUNKLFdBQUwsQ0FBaUJvSixLQUFqQixFQXZFcUIsQ0F5RXJCO0FBQ0g7O0FBQ0EvSSxLQUFDLEdBQUc3QixRQUFRLENBQUNxQixhQUFULENBQXVCLEdBQXZCLENBQUo7QUFDQXVKLFNBQUssQ0FBQ3BKLFdBQU4sQ0FBa0JLLENBQWxCO0FBRUE0SSxTQUFLLEdBQUd6SyxRQUFRLENBQUNxQixhQUFULENBQXVCLE9BQXZCLENBQVI7QUFDQVEsS0FBQyxDQUFDTCxXQUFGLENBQWNpSixLQUFkO0FBRUFBLFNBQUssQ0FBQy9JLFNBQU4sR0FBa0IsVUFBbEI7QUFDQStJLFNBQUssQ0FBQ2pKLFdBQU4sQ0FBa0J4QixRQUFRLENBQUNxQixhQUFULENBQXVCLElBQXZCLENBQWxCO0FBRUFrSixtQkFBZSxHQUFHdkssUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixPQUF2QixDQUFsQjtBQUNBa0osbUJBQWUsQ0FBQ0csWUFBaEIsQ0FBNkIsTUFBN0IsRUFBcUMsTUFBckM7QUFDQUgsbUJBQWUsQ0FBQ0csWUFBaEIsQ0FBNkIsWUFBN0IsRUFBMkMsT0FBM0M7QUFDQUQsU0FBSyxDQUFDakosV0FBTixDQUFrQitJLGVBQWxCO0FBQ0FBLG1CQUFlLENBQUM3SCxLQUFoQixHQUF3QjBILE1BQXhCO0FBRUFPLFFBQUksQ0FBQ3JJLGdCQUFMLENBQXNCLE9BQXRCLEVBQStCLFVBQUNDLEtBQUQsRUFBVztBQUN6Q0EsV0FBSyxDQUFDQyxjQUFOO0FBQ0EsVUFBTXFJLFlBQVksR0FBR3RLLEtBQUssQ0FBQzhKLGNBQWMsQ0FBQzNILEtBQWhCLENBQTFCO0FBQ0EsVUFBTW9JLFlBQVksR0FBR3ZLLEtBQUssQ0FBQytKLGVBQWUsQ0FBQzVILEtBQWpCLENBQTFCLENBSHlDLENBS3pDOztBQUNBLFVBQU0wSCxNQUFNLEdBQUdHLGVBQWUsQ0FBQzdILEtBQWhCLENBQXNCcUksT0FBdEIsQ0FBOEIsZUFBOUIsRUFBOEMsRUFBOUMsQ0FBZjtBQUVBL0osVUFBSSxDQUFDRSxPQUFMLENBQWFrSixNQUFiLEdBQXNCQSxNQUFNLENBQUNZLEtBQVAsQ0FBYSxHQUFiLENBQXRCO0FBQ0FoSyxVQUFJLENBQUMySSxHQUFMLENBQVNrQixZQUFULEVBQXVCQyxZQUF2QjtBQUNHLEtBVko7QUFXQSxHQXJHRDs7QUF1R0gsV0FBU3ZLLEtBQVQsQ0FBZTBLLEtBQWYsRUFBc0I7QUFDckIsUUFBSUMsR0FBRyxHQUFHLElBQVY7QUFDQSxRQUFJQyxFQUFFLEdBQUcsUUFBVDtBQUNBLFFBQUlDLEtBQUssR0FBR0gsS0FBSyxDQUFDRixPQUFOLENBQWNHLEdBQWQsRUFBbUIsRUFBbkIsRUFBdUJGLEtBQXZCLENBQTZCRyxFQUE3QixDQUFaO0FBQ0EsUUFBSUUsR0FBRyxHQUFHLEVBQVY7QUFDQUQsU0FBSyxDQUFDRSxPQUFOLENBQWMsVUFBU0MsSUFBVCxFQUFlO0FBQzVCLFVBQUdBLElBQUksS0FBTSxFQUFiLEVBQWlCO0FBQ2hCRixXQUFHLENBQUNoRCxJQUFKLENBQVN6RixRQUFRLENBQUMySSxJQUFELENBQWpCO0FBQ0E7QUFDRCxLQUpEO0FBTUEsV0FBT0YsR0FBUDtBQUNBOztBQUVFbEssWUFBVTtBQUNiLENBN0hNLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ05QO0FBRUE7Ozs7Ozs7QUFNTyxJQUFNcUssR0FBRyxHQUFHLFNBQU5BLEdBQU0sQ0FBU3hLLElBQVQsRUFBZVosT0FBZixFQUF3QjtBQUFBOztBQUN2QyxPQUFLWSxJQUFMLEdBQVlBLElBQVo7QUFDQSxPQUFLWixPQUFMLEdBQWVBLE9BQWY7QUFDQSxPQUFLbUQsUUFBTCxHQUFnQixFQUFoQjtBQUVBLE1BQUlrSSxPQUFKLEVBQWFDLFFBQWIsRUFBdUJwRCxNQUF2Qjs7QUFFQSxNQUFNbkgsVUFBVSxHQUFHLFNBQWJBLFVBQWEsR0FBTTtBQUNyQixRQUFJd0ssS0FBSyxHQUFHM0wsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixPQUF2QixDQUFaO0FBQ0FzSyxTQUFLLENBQUNySyxTQUFOLENBQWdCQyxHQUFoQixDQUFvQixTQUFwQjtBQUNBbkIsV0FBTyxDQUFDb0IsV0FBUixDQUFvQm1LLEtBQXBCLEVBSHFCLENBS3JCO0FBQ0g7O0FBQ0EsUUFBTXZCLE1BQU0sR0FBRyxFQUFmOztBQVB3QiwrQ0FRTHBKLElBQUksQ0FBQ0UsT0FBTCxDQUFha0osTUFSUjtBQUFBOztBQUFBO0FBUXhCLDBEQUF3QztBQUFBLFlBQTlCSyxLQUE4QjtBQUMxQ0wsY0FBTSxDQUFDL0IsSUFBUCxDQUFZb0MsS0FBSyxDQUFDTSxPQUFOLENBQWMsa0JBQWQsRUFBa0MsZUFBbEMsQ0FBWjtBQUNHO0FBVnVCO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBWXJCLFFBQUlQLElBQUosRUFBVUksS0FBVixFQUFpQmdCLElBQWpCLEVBQXVCQyxRQUF2Qjs7QUFDQSxRQUFHLENBQUM3SyxJQUFJLENBQUNFLE9BQUwsQ0FBYWEsSUFBZCxLQUF1QixDQUExQixFQUE2QjtBQUN6QixVQUFJK0osQ0FBQyxHQUFHMUIsTUFBTSxDQUFDLENBQUQsQ0FBZDtBQUNILFVBQUkyQixDQUFDLEdBQUczQixNQUFNLENBQUMsQ0FBRCxDQUFkO0FBQ0dJLFVBQUksR0FBQ3VCLENBQUw7QUFDQW5CLFdBQUssR0FBQ2tCLENBQU47QUFDQUYsVUFBSSxHQUFHLFNBQVNFLENBQVQsR0FBYSxZQUFiLEdBQTRCQSxDQUE1QixHQUFnQyxPQUF2QztBQUNBRCxjQUFRLEdBQUcsQ0FBQ0UsQ0FBQyxHQUFHLEdBQUwsRUFBVUEsQ0FBVixDQUFYO0FBQ0gsS0FQRCxNQU9PLElBQUcsQ0FBQy9LLElBQUksQ0FBQ0UsT0FBTCxDQUFhYSxJQUFkLEtBQXVCLENBQTFCLEVBQTZCO0FBQ25DLFVBQUkrSixFQUFDLEdBQUcxQixNQUFNLENBQUMsQ0FBRCxDQUFkO0FBQ0EsVUFBSTJCLEVBQUMsR0FBRzNCLE1BQU0sQ0FBQyxDQUFELENBQWQ7QUFDQSxVQUFJNEIsQ0FBQyxHQUFHNUIsTUFBTSxDQUFDLENBQUQsQ0FBZDtBQUNHSSxVQUFJLEdBQUN3QixDQUFMO0FBQ0FwQixXQUFLLEdBQUNrQixFQUFDLEdBQUdDLEVBQVY7QUFDQUgsVUFBSSxHQUFHLFNBQVNFLEVBQVQsR0FBYSxHQUFiLEdBQW1CQyxFQUFuQixHQUF1QixZQUF2QixHQUFzQ0QsRUFBdEMsR0FBMEMsR0FBMUMsR0FBZ0RDLEVBQWhELEdBQ0gsV0FERyxHQUNXRCxFQURYLEdBQ2VDLEVBRGYsR0FDbUIsV0FEbkIsR0FDaUNELEVBRGpDLEdBQ3NDQyxFQUR0QyxHQUMwQyxRQURqRDtBQUVBRixjQUFRLEdBQUcsQ0FBQ0csQ0FBQyxHQUFHLEdBQUwsRUFBVUEsQ0FBVixDQUFYO0FBQ0gsS0FUTSxNQVNBO0FBQ04sVUFBSUYsR0FBQyxHQUFHMUIsTUFBTSxDQUFDLENBQUQsQ0FBZDtBQUNBLFVBQUkyQixHQUFDLEdBQUczQixNQUFNLENBQUMsQ0FBRCxDQUFkO0FBQ0EsVUFBSTRCLEVBQUMsR0FBRzVCLE1BQU0sQ0FBQyxDQUFELENBQWQ7QUFDQSxVQUFJNkIsQ0FBQyxHQUFHN0IsTUFBTSxDQUFDLENBQUQsQ0FBZDtBQUNHSSxVQUFJLEdBQUN3QixFQUFDLEdBQUdDLENBQVQ7QUFDQXJCLFdBQUssR0FBQ2tCLEdBQUMsR0FBR0MsR0FBVjtBQUNBSCxVQUFJLEdBQUcsU0FBU0UsR0FBVCxHQUFhLEdBQWIsR0FBbUJDLEdBQW5CLEdBQXVCLFlBQXZCLEdBQXNDRCxHQUF0QyxHQUEwQyxHQUExQyxHQUFnREMsR0FBaEQsR0FBb0QsV0FBcEQsR0FDSEQsR0FERyxHQUNDQyxHQURELEdBQ0ssV0FETCxHQUNtQkQsR0FEbkIsR0FDdUJDLEdBRHZCLEdBQzJCLFFBRGxDO0FBRUFGLGNBQVEsR0FBRyxDQUFDRyxFQUFDLEdBQUcsR0FBSixHQUFVQyxDQUFWLEdBQWMsR0FBZixFQUFvQkQsRUFBQyxHQUFHLEdBQUosR0FBVUMsQ0FBOUIsRUFBaUNELEVBQUMsR0FBR0MsQ0FBckMsRUFBd0NELEVBQUMsR0FBR0MsQ0FBSixHQUFRLEdBQWhELENBQVg7QUFDSDtBQUVEOzs7OztBQUdBLFFBQUlDLEVBQUUsR0FBR2xNLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBVDtBQUNBNkssTUFBRSxDQUFDekwsU0FBSCxHQUFlLG1DQUFtQytKLElBQW5DLEdBQ1gsbUVBRFcsR0FDMkRJLEtBRDNELEdBQ21FLGFBRG5FLEdBRVhnQixJQUZKO0FBR0FELFNBQUssQ0FBQ25LLFdBQU4sQ0FBa0IwSyxFQUFsQjtBQUVBOzs7O0FBR0EsUUFBSXpILElBQUksR0FBRyxDQUFDekQsSUFBSSxDQUFDRSxPQUFMLENBQWFhLElBQWQsS0FBdUIsQ0FBdkIsR0FBMkIsQ0FBM0IsR0FBK0IsQ0FBMUM7QUFDQSxRQUFJeUMsSUFBSSxHQUFHLENBQUN4RCxJQUFJLENBQUNFLE9BQUwsQ0FBYWEsSUFBZCxLQUF1QixDQUF2QixHQUEyQixDQUEzQixHQUErQixDQUExQzs7QUFHQSxTQUFJLElBQUlvSyxDQUFDLEdBQUMsQ0FBVixFQUFhQSxDQUFDLElBQUUxSCxJQUFoQixFQUFzQjBILENBQUMsRUFBdkIsRUFBMkI7QUFDMUJELFFBQUUsR0FBR2xNLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBTDtBQUNBNkssUUFBRSxDQUFDekwsU0FBSCxHQUFlLFNBQVNvTCxRQUFRLENBQUNNLENBQUMsR0FBQyxDQUFILENBQWpCLEdBQXlCLE9BQXhDOztBQUVHLFdBQUksSUFBSUMsQ0FBQyxHQUFDLENBQVYsRUFBYUEsQ0FBQyxJQUFFNUgsSUFBaEIsRUFBc0I0SCxDQUFDLEVBQXZCLEVBQTJCO0FBQ3ZCLFlBQU1DLEVBQUUsR0FBR0MsU0FBUyxDQUFDRixDQUFELEVBQUlELENBQUosQ0FBcEI7QUFDQUQsVUFBRSxDQUFDMUssV0FBSCxDQUFlNkssRUFBZjs7QUFFQSxZQUFHRixDQUFDLEtBQUssQ0FBTixJQUFXQyxDQUFDLEtBQUssQ0FBcEIsRUFBdUI7QUFDbkJYLGlCQUFPLEdBQUdZLEVBQVY7QUFDSCxTQUZELE1BRU8sSUFBR0YsQ0FBQyxLQUFLMUgsSUFBTixJQUFjMkgsQ0FBQyxLQUFLNUgsSUFBdkIsRUFBNkI7QUFDaENrSCxrQkFBUSxHQUFHVyxFQUFYO0FBQ0g7QUFDSjs7QUFFRFYsV0FBSyxDQUFDbkssV0FBTixDQUFrQjBLLEVBQWxCO0FBQ0g7O0FBRUQ1RCxVQUFNLEdBQUd0SSxRQUFRLENBQUNxQixhQUFULENBQXVCLFFBQXZCLENBQVQ7QUFDQWlILFVBQU0sQ0FBQ29DLFlBQVAsQ0FBb0IsT0FBcEIsRUFBNkIsTUFBN0I7QUFDQXBDLFVBQU0sQ0FBQ29DLFlBQVAsQ0FBb0IsUUFBcEIsRUFBOEIsTUFBOUI7QUFDQSxTQUFJLENBQUNwQyxNQUFMLEdBQWNBLE1BQWQ7QUFFQWxJLFdBQU8sQ0FBQ29CLFdBQVIsQ0FBb0I4RyxNQUFwQjtBQUVBaUUsY0FBVSxDQUFDLFlBQU07QUFDaEJDLGdCQUFVO0FBQ1YsS0FGUyxFQUVQLENBRk8sQ0FBVjtBQUtIQyxVQUFNLENBQUNuSyxnQkFBUCxDQUF3QixRQUF4QixFQUFrQ2tLLFVBQWxDO0FBQ0EsR0F4RkQ7O0FBMEZBLE9BQUtqRSxVQUFMLEdBQWtCLFlBQVc7QUFDekIsV0FBTyxLQUFLRCxNQUFaO0FBQ0gsR0FGRDs7QUFJQSxPQUFLb0UsT0FBTCxHQUFlLFlBQVc7QUFDekJELFVBQU0sQ0FBQ0UsbUJBQVAsQ0FBMkIsUUFBM0IsRUFBcUNILFVBQXJDO0FBQ0EsR0FGRDs7QUFJQSxXQUFTQSxVQUFULEdBQXNCO0FBQ3JCLFFBQU1JLEVBQUUsR0FBRztBQUFDcEMsVUFBSSxFQUFFaUIsT0FBTyxDQUFDb0IsVUFBZjtBQUEyQkMsU0FBRyxFQUFFckIsT0FBTyxDQUFDc0I7QUFBeEMsS0FBWDtBQUNBLFFBQU1DLEVBQUUsR0FBRztBQUFDeEMsVUFBSSxFQUFFa0IsUUFBUSxDQUFDbUIsVUFBaEI7QUFBNEJDLFNBQUcsRUFBRXBCLFFBQVEsQ0FBQ3FCO0FBQTFDLEtBQVg7QUFDQXpFLFVBQU0sQ0FBQ3pILEtBQVAsQ0FBYWlNLEdBQWIsR0FBbUJGLEVBQUUsQ0FBQ0UsR0FBSCxHQUFTLElBQTVCO0FBQ0F4RSxVQUFNLENBQUN6SCxLQUFQLENBQWEySixJQUFiLEdBQW9Cb0MsRUFBRSxDQUFDcEMsSUFBSCxHQUFVLElBQTlCO0FBQ0FsQyxVQUFNLENBQUN6SCxLQUFQLENBQWFxRixLQUFiLEdBQXNCOEcsRUFBRSxDQUFDeEMsSUFBSCxHQUFVb0MsRUFBRSxDQUFDcEMsSUFBYixHQUFvQmtCLFFBQVEsQ0FBQ3VCLFdBQTlCLEdBQTZDLElBQWxFO0FBQ0EzRSxVQUFNLENBQUN6SCxLQUFQLENBQWFzRixNQUFiLEdBQXVCNkcsRUFBRSxDQUFDRixHQUFILEdBQVNGLEVBQUUsQ0FBQ0UsR0FBWixHQUFrQnBCLFFBQVEsQ0FBQ3dCLFlBQTVCLEdBQTRDLElBQWxFO0FBQ0E7O0FBRUQsTUFBTVosU0FBUyxHQUFHLFNBQVpBLFNBQVksQ0FBQ0YsQ0FBRCxFQUFJRCxDQUFKLEVBQVU7QUFDM0IsUUFBSUUsRUFBRSxHQUFHck0sUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixJQUF2QixDQUFUO0FBRUcsUUFBSThMLE9BQU8sR0FBR0MsVUFBVSxDQUFDaEIsQ0FBRCxFQUFJRCxDQUFKLENBQXhCO0FBQ0EsUUFBSWtCLEdBQUcsR0FBRyxHQUFWOztBQUNBLFNBQUksSUFBSW5OLENBQUMsR0FBQyxDQUFWLEVBQWFBLENBQUMsR0FBQ2MsSUFBSSxDQUFDRSxPQUFMLENBQWErQixRQUFiLENBQXNCOUMsTUFBckMsRUFBNkNELENBQUMsRUFBOUMsRUFBa0Q7QUFDOUMsVUFBR2lOLE9BQU8sS0FBSyxDQUFDbk0sSUFBSSxDQUFDRSxPQUFMLENBQWErQixRQUFiLENBQXNCL0MsQ0FBdEIsQ0FBaEIsRUFBMEM7QUFDdENtTixXQUFHLEdBQUcsR0FBTjtBQUNBO0FBQ0g7QUFDSjs7QUFFRCxTQUFJbk4sQ0FBQyxHQUFDLENBQU4sRUFBU0EsQ0FBQyxHQUFDYyxJQUFJLENBQUNFLE9BQUwsQ0FBYWdDLFFBQWIsQ0FBc0IvQyxNQUFqQyxFQUF5Q0QsQ0FBQyxFQUExQyxFQUE4QztBQUMxQyxVQUFHaU4sT0FBTyxLQUFLLENBQUNuTSxJQUFJLENBQUNFLE9BQUwsQ0FBYWdDLFFBQWIsQ0FBc0JoRCxDQUF0QixDQUFoQixFQUEwQztBQUN0Q21OLFdBQUcsR0FBRyxHQUFOO0FBQ0E7QUFDSDtBQUNKOztBQUVELFFBQUdyTSxJQUFJLENBQUNFLE9BQUwsQ0FBYW9NLGFBQWhCLEVBQStCO0FBQzNCakIsUUFBRSxDQUFDNUwsU0FBSCxHQUFlLDRCQUE0QjBNLE9BQTVCLEdBQXNDLFNBQXRDLEdBQWtERSxHQUFqRTtBQUNILEtBRkQsTUFFTztBQUNIaEIsUUFBRSxDQUFDNUwsU0FBSCxHQUFlNE0sR0FBZjtBQUNIOztBQUVEaEIsTUFBRSxDQUFDL0osZ0JBQUgsQ0FBb0IsT0FBcEIsRUFBNkIsVUFBQ0MsS0FBRCxFQUFXO0FBQ3ZDQSxXQUFLLENBQUNDLGNBQU47O0FBRUcsVUFBRyxLQUFJLENBQUN4QixJQUFMLENBQVVFLE9BQVYsQ0FBa0JnRyxNQUFsQixJQUE0Qm1HLEdBQUcsS0FBSyxHQUF2QyxFQUE0QztBQUN4QyxZQUFJM0YsSUFBSSxHQUFHLGtFQUNQLDBFQURPLEdBRVAseUVBRko7QUFHQSxZQUFNQyxHQUFHLEdBQUcsSUFBSUMsNERBQUosQ0FBa0I1RyxJQUFsQixFQUF3QixtQkFBeEIsRUFBNkMwRyxJQUE3QyxDQUFaO0FBQ0FDLFdBQUcsQ0FBQ0UsSUFBSjtBQUNBO0FBQ0g7O0FBRUQsVUFBR3dFLEVBQUUsQ0FBQy9LLFNBQUgsQ0FBYWlNLFFBQWIsQ0FBc0Isa0JBQXRCLENBQUgsRUFBOEM7QUFDMUNsQixVQUFFLENBQUMvSyxTQUFILENBQWF3QyxNQUFiLENBQW9CLGtCQUFwQjs7QUFDQSxZQUFJMEosQ0FBQyxHQUFHLEtBQUksQ0FBQ2pLLFFBQUwsQ0FBY2tLLE9BQWQsQ0FBc0JOLE9BQXRCLENBQVI7O0FBQ0EsWUFBR0ssQ0FBQyxHQUFHLENBQUMsQ0FBUixFQUFXO0FBQ1AsZUFBSSxDQUFDakssUUFBTCxDQUFjb0YsTUFBZCxDQUFxQjZFLENBQXJCLEVBQXdCLENBQXhCO0FBQ0g7QUFDSixPQU5ELE1BTU87QUFDSG5CLFVBQUUsQ0FBQy9LLFNBQUgsQ0FBYUMsR0FBYixDQUFpQixrQkFBakI7O0FBQ0EsWUFBRyxDQUFDbU0sV0FBVyxDQUFDUCxPQUFELENBQWYsRUFBMEI7QUFDekIsZUFBSSxDQUFDNUosUUFBTCxDQUFjOEUsSUFBZCxDQUFtQjhFLE9BQW5COztBQUNBLGVBQUksQ0FBQzVKLFFBQUwsQ0FBY29LLElBQWQsQ0FBbUIsVUFBUy9KLENBQVQsRUFBWWdLLENBQVosRUFBZTtBQUMzQixtQkFBT2hLLENBQUMsR0FBR2dLLENBQVg7QUFDSCxXQUZKO0FBR0E7QUFFSjtBQUNKLEtBNUJEO0FBOEJBLFdBQU92QixFQUFQO0FBQ0gsR0F4REQ7O0FBMERILE1BQU1lLFVBQVUsR0FBRyxTQUFiQSxVQUFhLENBQUNoQixDQUFELEVBQUlELENBQUosRUFBVTtBQUM1QixRQUFJbEYsR0FBSjs7QUFFQSxRQUFHLENBQUMsS0FBSSxDQUFDakcsSUFBTCxDQUFVRSxPQUFWLENBQWtCYSxJQUFuQixLQUE0QixDQUEvQixFQUFrQztBQUNqQ2tGLFNBQUcsR0FBRyxDQUFDLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FBRCxFQUFTLENBQUMsQ0FBRCxFQUFJLENBQUosQ0FBVCxDQUFOO0FBQ0EsS0FGRCxNQUVPLElBQUcsQ0FBQyxLQUFJLENBQUNqRyxJQUFMLENBQVVFLE9BQVYsQ0FBa0JhLElBQW5CLEtBQTRCLENBQS9CLEVBQWtDO0FBQ3hDa0YsU0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLENBQVAsRUFBVSxDQUFWLENBQUQsRUFBZSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FBZixDQUFOO0FBQ0EsS0FGTSxNQUVBO0FBQ05BLFNBQUcsR0FBRyxDQUFDLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxFQUFQLEVBQVcsQ0FBWCxDQUFELEVBQWdCLENBQUMsQ0FBRCxFQUFJLENBQUosRUFBTyxFQUFQLEVBQVcsQ0FBWCxDQUFoQixFQUErQixDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sRUFBUCxFQUFXLEVBQVgsQ0FBL0IsRUFBK0MsQ0FBQyxDQUFELEVBQUksQ0FBSixFQUFPLEVBQVAsRUFBVyxFQUFYLENBQS9DLENBQU47QUFDQTs7QUFFRCxXQUFPQSxHQUFHLENBQUNrRixDQUFDLEdBQUMsQ0FBSCxDQUFILENBQVNDLENBQUMsR0FBQyxDQUFYLENBQVA7QUFDQSxHQVpEOztBQWNBLE1BQU1zQixXQUFXLEdBQUcsU0FBZEEsV0FBYyxDQUFDUCxPQUFELEVBQWE7QUFDaEMsV0FBTyxLQUFJLENBQUM1SixRQUFMLENBQWNrSyxPQUFkLENBQXNCTixPQUF0QixJQUFpQyxDQUFDLENBQXpDLENBRGdDLENBQ1k7QUFDNUMsR0FGRDs7QUFJRyxPQUFLakYsS0FBTCxHQUFhLFlBQVc7QUFDdkIsU0FBSzNFLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxRQUFNc0ssR0FBRyxHQUFHLEtBQUt6TixPQUFMLENBQWFILGdCQUFiLENBQThCLElBQTlCLENBQVo7O0FBRnVCLGdEQUdUNE4sR0FIUztBQUFBOztBQUFBO0FBR3ZCLDZEQUFtQjtBQUFBLFlBQVh4QixFQUFXO0FBQ2xCQSxVQUFFLENBQUMvSyxTQUFILENBQWF3QyxNQUFiLENBQW9CLGtCQUFwQjtBQUNBO0FBTHNCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNdkIsR0FORDs7QUFRSDNDLFlBQVU7QUFDVixDQXZNTSxDOzs7Ozs7Ozs7Ozs7QUNSUDtBQUFBO0FBQUE7Ozs7Ozs7Ozs7QUFVTyxJQUFNeUcsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUFTNUcsSUFBVCxFQUFlOE0sS0FBZixFQUFzQkMsSUFBdEIsRUFBNEI7QUFDckQsTUFBSTNNLEdBQUcsR0FBRyxJQUFWOztBQUVBLE9BQUt5RyxJQUFMLEdBQVksWUFBVztBQUNuQjtBQUNBekcsT0FBRyxHQUFHcEIsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixLQUF2QixDQUFOO0FBQ0FELE9BQUcsQ0FBQ0UsU0FBSixDQUFjQyxHQUFkLENBQWtCLGFBQWxCO0FBQ0FQLFFBQUksQ0FBQ1osT0FBTCxDQUFhb0IsV0FBYixDQUF5QkosR0FBekIsRUFKbUIsQ0FNbkI7O0FBQ0EsUUFBSTRNLElBQUksR0FBR2hPLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBWDtBQUNBRCxPQUFHLENBQUNJLFdBQUosQ0FBZ0J3TSxJQUFoQixFQVJtQixDQVVuQjs7QUFDQSxRQUFJckcsR0FBRyxHQUFHM0gsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixLQUF2QixDQUFWO0FBQ0FELE9BQUcsQ0FBQ0ksV0FBSixDQUFnQm1HLEdBQWhCLEVBWm1CLENBY25COztBQUNBLFFBQUlzRyxFQUFFLEdBQUdqTyxRQUFRLENBQUNxQixhQUFULENBQXVCLEtBQXZCLENBQVQ7QUFDQXNHLE9BQUcsQ0FBQ25HLFdBQUosQ0FBZ0J5TSxFQUFoQjtBQUNBQSxNQUFFLENBQUN2TSxTQUFILEdBQWVvTSxLQUFmLENBakJtQixDQW1CbkI7O0FBQ0EsUUFBSUksRUFBRSxHQUFHbE8sUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixLQUF2QixDQUFUO0FBQ0FzRyxPQUFHLENBQUNuRyxXQUFKLENBQWdCME0sRUFBaEI7QUFDSEEsTUFBRSxDQUFDek4sU0FBSCxHQUFlc04sSUFBZixDQXRCc0IsQ0F3QnRCOztBQUNHLFFBQUlJLFFBQVEsR0FBR25PLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZjtBQUNBc0csT0FBRyxDQUFDbkcsV0FBSixDQUFnQjJNLFFBQWhCO0FBRUEsUUFBSXJHLEVBQUUsR0FBRzlILFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBVDtBQUNBOE0sWUFBUSxDQUFDM00sV0FBVCxDQUFxQnNHLEVBQXJCO0FBQ0FBLE1BQUUsQ0FBQ3BHLFNBQUgsR0FBZSxJQUFmO0FBRUFvRyxNQUFFLENBQUN4RixnQkFBSCxDQUFvQixPQUFwQixFQUE2QixVQUFDQyxLQUFELEVBQVc7QUFDckNBLFdBQUssQ0FBQ0MsY0FBTjs7QUFDQSxVQUFHcEIsR0FBRyxLQUFLLElBQVgsRUFBaUI7QUFDaEJKLFlBQUksQ0FBQ1osT0FBTCxDQUFheUQsV0FBYixDQUF5QnpDLEdBQXpCO0FBQ0FBLFdBQUcsR0FBRyxJQUFOO0FBQ0E7QUFFSCxLQVBEO0FBUUgsR0F4Q0Q7QUF5Q0gsQ0E1Q00sQzs7Ozs7Ozs7Ozs7O0FDVlA7QUFBQTtBQUFBOzs7Ozs7OztBQVFPLElBQU0ySCxPQUFPLEdBQUcsU0FBVkEsT0FBVSxDQUFTN0gsT0FBVCxFQUFrQjtBQUNyQ0EsU0FBTyxHQUFHQSxPQUFPLEdBQUdBLE9BQUgsR0FBYSxFQUE5Qjs7QUFFSCxNQUFJQSxPQUFPLEtBQUtrTixNQUFNLENBQUNsTixPQUFELENBQXRCLEVBQWlDO0FBQ2hDLFFBQUlBLE9BQU8sQ0FBQ21OLE1BQVIsQ0FBZSxDQUFmLEVBQWtCLENBQWxCLE1BQXlCLEdBQTdCLEVBQWtDO0FBQ2pDbk4sYUFBTyxHQUFHWixJQUFJLENBQUNDLEtBQUwsQ0FBV1csT0FBWCxDQUFWO0FBQ0EsS0FGRCxNQUVPO0FBQ047QUFDQUEsYUFBTyxHQUFHWixJQUFJLENBQUNDLEtBQUwsQ0FBVytOLElBQUksQ0FBQ3BOLE9BQUQsQ0FBZixDQUFWO0FBQ0E7QUFDRCxHQVZ1QyxDQVlyQzs7O0FBQ0gsT0FBS2EsSUFBTCxHQUFZLENBQVosQ0Fid0MsQ0FleEM7O0FBQ0EsT0FBS2tCLFFBQUwsR0FBZ0IsRUFBaEIsQ0FoQndDLENBZ0JwQjtBQUVwQjs7QUFDQSxPQUFLQyxRQUFMLEdBQWdCLEVBQWhCLENBbkJ3QyxDQXFCeEM7O0FBQ0EsT0FBS2tILE1BQUwsR0FBYyxDQUFDLEdBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixHQUFoQixDQUFkLENBdEJ3QyxDQXdCeEM7O0FBQ0EsT0FBS2hJLFdBQUwsR0FBbUIsS0FBbkIsQ0F6QndDLENBMkJ4Qzs7QUFDQSxPQUFLQyxpQkFBTCxHQUF5QixJQUF6QixDQTVCd0MsQ0E4QnhDO0FBQ0E7QUFDQTtBQUVBOztBQUNBLE9BQUtnSCxTQUFMLEdBQWlCLElBQWpCLENBbkN3QyxDQXFDeEM7O0FBQ0EsT0FBS0UsTUFBTCxHQUFjLEtBQWQsQ0F0Q3dDLENBd0N4Qzs7QUFDQSxPQUFLdEMsR0FBTCxHQUFXLElBQVgsQ0F6Q3dDLENBMkN4Qzs7QUFDQSxPQUFLcUMsUUFBTCxHQUFnQixJQUFoQixDQTVDd0MsQ0E4Q3hDOztBQUNBLE9BQUtpRixLQUFMLEdBQWEsS0FBYixDQS9Dd0MsQ0FpRHhDOztBQUNBLE9BQUs1TSxLQUFMLEdBQWEsS0FBYixDQWxEd0MsQ0FvRHhDOztBQUNBLE9BQUs2TSxPQUFMLEdBQWUsSUFBZixDQXJEd0MsQ0F1RHhDOztBQUNBLE9BQUtsQixhQUFMLEdBQXFCLElBQXJCLENBeER3QyxDQTBEeEM7QUFDQTs7QUFDQSxPQUFLcEcsTUFBTCxHQUFjLElBQWQsQ0E1RHdDLENBZ0V4Qzs7QUFDQSxPQUFLdUgsVUFBTCxHQUFrQixJQUFsQixDQWpFd0MsQ0FtRXhDO0FBQ0E7O0FBQ0EsT0FBS0MsU0FBTCxHQUFpQixJQUFqQixDQXJFd0MsQ0F1RXhDOztBQUNBLE9BQUtDLE9BQUwsR0FBZSxTQUFmLENBeEV3QyxDQTBFeEM7O0FBQ0EsT0FBS0MsYUFBTCxHQUFxQixJQUFyQixDQTNFd0MsQ0E2RXhDOztBQUNBLE9BQUsvRSxLQUFMLEdBQWEsS0FBYixDQTlFd0MsQ0FnRnhDOztBQUNBLE9BQUtELE1BQUwsR0FBYyxLQUFkOztBQUVHLE9BQUksSUFBSWlGLFFBQVIsSUFBb0IzTixPQUFwQixFQUE2QjtBQUN6QixRQUFHQSxPQUFPLENBQUM0TixjQUFSLENBQXVCRCxRQUF2QixDQUFILEVBQXFDO0FBQ2pDLFVBQUcsQ0FBQyxLQUFLQyxjQUFMLENBQW9CRCxRQUFwQixDQUFKLEVBQW1DO0FBQy9CLGNBQU0sSUFBSUUsS0FBSixDQUFVLG9CQUFvQkYsUUFBOUIsQ0FBTjtBQUNIOztBQUNELFdBQUtBLFFBQUwsSUFBaUIzTixPQUFPLENBQUMyTixRQUFELENBQXhCO0FBQ0g7QUFDSjtBQUNKLENBM0ZNLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1JQO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTs7Ozs7OztBQU1PLElBQU1uRixRQUFRLEdBQUcsU0FBWEEsUUFBVyxDQUFTMUksSUFBVCxFQUFlWixPQUFmLEVBQXdCO0FBQUE7O0FBQzVDLE9BQUtZLElBQUwsR0FBWUEsSUFBWixDQUQ0QyxDQUc1Qzs7QUFDQSxNQUFJSSxHQUFHLEdBQUMsSUFBUjtBQUFBLE1BQWM0TixlQUFlLEdBQUMsSUFBOUI7QUFBQSxNQUFvQ0MsTUFBTSxHQUFDLElBQTNDOztBQUVBLE1BQU05TixVQUFVLEdBQUcsU0FBYkEsVUFBYSxHQUFNO0FBQ3hCO0FBQ0g7QUFDRyxRQUFHSCxJQUFJLENBQUNFLE9BQUwsQ0FBYW9JLFFBQWIsSUFBeUJ0SSxJQUFJLENBQUNFLE9BQUwsQ0FBYTBJLE1BQXpDLEVBQWlEO0FBQ25EeEksU0FBRyxHQUFHcEIsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixLQUF2QixDQUFOO0FBQ0FELFNBQUcsQ0FBQ0UsU0FBSixDQUFjQyxHQUFkLENBQWtCLGtCQUFsQjtBQUNBbkIsYUFBTyxDQUFDOE8sTUFBUixDQUFlOU4sR0FBZixFQUhtRCxDQUtuRDs7QUFDQSxVQUFHSixJQUFJLENBQUNFLE9BQUwsQ0FBYW9JLFFBQWIsSUFBeUIsQ0FBQ3RJLElBQUksQ0FBQ0UsT0FBTCxDQUFhMEksTUFBMUMsRUFBa0Q7QUFDakR1RixjQUFNO0FBQ04sT0FSa0QsQ0FVbkQ7OztBQUNBRixZQUFNLEdBQUdqUCxRQUFRLENBQUNxQixhQUFULENBQXVCLEtBQXZCLENBQVQ7QUFDQUQsU0FBRyxDQUFDSSxXQUFKLENBQWdCeU4sTUFBaEI7QUFDQTtBQUNELEdBakJFLENBTjRDLENBeUIvQzs7O0FBQ0EsTUFBTUUsTUFBTSxHQUFHLFNBQVRBLE1BQVMsR0FBTTtBQUNkO0FBQ0EsUUFBSTFOLEVBQUUsR0FBR3pCLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBVDtBQUNBSSxNQUFFLENBQUNDLFNBQUgsR0FBZSxVQUFmO0FBQ0FOLE9BQUcsQ0FBQ0ksV0FBSixDQUFnQkMsRUFBaEI7QUFFQSxRQUFJRyxJQUFJLEdBQUc1QixRQUFRLENBQUNxQixhQUFULENBQXVCLE1BQXZCLENBQVg7QUFDQUQsT0FBRyxDQUFDSSxXQUFKLENBQWdCSSxJQUFoQixFQVBjLENBU2Q7QUFDQTtBQUNIO0FBQ0E7O0FBQ0EsUUFBSUMsQ0FBQyxHQUFHN0IsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixHQUF2QixDQUFSO0FBQ0FPLFFBQUksQ0FBQ0osV0FBTCxDQUFpQkssQ0FBakI7QUFFQSxRQUFJNEksS0FBSyxHQUFHekssUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixPQUF2QixDQUFaO0FBQ0FRLEtBQUMsQ0FBQ0wsV0FBRixDQUFjaUosS0FBZDtBQUNBQSxTQUFLLENBQUMvSSxTQUFOLEdBQWtCLGtCQUFsQjtBQUNBK0ksU0FBSyxDQUFDakosV0FBTixDQUFrQnhCLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBbEI7QUFFQTJOLG1CQUFlLEdBQUdoUCxRQUFRLENBQUNxQixhQUFULENBQXVCLE9BQXZCLENBQWxCO0FBQ0EyTixtQkFBZSxDQUFDdEUsWUFBaEIsQ0FBNkIsTUFBN0IsRUFBcUMsTUFBckM7QUFDQXNFLG1CQUFlLENBQUN0RSxZQUFoQixDQUE2QixZQUE3QixFQUEyQyxPQUEzQztBQUNBRCxTQUFLLENBQUNqSixXQUFOLENBQWtCd04sZUFBbEIsRUF4QmlCLENBMEJqQjtBQUNBO0FBQ0E7O0FBQ0duTixLQUFDLEdBQUc3QixRQUFRLENBQUNxQixhQUFULENBQXVCLEdBQXZCLENBQUo7QUFDQU8sUUFBSSxDQUFDSixXQUFMLENBQWlCSyxDQUFqQjtBQUVBLFFBQUl1TixLQUFLLEdBQUdwUCxRQUFRLENBQUNxQixhQUFULENBQXVCLFFBQXZCLENBQVo7QUFDQStOLFNBQUssQ0FBQzlOLFNBQU4sQ0FBZ0JDLEdBQWhCLENBQW9CLE9BQXBCO0FBQ0E2TixTQUFLLENBQUMxTixTQUFOLEdBQWtCLE9BQWxCO0FBQ0FHLEtBQUMsQ0FBQ0wsV0FBRixDQUFjNE4sS0FBZDtBQUVBQSxTQUFLLENBQUM5TSxnQkFBTixDQUF1QixPQUF2QixFQUFnQyxVQUFDQyxLQUFELEVBQVc7QUFDeENBLFdBQUssQ0FBQ0MsY0FBTjs7QUFDQSxXQUFJLENBQUM0TSxLQUFMO0FBQ0YsS0FIRCxFQXJDYyxDQTBDZDtBQUNBO0FBQ0g7O0FBQ0F2TixLQUFDLENBQUNMLFdBQUYsQ0FBY3hCLFFBQVEsQ0FBQzhCLGNBQVQsQ0FBd0IsR0FBeEIsQ0FBZDtBQUVBLFFBQUlvRyxLQUFLLEdBQUdsSSxRQUFRLENBQUNxQixhQUFULENBQXVCLEdBQXZCLENBQVo7QUFDQTZHLFNBQUssQ0FBQzVHLFNBQU4sQ0FBZ0JDLEdBQWhCLENBQW9CLE9BQXBCO0FBQ0FNLEtBQUMsQ0FBQ0wsV0FBRixDQUFjMEcsS0FBZDtBQUVBQSxTQUFLLENBQUM1RixnQkFBTixDQUF1QixPQUF2QixFQUFnQyxVQUFDQyxLQUFELEVBQVc7QUFDdkNBLFdBQUssQ0FBQ0MsY0FBTjs7QUFDQSxXQUFJLENBQUMwRixLQUFMO0FBQ0EsS0FISixFQW5EaUIsQ0F3RGpCO0FBQ0E7QUFDQTs7QUFDQSxRQUFHbEgsSUFBSSxDQUFDRSxPQUFMLENBQWEySSxLQUFoQixFQUF1QjtBQUN0QixVQUFJQSxLQUFLLEdBQUc3SixRQUFRLENBQUNxQixhQUFULENBQXVCLFFBQXZCLENBQVo7QUFDQXdJLFdBQUssQ0FBQ3ZJLFNBQU4sQ0FBZ0JDLEdBQWhCLENBQW9CLGVBQXBCO0FBQ0FzSSxXQUFLLENBQUNwSixTQUFOLEdBQWtCLE9BQWxCO0FBQ0FvQixPQUFDLENBQUNMLFdBQUYsQ0FBY3FJLEtBQWQ7QUFFQUEsV0FBSyxDQUFDdkgsZ0JBQU4sQ0FBdUIsT0FBdkIsRUFBZ0MsVUFBQ0MsS0FBRCxFQUFXO0FBQzFDQSxhQUFLLENBQUNDLGNBQU47O0FBQ0EsYUFBSSxDQUFDcUgsS0FBTDtBQUNBLE9BSEQ7QUFJQSxLQXJFZ0IsQ0F1RWpCO0FBQ0E7QUFDQTs7O0FBQ0EsUUFBRzdJLElBQUksQ0FBQ0UsT0FBTCxDQUFhcU4sS0FBaEIsRUFBdUI7QUFDdEIsVUFBTUEsS0FBSyxHQUFHdk8sUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixRQUF2QixDQUFkO0FBQ0FrTixXQUFLLENBQUNqTixTQUFOLENBQWdCQyxHQUFoQixDQUFvQixlQUFwQjtBQUNBZ04sV0FBSyxDQUFDOU4sU0FBTixHQUFrQixRQUFsQjtBQUNBb0IsT0FBQyxDQUFDTCxXQUFGLENBQWMrTSxLQUFkO0FBRUFBLFdBQUssQ0FBQ2pNLGdCQUFOLENBQXVCLE9BQXZCLEVBQWdDLFVBQUNDLEtBQUQsRUFBVztBQUMxQ0EsYUFBSyxDQUFDQyxjQUFOOztBQUNBLGFBQUksQ0FBQytMLEtBQUw7QUFDQSxPQUhEO0FBSUE7QUFDRCxHQXJGSjtBQXVGQTs7Ozs7QUFHQSxPQUFLckcsS0FBTCxHQUFhLFlBQVc7QUFDcEIsUUFBRzhHLGVBQWUsS0FBSyxJQUF2QixFQUE2QjtBQUMvQkEscUJBQWUsQ0FBQ3RNLEtBQWhCLEdBQXdCLEVBQXhCO0FBQ0E7O0FBRUUsUUFBR3VNLE1BQU0sS0FBSyxJQUFkLEVBQW9CO0FBQ3RCQSxZQUFNLENBQUN4TyxTQUFQLEdBQW1CLEVBQW5CO0FBQ0E7QUFDRCxHQVJEOztBQVVHLE9BQUsyTyxLQUFMLEdBQWEsWUFBVztBQUN2QixRQUFJQyxFQUFFLEdBQUcsRUFBVDtBQUNBLFFBQUkzTCxLQUFLLEdBQUMsSUFBVjs7QUFDQSxTQUFJLElBQUl4RCxFQUFSLElBQWFjLElBQUksQ0FBQ0UsT0FBTCxDQUFhK0IsUUFBMUIsRUFBb0M7QUFDbkMsVUFBR1MsS0FBSCxFQUFVO0FBQ1QyTCxVQUFFLElBQUksR0FBTjtBQUNBLE9BRkQsTUFFTztBQUNOM0wsYUFBSyxHQUFHLEtBQVI7QUFDQTs7QUFFRDJMLFFBQUUsSUFBSXJPLElBQUksQ0FBQ0UsT0FBTCxDQUFhK0IsUUFBYixDQUFzQi9DLEVBQXRCLENBQU47QUFDQTs7QUFFRCtPLFVBQU0sQ0FBQ3hPLFNBQVAsR0FBbUIsRUFBbkI7QUFFQSxRQUFJNk8sVUFBVSxHQUFHLElBQUlDLDREQUFKLEVBQWpCO0FBQ0FELGNBQVUsQ0FBQ2xGLE1BQVgsR0FBb0JwSixJQUFJLENBQUNFLE9BQUwsQ0FBYWtKLE1BQWpDO0FBQ0FrRixjQUFVLENBQUNFLFFBQVgsQ0FBb0J4TyxJQUFJLENBQUNFLE9BQUwsQ0FBYWEsSUFBakM7QUFFQSxRQUFJME4sR0FBRyxHQUFHVCxlQUFlLENBQUN0TSxLQUExQjs7QUFFQSxRQUFHMUIsSUFBSSxDQUFDRSxPQUFMLENBQWEwTixhQUFiLEtBQStCLElBQWxDLEVBQXdDO0FBQ3ZDLFVBQU03TyxRQUFRLEdBQUdDLFFBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEJlLElBQUksQ0FBQ0UsT0FBTCxDQUFhME4sYUFBdkMsQ0FBakI7O0FBRHVDLGlEQUVwQjdPLFFBRm9CO0FBQUE7O0FBQUE7QUFFdkMsNERBQTZCO0FBQUEsY0FBckJLLFFBQXFCO0FBQzVCQSxrQkFBTyxDQUFDc0MsS0FBUixHQUFnQitNLEdBQUcsQ0FBQzFFLE9BQUosQ0FBWSxlQUFaLEVBQTRCLEVBQTVCLENBQWhCO0FBQ0E7QUFKc0M7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUt2Qzs7QUFFRCxRQUFJO0FBQ0h1RSxnQkFBVSxDQUFDL08sS0FBWCxDQUFpQmtQLEdBQWpCO0FBQ0EsS0FGRCxDQUVFLE9BQU1DLEdBQU4sRUFBVztBQUNaQyxVQUFJLENBQUMsd0RBQ0osMEJBREksR0FFSixLQUZJLEdBRUlELEdBRkosR0FFVSxNQUZYLENBQUo7QUFHQTtBQUNBLEtBbkNzQixDQXNDdkI7OztBQUNBLFFBQUlFLEVBQUUsR0FBRyxJQUFJQyxnRkFBSixFQUFUO0FBQ0FELE1BQUUsQ0FBQ3hGLE1BQUgsR0FBWXBKLElBQUksQ0FBQ0UsT0FBTCxDQUFha0osTUFBekI7QUFFQXdGLE1BQUUsQ0FBQ0UsSUFBSCxDQUFROU8sSUFBSSxDQUFDRSxPQUFMLENBQWFhLElBQXJCOztBQUNBLFNBQUksSUFBSTdCLENBQVIsSUFBYWMsSUFBSSxDQUFDRSxPQUFMLENBQWErQixRQUExQixFQUFvQztBQUNuQzJNLFFBQUUsQ0FBQ2pHLEdBQUgsQ0FBTzNJLElBQUksQ0FBQ0UsT0FBTCxDQUFhK0IsUUFBYixDQUFzQi9DLENBQXRCLENBQVAsRUFBaUMsSUFBakM7QUFDQTs7QUFDRCxTQUFJQSxDQUFKLElBQVNjLElBQUksQ0FBQ0UsT0FBTCxDQUFhZ0MsUUFBdEIsRUFBZ0M7QUFDL0IwTSxRQUFFLENBQUNqRyxHQUFILENBQU8zSSxJQUFJLENBQUNFLE9BQUwsQ0FBYWdDLFFBQWIsQ0FBc0JoRCxDQUF0QixDQUFQLEVBQWlDNlAsU0FBakM7QUFDQTs7QUFDREgsTUFBRSxDQUFDSSxPQUFIO0FBRUEsUUFBSUMsWUFBWSxHQUFHLElBQUlWLDREQUFKLEVBQW5CO0FBQ0FVLGdCQUFZLENBQUM3RixNQUFiLEdBQXNCcEosSUFBSSxDQUFDRSxPQUFMLENBQWFrSixNQUFuQztBQUNBNkYsZ0JBQVksQ0FBQ1QsUUFBYixDQUFzQnhPLElBQUksQ0FBQ0UsT0FBTCxDQUFhYSxJQUFuQztBQUVBa08sZ0JBQVksQ0FBQzFQLEtBQWIsQ0FBbUJxUCxFQUFFLENBQUNOLFVBQUgsRUFBbkI7QUFFQSxRQUFJN0gsS0FBSyxHQUFHLElBQVosQ0F6RHVCLENBMkR2QjtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxTQUFJLElBQUl2SCxDQUFSLElBQWFvUCxVQUFVLENBQUNyTSxRQUFYLENBQW9CQSxRQUFqQyxFQUEyQztBQUMxQyxVQUFJaU4sQ0FBQyxHQUFHWixVQUFVLENBQUNyTSxRQUFYLENBQW9CQSxRQUFwQixDQUE2Qi9DLENBQTdCLENBQVI7QUFDQSxVQUFJaVEsTUFBTSxHQUFHLEtBQWI7O0FBQ0EsV0FBSSxJQUFJcEksQ0FBUixJQUFhL0csSUFBSSxDQUFDRSxPQUFMLENBQWErQixRQUExQixFQUFvQztBQUNuQyxZQUFHakMsSUFBSSxDQUFDRSxPQUFMLENBQWErQixRQUFiLENBQXNCOEUsQ0FBdEIsS0FBNEJtSSxDQUEvQixFQUFrQztBQUNqQ0MsZ0JBQU0sR0FBRyxJQUFUO0FBQ0E7QUFDQTtBQUNEOztBQUVELFdBQUlwSSxDQUFKLElBQVUvRyxJQUFJLENBQUNFLE9BQUwsQ0FBYWdDLFFBQXZCLEVBQWlDO0FBQ2hDLFlBQUdsQyxJQUFJLENBQUNFLE9BQUwsQ0FBYWdDLFFBQWIsQ0FBc0I2RSxDQUF0QixLQUE0Qm1JLENBQS9CLEVBQWtDO0FBQ2pDQyxnQkFBTSxHQUFHLElBQVQ7QUFDQTtBQUNBO0FBQ0Q7O0FBRUQsVUFBRyxDQUFDQSxNQUFKLEVBQVk7QUFDWDtBQUNBMUksYUFBSyxHQUFHLEtBQVI7QUFDQTtBQUNBO0FBQ0QsS0FyRnNCLENBdUZ2QjtBQUNBO0FBQ0E7OztBQUNBLFNBQUl2SCxDQUFKLElBQVNjLElBQUksQ0FBQ0UsT0FBTCxDQUFhK0IsUUFBdEIsRUFBZ0M7QUFDL0JpTixPQUFDLEdBQUdsUCxJQUFJLENBQUNFLE9BQUwsQ0FBYStCLFFBQWIsQ0FBc0IvQyxDQUF0QixDQUFKO0FBQ0FpUSxZQUFNLEdBQUcsS0FBVDs7QUFDQSxXQUFJLElBQUlwSSxDQUFSLElBQWF1SCxVQUFVLENBQUNyTSxRQUFYLENBQW9CQSxRQUFqQyxFQUEyQztBQUMxQyxZQUFHcU0sVUFBVSxDQUFDck0sUUFBWCxDQUFvQkEsUUFBcEIsQ0FBNkI4RSxDQUE3QixLQUFtQ21JLENBQXRDLEVBQXlDO0FBQ3hDQyxnQkFBTSxHQUFHLElBQVQ7QUFDQTtBQUNBO0FBQ0Q7O0FBRUQsVUFBRyxDQUFDQSxNQUFKLEVBQVk7QUFDWDtBQUNBMUksYUFBSyxHQUFHLEtBQVI7QUFDQTtBQUNBO0FBQ0Q7O0FBRUQsUUFBRyxDQUFDQSxLQUFKLEVBQVc7QUFDVixVQUFHekcsSUFBSSxDQUFDRSxPQUFMLENBQWFzTixPQUFoQixFQUF5QjtBQUN4QixZQUFJOUcsSUFBSSxHQUFHLHlEQUNWLDhEQURVLEdBRVYsbUJBRkQ7O0FBSUEsWUFBRzRILFVBQVUsQ0FBQ3JNLFFBQVgsQ0FBb0JBLFFBQXBCLENBQTZCOUMsTUFBN0IsR0FBc0MsQ0FBekMsRUFBNEM7QUFDM0N1SCxjQUFJLElBQUksNkJBQTZCNEgsVUFBVSxDQUFDck0sUUFBWCxDQUFvQkUsSUFBcEIsRUFBN0IsR0FBMEQsTUFBbEU7QUFDQSxTQUZELE1BRU87QUFDTnVFLGNBQUksSUFBSSxrQ0FBUjtBQUNBO0FBQ0QsT0FWRCxNQVVPO0FBQ04sWUFBSUEsSUFBSSxHQUFHLHlEQUNWLHNCQUREO0FBRUE7O0FBRURpSSxVQUFJLENBQUNqSSxJQUFELENBQUo7QUFDQTtBQUNBOztBQUVELFFBQUcsQ0FBQzRILFVBQVUsQ0FBQ2MsVUFBWCxDQUFzQkgsWUFBdEIsQ0FBSixFQUF5QztBQUN4QyxVQUFHalAsSUFBSSxDQUFDRSxPQUFMLENBQWFzTixPQUFoQixFQUF5QjtBQUN4Qm1CLFlBQUksQ0FBQywyREFDSiwwQkFESSxHQUVKLG1CQUZJLEdBRWtCQyxFQUFFLENBQUNOLFVBQUgsRUFGbEIsR0FFb0MsTUFGckMsQ0FBSjtBQUdBLE9BSkQsTUFJTztBQUNOSyxZQUFJLENBQUMsd0NBQUQsQ0FBSjtBQUNBOztBQUVEO0FBQ0EsS0F6SXNCLENBMkl2QjtBQUNBO0FBQ0E7OztBQUVBVixVQUFNLENBQUN4TyxTQUFQLEdBQW1CLGdEQUFuQjs7QUFFQSxRQUFHTyxJQUFJLENBQUNFLE9BQUwsQ0FBYXdOLFNBQWIsS0FBMkIsSUFBOUIsRUFBb0M7QUFDbkMsVUFBTTNPLFNBQVEsR0FBR0MsUUFBUSxDQUFDQyxnQkFBVCxDQUEwQmUsSUFBSSxDQUFDRSxPQUFMLENBQWF3TixTQUF2QyxDQUFqQjs7QUFEbUMsa0RBRWhCM08sU0FGZ0I7QUFBQTs7QUFBQTtBQUVuQywrREFBNkI7QUFBQSxjQUFyQkssU0FBcUI7QUFDNUJBLG1CQUFPLENBQUNzQyxLQUFSLEdBQWdCMUIsSUFBSSxDQUFDRSxPQUFMLENBQWF5TixPQUE3QjtBQUNBO0FBSmtDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLbkM7QUFDRCxHQXZKRDs7QUF5SkEsT0FBSzlFLEtBQUwsR0FBYSxZQUFXO0FBQ3ZCLFFBQU0rRixFQUFFLEdBQUcsS0FBS1MsaUJBQUwsRUFBWDs7QUFDQSxRQUFHcEIsTUFBTSxLQUFLLElBQWQsRUFBb0I7QUFDdEJBLFlBQU0sQ0FBQ3hPLFNBQVAsR0FBbUIsdUJBQXVCbVAsRUFBRSxDQUFDTixVQUFILEVBQXZCLEdBQXlDLE1BQTVEO0FBQ0E7O0FBRUV0TyxRQUFJLENBQUNnRyxJQUFMLENBQVVDLEdBQVYsQ0FBY2lCLEtBQWQ7QUFFQSxRQUFJNUUsTUFBTSxHQUFHdEMsSUFBSSxDQUFDZ0csSUFBTCxDQUFVMUQsTUFBdkI7QUFDQUEsVUFBTSxDQUFDNEUsS0FBUDtBQUVBLFFBQUlvSSxLQUFLLEdBQUdWLEVBQUUsQ0FBQ04sVUFBSCxHQUFnQnRFLEtBQWhCLENBQXNCLEdBQXRCLENBQVo7QUFDQSxRQUFJdUYsR0FBRyxHQUFHLElBQUloQiw0REFBSixFQUFWO0FBQ0FnQixPQUFHLENBQUNuRyxNQUFKLEdBQWFwSixJQUFJLENBQUNFLE9BQUwsQ0FBYWtKLE1BQTFCO0FBQ0FtRyxPQUFHLENBQUNmLFFBQUosQ0FBYXhPLElBQUksQ0FBQ0UsT0FBTCxDQUFhYSxJQUExQjs7QUFDQSxTQUFJLElBQUk3QixDQUFDLEdBQUMsQ0FBVixFQUFhQSxDQUFDLEdBQUNvUSxLQUFLLENBQUNuUSxNQUFyQixFQUE2QkQsQ0FBQyxFQUE5QixFQUFrQztBQUNqQyxVQUFJc1EsSUFBSSxHQUFHRixLQUFLLENBQUNwUSxDQUFELENBQWhCO0FBQ0FxUSxTQUFHLENBQUNoUSxLQUFKLENBQVVpUSxJQUFWO0FBQ0FsTixZQUFNLENBQUMwRSxTQUFQLENBQWlCdUksR0FBRyxDQUFDdE4sUUFBSixDQUFhQSxRQUE5QjtBQUNBOztBQUVESyxVQUFNLENBQUMyRSxVQUFQO0FBQ0EsR0F0QkQ7O0FBd0JILE1BQU0wSCxJQUFJLEdBQUcsU0FBUEEsSUFBTyxDQUFDRCxHQUFELEVBQVM7QUFDckJULFVBQU0sQ0FBQ3hPLFNBQVAsR0FBbUJpUCxHQUFuQjs7QUFFQSxRQUFHMU8sSUFBSSxDQUFDRSxPQUFMLENBQWF3TixTQUFiLEtBQTJCLElBQTlCLEVBQW9DO0FBQ25DLFVBQU0zTyxRQUFRLEdBQUdDLFFBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEJlLElBQUksQ0FBQ0UsT0FBTCxDQUFhd04sU0FBdkMsQ0FBakI7O0FBRG1DLGtEQUVoQjNPLFFBRmdCO0FBQUE7O0FBQUE7QUFFbkMsK0RBQTZCO0FBQUEsY0FBckJLLFNBQXFCO0FBQzVCQSxtQkFBTyxDQUFDc0MsS0FBUixHQUFnQixNQUFoQjtBQUNBO0FBSmtDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLbkM7QUFDRCxHQVREOztBQVlBLE9BQUsyTixpQkFBTCxHQUF5QixZQUFXO0FBQ25DO0FBQ0EsUUFBSVQsRUFBRSxHQUFHLElBQUlDLGdGQUFKLEVBQVQ7QUFDQUQsTUFBRSxDQUFDeEYsTUFBSCxHQUFZLEtBQUtwSixJQUFMLENBQVVFLE9BQVYsQ0FBa0JrSixNQUE5QjtBQUVBd0YsTUFBRSxDQUFDRSxJQUFILENBQVEsS0FBSzlPLElBQUwsQ0FBVUUsT0FBVixDQUFrQmEsSUFBMUI7O0FBQ0EsU0FBSSxJQUFJN0IsQ0FBUixJQUFhLEtBQUtjLElBQUwsQ0FBVUUsT0FBVixDQUFrQitCLFFBQS9CLEVBQXlDO0FBQ3hDMk0sUUFBRSxDQUFDakcsR0FBSCxDQUFPLEtBQUszSSxJQUFMLENBQVVFLE9BQVYsQ0FBa0IrQixRQUFsQixDQUEyQi9DLENBQTNCLENBQVAsRUFBc0MsSUFBdEM7QUFDQTs7QUFDRCxTQUFJQSxDQUFKLElBQVMsS0FBS2MsSUFBTCxDQUFVRSxPQUFWLENBQWtCZ0MsUUFBM0IsRUFBcUM7QUFDcEMwTSxRQUFFLENBQUNqRyxHQUFILENBQU8sS0FBSzNJLElBQUwsQ0FBVUUsT0FBVixDQUFrQmdDLFFBQWxCLENBQTJCaEQsQ0FBM0IsQ0FBUCxFQUFzQzZQLFNBQXRDO0FBQ0E7O0FBQ0RILE1BQUUsQ0FBQ0ksT0FBSDtBQUNBLFdBQU9KLEVBQVA7QUFDQSxHQWREOztBQWdCQSxPQUFLckIsS0FBTCxHQUFhLFlBQVc7QUFBQTs7QUFDdkJrQyxzREFBVyxDQUFDelAsSUFBSSxDQUFDWixPQUFOLENBQVgsQ0FBMEJzUSxJQUExQixDQUErQixVQUFBcEksTUFBTSxFQUFJO0FBQ3hDLFVBQU1wSCxPQUFPLEdBQUcsTUFBSSxDQUFDRixJQUFMLENBQVVFLE9BQTFCO0FBRUEsVUFBSXlQLFFBQVEsR0FBRyxNQUFNelAsT0FBTyxDQUFDYSxJQUE3Qjs7QUFDQSxVQUFHZixJQUFJLENBQUNpQyxRQUFMLENBQWNDLFFBQWQsQ0FBdUIvQyxNQUF2QixHQUFnQyxDQUFuQyxFQUFzQztBQUNyQ3dRLGdCQUFRLElBQUksR0FBWjtBQUNBOztBQUVEQSxjQUFRLElBQUksR0FBWjs7QUFSd0Msa0RBU3hCM1AsSUFBSSxDQUFDaUMsUUFBTCxDQUFjQSxRQVRVO0FBQUE7O0FBQUE7QUFTeEMsK0RBQXdDO0FBQUEsY0FBaEN1TixLQUFnQztBQUN2Q0csa0JBQVEsSUFBSSxJQUFJQyxNQUFKLENBQVdKLEtBQVgsRUFBaUJLLFFBQWpCLENBQTBCLEVBQTFCLENBQVo7QUFDQTtBQVh1QztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQWF4QyxVQUFHN1AsSUFBSSxDQUFDaUMsUUFBTCxDQUFjQyxRQUFkLENBQXVCL0MsTUFBdkIsR0FBZ0MsQ0FBbkMsRUFBc0M7QUFDckN3USxnQkFBUSxJQUFJLEdBQVo7O0FBRHFDLG9EQUVyQjNQLElBQUksQ0FBQ2lDLFFBQUwsQ0FBY0MsUUFGTztBQUFBOztBQUFBO0FBRXJDLGlFQUF3QztBQUFBLGdCQUFoQ3NOLElBQWdDO0FBQ3ZDRyxvQkFBUSxJQUFJLElBQUlDLE1BQUosQ0FBV0osSUFBWCxFQUFpQkssUUFBakIsQ0FBMEIsRUFBMUIsQ0FBWjtBQUNBO0FBSm9DO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLckM7O0FBRURGLGNBQVEsSUFBSSxNQUFaO0FBRUFySSxZQUFNLENBQUN3SSxNQUFQLENBQWMsVUFBQ0MsSUFBRCxFQUFVO0FBQ3ZCQyw0RUFBTSxDQUFDRCxJQUFELEVBQU9KLFFBQVAsQ0FBTjtBQUNBLE9BRkQ7QUFHQSxLQXpCRDtBQTBCQSxHQTNCRDs7QUE2Qkd4UCxZQUFVO0FBQ2IsQ0F6V00sQzs7Ozs7Ozs7Ozs7O0FDZFA7QUFBQTtBQUFBOzs7O0FBSU8sSUFBTXRCLEtBQUssR0FBRyxTQUFSQSxLQUFRLEdBQVcsQ0FDL0IsQ0FETTtBQUdQOzs7OztBQUlBQSxLQUFLLENBQUNDLEVBQU4sR0FBVyxVQUFTbVIsRUFBVCxFQUFhO0FBQ3BCLE1BQUlqUixRQUFRLENBQUNrUixXQUFULEdBQXVCbFIsUUFBUSxDQUFDbVIsVUFBVCxLQUF3QixVQUEvQyxHQUE0RG5SLFFBQVEsQ0FBQ21SLFVBQVQsS0FBd0IsU0FBeEYsRUFBa0c7QUFDOUZGLE1BQUU7QUFDTCxHQUZELE1BRU87QUFDSGpSLFlBQVEsQ0FBQ3NDLGdCQUFULENBQTBCLGtCQUExQixFQUE4QzJPLEVBQTlDO0FBQ0g7QUFDSixDQU5ELEM7Ozs7Ozs7Ozs7OztBQ1hBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7O0FBTU8sSUFBTXhILElBQUksR0FBRyxTQUFQQSxJQUFPLENBQVN6SSxJQUFULEVBQWVaLE9BQWYsRUFBd0I7QUFFM0MsT0FBSzZHLEdBQUwsR0FBVyxJQUFYO0FBQ0EsT0FBSzNELE1BQUwsR0FBYyxJQUFkO0FBRUEsTUFBSWxDLEdBQUosRUFBU29KLElBQVQsRUFBZUksS0FBZjs7QUFFQSxPQUFLekosVUFBTCxHQUFrQixZQUFXO0FBQzVCLFFBQUdILElBQUksQ0FBQ0UsT0FBTCxDQUFhdU4sVUFBaEIsRUFBNEI7QUFDM0IsVUFBSWhOLEVBQUUsR0FBR3pCLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBVDtBQUNBakIsYUFBTyxDQUFDb0IsV0FBUixDQUFvQkMsRUFBcEI7QUFFQSxVQUFJMlAsUUFBUSxHQUFHcFIsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixPQUF2QixDQUFmO0FBQ0ErUCxjQUFRLENBQUMxRyxZQUFULENBQXNCLE1BQXRCLEVBQThCLFVBQTlCO0FBQ0EwRyxjQUFRLENBQUMxRyxZQUFULENBQXNCLFNBQXRCLEVBQWlDLE1BQWpDO0FBQ0FqSixRQUFFLENBQUNELFdBQUgsQ0FBZTRQLFFBQWY7QUFFQTNQLFFBQUUsQ0FBQ0QsV0FBSCxDQUFleEIsUUFBUSxDQUFDOEIsY0FBVCxDQUF3QixlQUF4QixDQUFmO0FBRUFzUCxjQUFRLENBQUM5TyxnQkFBVCxDQUEwQixRQUExQixFQUFvQyxVQUFDQyxLQUFELEVBQVc7QUFDOUNBLGFBQUssQ0FBQ0MsY0FBTjs7QUFFQSxZQUFHNE8sUUFBUSxDQUFDQyxPQUFaLEVBQXFCO0FBQ3BCalEsYUFBRyxDQUFDUCxLQUFKLENBQVVDLE9BQVYsR0FBb0IsT0FBcEI7QUFDQSxTQUZELE1BRU87QUFDTk0sYUFBRyxDQUFDUCxLQUFKLENBQVVDLE9BQVYsR0FBb0IsTUFBcEI7QUFDQTtBQUNELE9BUkQ7QUFTQSxLQXJCMkIsQ0F1QjVCOzs7QUFDQU0sT0FBRyxHQUFHcEIsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixLQUF2QixDQUFOO0FBQ0FELE9BQUcsQ0FBQ0UsU0FBSixDQUFjQyxHQUFkLENBQWtCLGNBQWxCO0FBQ0FuQixXQUFPLENBQUNvQixXQUFSLENBQW9CSixHQUFwQjtBQUNBLFNBQUtBLEdBQUwsR0FBV0EsR0FBWDtBQUVBLFNBQUsrSSxNQUFMO0FBQ0EsR0E5QkQ7O0FBa0NBLE9BQUtBLE1BQUwsR0FBYyxZQUFXO0FBQ3hCL0ksT0FBRyxDQUFDWCxTQUFKLEdBQWdCLEVBQWhCO0FBRUErSixRQUFJLEdBQUd4SyxRQUFRLENBQUNxQixhQUFULENBQXVCLEtBQXZCLENBQVA7QUFDQUQsT0FBRyxDQUFDSSxXQUFKLENBQWdCZ0osSUFBaEI7QUFFQUksU0FBSyxHQUFHNUssUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixLQUF2QixDQUFSO0FBQ0FELE9BQUcsQ0FBQ0ksV0FBSixDQUFnQm9KLEtBQWhCLEVBUHdCLENBU3hCO0FBQ0E7QUFDQTs7QUFDQSxRQUFHLEtBQUszRCxHQUFMLEtBQWEsSUFBaEIsRUFBc0I7QUFDckIsV0FBS0EsR0FBTCxDQUFTeUYsT0FBVDtBQUNBOztBQUVELFNBQUt6RixHQUFMLEdBQVcsSUFBSXVFLHdDQUFKLENBQVF4SyxJQUFSLEVBQWM0SixLQUFkLENBQVgsQ0FoQndCLENBa0J4QjtBQUNBO0FBQ0E7O0FBQ0EsU0FBS3RILE1BQUwsR0FBYyxJQUFJc0QsOENBQUosQ0FBVzVGLElBQVgsRUFBaUJ3SixJQUFqQixDQUFkO0FBQ0EsR0F0QkQ7O0FBd0JBLE9BQUtySixVQUFMO0FBRUEsQ0FuRU0sQzs7Ozs7Ozs7Ozs7O0FDVFA7QUFBQTtBQUFBO0FBQUE7QUFFQTs7Ozs7O0FBS08sSUFBTW9PLFVBQVUsR0FBRyxTQUFiQSxVQUFhLEdBQVc7QUFDakMsTUFBSXpJLElBQUksR0FBRyxJQUFYO0FBRUEsTUFBSS9FLElBQUksR0FBRyxDQUFYO0FBRUEsT0FBS2tCLFFBQUwsR0FBZ0IsSUFBSW1HLGtEQUFKLEVBQWhCO0FBRUEsT0FBS2dCLE1BQUwsR0FBYyxDQUFDLEdBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixHQUFoQixFQUFxQixHQUFyQixFQUEwQixHQUExQixFQUErQixHQUEvQixFQUFvQyxHQUFwQyxFQUF5QyxHQUF6QyxFQUE4QyxHQUE5QyxFQUFtRCxHQUFuRCxDQUFkO0FBRUE7Ozs7O0FBSUEsT0FBS29GLFFBQUwsR0FBZ0IsVUFBUzhCLEVBQVQsRUFBYTtBQUN6QnZQLFFBQUksR0FBR3VQLEVBQVA7QUFDQSxTQUFLck8sUUFBTCxDQUFjbEIsSUFBZCxHQUFxQnVQLEVBQXJCO0FBQ0FDLGNBQVU7QUFDYixHQUpEO0FBTUE7Ozs7OztBQUlBLE9BQUtuQixVQUFMLEdBQWtCLFVBQVNvQixLQUFULEVBQWdCO0FBQzlCLFFBQUcsS0FBS0MsWUFBTCxLQUFzQkQsS0FBSyxDQUFDQyxZQUFOLEVBQXpCLEVBQStDO0FBQzNDLGFBQU8sS0FBUDtBQUNIOztBQUVELFFBQUcsS0FBS0MsU0FBTCxLQUFtQkYsS0FBSyxDQUFDRSxTQUFOLEVBQXRCLEVBQXlDO0FBQ3JDLGFBQU8sS0FBUDtBQUNIOztBQUVELFdBQU8sSUFBUDtBQUNILEdBVkQ7QUFZQTs7Ozs7QUFHQSxXQUFTQyxpQkFBVCxHQUE2QjtBQUN6QjdLLFFBQUksQ0FBQzdELFFBQUwsQ0FBY2lGLEtBQWQ7O0FBQ0EsU0FBSSxJQUFJaEksQ0FBQyxHQUFDLENBQVYsRUFBYUEsQ0FBQyxHQUFDa0gsSUFBSSxDQUFDQyxHQUFMLENBQVMsQ0FBVCxFQUFZdEYsSUFBWixDQUFmLEVBQWtDN0IsQ0FBQyxFQUFuQyxFQUF1QztBQUNuQzBSLGVBQVMsQ0FBQzFSLENBQUQsQ0FBVDtBQUVBLFVBQUkyUixPQUFPLEdBQUcsS0FBZDs7QUFFQSxXQUFJLElBQUkxUCxDQUFSLElBQWEyUCxHQUFiLEVBQWtCO0FBQ2QsWUFBSUMsSUFBSSxHQUFHRCxHQUFHLENBQUMzUCxDQUFELENBQWQ7QUFDQSxZQUFJNlAsT0FBTyxHQUFHLElBQWQ7O0FBRUEsYUFBSSxJQUFJblEsQ0FBUixJQUFha1EsSUFBYixFQUFtQjtBQUNmLGNBQUk1TSxDQUFDLEdBQUc0TSxJQUFJLENBQUNsUSxDQUFELENBQVo7O0FBRUEsY0FBR3NELENBQUMsQ0FBQzhNLEdBQUwsRUFBVTtBQUNORCxtQkFBTyxHQUFHQSxPQUFPLElBQUksQ0FBRTdNLENBQUMsQ0FBQ3FMLElBQUYsQ0FBTzlOLEtBQTlCO0FBQ0gsV0FGRCxNQUVPO0FBQ0hzUCxtQkFBTyxHQUFHQSxPQUFPLElBQUk3TSxDQUFDLENBQUNxTCxJQUFGLENBQU85TixLQUE1QjtBQUNIO0FBQ0o7O0FBRURtUCxlQUFPLEdBQUdBLE9BQU8sSUFBSUcsT0FBckI7QUFDSDs7QUFFRCxVQUFHSCxPQUFILEVBQVk7QUFDUi9LLFlBQUksQ0FBQzdELFFBQUwsQ0FBYzFCLEdBQWQsQ0FBa0JyQixDQUFsQjtBQUNIO0FBQ0o7QUFDSjtBQUVEOzs7Ozs7QUFLQSxNQUFJNFIsR0FBRyxHQUFHLEVBQVY7O0FBRUEsT0FBS3ZSLEtBQUwsR0FBYSxVQUFTZ1EsR0FBVCxFQUFjO0FBQ3ZCMkIsT0FBRyxDQUFDM0IsR0FBRCxDQUFIO0FBRUF1QixPQUFHLEdBQUcsRUFBTjtBQUVBLFFBQUlDLElBQUksR0FBRyxFQUFYOztBQUVBLFFBQUdJLEtBQUssT0FBTyxHQUFmLEVBQW9CO0FBQ2hCUix1QkFBaUI7QUFDakI7QUFDSDs7QUFFRCxRQUFHUSxLQUFLLE9BQU8sR0FBZixFQUFvQjtBQUNoQixXQUFLbFAsUUFBTCxDQUFjaUYsS0FBZDs7QUFDQSxXQUFJLElBQUloSSxDQUFDLEdBQUMsQ0FBVixFQUFhQSxDQUFDLEdBQUNrSCxJQUFJLENBQUNDLEdBQUwsQ0FBUyxDQUFULEVBQVl0RixJQUFaLENBQWYsRUFBa0M3QixDQUFDLEVBQW5DLEVBQXVDO0FBQ25DLGFBQUsrQyxRQUFMLENBQWMxQixHQUFkLENBQWtCckIsQ0FBbEI7QUFDSDs7QUFDRDtBQUNIOztBQUVELFdBQU0sSUFBTixFQUFZO0FBQ1IsVUFBSWtTLEVBQUUsR0FBR0QsS0FBSyxFQUFkOztBQUNBLFVBQUdDLEVBQUUsS0FBSyxJQUFWLEVBQWdCO0FBQ1o7QUFDSDs7QUFFRCxVQUFHQSxFQUFFLEtBQUssR0FBVixFQUFlO0FBQ1gsWUFBR0wsSUFBSSxDQUFDNVIsTUFBTCxLQUFnQixDQUFuQixFQUFzQjtBQUNsQmtTLGVBQUssQ0FBQyxjQUFELENBQUw7QUFDSDs7QUFFRFAsV0FBRyxDQUFDekosSUFBSixDQUFTMEosSUFBVDtBQUNBQSxZQUFJLEdBQUcsRUFBUDtBQUNBTyxlQUFPO0FBQ1YsT0FSRCxNQVFPO0FBQ0g7QUFDQSxZQUFJOUIsSUFBSSxHQUFHK0IsUUFBUSxDQUFDSCxFQUFELENBQW5COztBQUNBLFlBQUc1QixJQUFJLEtBQUssSUFBWixFQUFrQjtBQUNkO0FBQ0E7QUFDQSxlQUFJLElBQUl6SSxDQUFSLElBQWFnSyxJQUFiLEVBQW1CO0FBQ2YsZ0JBQUd2QixJQUFJLEtBQUt1QixJQUFJLENBQUNoSyxDQUFELENBQUosQ0FBUXlJLElBQXBCLEVBQTBCO0FBQ3RCO0FBQ0E2QixtQkFBSyxDQUFDLDBDQUNGLDBDQURDLENBQUw7QUFFSDtBQUNKOztBQUVEQyxpQkFBTzs7QUFDUCxjQUFHSCxLQUFLLE9BQU8sR0FBZixFQUFvQjtBQUNoQkosZ0JBQUksQ0FBQzFKLElBQUwsQ0FBVTtBQUFDbUksa0JBQUksRUFBRUEsSUFBUDtBQUFheUIsaUJBQUcsRUFBRTtBQUFsQixhQUFWO0FBQ0FLLG1CQUFPO0FBQ1YsV0FIRCxNQUdPO0FBQ0hQLGdCQUFJLENBQUMxSixJQUFMLENBQVU7QUFBQ21JLGtCQUFJLEVBQUVBLElBQVA7QUFBYXlCLGlCQUFHLEVBQUU7QUFBbEIsYUFBVjtBQUNIO0FBRUosU0FuQkQsTUFtQk87QUFDSEksZUFBSyxDQUFDLG9CQUFELENBQUw7QUFDSDtBQUNKO0FBQ0o7O0FBRUQsUUFBR04sSUFBSSxDQUFDNVIsTUFBTCxHQUFjLENBQWpCLEVBQW9CO0FBQ2hCMlIsU0FBRyxDQUFDekosSUFBSixDQUFTMEosSUFBVDtBQUNBQSxVQUFJLEdBQUcsRUFBUDtBQUNILEtBSEQsTUFHTztBQUNITSxXQUFLLENBQUMsMENBQ0YsZ0JBREMsQ0FBTDtBQUVIOztBQUVEVixxQkFBaUI7QUFDcEIsR0F2RUQ7O0FBeUVBLE9BQUtGLFlBQUwsR0FBb0IsWUFBVztBQUMzQixXQUFPSyxHQUFHLENBQUMzUixNQUFYO0FBQ0gsR0FGRDs7QUFJQSxPQUFLdVIsU0FBTCxHQUFpQixZQUFXO0FBQ3hCLFFBQUk3TSxHQUFHLEdBQUcsQ0FBVjs7QUFDQSxTQUFJLElBQUkzRSxDQUFSLElBQWE0UixHQUFiLEVBQWtCO0FBQ2RqTixTQUFHLElBQUlpTixHQUFHLENBQUM1UixDQUFELENBQUgsQ0FBT0MsTUFBZDtBQUNIOztBQUVELFdBQU8wRSxHQUFQO0FBQ0gsR0FQRDs7QUFTQSxXQUFTd04sS0FBVCxDQUFlM0MsR0FBZixFQUFvQjtBQUNoQixVQUFNLCtCQUErQjhDLGFBQS9CLEdBQStDLEtBQS9DLEdBQXVEOUMsR0FBN0Q7QUFDSDtBQUVEOzs7OztBQUlBLE1BQUlZLEtBQUssR0FBRyxFQUFaOztBQUVBLFdBQVNpQixVQUFULEdBQXNCO0FBQ2xCakIsU0FBSyxHQUFHLEVBQVIsQ0FEa0IsQ0FHbEI7O0FBQ0EsU0FBSSxJQUFJcFEsQ0FBQyxHQUFDLENBQVYsRUFBYUEsQ0FBQyxHQUFDNkIsSUFBZixFQUFxQjdCLENBQUMsRUFBdEIsRUFBMEI7QUFDdEIsVUFBSXNRLElBQUksR0FBRztBQUNQaUMsZUFBTyxFQUFFM0wsSUFBSSxDQUFDc0QsTUFBTCxDQUFZbEssQ0FBWixDQURGO0FBRVB3QyxhQUFLLEVBQUU7QUFGQSxPQUFYO0FBS0E0TixXQUFLLENBQUNqSSxJQUFOLENBQVdtSSxJQUFYO0FBQ0g7QUFFSjs7QUFFRCxXQUFTK0IsUUFBVCxDQUFrQkgsRUFBbEIsRUFBc0I7QUFFbEIsU0FBSSxJQUFJbFMsQ0FBUixJQUFhb1EsS0FBYixFQUFvQjtBQUNoQixVQUFHOEIsRUFBRSxDQUFDTSxXQUFILE9BQXFCcEMsS0FBSyxDQUFDcFEsQ0FBRCxDQUFMLENBQVN1UyxPQUFULENBQWlCQyxXQUFqQixFQUF4QixFQUF3RDtBQUNwRCxlQUFPcEMsS0FBSyxDQUFDcFEsQ0FBRCxDQUFaO0FBQ0g7QUFDSjs7QUFFRCxXQUFPLElBQVA7QUFDSDs7QUFFRCxXQUFTMFIsU0FBVCxDQUFtQm5QLEdBQW5CLEVBQXdCO0FBQ3BCLFNBQUksSUFBSXNGLENBQUMsR0FBQ3VJLEtBQUssQ0FBQ25RLE1BQU4sR0FBYSxDQUF2QixFQUEwQjRILENBQUMsSUFBRSxDQUE3QixFQUFnQ0EsQ0FBQyxFQUFqQyxFQUFxQztBQUNqQ3VJLFdBQUssQ0FBQ3ZJLENBQUQsQ0FBTCxDQUFTckYsS0FBVCxHQUFpQixDQUFDRCxHQUFHLEdBQUcsQ0FBUCxLQUFhLENBQTlCO0FBQ0FBLFNBQUcsS0FBSyxDQUFSO0FBQ0g7QUFDSjtBQUdEOzs7OztBQUlBLE1BQUk2TSxVQUFKO0FBQ0EsTUFBSWtELGFBQUo7O0FBRUEsV0FBU04sR0FBVCxDQUFhM0IsR0FBYixFQUFrQjtBQUNkakIsY0FBVSxHQUFHaUIsR0FBYjtBQUNBaUMsaUJBQWEsR0FBRyxDQUFoQjtBQUNIOztBQUVELFdBQVNMLEtBQVQsR0FBaUI7QUFDYixXQUFNSyxhQUFhLEdBQUdsRCxVQUFVLENBQUNuUCxNQUFqQyxFQUF5QztBQUNyQyxVQUFJaVMsRUFBRSxHQUFHOUMsVUFBVSxDQUFDcUQsTUFBWCxDQUFrQkgsYUFBbEIsQ0FBVDs7QUFDQSxVQUFHSixFQUFFLEtBQUssR0FBVixFQUFlO0FBQ1g7QUFDQSxhQUFJLElBQUlsUyxDQUFSLElBQWFvUSxLQUFiLEVBQW9CO0FBQ2hCLGNBQUlzQyxLQUFLLEdBQUd0RCxVQUFVLENBQUNqQixNQUFYLENBQWtCbUUsYUFBbEIsRUFBaUNsQyxLQUFLLENBQUNwUSxDQUFELENBQUwsQ0FBU3VTLE9BQVQsQ0FBaUJ0UyxNQUFsRCxDQUFaOztBQUVBLGNBQUd5UyxLQUFLLEtBQUt0QyxLQUFLLENBQUNwUSxDQUFELENBQUwsQ0FBU3VTLE9BQXRCLEVBQStCO0FBQzNCLG1CQUFPRyxLQUFQO0FBQ0g7QUFDSjs7QUFFRCxlQUFPUixFQUFQO0FBQ0g7O0FBRURJLG1CQUFhO0FBQ2hCOztBQUVELFdBQU8sSUFBUDtBQUNIOztBQUVELFdBQVNGLE9BQVQsR0FBbUI7QUFDZixRQUFJbk4sQ0FBQyxHQUFHZ04sS0FBSyxFQUFiOztBQUNBLFFBQUdoTixDQUFDLEtBQUssSUFBVCxFQUFlO0FBQ1hxTixtQkFBYSxJQUFJck4sQ0FBQyxDQUFDaEYsTUFBbkI7QUFDSDtBQUNKOztBQUVELE9BQUtxUCxRQUFMLENBQWMsQ0FBZDtBQUNILENBdlBNLEM7Ozs7Ozs7Ozs7OztBQ1BQO0FBQUE7QUFBQTs7OztBQUlPLElBQU1wRyxRQUFRLEdBQUcsU0FBWEEsUUFBVyxHQUFXO0FBQy9CLE9BQUtySCxJQUFMLEdBQVksQ0FBWjtBQUNBLE9BQUtrQixRQUFMLEdBQWdCLEVBQWhCLENBRitCLENBRVg7O0FBQ3BCLE9BQUtDLFFBQUwsR0FBZ0IsRUFBaEIsQ0FIK0IsQ0FHWDs7QUFFcEI7Ozs7Ozs7O0FBT0EsT0FBS0gsUUFBTCxHQUFnQixVQUFTOFAsU0FBVCxFQUFvQkMsUUFBcEIsRUFBOEI7QUFDMUMsUUFBR0QsU0FBUyxLQUFLOUMsU0FBakIsRUFBNEI7QUFDeEI4QyxlQUFTLEdBQUcsR0FBWjtBQUNIOztBQUNELFFBQUdDLFFBQVEsS0FBSy9DLFNBQWhCLEVBQTJCO0FBQ3ZCK0MsY0FBUSxHQUFHLENBQVg7QUFDSDs7QUFFRCxTQUFLNVAsUUFBTCxHQUFnQixFQUFoQjtBQUNBLFNBQUtELFFBQUwsR0FBZ0IsRUFBaEI7QUFFQSxRQUFJOFAsR0FBRyxHQUFHM0wsSUFBSSxDQUFDQyxHQUFMLENBQVMsQ0FBVCxFQUFZLEtBQUt0RixJQUFqQixDQUFWOztBQUNBLFNBQUksSUFBSTdCLENBQUMsR0FBQyxDQUFWLEVBQWFBLENBQUMsR0FBQzZTLEdBQWYsRUFBb0I3UyxDQUFDLEVBQXJCLEVBQXlCO0FBQ3JCLFVBQUk4UyxHQUFHLEdBQUc1TCxJQUFJLENBQUM2TCxNQUFMLEVBQVY7O0FBQ0EsVUFBR0QsR0FBRyxJQUFJSCxTQUFWLEVBQXFCO0FBQ2pCLGFBQUs1UCxRQUFMLENBQWNvRixJQUFkLENBQW1CbkksQ0FBbkI7QUFDSCxPQUZELE1BRU8sSUFBRzhTLEdBQUcsR0FBSSxJQUFJRixRQUFkLEVBQXlCO0FBQzVCLGFBQUs1UCxRQUFMLENBQWNtRixJQUFkLENBQW1CbkksQ0FBbkI7QUFDSDtBQUNKO0FBQ0osR0FwQkQ7QUFzQkE7Ozs7Ozs7Ozs7Ozs7QUFXQSxPQUFLNkosZ0JBQUwsR0FBd0IsVUFBUzhJLFNBQVQsRUFBb0JLLE1BQXBCLEVBQTRCQyxNQUE1QixFQUFvQ0wsUUFBcEMsRUFBOENNLEtBQTlDLEVBQXFEdEosS0FBckQsRUFBNEQ7QUFDaEYsUUFBR3NKLEtBQUssS0FBS3JELFNBQWIsRUFBd0I7QUFDcEJxRCxXQUFLLEdBQUcsQ0FBUjtBQUNIOztBQUNELFFBQUd0SixLQUFLLEtBQUtpRyxTQUFiLEVBQXdCO0FBQ3BCakcsV0FBSyxHQUFHMUMsSUFBSSxDQUFDQyxHQUFMLENBQVMsQ0FBVCxFQUFZLEtBQUt0RixJQUFqQixDQUFSO0FBQ0g7O0FBRUQsU0FBSSxJQUFJN0IsQ0FBQyxHQUFDLENBQVYsRUFBYUEsQ0FBQyxHQUFDLElBQWYsRUFBcUJBLENBQUMsRUFBdEIsRUFBMEI7QUFDdEIsV0FBSzZDLFFBQUwsQ0FBYzhQLFNBQWQsRUFBeUJDLFFBQXpCOztBQUNBLFVBQUcsS0FBSzdQLFFBQUwsQ0FBYzlDLE1BQWQsSUFBd0IrUyxNQUF4QixJQUNLLEtBQUtqUSxRQUFMLENBQWM5QyxNQUFkLElBQXdCZ1QsTUFEN0IsSUFFSyxLQUFLalEsUUFBTCxDQUFjL0MsTUFBZCxJQUF3QmlULEtBRjdCLElBR0ssS0FBS2xRLFFBQUwsQ0FBYy9DLE1BQWQsSUFBd0IySixLQUhoQyxFQUd1QztBQUNuQztBQUNIO0FBQ0o7QUFDSixHQWpCRDtBQW1CQTs7Ozs7QUFHQSxPQUFLSCxHQUFMLEdBQVcsWUFBVztBQUNsQixTQUFLMUcsUUFBTCxHQUFnQixFQUFoQjs7QUFDQSxTQUFJLElBQUkvQyxDQUFDLEdBQUMsQ0FBVixFQUFhQSxDQUFDLEdBQUNtVCxTQUFTLENBQUNsVCxNQUF6QixFQUFpQ0QsQ0FBQyxFQUFsQyxFQUFzQztBQUNsQyxXQUFLK0MsUUFBTCxDQUFjb0YsSUFBZCxDQUFtQmdMLFNBQVMsQ0FBQ25ULENBQUQsQ0FBNUI7QUFDSDs7QUFDRCxTQUFLK0MsUUFBTCxDQUFjMEssSUFBZCxDQUFtQixVQUFTL0osQ0FBVCxFQUFZZ0ssQ0FBWixFQUFlO0FBQUMsYUFBT2hLLENBQUMsR0FBQ2dLLENBQVQ7QUFBWSxLQUEvQztBQUNILEdBTkQ7QUFRQTs7Ozs7OztBQUtBLE9BQUszRCxRQUFMLEdBQWdCLFVBQVNoSCxRQUFULEVBQW1CQyxRQUFuQixFQUE2QjtBQUN6QyxTQUFLRCxRQUFMLEdBQWdCQSxRQUFRLENBQUNpSCxLQUFULEVBQWhCO0FBQ0EsU0FBS2pILFFBQUwsQ0FBYzBLLElBQWQsQ0FBbUIsVUFBUy9KLENBQVQsRUFBWWdLLENBQVosRUFBZTtBQUFDLGFBQU9oSyxDQUFDLEdBQUNnSyxDQUFUO0FBQVksS0FBL0M7O0FBRUEsUUFBRzFLLFFBQVEsS0FBSyxJQUFoQixFQUFzQjtBQUNsQixXQUFLQSxRQUFMLEdBQWdCQSxRQUFRLENBQUNnSCxLQUFULEVBQWhCO0FBQ0EsV0FBS2hILFFBQUwsQ0FBY3lLLElBQWQsQ0FBbUIsVUFBUy9KLENBQVQsRUFBWWdLLENBQVosRUFBZTtBQUFDLGVBQU9oSyxDQUFDLEdBQUNnSyxDQUFUO0FBQVksT0FBL0M7QUFDSCxLQUhELE1BR087QUFDSCxXQUFLMUssUUFBTCxHQUFnQixFQUFoQjtBQUNIO0FBQ0osR0FWRDtBQVlBOzs7Ozs7QUFJQSxPQUFLb1EsS0FBTCxHQUFhLFVBQVM5QixLQUFULEVBQWdCO0FBQ3pCLFFBQUkrQixhQUFKOztBQUVBLFFBQUcvQixLQUFLLFlBQVlnQyxLQUFLLENBQUNwSyxRQUExQixFQUFvQztBQUNoQ21LLG1CQUFhLEdBQUcvQixLQUFLLENBQUN2TyxRQUF0QjtBQUNILEtBRkQsTUFFTztBQUNIc1EsbUJBQWEsR0FBRy9CLEtBQWhCO0FBQ0g7O0FBRUQsUUFBRytCLGFBQWEsQ0FBQ3BULE1BQWQsS0FBeUIsS0FBSzhDLFFBQUwsQ0FBYzlDLE1BQTFDLEVBQWtEO0FBQzlDLGFBQU8sS0FBUDtBQUNIOztBQUVELFNBQUksSUFBSUQsQ0FBQyxHQUFDLENBQVYsRUFBYUEsQ0FBQyxHQUFDcVQsYUFBYSxDQUFDcFQsTUFBN0IsRUFBcUNELENBQUMsRUFBdEMsRUFBMEM7QUFDdEMsVUFBSXFULGFBQWEsQ0FBQ3JULENBQUQsQ0FBYixJQUFvQixLQUFLK0MsUUFBTCxDQUFjL0MsQ0FBZCxDQUF4QixFQUEwQztBQUN0QyxlQUFPLEtBQVA7QUFDSDtBQUNKOztBQUVELFdBQU8sSUFBUDtBQUNILEdBcEJEOztBQXNCQSxPQUFLZ0ksS0FBTCxHQUFhLFlBQVc7QUFDcEIsU0FBS2pGLFFBQUwsR0FBZ0IsRUFBaEI7QUFDSCxHQUZEOztBQUlBLE9BQUsxQixHQUFMLEdBQVcsVUFBUzRMLE9BQVQsRUFBa0I7QUFDekIsU0FBSSxJQUFJak4sQ0FBUixJQUFhLEtBQUsrQyxRQUFsQixFQUE0QjtBQUN4QixVQUFHLEtBQUtBLFFBQUwsQ0FBYy9DLENBQWQsS0FBb0JpTixPQUF2QixFQUFnQztBQUM1QjtBQUNIO0FBQ0o7O0FBRUQsU0FBS2xLLFFBQUwsQ0FBY29GLElBQWQsQ0FBbUI4RSxPQUFuQjtBQUNBLFNBQUtsSyxRQUFMLENBQWMwSyxJQUFkLENBQW1CLFVBQVMvSixDQUFULEVBQVlnSyxDQUFaLEVBQWU7QUFBQyxhQUFPaEssQ0FBQyxHQUFDZ0ssQ0FBVDtBQUFZLEtBQS9DO0FBQ0gsR0FURDs7QUFXQSxPQUFLekssSUFBTCxHQUFZLFVBQVNzUSxTQUFULEVBQW9CO0FBQzVCLFFBQUkvUCxLQUFLLEdBQUcsSUFBWjtBQUNBLFFBQUkySCxHQUFHLEdBQUcsRUFBVjtBQUNBLFFBQUlxSSxFQUFFLEdBQUcsS0FBVDs7QUFDQSxTQUFJLElBQUl4VCxDQUFSLElBQWEsS0FBSytDLFFBQWxCLEVBQTRCO0FBQ3BCLFVBQUdTLEtBQUgsRUFBVTtBQUNOQSxhQUFLLEdBQUcsS0FBUjtBQUNILE9BRkQsTUFFTztBQUNIMkgsV0FBRyxJQUFJLElBQVA7QUFDSDs7QUFFRCxVQUFHb0ksU0FBUyxLQUFLLElBQWQsSUFBc0IsQ0FBQ0MsRUFBdkIsSUFBNkJySSxHQUFHLENBQUNsTCxNQUFKLEdBQWEsRUFBN0MsRUFBaUQ7QUFDN0N1VCxVQUFFLEdBQUcsSUFBTDtBQUNBckksV0FBRyxJQUFJLE1BQVA7QUFDSDs7QUFFREEsU0FBRyxJQUFJLE1BQU0sS0FBS3BJLFFBQUwsQ0FBYy9DLENBQWQsQ0FBYjtBQUNQOztBQUVELFdBQU9tTCxHQUFQO0FBQ0gsR0FwQkQ7O0FBc0JBLE9BQUtqSSxhQUFMLEdBQXFCLFVBQVNxUSxTQUFULEVBQW9CO0FBQ3JDLFFBQUkvUCxLQUFLLEdBQUcsSUFBWjtBQUNBLFFBQUkySCxHQUFHLEdBQUcsRUFBVjtBQUNBLFFBQUlxSSxFQUFFLEdBQUcsS0FBVDs7QUFDQSxTQUFJLElBQUl4VCxDQUFSLElBQWEsS0FBS2dELFFBQWxCLEVBQTRCO0FBQ3hCLFVBQUdRLEtBQUgsRUFBVTtBQUNOQSxhQUFLLEdBQUcsS0FBUjtBQUNILE9BRkQsTUFFTztBQUNIMkgsV0FBRyxJQUFJLElBQVA7QUFDSDs7QUFFRCxVQUFHb0ksU0FBUyxLQUFLLElBQWQsSUFBc0IsQ0FBQ0MsRUFBdkIsSUFBNkJySSxHQUFHLENBQUNsTCxNQUFKLEdBQWEsRUFBN0MsRUFBaUQ7QUFDN0N1VCxVQUFFLEdBQUcsSUFBTDtBQUNBckksV0FBRyxJQUFJLE1BQVA7QUFDSDs7QUFFREEsU0FBRyxJQUFJLE1BQU0sS0FBS25JLFFBQUwsQ0FBY2hELENBQWQsQ0FBYjtBQUNIOztBQUVELFdBQU9tTCxHQUFQO0FBQ0gsR0FwQkQ7QUFxQkgsQ0FoTE0sQzs7Ozs7Ozs7Ozs7O0FDSlA7QUFBQTtBQUFBO0FBQUE7QUFFQTs7Ozs7OztBQU1PLElBQU13RSxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQXVCLEdBQVc7QUFFM0MsT0FBS0QsRUFBTCxHQUFVLElBQUkrRCwyREFBSixFQUFWO0FBRUEsT0FBS3ZKLE1BQUwsR0FBYyxDQUFDLEdBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWCxFQUFnQixHQUFoQixFQUFxQixHQUFyQixFQUEwQixHQUExQixFQUErQixHQUEvQixFQUFvQyxHQUFwQyxFQUF5QyxHQUF6QyxFQUE4QyxHQUE5QyxFQUFtRCxHQUFuRCxDQUFkOztBQUVBLE9BQUswRixJQUFMLEdBQVksVUFBUzhELE9BQVQsRUFBa0I7QUFDMUIsU0FBS2hFLEVBQUwsQ0FBUUUsSUFBUixDQUFhOEQsT0FBYjtBQUVBLFNBQUsxTCxLQUFMO0FBQ0gsR0FKRDs7QUFNQSxPQUFLQSxLQUFMLEdBQWEsWUFBVztBQUNwQixRQUFJbkcsSUFBSSxHQUFHcUYsSUFBSSxDQUFDQyxHQUFMLENBQVMsQ0FBVCxFQUFZLEtBQUt1SSxFQUFMLENBQVFpRSxRQUFwQixDQUFYO0FBQ0EsU0FBS2pFLEVBQUwsQ0FBUWtFLGFBQVIsR0FBd0IsSUFBeEI7O0FBQ0EsU0FBSSxJQUFJNVQsQ0FBQyxHQUFDLENBQVYsRUFBYUEsQ0FBQyxHQUFDNkIsSUFBZixFQUFxQjdCLENBQUMsRUFBdEIsRUFBMEI7QUFDdEIsV0FBSzBQLEVBQUwsQ0FBUW1FLFdBQVIsQ0FBb0I3VCxDQUFwQixFQUF1QixDQUF2QjtBQUNIO0FBQ0osR0FORDtBQVFBOzs7Ozs7O0FBS0EsT0FBS3lKLEdBQUwsR0FBVyxVQUFTd0QsT0FBVCxFQUFrQnpLLEtBQWxCLEVBQXlCO0FBQ2hDLFFBQUdBLEtBQUssS0FBSyxJQUFiLEVBQW1CO0FBQ2YsV0FBS2tOLEVBQUwsQ0FBUW1FLFdBQVIsQ0FBb0I1RyxPQUFwQixFQUE2QixDQUE3QjtBQUNILEtBRkQsTUFFTyxJQUFHekssS0FBSyxLQUFLcU4sU0FBYixFQUF3QjtBQUMzQixXQUFLSCxFQUFMLENBQVFtRSxXQUFSLENBQW9CNUcsT0FBcEIsRUFBNkIsQ0FBN0I7QUFDSCxLQUZNLE1BRUE7QUFDSCxXQUFLeUMsRUFBTCxDQUFRbUUsV0FBUixDQUFvQjVHLE9BQXBCLEVBQTZCLENBQTdCO0FBQ0g7QUFDSixHQVJEOztBQVVBLE9BQUs2QyxPQUFMLEdBQWUsWUFBVztBQUN0QixTQUFLSixFQUFMLENBQVFJLE9BQVI7QUFDSCxHQUZEOztBQUlBLE9BQUswQixTQUFMLEdBQWlCLFlBQVc7QUFDeEIsV0FBTyxLQUFLOUIsRUFBTCxDQUFRb0UsZ0JBQVIsQ0FBeUI3VCxNQUFoQztBQUNILEdBRkQ7O0FBSUEsT0FBS21QLFVBQUwsR0FBa0IsWUFBVztBQUN6QixRQUFJTSxFQUFFLEdBQUcsS0FBS0EsRUFBZDtBQUVBLFFBQUlXLEdBQUcsR0FBRyxFQUFWO0FBQ0EsUUFBSTdNLEtBQUssR0FBRyxJQUFaOztBQUVBLFFBQUdrTSxFQUFFLENBQUNvRSxnQkFBSCxDQUFvQjdULE1BQXBCLEtBQStCLENBQWxDLEVBQXFDO0FBQ2pDLGFBQU8sR0FBUDtBQUNIOztBQUVELFFBQUd5UCxFQUFFLENBQUNvRSxnQkFBSCxDQUFvQjdULE1BQXBCLEtBQStCLENBQS9CLElBQ0N5UCxFQUFFLENBQUNvRSxnQkFBSCxDQUFvQixDQUFwQixFQUF1QkMsVUFBdkIsS0FBc0MsR0FEMUMsRUFDK0M7QUFDM0MsYUFBTyxHQUFQO0FBQ0gsS0Fid0IsQ0FlekI7OztBQUNBLFNBQUksSUFBSS9ULENBQUMsR0FBQyxDQUFWLEVBQWFBLENBQUMsR0FBQzBQLEVBQUUsQ0FBQ29FLGdCQUFILENBQW9CN1QsTUFBbkMsRUFBMkNELENBQUMsRUFBNUMsRUFBZ0Q7QUFDNUMsVUFBRyxDQUFDd0QsS0FBSixFQUFXO0FBQ1A2TSxXQUFHLElBQUksR0FBUDtBQUNILE9BRkQsTUFFTztBQUNIN00sYUFBSyxHQUFHLEtBQVI7QUFDSCxPQUwyQyxDQU81QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0FBLFdBQUssR0FBRyxJQUFSO0FBQ0EsVUFBSXlKLE9BQUo7QUFFQSxVQUFJK0csUUFBUSxHQUFHdEUsRUFBRSxDQUFDb0UsZ0JBQUgsQ0FBb0I5VCxDQUFwQixDQUFmOztBQUNBLFdBQUssSUFBSWlVLEdBQVQsSUFBZ0JELFFBQVEsQ0FBQ0UsU0FBVCxDQUFtQkQsR0FBbkMsRUFBd0M7QUFDcEMsWUFBR3pRLEtBQUgsRUFBVTtBQUNOeUosaUJBQU8sR0FBR2dILEdBQVY7QUFDQXpRLGVBQUssR0FBRyxLQUFSO0FBQ0gsU0FIRCxNQUdPO0FBQ0gsY0FBR3lRLEdBQUcsR0FBR2hILE9BQVQsRUFBa0I7QUFDZEEsbUJBQU8sR0FBR2dILEdBQVY7QUFDSDtBQUNKO0FBQ0osT0EzQjJDLENBNkI1QztBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFDQSxVQUFJRSxHQUFHLEdBQUcsS0FBTXpFLEVBQUUsQ0FBQ2lFLFFBQUgsR0FBYyxDQUE5QixDQW5DNEMsQ0FxQzVDO0FBQ0E7O0FBQ0EsVUFBSVMsTUFBTSxHQUFJLENBQUNKLFFBQVEsQ0FBQ0UsU0FBVCxDQUFtQkcsT0FBbEM7QUFFQSxVQUFJL0QsSUFBSSxHQUFHLEVBQVg7O0FBQ0EsV0FBSyxJQUFJZ0UsQ0FBQyxHQUFHNUUsRUFBRSxDQUFDaUUsUUFBSCxHQUFZLENBQXpCLEVBQTRCVyxDQUFDLElBQUksQ0FBakMsRUFBcUNBLENBQUMsRUFBdEMsRUFBMEM7QUFDdEMsWUFBSUMsRUFBRSxHQUFHN0UsRUFBRSxDQUFDaUUsUUFBSCxHQUFjVyxDQUFkLEdBQWtCLENBQTNCOztBQUNBLFlBQUksQ0FBQ0YsTUFBTSxHQUFHRCxHQUFWLE1BQW1CQSxHQUF2QixFQUE0QjtBQUN4QixjQUFJLENBQUNsSCxPQUFPLEdBQUdrSCxHQUFYLE1BQW9CQSxHQUF4QixFQUE2QjtBQUN6QjdELGdCQUFJLElBQUksS0FBS3BHLE1BQUwsQ0FBWXFLLEVBQVosQ0FBUjtBQUNILFdBRkQsTUFFTztBQUNIakUsZ0JBQUksSUFBSSxLQUFLcEcsTUFBTCxDQUFZcUssRUFBWixJQUFrQixHQUExQjtBQUNIO0FBQ0o7O0FBQ0RKLFdBQUcsR0FBR0EsR0FBRyxJQUFJLENBQWI7QUFDSDs7QUFFRDlELFNBQUcsSUFBSUMsSUFBUDtBQUNIOztBQUVELFdBQU9ELEdBQVA7QUFDSCxHQTFFRDtBQTRFSCxDQXZITSxDOzs7Ozs7Ozs7Ozs7QUNSUDtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUEsU0FBU21FLGFBQVQsR0FDQTtBQUNFLE9BQUtDLE9BQUw7QUFDQSxPQUFLQyxjQUFMLEdBQXNCLEdBQXRCO0FBQ0EsT0FBS3RMLFFBQUw7QUFDQSxPQUFLdUwsR0FBTCxHQUFXLEVBQVg7QUFDQSxNQUFJL04sSUFBSSxHQUFHLElBQVg7O0FBRUEsT0FBS2dPLElBQUwsR0FBWSxZQUFXO0FBQ3JCLFFBQUlDLFFBQVEsR0FBRyxJQUFJQyxLQUFKLEVBQWY7QUFDQSxRQUFJQyxPQUFKO0FBQ0EsUUFBSUMsTUFBSjtBQUNBLFFBQUlDLE1BQUo7QUFDQUYsV0FBTyxHQUFHLElBQUlELEtBQUosRUFBVjtBQUNBRSxVQUFNLEdBQUcsSUFBSTlHLE1BQUosRUFBVCxDQU5xQixDQU1FOztBQUN2QjhHLFVBQU0sQ0FBQyxDQUFELENBQU4sR0FBWSxDQUFaO0FBQ0FELFdBQU8sQ0FBQzVNLElBQVIsQ0FBYTZNLE1BQWI7QUFDQUMsVUFBTSxHQUFHLElBQUkvRyxNQUFKLEVBQVQ7QUFDQStHLFVBQU0sQ0FBQyxDQUFELENBQU4sR0FBWSxDQUFaO0FBQ0FGLFdBQU8sQ0FBQzVNLElBQVIsQ0FBYThNLE1BQWI7QUFDQUosWUFBUSxDQUFDMU0sSUFBVCxDQUFjNE0sT0FBZDtBQUNBQSxXQUFPLEdBQUcsSUFBSUQsS0FBSixFQUFWO0FBQ0FFLFVBQU0sR0FBRyxJQUFJOUcsTUFBSixFQUFUO0FBQ0E4RyxVQUFNLENBQUMsQ0FBRCxDQUFOLEdBQVksQ0FBWjtBQUNBRCxXQUFPLENBQUM1TSxJQUFSLENBQWE2TSxNQUFiO0FBQ0FDLFVBQU0sR0FBRyxJQUFJL0csTUFBSixFQUFUO0FBQ0ErRyxVQUFNLENBQUMsQ0FBRCxDQUFOLEdBQVksQ0FBWjtBQUNBRixXQUFPLENBQUM1TSxJQUFSLENBQWE4TSxNQUFiO0FBQ0FKLFlBQVEsQ0FBQzFNLElBQVQsQ0FBYzRNLE9BQWQ7QUFDQUEsV0FBTyxHQUFHLElBQUlELEtBQUosRUFBVjtBQUNBRSxVQUFNLEdBQUcsSUFBSTlHLE1BQUosRUFBVDtBQUNBOEcsVUFBTSxDQUFDLENBQUQsQ0FBTixHQUFZLENBQVo7QUFDQUQsV0FBTyxDQUFDNU0sSUFBUixDQUFhNk0sTUFBYjtBQUNBQyxVQUFNLEdBQUcsSUFBSS9HLE1BQUosRUFBVDtBQUNBK0csVUFBTSxDQUFDLENBQUQsQ0FBTixHQUFZLENBQVo7QUFDQUYsV0FBTyxDQUFDNU0sSUFBUixDQUFhOE0sTUFBYjtBQUNBSixZQUFRLENBQUMxTSxJQUFULENBQWM0TSxPQUFkO0FBQ0FBLFdBQU8sR0FBRyxJQUFJRCxLQUFKLEVBQVY7QUFDQUUsVUFBTSxHQUFHLElBQUk5RyxNQUFKLEVBQVQ7QUFDQThHLFVBQU0sQ0FBQyxDQUFELENBQU4sR0FBWSxDQUFaO0FBQ0FELFdBQU8sQ0FBQzVNLElBQVIsQ0FBYTZNLE1BQWI7QUFDQUMsVUFBTSxHQUFHLElBQUkvRyxNQUFKLEVBQVQ7QUFDQStHLFVBQU0sQ0FBQyxDQUFELENBQU4sR0FBWSxDQUFaO0FBQ0FGLFdBQU8sQ0FBQzVNLElBQVIsQ0FBYThNLE1BQWI7QUFDQUosWUFBUSxDQUFDMU0sSUFBVCxDQUFjNE0sT0FBZDtBQUNBQSxXQUFPLEdBQUcsSUFBSUQsS0FBSixFQUFWO0FBQ0FFLFVBQU0sR0FBRyxJQUFJOUcsTUFBSixFQUFUO0FBQ0E4RyxVQUFNLENBQUMsQ0FBRCxDQUFOLEdBQVksQ0FBWjtBQUNBRCxXQUFPLENBQUM1TSxJQUFSLENBQWE2TSxNQUFiO0FBQ0FDLFVBQU0sR0FBRyxJQUFJL0csTUFBSixFQUFUO0FBQ0ErRyxVQUFNLENBQUMsQ0FBRCxDQUFOLEdBQVksQ0FBWjtBQUNBRixXQUFPLENBQUM1TSxJQUFSLENBQWE4TSxNQUFiO0FBQ0FKLFlBQVEsQ0FBQzFNLElBQVQsQ0FBYzRNLE9BQWQ7QUFDQUEsV0FBTyxHQUFHLElBQUlELEtBQUosRUFBVjtBQUNBRSxVQUFNLEdBQUcsSUFBSTlHLE1BQUosRUFBVDtBQUNBOEcsVUFBTSxDQUFDLENBQUQsQ0FBTixHQUFZLENBQVo7QUFDQUQsV0FBTyxDQUFDNU0sSUFBUixDQUFhNk0sTUFBYjtBQUNBQyxVQUFNLEdBQUcsSUFBSS9HLE1BQUosRUFBVDtBQUNBK0csVUFBTSxDQUFDLENBQUQsQ0FBTixHQUFZLENBQVo7QUFDQUYsV0FBTyxDQUFDNU0sSUFBUixDQUFhOE0sTUFBYjtBQUNBSixZQUFRLENBQUMxTSxJQUFULENBQWM0TSxPQUFkO0FBQ0E7Ozs7Ozs7OztBQVNBLFNBQUtwTCxLQUFMLENBQVdrTCxRQUFYO0FBQ0QsR0EvREQ7O0FBaUVBLE9BQUtsTCxLQUFMLEdBQWEsVUFBU3VMLEVBQVQsRUFBYTtBQUV4QixTQUFLVCxPQUFMLEdBQWVTLEVBQWY7QUFDQSxTQUFLUCxHQUFMLEdBQVcsRUFBWCxDQUh3QixDQUt4Qjs7QUFDQVEsc0JBQWtCLENBQUNELEVBQUQsQ0FBbEIsQ0FOd0IsQ0FReEI7O0FBQ0EsUUFBSUwsUUFBUSxHQUFHSyxFQUFmO0FBQ0EsUUFBSUUsV0FBVyxHQUFHLENBQWxCOztBQUNBLFdBQU9QLFFBQVEsQ0FBQzVVLE1BQVQsR0FBa0IsQ0FBekIsRUFBNEI7QUFDMUIsVUFBSW9WLFdBQVcsR0FBRyxJQUFJUCxLQUFKLEVBQWxCOztBQUNBLFdBQUssSUFBSTlVLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUc2VSxRQUFRLENBQUM1VSxNQUE3QixFQUFxQ0QsQ0FBQyxJQUFJLENBQTFDLEVBQTZDO0FBRTNDLFlBQUlzVixPQUFPLEdBQUdULFFBQVEsQ0FBQzdVLENBQUMsR0FBRyxDQUFMLENBQXRCO0FBQ0EsWUFBSXVWLE9BQU8sR0FBR1YsUUFBUSxDQUFDN1UsQ0FBRCxDQUF0QjtBQUNBLFlBQUl3VixVQUFVLEdBQUcsSUFBSVYsS0FBSixFQUFqQjs7QUFDQSxhQUFLLElBQUlwUixDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHNFIsT0FBTyxDQUFDclYsTUFBNUIsRUFBb0N5RCxDQUFDLEVBQXJDLEVBQXlDO0FBQ3ZDLGVBQUssSUFBSWdLLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUc2SCxPQUFPLENBQUN0VixNQUE1QixFQUFvQ3lOLENBQUMsRUFBckMsRUFBeUM7QUFDdkMsZ0JBQUkrSCxNQUFNLEdBQUdILE9BQU8sQ0FBQzVSLENBQUQsQ0FBcEI7QUFDQSxnQkFBSWdTLE1BQU0sR0FBR0gsT0FBTyxDQUFDN0gsQ0FBRCxDQUFwQjtBQUNBLGdCQUFJaUksY0FBYyxHQUFHLElBQUl6SCxNQUFKLEVBQXJCOztBQUNBLGlCQUFLLElBQUk4QixDQUFULElBQWN5RixNQUFkLEVBQXNCO0FBQ3BCRSw0QkFBYyxDQUFDRixNQUFNLENBQUN6RixDQUFELENBQVAsQ0FBZCxHQUE0QnlGLE1BQU0sQ0FBQ3pGLENBQUQsQ0FBbEM7QUFDRDs7QUFDRCxpQkFBSyxJQUFJMUMsQ0FBVCxJQUFjb0ksTUFBZCxFQUFzQjtBQUNwQkMsNEJBQWMsQ0FBQ0QsTUFBTSxDQUFDcEksQ0FBRCxDQUFQLENBQWQsR0FBNEJvSSxNQUFNLENBQUNwSSxDQUFELENBQWxDO0FBQ0Q7O0FBQ0RrSSxzQkFBVSxDQUFDck4sSUFBWCxDQUFnQndOLGNBQWhCO0FBQ0Q7QUFDRjs7QUFFRE4sbUJBQVcsQ0FBQ2xOLElBQVosQ0FBaUJxTixVQUFqQjtBQUNELE9BdkJ5QixDQXdCMUI7OztBQUNBLFVBQUlYLFFBQVEsQ0FBQzVVLE1BQVQsR0FBa0IsQ0FBbEIsS0FBd0IsQ0FBNUIsRUFBK0I7QUFDN0JvVixtQkFBVyxDQUFDbE4sSUFBWixDQUFpQjBNLFFBQVEsQ0FBQ0EsUUFBUSxDQUFDNVUsTUFBVCxHQUFrQixDQUFuQixDQUF6QjtBQUNELE9BM0J5QixDQTRCMUI7OztBQUNBa1Ysd0JBQWtCLENBQUNFLFdBQUQsQ0FBbEI7QUFFQVIsY0FBUSxDQUFDNVUsTUFBVCxHQUFrQixDQUFsQixDQS9CMEIsQ0FnQzFCOztBQUNBLFdBQUssSUFBSUQsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR3FWLFdBQVcsQ0FBQ3BWLE1BQWhDLEVBQXdDRCxDQUFDLEVBQXpDLEVBQTZDO0FBQzNDLFlBQUk0VixNQUFNLEdBQUdQLFdBQVcsQ0FBQ3JWLENBQUQsQ0FBeEI7QUFDQSxZQUFJNlYsU0FBUyxHQUFHQyxjQUFjLENBQUNGLE1BQUQsQ0FBOUI7O0FBQ0EsWUFBSUMsU0FBUyxDQUFDNVYsTUFBVixHQUFtQixDQUF2QixFQUEwQjtBQUN4QjRVLGtCQUFRLENBQUMxTSxJQUFULENBQWMwTixTQUFkO0FBQ0Q7QUFDRjs7QUFFRCxVQUFJRSxXQUFXLEdBQUdDLG1CQUFtQixDQUFDbkIsUUFBRCxDQUFyQzs7QUFDQSxVQUFJa0IsV0FBVyxHQUFHLEtBQUtyQixjQUF2QixFQUF1QztBQUNyQ3VCLGVBQU8sQ0FBQ3RCLEdBQVIsQ0FBWSx3SEFBd0hvQixXQUFwSTtBQUNBLGVBQU8sS0FBUDtBQUNELE9BN0N5QixDQStDMUI7OztBQUNBWix3QkFBa0IsQ0FBQ04sUUFBRCxDQUFsQjtBQUNBTyxpQkFBVztBQUNaOztBQUNELFNBQUtoTSxRQUFMLEdBQWdCeUwsUUFBaEI7QUFDQSxXQUFPLElBQVA7QUFDRCxHQWhFRDs7QUFrRUEsV0FBU2lCLGNBQVQsQ0FBd0JGLE1BQXhCLEVBQWdDO0FBQzlCO0FBQ0EsUUFBSUMsU0FBUyxHQUFHLElBQUlmLEtBQUosRUFBaEI7QUFDQSxRQUFJb0IsaUJBQWlCLEdBQUcsSUFBSWhJLE1BQUosRUFBeEI7O0FBQ0EsU0FBSyxJQUFJeEssQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR2tTLE1BQU0sQ0FBQzNWLE1BQTNCLEVBQW1DeUQsQ0FBQyxFQUFwQyxFQUF3QztBQUN0QyxVQUFJeVMsS0FBSyxHQUFHLElBQVo7QUFDQSxVQUFJbkIsTUFBTSxHQUFHWSxNQUFNLENBQUNsUyxDQUFELENBQW5COztBQUNBLFdBQUssSUFBSWdLLENBQUMsR0FBR2hLLENBQUMsR0FBRyxDQUFqQixFQUFvQmdLLENBQUMsR0FBR2tJLE1BQU0sQ0FBQzNWLE1BQVgsSUFBcUJrVyxLQUF6QyxFQUFnRHpJLENBQUMsRUFBakQsRUFBcUQ7QUFDbkQsWUFBSXVILE1BQU0sR0FBR1csTUFBTSxDQUFDbEksQ0FBRCxDQUFuQjtBQUNBLFlBQUkwSSxhQUFhLEdBQUcsQ0FBcEI7QUFDQSxZQUFJQyxPQUFPLEdBQUcsQ0FBZDs7QUFDQSxhQUFLLElBQUlyRyxDQUFULElBQWNnRixNQUFkLEVBQXNCO0FBQ3BCLGNBQUlDLE1BQU0sQ0FBQ2pGLENBQUQsQ0FBTixJQUFhZ0YsTUFBakIsRUFBeUI7QUFDdkJvQix5QkFBYTtBQUNkOztBQUNEQyxpQkFBTztBQUNSOztBQUVELFlBQUlDLGFBQWEsR0FBRyxDQUFwQjtBQUNBLFlBQUlDLE9BQU8sR0FBRyxDQUFkOztBQUNBLGFBQUssSUFBSXZHLENBQVQsSUFBY2lGLE1BQWQsRUFBc0I7QUFDcEIsY0FBSUQsTUFBTSxDQUFDaEYsQ0FBRCxDQUFOLElBQWFpRixNQUFqQixFQUF5QjtBQUN2QnFCLHlCQUFhO0FBQ2Q7O0FBQ0RDLGlCQUFPO0FBQ1I7O0FBRUQsWUFBSUgsYUFBYSxLQUFLRyxPQUF0QixFQUErQjtBQUM3QkosZUFBSyxHQUFHLEtBQVI7QUFDRDs7QUFFRCxZQUFJRSxPQUFPLEdBQUdFLE9BQVYsSUFBcUJELGFBQWEsS0FBS0QsT0FBM0MsRUFBb0Q7QUFDbERILDJCQUFpQixDQUFDeEksQ0FBRCxDQUFqQixHQUF1QkEsQ0FBdkI7QUFDRDtBQUVGOztBQUNELFVBQUl5SSxLQUFKLEVBQVc7QUFDVCxZQUFJelMsQ0FBQyxJQUFJd1MsaUJBQVQsRUFBNEIsQ0FDMUI7QUFDRCxTQUZELE1BR0VMLFNBQVMsQ0FBQzFOLElBQVYsQ0FBZXlOLE1BQU0sQ0FBQ2xTLENBQUQsQ0FBckI7QUFDSDtBQUNGOztBQUNELFdBQU9tUyxTQUFQO0FBQ0Q7O0FBR0QsV0FBU1Ysa0JBQVQsQ0FBNEJOLFFBQTVCLEVBQXNDO0FBQ3BDLFFBQUl0RixHQUFHLEdBQUcsRUFBVjs7QUFDQSxTQUFLLElBQUl2UCxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHNlUsUUFBUSxDQUFDNVUsTUFBN0IsRUFBcUNELENBQUMsRUFBdEMsRUFBMEM7QUFDeEMsVUFBSXdELEtBQUssR0FBRyxJQUFaO0FBQ0ErTCxTQUFHLElBQUksR0FBUDtBQUNBLFVBQUl3RixPQUFPLEdBQUdGLFFBQVEsQ0FBQzdVLENBQUQsQ0FBdEI7O0FBQ0EsV0FBSyxJQUFJNkgsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR2tOLE9BQU8sQ0FBQzlVLE1BQTVCLEVBQW9DNEgsQ0FBQyxFQUFyQyxFQUF5QztBQUN2QyxZQUFJLENBQUNyRSxLQUFMLEVBQ0UrTCxHQUFHLElBQUksUUFBUDtBQUNGLFlBQUlpSCxLQUFLLEdBQUd6QixPQUFPLENBQUNsTixDQUFELENBQW5COztBQUNBLGFBQUssSUFBSTRPLENBQVQsSUFBY0QsS0FBZCxFQUFxQjtBQUNuQmpILGFBQUcsSUFBSSx5QkFBd0JpSCxLQUFLLENBQUNDLENBQUQsQ0FBN0IsR0FBbUMsZ0JBQTFDO0FBQ0Q7O0FBQ0RqVCxhQUFLLEdBQUcsS0FBUjtBQUNEOztBQUNEK0wsU0FBRyxJQUFJLEdBQVA7QUFDRDs7QUFDRCxRQUFHM0ksSUFBSSxDQUFDK04sR0FBTCxDQUFTMVUsTUFBVCxHQUFrQixDQUFyQixFQUF3QjtBQUN0QjJHLFVBQUksQ0FBQytOLEdBQUwsSUFBWSxvQkFBb0JwRixHQUFwQixHQUEwQixNQUF0QztBQUNELEtBRkQsTUFFSztBQUNIM0ksVUFBSSxDQUFDK04sR0FBTCxJQUFZLFFBQU9wRixHQUFQLEdBQWEsTUFBekI7QUFDRDtBQUNGOztBQUVELFdBQVN5RyxtQkFBVCxDQUE2Qm5CLFFBQTdCLEVBQXVDO0FBQ3JDLFFBQUk2QixZQUFZLEdBQUcsQ0FBbkI7O0FBQ0EsU0FBSyxJQUFJMVcsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRzZVLFFBQVEsQ0FBQzVVLE1BQTdCLEVBQXFDRCxDQUFDLEVBQXRDLEVBQTBDO0FBQ3hDLFVBQUkrVSxPQUFPLEdBQUdGLFFBQVEsQ0FBQzdVLENBQUQsQ0FBdEI7QUFDQTBXLGtCQUFZLElBQUkzQixPQUFPLENBQUM5VSxNQUF4QjtBQUNEOztBQUNELFdBQU95VyxZQUFQO0FBQ0Q7O0FBR0QsV0FBU0MsYUFBVCxDQUF1QjlCLFFBQXZCLEVBQWlDO0FBQy9CLFFBQUl0RixHQUFHLEdBQUcsRUFBVjs7QUFDQSxTQUFLLElBQUl2UCxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHNlUsUUFBUSxDQUFDNVUsTUFBN0IsRUFBcUNELENBQUMsRUFBdEMsRUFBMEM7QUFDeEMsVUFBSXdELEtBQUssR0FBRyxJQUFaO0FBQ0ErTCxTQUFHLElBQUksR0FBUDtBQUNBLFVBQUl3RixPQUFPLEdBQUdGLFFBQVEsQ0FBQzdVLENBQUQsQ0FBdEI7O0FBQ0EsV0FBSyxJQUFJNkgsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR2tOLE9BQU8sQ0FBQzlVLE1BQTVCLEVBQW9DNEgsQ0FBQyxFQUFyQyxFQUF5QztBQUN2QyxZQUFJLENBQUNyRSxLQUFMLEVBQ0UrTCxHQUFHLElBQUksTUFBUDtBQUNGLFlBQUlpSCxLQUFLLEdBQUd6QixPQUFPLENBQUNsTixDQUFELENBQW5COztBQUNBLGFBQUssSUFBSTRPLENBQVQsSUFBY0QsS0FBZCxFQUFxQjtBQUNuQmpILGFBQUcsSUFBSWlILEtBQUssQ0FBQ0MsQ0FBRCxDQUFaO0FBQ0Q7O0FBQ0RqVCxhQUFLLEdBQUcsS0FBUjtBQUNEOztBQUNEK0wsU0FBRyxJQUFJLEdBQVA7QUFDRDs7QUFDRDBHLFdBQU8sQ0FBQ3RCLEdBQVIsQ0FBWXBGLEdBQVo7QUFDRDtBQUVGOztBQUVELFNBQVNxSCxRQUFULEdBQW9CO0FBQ2xCLE9BQUsxQyxTQUFMLEdBQWlCLENBQUMsQ0FBbEI7QUFDQSxPQUFLSCxVQUFMLEdBQWtCLEVBQWxCO0FBQ0EsT0FBS3pRLEtBQUwsR0FBYSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxDQUFiO0FBQ0EsT0FBS3VULGlCQUFMLEdBQXlCLEVBQXpCO0FBQ0EsT0FBS0MsSUFBTCxHQUFZLEtBQVo7QUFDQSxPQUFLQyxXQUFMLEdBQW1CLElBQUk3SSxNQUFKLEVBQW5CO0FBQ0Q7O0FBRUQsU0FBUzhJLFNBQVQsR0FBcUI7QUFDbkIsT0FBSy9DLEdBQUwsR0FBVyxJQUFJL0YsTUFBSixFQUFYO0FBQ0EsT0FBSytJLE1BQUwsR0FBYyxLQUFkO0FBQ0EsT0FBS0MsY0FBTCxHQUFzQixLQUF0QjtBQUNBLE9BQUs3QyxPQUFMLEdBQWUsQ0FBZjtBQUNEOztBQUVELFNBQVM4QyxjQUFULEdBQTBCO0FBQ3hCLE9BQUtsUCxLQUFMLEdBQWEsSUFBSTZNLEtBQUosRUFBYjtBQUNBLE9BQUtzQyxLQUFMLEdBQWEsQ0FBQyxDQUFkO0FBQ0Q7O0FBRUQsU0FBU0MsYUFBVCxDQUF1QkMsR0FBdkIsRUFBNEI7QUFDMUIsT0FBS0Msa0JBQUwsR0FBMEIsSUFBSXpDLEtBQUosRUFBMUI7QUFDQSxPQUFLc0MsS0FBTCxHQUFhRSxHQUFiO0FBQ0EsT0FBS0UsYUFBTCxHQUFzQixJQUFJMUMsS0FBSixFQUF0QjtBQUFrQztBQUNsQyxPQUFLMkMsa0JBQUwsR0FBMkIsSUFBSTNDLEtBQUosRUFBM0I7QUFDQSxPQUFLNEMsbUJBQUwsR0FBNEIsSUFBSTVDLEtBQUosRUFBNUI7QUFDRDs7QUFFRCxTQUFTNkMsUUFBVCxDQUFrQkMsQ0FBbEIsRUFBcUIzVixDQUFyQixFQUF3QnFTLENBQXhCLEVBQTJCO0FBRXpCLE1BQUlySSxDQUFKLEVBQU80TCxDQUFQLEVBQVVuSyxDQUFWO0FBQ0EsTUFBSTFOLENBQUMsR0FBR2tILElBQUksQ0FBQzRRLEtBQUwsQ0FBV0YsQ0FBQyxHQUFHLENBQWYsQ0FBUjtBQUNBLE1BQUlHLENBQUMsR0FBR0gsQ0FBQyxHQUFHLENBQUosR0FBUTVYLENBQWhCO0FBQ0EsTUFBSTJCLENBQUMsR0FBRzJTLENBQUMsSUFBSSxJQUFJclMsQ0FBUixDQUFUO0FBQ0EsTUFBSStWLENBQUMsR0FBRzFELENBQUMsSUFBSSxJQUFJeUQsQ0FBQyxHQUFHOVYsQ0FBWixDQUFUO0FBQ0EsTUFBSWdELENBQUMsR0FBR3FQLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSXlELENBQUwsSUFBVTlWLENBQWxCLENBQVQ7O0FBRUEsVUFBUWpDLENBQUMsR0FBRyxDQUFaO0FBQ0EsU0FBSyxDQUFMO0FBQ0VpTSxPQUFDLEdBQUdxSSxDQUFKLEVBQU91RCxDQUFDLEdBQUc1UyxDQUFYLEVBQWN5SSxDQUFDLEdBQUcvTCxDQUFsQjtBQUNBOztBQUNGLFNBQUssQ0FBTDtBQUNFc0ssT0FBQyxHQUFHK0wsQ0FBSixFQUFPSCxDQUFDLEdBQUd2RCxDQUFYLEVBQWM1RyxDQUFDLEdBQUcvTCxDQUFsQjtBQUNBOztBQUNGLFNBQUssQ0FBTDtBQUNFc0ssT0FBQyxHQUFHdEssQ0FBSixFQUFPa1csQ0FBQyxHQUFHdkQsQ0FBWCxFQUFjNUcsQ0FBQyxHQUFHekksQ0FBbEI7QUFDQTs7QUFDRixTQUFLLENBQUw7QUFDRWdILE9BQUMsR0FBR3RLLENBQUosRUFBT2tXLENBQUMsR0FBR0csQ0FBWCxFQUFjdEssQ0FBQyxHQUFHNEcsQ0FBbEI7QUFDQTs7QUFDRixTQUFLLENBQUw7QUFDRXJJLE9BQUMsR0FBR2hILENBQUosRUFBTzRTLENBQUMsR0FBR2xXLENBQVgsRUFBYytMLENBQUMsR0FBRzRHLENBQWxCO0FBQ0E7O0FBQ0YsU0FBSyxDQUFMO0FBQ0VySSxPQUFDLEdBQUdxSSxDQUFKLEVBQU91RCxDQUFDLEdBQUdsVyxDQUFYLEVBQWMrTCxDQUFDLEdBQUdzSyxDQUFsQjtBQUNBO0FBbEJGOztBQXFCQSxTQUFPLENBQUU5USxJQUFJLENBQUM0USxLQUFMLENBQVc3TCxDQUFDLEdBQUcsR0FBZixDQUFGLEVBQXVCL0UsSUFBSSxDQUFDNFEsS0FBTCxDQUFXRCxDQUFDLEdBQUcsR0FBZixDQUF2QixFQUE0QzNRLElBQUksQ0FBQzRRLEtBQUwsQ0FBV3BLLENBQUMsR0FBRyxHQUFmLENBQTVDLENBQVA7QUFDRDs7QUFFTSxJQUFNK0Ysc0JBQXNCLEdBQUcsU0FBekJBLHNCQUF5QixHQUFXO0FBQy9DLE9BQUtFLFFBQUwsR0FBZ0IsQ0FBQyxDQUFqQjtBQUNBLE9BQUtzRSxRQUFMLEdBQWdCLElBQUluRCxLQUFKLEVBQWhCO0FBQ0EsT0FBS29ELFNBQUwsR0FBaUIsSUFBSXBELEtBQUosRUFBakI7QUFDQSxPQUFLcUQsZUFBTCxHQUF1QixJQUFJckQsS0FBSixFQUF2QjtBQUNBLE9BQUtzRCxXQUFMLEdBQW1CLEVBQW5CO0FBQ0EsT0FBS0Msa0JBQUwsR0FBMEIsRUFBMUI7QUFDQSxPQUFLdkUsZ0JBQUwsR0FBd0IsSUFBSWdCLEtBQUosRUFBeEI7QUFDQSxPQUFLd0QsY0FBTCxHQUFzQixJQUFJeEQsS0FBSixFQUF0QjtBQUNBLE9BQUt5RCxhQUFMLEdBQXFCLElBQUkvRCxhQUFKLEVBQXJCO0FBQ0EsT0FBS2dFLGdCQUFMLEdBQXdCLElBQUkxRCxLQUFKLEVBQXhCO0FBQ0EsT0FBS2xCLGFBQUwsR0FBcUIsS0FBckI7O0FBRUEsT0FBS2hFLElBQUwsR0FBWSxVQUFTNkksRUFBVCxFQUFhO0FBQ3ZCLFNBQUs5RSxRQUFMLEdBQWdCOEUsRUFBaEI7QUFDQSxTQUFLUixRQUFMLENBQWNoWSxNQUFkLEdBQXVCLENBQXZCO0FBQ0EsU0FBS2lZLFNBQUwsQ0FBZWpZLE1BQWYsR0FBd0IsQ0FBeEI7QUFDQSxTQUFLa1ksZUFBTCxDQUFxQmxZLE1BQXJCLEdBQThCLENBQTlCO0FBQ0EsU0FBS21ZLFdBQUwsR0FBbUIsR0FBbkI7QUFDQSxTQUFLQyxrQkFBTCxHQUEwQixHQUExQjtBQUNBLFNBQUt2RSxnQkFBTCxDQUFzQjdULE1BQXRCLEdBQStCLENBQS9CO0FBQ0EsU0FBS3FZLGNBQUwsQ0FBb0JyWSxNQUFwQixHQUE2QixDQUE3QjtBQUNBLFNBQUt1WSxnQkFBTCxDQUFzQnZZLE1BQXRCLEdBQStCLENBQS9CO0FBRUEsUUFBSXlZLFlBQVksR0FBR3hSLElBQUksQ0FBQ0MsR0FBTCxDQUFTLENBQVQsRUFBWSxLQUFLd00sUUFBakIsQ0FBbkI7O0FBQ0EsU0FBSyxJQUFJM1QsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRzBZLFlBQXBCLEVBQWtDMVksQ0FBQyxFQUFuQyxFQUF1QztBQUNyQyxXQUFLaVksUUFBTCxDQUFjOVAsSUFBZCxDQUFtQixDQUFuQjtBQUNELEtBZHNCLENBZ0J2Qjs7QUFFRCxHQWxCRDs7QUFvQkEsT0FBSzBMLFdBQUwsR0FBbUIsVUFBUzdULENBQVQsRUFBWXVDLEdBQVosRUFBaUI7QUFDbEMsUUFBSXZDLENBQUMsR0FBRyxDQUFKLElBQVNBLENBQUMsSUFBSSxLQUFLaVksUUFBTCxDQUFjaFksTUFBaEMsRUFDRTtBQUNGLFNBQUtnWSxRQUFMLENBQWNqWSxDQUFkLElBQW1CdUMsR0FBbkI7QUFDRCxHQUpEOztBQU1BLE9BQUtvVyxTQUFMLEdBQWlCLFVBQVMzWSxDQUFULEVBQVk7QUFDM0IsUUFBSUEsQ0FBQyxHQUFHLENBQUosSUFBU0EsQ0FBQyxJQUFJLEtBQUtpWSxRQUFMLENBQWNoWSxNQUFoQyxFQUNFO0FBRUYsU0FBS2dZLFFBQUwsQ0FBY2pZLENBQWQsS0FBb0IsQ0FBcEI7O0FBQ0EsUUFBRyxLQUFLNFQsYUFBUixFQUF1QjtBQUNyQixVQUFJLEtBQUtxRSxRQUFMLENBQWNqWSxDQUFkLElBQW1CLENBQXZCLEVBQTBCLEtBQUtpWSxRQUFMLENBQWNqWSxDQUFkLElBQW1CLENBQW5CO0FBQzNCLEtBRkQsTUFFSztBQUNILFVBQUksS0FBS2lZLFFBQUwsQ0FBY2pZLENBQWQsSUFBbUIsQ0FBdkIsRUFBMEIsS0FBS2lZLFFBQUwsQ0FBY2pZLENBQWQsSUFBbUIsQ0FBbkI7QUFDM0I7O0FBQ0QsU0FBSzhQLE9BQUw7QUFDRCxHQVhEOztBQWFBLE9BQUtpRCxNQUFMLEdBQWMsWUFBVztBQUN2QixTQUFLLElBQUkvUyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLEtBQUtpWSxRQUFMLENBQWNoWSxNQUFsQyxFQUEwQ0QsQ0FBQyxFQUEzQyxFQUErQztBQUM3QyxVQUFHLEtBQUs0VCxhQUFSLEVBQXVCO0FBQ3JCLGFBQUtxRSxRQUFMLENBQWNqWSxDQUFkLElBQW1Ca0gsSUFBSSxDQUFDNFEsS0FBTCxDQUFXNVEsSUFBSSxDQUFDNkwsTUFBTCxLQUFnQixDQUEzQixDQUFuQjtBQUNELE9BRkQsTUFFSztBQUNILGFBQUtrRixRQUFMLENBQWNqWSxDQUFkLElBQW1Ca0gsSUFBSSxDQUFDNFEsS0FBTCxDQUFXNVEsSUFBSSxDQUFDNkwsTUFBTCxLQUFnQixDQUEzQixDQUFuQjtBQUNEO0FBQ0Y7O0FBQ0QsU0FBS2pELE9BQUw7QUFDRCxHQVREOztBQVdBLE9BQUs5SCxLQUFMLEdBQWEsWUFBVztBQUN0QixTQUFLLElBQUloSSxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLEtBQUtpWSxRQUFMLENBQWNoWSxNQUFsQyxFQUEwQ0QsQ0FBQyxFQUEzQyxFQUErQztBQUM3QyxXQUFLaVksUUFBTCxDQUFjalksQ0FBZCxJQUFtQixDQUFuQjtBQUNEOztBQUNELFNBQUs4UCxPQUFMO0FBQ0QsR0FMRDs7QUFPQSxXQUFTOEksUUFBVCxDQUFrQnBXLEtBQWxCLEVBQXlCO0FBQ3ZCLFFBQUlnRyxPQUFPLEdBQUcsQ0FBZDs7QUFDQSxXQUFPaEcsS0FBSyxHQUFHLENBQWYsRUFBa0I7QUFDaEIsVUFBSSxDQUFDQSxLQUFLLEdBQUcsQ0FBVCxNQUFnQixDQUFwQixFQUF1QmdHLE9BQU87QUFDOUJoRyxXQUFLLEtBQUssQ0FBVjtBQUNEOztBQUNELFdBQU9nRyxPQUFQO0FBQ0Q7O0FBRUQsT0FBS3NILE9BQUwsR0FBZSxZQUFXO0FBQ3hCLFNBQUtvSSxTQUFMLENBQWVqWSxNQUFmLEdBQXdCLENBQXhCO0FBQ0EsU0FBS2tZLGVBQUwsQ0FBcUJsWSxNQUFyQixHQUE4QixDQUE5QjtBQUNBLFNBQUttWSxXQUFMLEdBQW1CLEdBQW5CO0FBQ0EsU0FBS0Msa0JBQUwsR0FBMEIsR0FBMUI7QUFDQSxTQUFLdkUsZ0JBQUwsQ0FBc0I3VCxNQUF0QixHQUErQixDQUEvQjtBQUNBLFNBQUtxWSxjQUFMLENBQW9CclksTUFBcEIsR0FBNkIsQ0FBN0I7QUFDQSxTQUFLdVksZ0JBQUwsQ0FBc0J2WSxNQUF0QixHQUErQixDQUEvQjtBQUVBLFFBQUl1SSxPQUFPLEdBQUcsQ0FBZDtBQUNBLFFBQUlxUSxNQUFNLEdBQUcsQ0FBQyxDQUFkO0FBQ0EsUUFBSUMsWUFBWSxHQUFHLElBQW5COztBQUNBLFdBQU1BLFlBQU4sRUFBb0I7QUFFbEJBLGtCQUFZLEdBQUcsS0FBZjtBQUNBLFVBQUlDLEVBQUUsR0FBRyxJQUFJNUIsY0FBSixFQUFUOztBQUVBLFVBQUczTyxPQUFPLEtBQUssQ0FBZixFQUFrQjtBQUNmLGFBQUssSUFBSXhJLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS2lZLFFBQUwsQ0FBY2hZLE1BQWxDLEVBQTBDRCxDQUFDLEVBQTNDLEVBQStDO0FBQzdDLGNBQUcsS0FBS2lZLFFBQUwsQ0FBY2pZLENBQWQsSUFBbUIsQ0FBdEIsRUFBeUI7QUFDdkIsZ0JBQUlnWixJQUFJLEdBQUcsSUFBSWhDLFNBQUosRUFBWDtBQUNBZ0MsZ0JBQUksQ0FBQy9FLEdBQUwsQ0FBU2pVLENBQVQsSUFBY0EsQ0FBZDtBQUNBZ1osZ0JBQUksQ0FBQy9CLE1BQUwsR0FBYyxJQUFkO0FBQ0E4QixjQUFFLENBQUM5USxLQUFILENBQVNFLElBQVQsQ0FBYzZRLElBQWQ7QUFDQUYsd0JBQVksR0FBRyxJQUFmO0FBQ0Q7QUFDRjtBQUNILE9BVkQsTUFVSztBQUVILGFBQUssSUFBSTlZLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUc2WSxNQUFNLENBQUM1USxLQUFQLENBQWFoSSxNQUFqQyxFQUF5Q0QsQ0FBQyxFQUExQyxFQUE4QztBQUM1QyxlQUFLLElBQUk2SCxDQUFDLEdBQUc3SCxDQUFDLEdBQUMsQ0FBZixFQUFrQjZILENBQUMsR0FBR2dSLE1BQU0sQ0FBQzVRLEtBQVAsQ0FBYWhJLE1BQW5DLEVBQTJDNEgsQ0FBQyxFQUE1QyxFQUFnRDtBQUM5QyxnQkFBSW9SLElBQUksR0FBR0osTUFBTSxDQUFDNVEsS0FBUCxDQUFhakksQ0FBYixDQUFYO0FBQ0EsZ0JBQUlrWixJQUFJLEdBQUdMLE1BQU0sQ0FBQzVRLEtBQVAsQ0FBYUosQ0FBYixDQUFYOztBQUVBLGdCQUFJb1IsSUFBSSxDQUFDNUUsT0FBTCxLQUFpQjZFLElBQUksQ0FBQzdFLE9BQTFCLEVBQW1DO0FBRWpDLGtCQUFJOEUsS0FBSyxHQUFHLEtBQVo7QUFDQSxrQkFBSUMsR0FBRyxHQUFHLENBQUMsQ0FBWDs7QUFDQSxtQkFBSyxJQUFJcEosQ0FBVCxJQUFjaUosSUFBSSxDQUFDaEYsR0FBbkIsRUFBd0I7QUFDdEIscUJBQUssSUFBSTNHLENBQVQsSUFBYzRMLElBQUksQ0FBQ2pGLEdBQW5CLEVBQXdCO0FBQ3RCLHNCQUFJb0YsRUFBRSxHQUFHSixJQUFJLENBQUNoRixHQUFMLENBQVNqRSxDQUFULENBQVQ7QUFDQSxzQkFBSXNKLEVBQUUsR0FBR0osSUFBSSxDQUFDakYsR0FBTCxDQUFTM0csQ0FBVCxDQUFULENBRnNCLENBR3RCOztBQUNBOEwscUJBQUcsR0FBRyxDQUFDQyxFQUFFLEdBQUdDLEVBQU4sSUFBYSxDQUFDTCxJQUFJLENBQUM1RSxPQUF6Qjs7QUFDQSxzQkFBSXVFLFFBQVEsQ0FBQ1EsR0FBRCxDQUFSLEtBQWtCLENBQXRCLEVBQXlCO0FBQ3ZCO0FBQ0FELHlCQUFLLEdBQUcsSUFBUjtBQUNEOztBQUNEO0FBQ0Q7O0FBQ0Q7QUFDRDs7QUFDRCxrQkFBSUEsS0FBSixFQUFXO0FBQ1RGLG9CQUFJLENBQUNoQyxNQUFMLEdBQWMsS0FBZDtBQUNBaUMsb0JBQUksQ0FBQ2pDLE1BQUwsR0FBYyxLQUFkO0FBRUEsb0JBQUkrQixJQUFJLEdBQUcsSUFBSWhDLFNBQUosRUFBWDtBQUNBZ0Msb0JBQUksQ0FBQy9CLE1BQUwsR0FBYyxJQUFkO0FBQ0ErQixvQkFBSSxDQUFDM0UsT0FBTCxHQUFlNEUsSUFBSSxDQUFDNUUsT0FBTCxHQUFlK0UsR0FBOUI7O0FBQ0EscUJBQUssSUFBSXBKLENBQVQsSUFBY2lKLElBQUksQ0FBQ2hGLEdBQW5CO0FBQ0UrRSxzQkFBSSxDQUFDL0UsR0FBTCxDQUFTakUsQ0FBVCxJQUFjdE4sUUFBUSxDQUFDc04sQ0FBRCxDQUF0QjtBQURGOztBQUVBLHFCQUFLLElBQUkxQyxDQUFULElBQWM0TCxJQUFJLENBQUNqRixHQUFuQjtBQUNFK0Usc0JBQUksQ0FBQy9FLEdBQUwsQ0FBUzNHLENBQVQsSUFBYzVLLFFBQVEsQ0FBQzRLLENBQUQsQ0FBdEI7QUFERjs7QUFHQSxvQkFBSWlNLFVBQVUsR0FBRyxLQUFqQixDQVpTLENBWWU7O0FBQ3hCLHFCQUFJLElBQUk5QyxDQUFDLEdBQUMsQ0FBVixFQUFhQSxDQUFDLEdBQUdzQyxFQUFFLENBQUM5USxLQUFILENBQVNoSSxNQUExQixFQUFrQ3dXLENBQUMsRUFBbkMsRUFBdUM7QUFDckMsc0JBQUkrQyxLQUFLLEdBQUdULEVBQUUsQ0FBQzlRLEtBQUgsQ0FBU3dPLENBQVQsQ0FBWjtBQUNBLHNCQUFJZ0QsU0FBUyxHQUFHLElBQWhCOztBQUNDLHVCQUFJLElBQUl6SixDQUFSLElBQWFnSixJQUFJLENBQUMvRSxHQUFsQixFQUF1QjtBQUNyQix3QkFBSWtGLEtBQUssR0FBRyxLQUFaOztBQUNBLHlCQUFLLElBQUk3TCxDQUFULElBQWNrTSxLQUFLLENBQUN2RixHQUFwQixFQUF5QjtBQUN4QiwwQkFBR3ZSLFFBQVEsQ0FBQ3NOLENBQUQsQ0FBUixLQUFnQnROLFFBQVEsQ0FBQzRLLENBQUQsQ0FBM0IsRUFBZ0M7QUFDOUI2TCw2QkFBSyxHQUFHLElBQVI7QUFDRDtBQUNEOztBQUNELHdCQUFHLENBQUNBLEtBQUosRUFBVztBQUNUTSwrQkFBUyxHQUFHLEtBQVo7QUFDQTtBQUNEO0FBQ0Y7O0FBQ0Qsc0JBQUdBLFNBQUgsRUFBYztBQUNaRiw4QkFBVSxHQUFHLElBQWI7QUFDQTtBQUNEO0FBQ0g7O0FBQ0Qsb0JBQUcsQ0FBQ0EsVUFBSixFQUFnQjtBQUNkUixvQkFBRSxDQUFDOVEsS0FBSCxDQUFTRSxJQUFULENBQWM2USxJQUFkO0FBQ0FGLDhCQUFZLEdBQUcsSUFBZjtBQUNEO0FBQ0Y7QUFDRjtBQUNGO0FBQ0Y7QUFDRjs7QUFFRCxVQUFHQSxZQUFILEVBQWlCLEtBQUtYLGVBQUwsQ0FBcUJoUSxJQUFyQixDQUEwQjRRLEVBQTFCO0FBQ2pCRixZQUFNLEdBQUdFLEVBQVQ7QUFDQXZRLGFBQU87QUFDUixLQWxHdUIsQ0FvR3hCOzs7QUFDQSxTQUFLMFAsU0FBTCxDQUFlalksTUFBZixHQUF3QixDQUF4QjtBQUNBLFNBQUs2VCxnQkFBTCxDQUFzQjdULE1BQXRCLEdBQStCLENBQS9CO0FBQ0EsUUFBSXFELEtBQUssR0FBRyxHQUFaOztBQUNBLFNBQUksSUFBSXRELENBQUMsR0FBRSxLQUFLbVksZUFBTCxDQUFxQmxZLE1BQXJCLEdBQTRCLENBQXZDLEVBQTBDRCxDQUFDLElBQUcsQ0FBOUMsRUFBaURBLENBQUMsRUFBbEQsRUFBc0Q7QUFDcEQsVUFBSTZYLENBQUMsR0FBRyxLQUFLTSxlQUFMLENBQXFCblksQ0FBckIsRUFBd0JpSSxLQUFoQzs7QUFFQSxXQUFJLElBQUlKLENBQUMsR0FBQyxDQUFWLEVBQWFBLENBQUMsR0FBR2dRLENBQUMsQ0FBQzVYLE1BQW5CLEVBQTJCNEgsQ0FBQyxFQUE1QixFQUFnQztBQUM5QixZQUFHZ1EsQ0FBQyxDQUFDaFEsQ0FBRCxDQUFELENBQUtvUCxNQUFSLEVBQWdCO0FBRWQ7QUFDQTtBQUNBLGNBQUl5QyxXQUFXLEdBQUcsS0FBbEI7QUFDQSxjQUFJQyxlQUFlLEdBQUc5QixDQUFDLENBQUNoUSxDQUFELENBQUQsQ0FBS29NLEdBQTNCOztBQUNBLGVBQUksSUFBSTJGLEVBQVIsSUFBY0QsZUFBZCxFQUErQjtBQUM3QixnQkFBSWxELENBQUMsR0FBR2tELGVBQWUsQ0FBQ0MsRUFBRCxDQUF2Qjs7QUFDQSxnQkFBRyxLQUFLM0IsUUFBTCxDQUFjeEIsQ0FBZCxNQUFxQixDQUF4QixFQUEyQjtBQUN6QmlELHlCQUFXLEdBQUcsSUFBZDtBQUNEO0FBQ0Y7O0FBRUQsY0FBRyxDQUFDQSxXQUFKLEVBQWdCO0FBQ2Q3QixhQUFDLENBQUNoUSxDQUFELENBQUQsQ0FBS3FQLGNBQUwsR0FBc0IsSUFBdEI7QUFDRCxXQUZELE1BRU87QUFDTCxnQkFBSWxELFFBQVEsR0FBRyxJQUFJNEMsUUFBSixFQUFmO0FBQ0E1QyxvQkFBUSxDQUFDRSxTQUFULEdBQXFCMkQsQ0FBQyxDQUFDaFEsQ0FBRCxDQUF0QixDQUZLLENBSUw7O0FBQ0EsaUJBQUssSUFBSWdTLE9BQVQsSUFBb0I3RixRQUFRLENBQUNFLFNBQVQsQ0FBbUJELEdBQXZDLEVBQTRDO0FBQzFDLGtCQUFJNkYsT0FBTyxHQUFHLEVBQWQ7QUFDQSxrQkFBSTNGLEdBQUcsR0FBRyxDQUFWO0FBQ0Esa0JBQUlDLE1BQU0sR0FBSSxDQUFDSixRQUFRLENBQUNFLFNBQVQsQ0FBbUJHLE9BQWxDOztBQUNBLG1CQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS1gsUUFBekIsRUFBbUNXLENBQUMsRUFBcEMsRUFBd0M7QUFDdEMsb0JBQUksQ0FBQ0YsTUFBTSxHQUFHRCxHQUFWLE1BQW1CQSxHQUF2QixFQUE0QjtBQUMxQixzQkFBSSxDQUFDMEYsT0FBTyxHQUFHMUYsR0FBWCxNQUFvQkEsR0FBeEIsRUFBNkI7QUFDM0IyRiwyQkFBTyxHQUFHLHlCQUF5QnhGLENBQXpCLEdBQTZCLGdCQUE3QixHQUFnRHdGLE9BQTFEO0FBQ0QsbUJBRkQsTUFFTztBQUNMQSwyQkFBTyxHQUFHLCtCQUErQnhGLENBQS9CLEdBQW1DLGdCQUFuQyxHQUFzRHdGLE9BQWhFO0FBQ0Q7QUFDRjs7QUFDRDNGLG1CQUFHLEdBQUdBLEdBQUcsSUFBSSxDQUFiO0FBQ0Q7O0FBQ0QyRixxQkFBTyxHQUFHLE1BQU1BLE9BQU4sR0FBZ0IsR0FBMUI7QUFDQSxrQkFBSTlGLFFBQVEsQ0FBQ0UsU0FBVCxDQUFtQkcsT0FBbkIsS0FBK0JuTixJQUFJLENBQUNDLEdBQUwsQ0FBUyxDQUFULEVBQVksS0FBS3dNLFFBQWpCLElBQTZCLENBQWhFLEVBQ0VtRyxPQUFPLEdBQUcsR0FBVjtBQUNGOUYsc0JBQVEsQ0FBQzFRLEtBQVQsR0FBaUJxVSxRQUFRLENBQUNyVSxLQUFELEVBQVEsR0FBUixFQUFhLEdBQWIsQ0FBekI7QUFDQUEsbUJBQUssSUFBSSxJQUFUO0FBQ0FBLG1CQUFLLEdBQUdBLEtBQUssR0FBRyxHQUFoQjtBQUdBMFEsc0JBQVEsQ0FBQ0QsVUFBVCxHQUFzQitGLE9BQXRCO0FBQ0Esa0JBQUlDLFFBQVEsR0FBRyxTQUFTL0YsUUFBUSxDQUFDMVEsS0FBVCxDQUFlLENBQWYsQ0FBVCxHQUE2QixHQUE3QixHQUFtQzBRLFFBQVEsQ0FBQzFRLEtBQVQsQ0FBZSxDQUFmLENBQW5DLEdBQXVELEdBQXZELEdBQTZEMFEsUUFBUSxDQUFDMVEsS0FBVCxDQUFlLENBQWYsQ0FBN0QsR0FBaUYsR0FBaEc7QUFDQTBRLHNCQUFRLENBQUM2QyxpQkFBVCxHQUE2Qix3QkFBd0JrRCxRQUF4QixHQUFtQyxJQUFuQyxHQUEwQ0QsT0FBMUMsR0FBb0QsU0FBakY7QUFDQTtBQUNEOztBQUVELGlCQUFLNUIsU0FBTCxDQUFlL1AsSUFBZixDQUFvQjZMLFFBQXBCO0FBQ0Q7QUFDRjtBQUNGO0FBQ0YsS0FoS3VCLENBbUt4Qjs7O0FBQ0EsUUFBSWdHLFNBQVMsR0FBRyxJQUFJOUwsTUFBSixFQUFoQjs7QUFDQSxTQUFLLElBQUlsTyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLEtBQUtpWSxRQUFMLENBQWNoWSxNQUFsQyxFQUEwQ0QsQ0FBQyxFQUEzQyxFQUErQztBQUM3QyxVQUFHLEtBQUtpWSxRQUFMLENBQWNqWSxDQUFkLE1BQXFCLENBQXhCLEVBQTJCO0FBQ3pCZ2EsaUJBQVMsQ0FBQ2hhLENBQUQsQ0FBVCxHQUFlQSxDQUFmO0FBQ0Q7QUFDRjs7QUFFRCxTQUFLc1ksY0FBTCxDQUFvQnJZLE1BQXBCLEdBQTZCLENBQTdCO0FBQ0EsUUFBSWdhLGFBQWEsR0FBRyxDQUFwQjtBQUNBLFFBQUlDLGNBQWMsR0FBSSxLQUFLaEMsU0FBTCxDQUFlalksTUFBZixHQUF3QixDQUE5QztBQUNBLFFBQUlrYSxtQkFBbUIsR0FBRyxLQUExQjtBQUNBLFFBQUlDLGFBQUo7O0FBQ0EsV0FBT0YsY0FBUCxFQUF1QjtBQUVyQkEsb0JBQWMsR0FBRyxLQUFqQjtBQUVBRSxtQkFBYSxHQUFHLElBQUkvQyxhQUFKLENBQWtCNEMsYUFBbEIsQ0FBaEI7O0FBQ0EsV0FBSyxJQUFJaE8sQ0FBVCxJQUFjK04sU0FBZCxFQUF5QjtBQUN2QkkscUJBQWEsQ0FBQzVDLGFBQWQsQ0FBNEJyUCxJQUE1QixDQUFpQzZSLFNBQVMsQ0FBQy9OLENBQUQsQ0FBMUM7QUFDRDs7QUFFRCxVQUFJZ08sYUFBYSxLQUFLLENBQXRCLEVBQXlCO0FBQ3ZCLGFBQUssSUFBSXBTLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS3FRLFNBQUwsQ0FBZWpZLE1BQW5DLEVBQTJDNEgsQ0FBQyxFQUE1QyxFQUFnRDtBQUM5Q3VTLHVCQUFhLENBQUMzQyxrQkFBZCxDQUFpQ3RQLElBQWpDLENBQXNDLEtBQUsrUCxTQUFMLENBQWVyUSxDQUFmLENBQXRDO0FBQ0Q7QUFDRixPQUpELE1BSU87QUFDTDtBQUNBLFlBQUl3UyxTQUFTLEdBQUcsS0FBSy9CLGNBQUwsQ0FBb0IyQixhQUFhLEdBQUMsQ0FBbEMsQ0FBaEI7O0FBQ0EsYUFBSSxJQUFJeEQsQ0FBQyxHQUFDLENBQVYsRUFBYUEsQ0FBQyxHQUFFNEQsU0FBUyxDQUFDNUMsa0JBQVYsQ0FBNkJ4WCxNQUE3QyxFQUFxRHdXLENBQUMsRUFBdEQsRUFBMEQ7QUFDeEQsY0FBRyxDQUFDNEQsU0FBUyxDQUFDNUMsa0JBQVYsQ0FBNkJoQixDQUE3QixFQUFnQ0ssSUFBcEMsRUFBeUM7QUFFdkMsZ0JBQUl3RCxVQUFVLEdBQUcsS0FBakI7QUFDQSxnQkFBSUMsSUFBSSxHQUFHRixTQUFTLENBQUM1QyxrQkFBVixDQUE2QmhCLENBQTdCLEVBQWdDdkMsU0FBaEMsQ0FBMENELEdBQXJEO0FBQ0EsZ0JBQUl1RyxRQUFRLEdBQUcsSUFBSXRNLE1BQUosRUFBZjtBQUNBLGdCQUFJdU0sTUFBTSxHQUFHLENBQWI7O0FBQ0EsaUJBQUksSUFBSXhPLENBQVIsSUFBYStOLFNBQWIsRUFBd0I7QUFDdEIsa0JBQUkxRixDQUFDLEdBQUcwRixTQUFTLENBQUMvTixDQUFELENBQWpCOztBQUNBLGtCQUFJcUksQ0FBQyxJQUFJaUcsSUFBVCxFQUFlO0FBQ2JDLHdCQUFRLENBQUNsRyxDQUFELENBQVIsR0FBY0EsQ0FBZDtBQUNBbUcsc0JBQU07QUFDUDtBQUNGOztBQUVELGlCQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdMLFNBQVMsQ0FBQzVDLGtCQUFWLENBQTZCeFgsTUFBakMsSUFBMkMsQ0FBQ3FhLFVBQTVELEVBQXdFSSxDQUFDLEVBQXpFLEVBQTZFO0FBQzNFLGtCQUFJLENBQUNMLFNBQVMsQ0FBQzVDLGtCQUFWLENBQTZCaUQsQ0FBN0IsRUFBZ0M1RCxJQUFqQyxJQUF5Q0wsQ0FBQyxLQUFLaUUsQ0FBbkQsRUFBc0Q7QUFDcEQsb0JBQUlDLElBQUksR0FBR04sU0FBUyxDQUFDNUMsa0JBQVYsQ0FBNkJpRCxDQUE3QixFQUFnQ3hHLFNBQWhDLENBQTBDRCxHQUFyRDtBQUNBLG9CQUFJMkcsTUFBTSxHQUFHLENBQWI7O0FBQ0EscUJBQUssSUFBSTNPLENBQVQsSUFBY3VPLFFBQWQsRUFBd0I7QUFDdEIsc0JBQUlsRyxDQUFDLEdBQUdrRyxRQUFRLENBQUN2TyxDQUFELENBQWhCOztBQUNBLHNCQUFJcUksQ0FBQyxJQUFJcUcsSUFBVCxFQUFlO0FBQ2JDLDBCQUFNO0FBQ1A7QUFDRjs7QUFDRCxvQkFBR0gsTUFBTSxLQUFLRyxNQUFkLEVBQXNCO0FBQ3BCLHNCQUFJQyxpQkFBaUIsR0FBRyxDQUF4Qjs7QUFDQSx1QkFBSyxJQUFJNU8sQ0FBVCxJQUFjK04sU0FBZCxFQUF5QjtBQUN2Qix3QkFBSTFGLENBQUMsR0FBRzBGLFNBQVMsQ0FBQy9OLENBQUQsQ0FBakI7O0FBQ0Esd0JBQUlxSSxDQUFDLElBQUlxRyxJQUFULEVBQWU7QUFDYkUsdUNBQWlCO0FBQ2xCO0FBQ0Y7O0FBQ0Qsc0JBQUdBLGlCQUFpQixHQUFHSixNQUF2QixFQUErQjtBQUM3QkgsOEJBQVUsR0FBRyxJQUFiO0FBQ0QsbUJBRkQsTUFFSztBQUNILHdCQUFHN0QsQ0FBQyxHQUFHaUUsQ0FBUCxFQUFVO0FBQ1JKLGdDQUFVLEdBQUcsSUFBYjtBQUNEO0FBQ0Y7QUFDRjtBQUVGO0FBQ0Y7O0FBRUQsZ0JBQUcsQ0FBQ0EsVUFBSixFQUFnQjtBQUNkRiwyQkFBYSxDQUFDM0Msa0JBQWQsQ0FBaUN0UCxJQUFqQyxDQUFzQ2tTLFNBQVMsQ0FBQzVDLGtCQUFWLENBQTZCaEIsQ0FBN0IsQ0FBdEM7QUFDRCxhQUZELE1BRUs7QUFDSDRELHVCQUFTLENBQUMzQyxtQkFBVixDQUE4QnZQLElBQTlCLENBQW1Da1MsU0FBUyxDQUFDNUMsa0JBQVYsQ0FBNkJoQixDQUE3QixDQUFuQztBQUNEO0FBQ0Y7QUFDRjtBQUNGOztBQUVELFVBQUkyRCxhQUFhLENBQUMzQyxrQkFBZCxDQUFpQ3hYLE1BQWpDLEdBQTBDLENBQTlDLEVBQWlEO0FBQy9DLGFBQUtxWSxjQUFMLENBQW9CblEsSUFBcEIsQ0FBeUJpUyxhQUF6QjtBQUNBLFlBQUlVLFlBQVksR0FBR1YsYUFBYSxDQUFDM0Msa0JBQWpDO0FBRUEsWUFBSXNELFdBQVcsR0FBRyxJQUFJN00sTUFBSixFQUFsQjs7QUFFQSxhQUFLLElBQUlqQyxDQUFULElBQWMrTixTQUFkLEVBQXlCO0FBQ3ZCLGNBQUloYSxDQUFDLEdBQUdnYSxTQUFTLENBQUMvTixDQUFELENBQWpCO0FBQ0EsY0FBSStPLEtBQUssR0FBRyxDQUFaO0FBQ0EsY0FBSTFLLElBQUksR0FBRyxDQUFDLENBQVo7O0FBQ0EsZUFBSyxJQUFJekksQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR2lULFlBQVksQ0FBQzdhLE1BQWpCLElBQTJCK2EsS0FBSyxHQUFHLENBQW5ELEVBQXNEblQsQ0FBQyxFQUF2RCxFQUEyRDtBQUN6RCxnQkFBSTdILENBQUMsSUFBSThhLFlBQVksQ0FBQ2pULENBQUQsQ0FBWixDQUFnQnFNLFNBQWhCLENBQTBCRCxHQUFuQyxFQUF3QztBQUN0QzNELGtCQUFJLEdBQUd6SSxDQUFQO0FBQ0FtVCxtQkFBSztBQUNOO0FBQ0Y7O0FBRUQsY0FBSUEsS0FBSyxLQUFLLENBQWQsRUFBaUI7QUFDZkYsd0JBQVksQ0FBQ3hLLElBQUQsQ0FBWixDQUFtQnlHLFdBQW5CLENBQStCL1csQ0FBL0IsSUFBb0NpYSxhQUFwQzs7QUFDQSxnQkFBRyxDQUFDYSxZQUFZLENBQUN4SyxJQUFELENBQVosQ0FBbUJ3RyxJQUF2QixFQUE2QjtBQUMzQixtQkFBS2hELGdCQUFMLENBQXNCM0wsSUFBdEIsQ0FBMkIyUyxZQUFZLENBQUN4SyxJQUFELENBQXZDO0FBQ0F3SywwQkFBWSxDQUFDeEssSUFBRCxDQUFaLENBQW1Cd0csSUFBbkIsR0FBMEIsSUFBMUI7QUFDQXNELDJCQUFhLENBQUM3QyxrQkFBZCxDQUFpQ3BQLElBQWpDLENBQXNDMlMsWUFBWSxDQUFDeEssSUFBRCxDQUFsRDtBQUNBNEosNEJBQWMsR0FBRyxJQUFqQjs7QUFFQSxtQkFBSyxJQUFJak8sQ0FBVCxJQUFjK04sU0FBZCxFQUF5QjtBQUN2QixvQkFBSWlCLEVBQUUsR0FBR2pCLFNBQVMsQ0FBQy9OLENBQUQsQ0FBbEI7O0FBQ0Esb0JBQUlnUCxFQUFFLElBQUlILFlBQVksQ0FBQ3hLLElBQUQsQ0FBWixDQUFtQjRELFNBQW5CLENBQTZCRCxHQUF2QyxFQUE0QztBQUMxQzhHLDZCQUFXLENBQUNFLEVBQUQsQ0FBWCxHQUFrQkEsRUFBbEI7QUFDRDtBQUNGO0FBQ0Y7QUFDRjtBQUNGLFNBakM4QyxDQW1DL0M7OztBQUNBLFlBQUlDLFlBQVksR0FBRyxJQUFJaE4sTUFBSixFQUFuQjs7QUFDQSxhQUFLLElBQUlpTixDQUFULElBQWNuQixTQUFkLEVBQXdCO0FBQ3RCLGNBQUlvQixFQUFFLEdBQUdwQixTQUFTLENBQUNtQixDQUFELENBQWxCO0FBQ0FELHNCQUFZLENBQUNFLEVBQUQsQ0FBWixHQUFtQkEsRUFBbkI7QUFDQSxpQkFBT3BCLFNBQVMsQ0FBQ21CLENBQUQsQ0FBaEI7QUFDRDs7QUFDRCxZQUFJRSxjQUFjLEdBQUcsQ0FBckI7O0FBQ0EsYUFBSyxJQUFJcFAsQ0FBVCxJQUFjaVAsWUFBZCxFQUE0QjtBQUMxQixjQUFJalcsQ0FBQyxHQUFHaVcsWUFBWSxDQUFDalAsQ0FBRCxDQUFwQjs7QUFDQSxjQUFHLEVBQUVoSCxDQUFDLElBQUk4VixXQUFQLENBQUgsRUFBd0I7QUFDckJmLHFCQUFTLENBQUUvVSxDQUFGLENBQVQsR0FBZ0JBLENBQWhCO0FBQ0FvVywwQkFBYztBQUNoQjtBQUNGO0FBQ0Y7O0FBRUQsVUFBSUEsY0FBYyxLQUFLLENBQXZCLEVBQTJCO0FBQ3pCbkIsc0JBQWMsR0FBRyxLQUFqQixDQUR5QixDQUNEO0FBQ3pCLE9BRkQsTUFFSztBQUNILFlBQUcsQ0FBQ0EsY0FBSixFQUFvQjtBQUNsQkMsNkJBQW1CLEdBQUcsSUFBdEI7QUFDRDtBQUNGOztBQUVERixtQkFBYTtBQUNkOztBQUVGLFFBQUlxQixhQUFhLEdBQUcsSUFBcEIsQ0FyVHlCLENBdVR4Qjs7QUFDQSxRQUFJbkIsbUJBQUosRUFBeUI7QUFDdkI7QUFFQSxVQUFJdEYsUUFBUSxHQUFHLElBQUlDLEtBQUosRUFBZjs7QUFFQSxXQUFLLElBQUk3SSxDQUFULElBQWMrTixTQUFkLEVBQXlCO0FBQ3ZCLFlBQUlpQixFQUFFLEdBQUdqQixTQUFTLENBQUMvTixDQUFELENBQWxCO0FBQ0MsWUFBSThJLE9BQU8sR0FBRyxJQUFJRCxLQUFKLEVBQWQ7O0FBRUQsYUFBSyxJQUFJMkIsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRzJELGFBQWEsQ0FBQzNDLGtCQUFkLENBQWlDeFgsTUFBckQsRUFBNkR3VyxDQUFDLEVBQTlELEVBQWtFO0FBQ2hFLGNBQUl4QyxHQUFHLEdBQUdtRyxhQUFhLENBQUMzQyxrQkFBZCxDQUFpQ2hCLENBQWpDLEVBQW9DdkMsU0FBcEMsQ0FBOENELEdBQXhEOztBQUNBLGNBQUdnSCxFQUFFLElBQUloSCxHQUFULEVBQWE7QUFDWCxnQkFBSXVDLEtBQUssR0FBRyxJQUFJdEksTUFBSixFQUFaO0FBQ0FzSSxpQkFBSyxDQUFDQyxDQUFELENBQUwsR0FBV0EsQ0FBWDtBQUNBMUIsbUJBQU8sQ0FBQzVNLElBQVIsQ0FBYXFPLEtBQWI7QUFDRDtBQUNGOztBQUNEM0IsZ0JBQVEsQ0FBQzFNLElBQVQsQ0FBYzRNLE9BQWQ7QUFDRDs7QUFFRHVHLG1CQUFhLEdBQUcsS0FBSy9DLGFBQUwsQ0FBbUI1TyxLQUFuQixDQUF5QmtMLFFBQXpCLENBQWhCOztBQUVBLFVBQUl5RyxhQUFKLEVBQW1CO0FBQ2pCLFlBQUlDLFNBQVMsR0FBRyxLQUFLaEQsYUFBTCxDQUFtQm5QLFFBQW5CLENBQTRCLENBQTVCLENBQWhCO0FBRUEsWUFBSW9TLFlBQVksR0FBRyxDQUFDLENBQXBCO0FBQ0EsWUFBSUMsU0FBUyxHQUFHLFFBQWhCO0FBQ0EsWUFBSUMsWUFBWSxHQUFHLFFBQW5COztBQUNBLGFBQUssSUFBSTFiLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUd1YixTQUFTLENBQUN0YixNQUE5QixFQUFzQ0QsQ0FBQyxFQUF2QyxFQUEyQztBQUN6QyxjQUFJZ2IsS0FBSyxHQUFHLENBQVo7O0FBQ0EsZUFBSyxJQUFJblQsQ0FBVCxJQUFjMFQsU0FBUyxDQUFDdmIsQ0FBRCxDQUF2QixFQUE0QjtBQUMxQmdiLGlCQUFLO0FBQ047O0FBQ0QsY0FBSUEsS0FBSyxJQUFJUyxTQUFiLEVBQXdCO0FBQUU7QUFFeEIsZ0JBQUlFLFNBQVMsR0FBRyxJQUFoQjs7QUFDQSxnQkFBSVgsS0FBSyxLQUFLUyxTQUFkLEVBQXlCO0FBQ3ZCLGtCQUFJRyxlQUFlLEdBQUcsQ0FBdEI7O0FBQ0EsbUJBQUssSUFBSS9ULENBQVQsSUFBYzBULFNBQVMsQ0FBQ3ZiLENBQUQsQ0FBdkIsRUFBNEI7QUFDMUIscUJBQUssSUFBSXNVLENBQVQsSUFBYzhGLGFBQWEsQ0FBQzNDLGtCQUFkLENBQWlDNVAsQ0FBakMsRUFBb0NxTSxTQUFwQyxDQUE4Q0QsR0FBNUQsRUFBaUU7QUFDL0QySCxpQ0FBZTtBQUNoQjtBQUNGOztBQUNELGtCQUFJQSxlQUFlLElBQUlGLFlBQXZCLEVBQ0VDLFNBQVMsR0FBRyxLQUFaO0FBQ0g7O0FBRUQsZ0JBQUlBLFNBQUosRUFBZTtBQUNiRix1QkFBUyxHQUFHVCxLQUFaO0FBQ0FRLDBCQUFZLEdBQUd4YixDQUFmO0FBQ0EwYiwwQkFBWSxHQUFHLENBQWY7O0FBQ0EsbUJBQUssSUFBSTdULENBQVQsSUFBYzBULFNBQVMsQ0FBQ0MsWUFBRCxDQUF2QixFQUF1QztBQUNyQyxxQkFBSyxJQUFJbEgsQ0FBVCxJQUFjOEYsYUFBYSxDQUFDM0Msa0JBQWQsQ0FBaUM1UCxDQUFqQyxFQUFvQ3FNLFNBQXBDLENBQThDRCxHQUE1RCxFQUFpRTtBQUMvRHlILDhCQUFZO0FBQ2I7QUFDRjtBQUNGO0FBQ0Y7QUFDRixTQXBDZ0IsQ0FxQ2pCOzs7QUFFQSxZQUFJRyxJQUFJLEdBQUdOLFNBQVMsQ0FBQ0MsWUFBRCxDQUFwQjs7QUFDQSxhQUFLLElBQUk5TixDQUFULElBQWNtTyxJQUFkLEVBQW9CO0FBQ2xCLGNBQUlDLFdBQVcsR0FBRzFCLGFBQWEsQ0FBQzNDLGtCQUFkLENBQWlDb0UsSUFBSSxDQUFDbk8sQ0FBRCxDQUFyQyxDQUFsQjtBQUNBLGVBQUtvRyxnQkFBTCxDQUFzQjNMLElBQXRCLENBQTJCMlQsV0FBM0I7QUFDQSxlQUFLdEQsZ0JBQUwsQ0FBc0JyUSxJQUF0QixDQUEyQjJULFdBQTNCO0FBQ0Q7QUFDRjtBQUNGOztBQUVELFFBQUlSLGFBQUosRUFBbUI7QUFDakIsV0FBS2xELFdBQUwsR0FBbUIsRUFBbkI7QUFDQSxXQUFLQyxrQkFBTCxHQUEwQixFQUExQjtBQUNBLFVBQUkwRCxNQUFNLEdBQUcsSUFBYjs7QUFDQSxXQUFLLElBQUkvYixDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLEtBQUs4VCxnQkFBTCxDQUFzQjdULE1BQTFDLEVBQWtERCxDQUFDLEVBQW5ELEVBQXVEO0FBQ3JELFlBQUksQ0FBQytiLE1BQUwsRUFBYTtBQUNYLGVBQUszRCxXQUFMLElBQW9CLFFBQXBCO0FBQ0EsZUFBS0Msa0JBQUwsSUFBMkIsUUFBM0I7QUFDRDs7QUFDRCxhQUFLRCxXQUFMLElBQW9CLEtBQUt0RSxnQkFBTCxDQUFzQjlULENBQXRCLEVBQXlCK1QsVUFBN0M7QUFDQSxhQUFLc0Usa0JBQUwsSUFBMkIsS0FBS3ZFLGdCQUFMLENBQXNCOVQsQ0FBdEIsRUFBeUI2VyxpQkFBcEQ7QUFDQWtGLGNBQU0sR0FBRyxLQUFUO0FBQ0Q7O0FBRUQsVUFBSSxLQUFLakksZ0JBQUwsQ0FBc0I3VCxNQUF0QixLQUFpQyxDQUFyQyxFQUF3QztBQUN0QyxhQUFLbVksV0FBTCxHQUFtQixHQUFuQjtBQUNBLGFBQUtDLGtCQUFMLEdBQTBCLEdBQTFCO0FBQ0Q7QUFDRixLQWxCRCxNQWtCSztBQUNGLFdBQUtELFdBQUwsR0FBbUIsMkZBQW5CO0FBQ0EsV0FBS0Msa0JBQUwsR0FBMEIsMkZBQTFCO0FBQ0Y7QUFDRixHQXBaRDtBQXFaRCxDQXBlTTtBQXllQSxJQUFNMkQsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixDQUFTQyxXQUFULEVBQXNCQyxPQUF0QixFQUErQkMsUUFBL0IsRUFBeUM7QUFDckUsTUFBSUMsS0FBSyxHQUFHLENBQUMsQ0FBYjtBQUNBLE1BQUlDLEtBQUssR0FBR0osV0FBWjtBQUNBLE9BQUszWCxJQUFMLEdBQVk0WCxPQUFPLEdBQUcsQ0FBdEI7QUFDQSxPQUFLM1gsSUFBTCxHQUFZMkMsSUFBSSxDQUFDQyxHQUFMLENBQVMsQ0FBVCxFQUFZK1UsT0FBWixDQUFaO0FBQ0EsT0FBS0ksSUFBTCxHQUFhLElBQUk3SSxzQkFBSixFQUFiO0FBQ0EsTUFBSTdNLElBQUksR0FBRyxJQUFYO0FBRUEsTUFBSXNELE1BQUo7O0FBQ0EsTUFBR2lTLFFBQVEsS0FBSyxDQUFoQixFQUFtQjtBQUNqQmpTLFVBQU0sR0FBRztBQUFDcVMsWUFBTSxFQUFDLGFBQVI7QUFDQ0MsWUFBTSxFQUFDLDRCQURSO0FBRUNDLFdBQUssRUFBQyxZQUZQO0FBR0NyRixXQUFLLEVBQUMsT0FIUDtBQUlDc0YsZUFBUyxFQUFDLHVCQUpYO0FBS0NDLHNCQUFnQixFQUFDLDBDQUxsQjtBQU1DQyxvQkFBYyxFQUFDLHNDQU5oQjtBQU9DQyxxQkFBZSxFQUFDLDRCQVBqQjtBQVFDQyxlQUFTLEVBQUM7QUFSWCxLQUFUO0FBU0QsR0FWRCxNQVVLO0FBQ0g1UyxVQUFNLEdBQUc7QUFBQ3FTLFlBQU0sRUFBQyxnQkFBUjtBQUNDQyxZQUFNLEVBQUMsK0JBRFI7QUFFQ0MsV0FBSyxFQUFDLGFBRlA7QUFHQ3JGLFdBQUssRUFBQyxTQUhQO0FBSUNzRixlQUFTLEVBQUMsc0JBSlg7QUFLQ0Msc0JBQWdCLEVBQUMsNENBTGxCO0FBTUNDLG9CQUFjLEVBQUMseUNBTmhCO0FBT0NDLHFCQUFlLEVBQUMsNkJBUGpCO0FBUUNDLGVBQVMsRUFBQztBQVJYLEtBQVQ7QUFVRDs7QUFFRCxPQUFLbE4sSUFBTCxHQUFZLFlBQVc7QUFFckIsU0FBSzBNLElBQUwsQ0FBVTFNLElBQVYsQ0FBZXNNLE9BQWY7QUFFQUUsU0FBSyxHQUFHdGMsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixLQUF2QixDQUFSOztBQUNBLFFBQUksQ0FBQ2liLEtBQUwsRUFBWTtBQUNWbkcsYUFBTyxDQUFDdEIsR0FBUixDQUFZLHVEQUFaO0FBQ0F5SCxXQUFLLEdBQUcsQ0FBQyxDQUFUO0FBQ0QsS0FIRCxNQUdPO0FBRUwsVUFBSVcsTUFBTSxHQUFHamQsUUFBUSxDQUFDa2QsY0FBVCxDQUF3QlgsS0FBeEIsQ0FBYjs7QUFDQSxVQUFJLENBQUNVLE1BQUwsRUFBYTtBQUNYLFlBQUdWLEtBQUssS0FBSyxXQUFiLEVBQTBCO0FBQ3hCcEcsaUJBQU8sQ0FBQ3RCLEdBQVIsQ0FBWSx3RUFBd0UwSCxLQUFwRjtBQUNEOztBQUNERCxhQUFLLEdBQUcsQ0FBQyxDQUFUO0FBQ0QsT0FMRCxNQUtPO0FBQ0x0YyxnQkFBUSxDQUFDK04sSUFBVCxDQUFjdk0sV0FBZCxDQUEwQjhhLEtBQTFCO0FBQ0FXLGNBQU0sQ0FBQ3piLFdBQVAsQ0FBbUI4YSxLQUFuQjtBQUNEO0FBQ0Y7O0FBQ0QsU0FBS2EsTUFBTDtBQUNELEdBdEJEOztBQXdCQSxPQUFLQyxXQUFMLEdBQW1CLFVBQVNDLElBQVQsRUFBZTtBQUNoQyxRQUFJalIsQ0FBQyxHQUFHeEosUUFBUSxDQUFDeWEsSUFBRCxDQUFoQjtBQUNBLFFBQUlqUixDQUFDLEdBQUcsQ0FBSixJQUFTQSxDQUFDLEdBQUcsQ0FBakIsRUFDRTtBQUNGLFNBQUs1SCxJQUFMLEdBQVk0SCxDQUFDLEdBQUcsQ0FBaEI7QUFDQSxTQUFLM0gsSUFBTCxHQUFZMkMsSUFBSSxDQUFDQyxHQUFMLENBQVMsQ0FBVCxFQUFZK0UsQ0FBWixDQUFaO0FBQ0EsU0FBS29RLElBQUwsQ0FBVTFNLElBQVYsQ0FBZTFELENBQWY7QUFDQSxTQUFLK1EsTUFBTDtBQUNELEdBUkQ7O0FBVUEsT0FBS0csU0FBTCxHQUFpQixZQUFXO0FBQzFCLFNBQUtkLElBQUwsQ0FBVXZKLE1BQVY7QUFDQSxTQUFLa0ssTUFBTDtBQUNELEdBSEQ7O0FBS0EsT0FBS0ksY0FBTCxHQUFzQixVQUFTQyxJQUFULEVBQWU7QUFDbkMsUUFBR0EsSUFBSSxHQUFHLENBQVYsRUFBYTtBQUNYLFdBQUtoQixJQUFMLENBQVUxSSxhQUFWLEdBQTBCLElBQTFCO0FBQ0QsS0FGRCxNQUVLO0FBQ0gsV0FBSzBJLElBQUwsQ0FBVTFJLGFBQVYsR0FBMEIsS0FBMUI7QUFDRDs7QUFDRCxTQUFLMEksSUFBTCxDQUFVdFUsS0FBVjtBQUNBLFNBQUtpVixNQUFMO0FBQ0QsR0FSRDs7QUFVQSxPQUFLTSxrQkFBTCxHQUEwQixVQUFTMUYsQ0FBVCxFQUFZa0YsTUFBWixFQUFvQlMsUUFBcEIsRUFBOEJ2WSxDQUE5QixFQUFpQ3dZLGVBQWpDLEVBQWtEO0FBQzFFLFFBQUlyRCxhQUFhLEdBQUcsS0FBS2tDLElBQUwsQ0FBVWhFLGNBQVYsQ0FBeUJyVCxDQUF6QixDQUFwQjtBQUNBLFFBQUl5WSxPQUFPLEdBQUc1ZCxRQUFRLENBQUNxQixhQUFULENBQXVCLE9BQXZCLENBQWQ7QUFDQXVjLFdBQU8sQ0FBQ2xULFlBQVIsQ0FBcUIsT0FBckIsRUFBOEIsZUFBOUI7QUFDQSxRQUFJbVQsS0FBSyxHQUFHN2QsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixJQUF2QixDQUFaO0FBRUEsUUFBSXljLE1BQU0sR0FBRzlkLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBYjtBQUNBeWMsVUFBTSxDQUFDcFQsWUFBUCxDQUFvQixPQUFwQixFQUE2QixlQUE3QjtBQUNBb1QsVUFBTSxDQUFDcmQsU0FBUCxHQUFtQixFQUFuQjtBQUNBb2QsU0FBSyxDQUFDcmMsV0FBTixDQUFrQnNjLE1BQWxCOztBQUVBLFNBQUssSUFBSS9WLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS3lVLElBQUwsQ0FBVTNJLFFBQTlCLEVBQXdDOUwsQ0FBQyxFQUF6QyxFQUE2QztBQUMzQyxVQUFJZ1csTUFBTSxHQUFHL2QsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixJQUF2QixDQUFiO0FBQ0EwYyxZQUFNLENBQUN0ZCxTQUFQLEdBQW1CLDBCQUEwQixLQUFLK2IsSUFBTCxDQUFVM0ksUUFBVixHQUFtQixDQUFuQixHQUFxQjlMLENBQS9DLElBQW9ELGdCQUF2RTtBQUNBZ1csWUFBTSxDQUFDclQsWUFBUCxDQUFvQixPQUFwQixFQUE2QixtQkFBN0I7QUFDQW1ULFdBQUssQ0FBQ3JjLFdBQU4sQ0FBa0J1YyxNQUFsQjtBQUNEOztBQUVELFFBQUlMLFFBQUosRUFBYztBQUNaLFdBQUssSUFBSXhkLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdvYSxhQUFhLENBQUM1QyxhQUFkLENBQTRCdlgsTUFBaEQsRUFBd0RELENBQUMsRUFBekQsRUFBNkQ7QUFDM0QsWUFBSThkLFFBQVEsR0FBR2hlLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBZjtBQUNBMmMsZ0JBQVEsQ0FBQ3RULFlBQVQsQ0FBc0IsT0FBdEIsRUFBK0IsZUFBL0I7QUFDQXNULGdCQUFRLENBQUN2ZCxTQUFULEdBQXFCNlosYUFBYSxDQUFDNUMsYUFBZCxDQUE0QnhYLENBQTVCLEVBQStCMlEsUUFBL0IsQ0FBd0MsRUFBeEMsQ0FBckI7QUFDQWdOLGFBQUssQ0FBQ3JjLFdBQU4sQ0FBa0J3YyxRQUFsQjtBQUNEO0FBQ0Y7O0FBRUQsUUFBSUEsUUFBUSxHQUFHaGUsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixJQUF2QixDQUFmO0FBQ0EyYyxZQUFRLENBQUN0VCxZQUFULENBQXNCLE9BQXRCLEVBQStCLGVBQS9CO0FBQ0FzVCxZQUFRLENBQUN2ZCxTQUFULEdBQXFCLEVBQXJCO0FBQ0FvZCxTQUFLLENBQUNyYyxXQUFOLENBQWtCd2MsUUFBbEI7QUFHQUosV0FBTyxDQUFDcGMsV0FBUixDQUFvQnFjLEtBQXBCO0FBRUEsUUFBSUksSUFBSSxHQUFHLENBQVg7QUFDQSxRQUFHLENBQUNQLFFBQUosRUFBY08sSUFBSSxHQUFHbEcsQ0FBQyxDQUFDNVAsS0FBRixDQUFRaEksTUFBZixDQUFkLEtBQTBDOGQsSUFBSSxHQUFHM0QsYUFBYSxDQUFDM0Msa0JBQWQsQ0FBaUN4WCxNQUF4Qzs7QUFFMUMsU0FBSyxJQUFJRCxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHK2QsSUFBcEIsRUFBMEIvZCxDQUFDLEVBQTNCLEVBQStCO0FBQzdCLFVBQUlnWixJQUFJLEdBQUcsQ0FBQyxDQUFaO0FBQ0EsVUFBRyxDQUFDd0UsUUFBSixFQUFjeEUsSUFBSSxHQUFHbkIsQ0FBQyxDQUFDNVAsS0FBRixDQUFRakksQ0FBUixDQUFQLENBQWQsS0FBc0NnWixJQUFJLEdBQUdvQixhQUFhLENBQUMzQyxrQkFBZCxDQUFpQ3pYLENBQWpDLEVBQW9Da1UsU0FBM0M7QUFDdEMsVUFBSTVNLElBQUksR0FBRyxDQUFYO0FBQ0EsVUFBSXdHLElBQUksR0FBR2tMLElBQUksQ0FBQzNFLE9BQWhCOztBQUVBLFdBQUksSUFBSXJFLENBQVIsSUFBYWdKLElBQUksQ0FBQy9FLEdBQWxCLEVBQXVCO0FBQ3JCM00sWUFBSSxHQUFHMFIsSUFBSSxDQUFDL0UsR0FBTCxDQUFTakUsQ0FBVCxDQUFQO0FBQ0E7QUFDRDs7QUFFRDJOLFdBQUssR0FBRzdkLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBUjtBQUVBLFVBQUk2YyxLQUFLLEdBQUdsZSxRQUFRLENBQUNxQixhQUFULENBQXVCLElBQXZCLENBQVo7QUFDQSxVQUFJOGMsUUFBUSxHQUFHLEVBQWY7QUFDQSxVQUFJemEsS0FBSyxHQUFHLElBQVo7O0FBQ0EsV0FBSSxJQUFJd00sQ0FBUixJQUFhZ0osSUFBSSxDQUFDL0UsR0FBbEIsRUFBdUI7QUFDckIsWUFBRyxDQUFDelEsS0FBSixFQUFXeWEsUUFBUSxJQUFLLElBQWI7QUFDWEEsZ0JBQVEsSUFBSWpGLElBQUksQ0FBQy9FLEdBQUwsQ0FBU2pFLENBQVQsRUFBWVcsUUFBWixDQUFxQixFQUFyQixDQUFaO0FBQ0FuTixhQUFLLEdBQUcsS0FBUjtBQUNEOztBQUNEd2EsV0FBSyxDQUFDemQsU0FBTixHQUFrQjBkLFFBQVEsR0FBRyxHQUE3QjtBQUNBRCxXQUFLLENBQUN4VCxZQUFOLENBQW1CLE9BQW5CLEVBQTRCLGVBQTVCO0FBQ0FtVCxXQUFLLENBQUNyYyxXQUFOLENBQWtCMGMsS0FBbEI7QUFFQSxVQUFJRSxHQUFHLEdBQUc1VyxJQUFJLENBQUNxSixRQUFMLENBQWMsQ0FBZCxDQUFWOztBQUNBLFdBQUssSUFBSTlJLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS3lVLElBQUwsQ0FBVTNJLFFBQTlCLEVBQXdDOUwsQ0FBQyxFQUF6QyxFQUE2QztBQUMzQyxZQUFJZ1csTUFBTSxHQUFHL2QsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixJQUF2QixDQUFiO0FBQ0EwYyxjQUFNLENBQUNyVCxZQUFQLENBQW9CLE9BQXBCLEVBQTZCLFFBQTdCO0FBQ0EsWUFBSStFLEdBQUo7QUFFQSxZQUFJNE8sVUFBVSxHQUFHalgsSUFBSSxDQUFDQyxHQUFMLENBQVMsQ0FBVCxFQUFhLEtBQUttVixJQUFMLENBQVUzSSxRQUFWLEdBQXFCLENBQXRCLEdBQXlCOUwsQ0FBckMsQ0FBakI7O0FBRUEsWUFBSSxDQUFDc1csVUFBVSxHQUFHclEsSUFBZCxNQUF3QnFRLFVBQTVCLEVBQXdDO0FBQ3RDNU8sYUFBRyxHQUFHLEdBQU47QUFDQXNPLGdCQUFNLENBQUN0ZCxTQUFQLEdBQW1CZ1AsR0FBbkI7QUFDRCxTQUhELE1BR087QUFDTCxjQUFJMUgsQ0FBQyxJQUFLLEtBQUt5VSxJQUFMLENBQVUzSSxRQUFYLEdBQXVCdUssR0FBRyxDQUFDamUsTUFBcEMsRUFBNEM7QUFDMUNzUCxlQUFHLEdBQUcyTyxHQUFHLENBQUN6TCxNQUFKLENBQVc1SyxDQUFDLElBQUksS0FBS3lVLElBQUwsQ0FBVTNJLFFBQVYsR0FBcUJ1SyxHQUFHLENBQUNqZSxNQUE3QixDQUFaLENBQU47QUFDQTRkLGtCQUFNLENBQUN0ZCxTQUFQLEdBQW1CZ1AsR0FBbkI7QUFDRCxXQUhELE1BR087QUFDTEEsZUFBRyxHQUFHLEdBQU47QUFDQXNPLGtCQUFNLENBQUN0ZCxTQUFQLEdBQW1CZ1AsR0FBbkI7QUFDRDtBQUNGOztBQUNEb08sYUFBSyxDQUFDcmMsV0FBTixDQUFrQnVjLE1BQWxCO0FBQ0Q7O0FBR0QsVUFBSSxDQUFDTCxRQUFMLEVBQWU7QUFDWixZQUFJWSxRQUFRLEdBQUd0ZSxRQUFRLENBQUNxQixhQUFULENBQXVCLElBQXZCLENBQWY7QUFDQWlkLGdCQUFRLENBQUM1VCxZQUFULENBQXNCLE9BQXRCLEVBQStCLGVBQS9COztBQUNELFlBQUl3TyxJQUFJLENBQUMvQixNQUFULEVBQWlCO0FBQ2ZtSCxrQkFBUSxDQUFDN2QsU0FBVCxHQUFxQixVQUFyQixDQURlLENBQ21COztBQUNsQyxjQUFHeVksSUFBSSxDQUFDOUIsY0FBUixFQUF1QjtBQUNyQmtILG9CQUFRLENBQUM3ZCxTQUFULEdBQXFCLFlBQXJCO0FBQ0Q7QUFDRixTQUxELE1BS087QUFDTDZkLGtCQUFRLENBQUM3ZCxTQUFULEdBQXFCLFFBQXJCO0FBQ0Q7O0FBQ0RvZCxhQUFLLENBQUNyYyxXQUFOLENBQWtCOGMsUUFBbEI7QUFDRCxPQVpELE1BWUs7QUFDSCxhQUFLLElBQUk5SixDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHOEYsYUFBYSxDQUFDNUMsYUFBZCxDQUE0QnZYLE1BQWhELEVBQXdEcVUsQ0FBQyxFQUF6RCxFQUE2RDtBQUMzRCxjQUFJMkcsRUFBRSxHQUFHYixhQUFhLENBQUM1QyxhQUFkLENBQTRCbEQsQ0FBNUIsQ0FBVDtBQUNBLGNBQUkrSixRQUFRLEdBQUd2ZSxRQUFRLENBQUNxQixhQUFULENBQXVCLElBQXZCLENBQWY7QUFDQWtkLGtCQUFRLENBQUM3VCxZQUFULENBQXNCLE9BQXRCLEVBQStCLG9CQUEvQjs7QUFDQSxjQUFJeVEsRUFBRSxJQUFJakMsSUFBSSxDQUFDL0UsR0FBZixFQUFvQjtBQUNsQm9LLG9CQUFRLENBQUM5ZCxTQUFULEdBQXFCLFNBQXJCOztBQUNBLGdCQUFJMGEsRUFBRSxJQUFJYixhQUFhLENBQUMzQyxrQkFBZCxDQUFpQ3pYLENBQWpDLEVBQW9DK1csV0FBOUMsRUFBMkQ7QUFDekQsa0JBQUdxRCxhQUFhLENBQUMzQyxrQkFBZCxDQUFpQ3pYLENBQWpDLEVBQW9DK1csV0FBcEMsQ0FBZ0RrRSxFQUFoRCxNQUF3RGhXLENBQTNELEVBQThEO0FBQzVEb1osd0JBQVEsQ0FBQzlkLFNBQVQsR0FBcUIsMkNBQXJCO0FBQ0Q7QUFDRjtBQUNGOztBQUVEb2QsZUFBSyxDQUFDcmMsV0FBTixDQUFrQitjLFFBQWxCO0FBQ0Q7O0FBQ0EsWUFBSUQsUUFBUSxHQUFHdGUsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixJQUF2QixDQUFmO0FBQ0FpZCxnQkFBUSxDQUFDNVQsWUFBVCxDQUFzQixPQUF0QixFQUErQixlQUEvQjtBQUNBNFQsZ0JBQVEsQ0FBQzdkLFNBQVQsR0FBcUI2WixhQUFhLENBQUMzQyxrQkFBZCxDQUFpQ3pYLENBQWpDLEVBQW9DNlcsaUJBQXpEOztBQUNBLFlBQUc0RyxlQUFILEVBQW9CO0FBQ2xCLGNBQUlhLEtBQUssR0FBRyw0Q0FBNEN0ZSxDQUE1QyxHQUFnRCxnQkFBNUQ7QUFDQW9lLGtCQUFRLENBQUM3ZCxTQUFULElBQXNCK2QsS0FBdEI7QUFDRDs7QUFHRFgsYUFBSyxDQUFDcmMsV0FBTixDQUFrQjhjLFFBQWxCO0FBQ0Y7O0FBR0RWLGFBQU8sQ0FBQ3BjLFdBQVIsQ0FBb0JxYyxLQUFwQjtBQUNEOztBQUVEWixVQUFNLENBQUN6YixXQUFQLENBQW1Cb2MsT0FBbkI7QUFDRCxHQXBJRDs7QUF1SUEsT0FBS1QsTUFBTCxHQUFjLFlBQVc7QUFFdkIsUUFBR2IsS0FBSyxLQUFLLENBQUMsQ0FBZCxFQUFpQixPQUZNLENBSXZCOztBQUNBLFFBQUltQyxXQUFXLEdBQUd6ZSxRQUFRLENBQUNrZCxjQUFULENBQXdCWCxLQUFLLEdBQUMsV0FBOUIsQ0FBbEI7QUFDQSxRQUFJa0MsV0FBSixFQUFpQm5DLEtBQUssQ0FBQ3pZLFdBQU4sQ0FBa0I0YSxXQUFsQjtBQUVqQixRQUFJQyxVQUFVLEdBQUcxZSxRQUFRLENBQUNxQixhQUFULENBQXVCLEtBQXZCLENBQWpCO0FBQ0FxZCxjQUFVLENBQUNoVSxZQUFYLENBQXdCLElBQXhCLEVBQThCNlIsS0FBSyxHQUFDLFdBQXBDO0FBR0EsUUFBSW9DLGVBQWUsR0FBRzNlLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdEI7QUFDQXNkLG1CQUFlLENBQUNsZSxTQUFoQixHQUE0QixVQUFVMkosTUFBTSxDQUFDLFFBQUQsQ0FBaEIsR0FBNkIsU0FBekQ7QUFDQXVVLG1CQUFlLENBQUNqVSxZQUFoQixDQUE2QixPQUE3QixFQUFzQyxrQkFBdEMsRUFkdUIsQ0FnQnZCOztBQUNBLFFBQUlrVCxPQUFPLEdBQUc1ZCxRQUFRLENBQUNxQixhQUFULENBQXVCLE9BQXZCLENBQWQ7QUFDQXVjLFdBQU8sQ0FBQ2xULFlBQVIsQ0FBcUIsT0FBckIsRUFBOEIsZUFBOUI7QUFFQSxRQUFJbVQsS0FBSyxHQUFHN2QsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixJQUF2QixDQUFaO0FBRUEsUUFBSXljLE1BQU0sR0FBRzlkLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBYjtBQUNBeWMsVUFBTSxDQUFDcmQsU0FBUCxHQUFtQixFQUFuQjtBQUNBcWQsVUFBTSxDQUFDcFQsWUFBUCxDQUFvQixPQUFwQixFQUE2QixlQUE3QjtBQUNBbVQsU0FBSyxDQUFDcmMsV0FBTixDQUFrQnNjLE1BQWxCOztBQUVBLFNBQUssSUFBSS9WLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS3ZELElBQXpCLEVBQStCdUQsQ0FBQyxFQUFoQyxFQUFvQztBQUNsQyxVQUFJZ1csTUFBTSxHQUFHL2QsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixJQUF2QixDQUFiOztBQUNBLFVBQUkwRyxDQUFDLEdBQUcsS0FBS3ZELElBQUwsR0FBWSxDQUFwQixFQUF1QjtBQUNyQnVaLGNBQU0sQ0FBQ3RkLFNBQVAsR0FBbUIsMEJBQTBCLEtBQUsrRCxJQUFMLEdBQVUsQ0FBVixHQUFZdUQsQ0FBdEMsSUFBMkMsZ0JBQTlEO0FBQ0FnVyxjQUFNLENBQUNyVCxZQUFQLENBQW9CLE9BQXBCLEVBQTZCLG1CQUE3QjtBQUNELE9BSEQsTUFHTztBQUNMcVQsY0FBTSxDQUFDdGQsU0FBUCxHQUFtQixVQUFuQjtBQUNBc2QsY0FBTSxDQUFDclQsWUFBUCxDQUFvQixPQUFwQixFQUE2QixtQkFBN0I7QUFDRDs7QUFDRG1ULFdBQUssQ0FBQ3JjLFdBQU4sQ0FBa0J1YyxNQUFsQjtBQUNEOztBQUNESCxXQUFPLENBQUNwYyxXQUFSLENBQW9CcWMsS0FBcEI7O0FBSUEsU0FBSyxJQUFJM2QsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRyxLQUFLdUUsSUFBekIsRUFBK0J2RSxDQUFDLEVBQWhDLEVBQW9DO0FBQ2xDMmQsV0FBSyxHQUFHN2QsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixJQUF2QixDQUFSO0FBRUEsVUFBSTZjLEtBQUssR0FBR2xlLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsSUFBdkIsQ0FBWjtBQUNBNmMsV0FBSyxDQUFDemQsU0FBTixHQUFrQlAsQ0FBQyxDQUFDMlEsUUFBRixDQUFXLEVBQVgsSUFBaUIsR0FBbkM7QUFDQXFOLFdBQUssQ0FBQ3hULFlBQU4sQ0FBbUIsT0FBbkIsRUFBNEIsZUFBNUI7QUFDQW1ULFdBQUssQ0FBQ3JjLFdBQU4sQ0FBa0IwYyxLQUFsQjtBQUVBLFVBQUlFLEdBQUcsR0FBR2xlLENBQUMsQ0FBQzJRLFFBQUYsQ0FBVyxDQUFYLENBQVY7O0FBQ0EsV0FBSyxJQUFJOUksQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRyxLQUFLdkQsSUFBekIsRUFBK0J1RCxDQUFDLEVBQWhDLEVBQW9DO0FBQ2xDLFlBQUlnVyxNQUFNLEdBQUcvZCxRQUFRLENBQUNxQixhQUFULENBQXVCLElBQXZCLENBQWI7O0FBRUEsWUFBSTBHLENBQUMsR0FBRyxLQUFLdkQsSUFBTCxHQUFZLENBQXBCLEVBQXVCO0FBQUU7QUFDdkJ1WixnQkFBTSxDQUFDclQsWUFBUCxDQUFvQixPQUFwQixFQUE2QixRQUE3QjtBQUNBLGNBQUkrRSxHQUFKOztBQUNBLGNBQUkxSCxDQUFDLElBQUssS0FBS3ZELElBQUwsR0FBWSxDQUFiLEdBQWtCNFosR0FBRyxDQUFDamUsTUFBL0IsRUFBdUM7QUFDckNzUCxlQUFHLEdBQUcyTyxHQUFHLENBQUN6TCxNQUFKLENBQVc1SyxDQUFDLElBQUssS0FBS3ZELElBQUwsR0FBWSxDQUFiLEdBQWtCNFosR0FBRyxDQUFDamUsTUFBMUIsQ0FBWixDQUFOO0FBQ0E0ZCxrQkFBTSxDQUFDdGQsU0FBUCxHQUFtQmdQLEdBQW5CO0FBQ0QsV0FIRCxNQUdPO0FBQ0xBLGVBQUcsR0FBRyxHQUFOO0FBQ0FzTyxrQkFBTSxDQUFDdGQsU0FBUCxHQUFtQmdQLEdBQW5CO0FBQ0Q7QUFDRixTQVZELE1BVU87QUFBRTtBQUNQc08sZ0JBQU0sQ0FBQ3JULFlBQVAsQ0FBb0IsT0FBcEIsRUFBNkIsZ0JBQTdCO0FBQ0FxVCxnQkFBTSxDQUFDclQsWUFBUCxDQUFvQixPQUFwQixFQUE2QnhLLENBQTdCOztBQUNBNmQsZ0JBQU0sQ0FBQ2EsV0FBUCxHQUFxQixVQUFTcmMsS0FBVCxFQUFnQjtBQUNuQ3NjLDJCQUFlLENBQUN0YyxLQUFELENBQWY7QUFDRCxXQUZEOztBQUlBLGNBQUksS0FBS2lhLElBQUwsQ0FBVXJFLFFBQVYsQ0FBbUJqWSxDQUFuQixNQUEwQixDQUE5QixFQUFpQztBQUMvQjZkLGtCQUFNLENBQUN0ZCxTQUFQLEdBQW1CLEdBQW5CO0FBQ0Q7O0FBQ0QsY0FBSSxLQUFLK2IsSUFBTCxDQUFVckUsUUFBVixDQUFtQmpZLENBQW5CLE1BQTBCLENBQTlCLEVBQWlDO0FBQy9CNmQsa0JBQU0sQ0FBQ3RkLFNBQVAsR0FBbUIsR0FBbkI7QUFDRDs7QUFDRCxjQUFJLEtBQUsrYixJQUFMLENBQVVyRSxRQUFWLENBQW1CalksQ0FBbkIsTUFBMEIsQ0FBOUIsRUFBaUM7QUFDL0I2ZCxrQkFBTSxDQUFDdGQsU0FBUCxHQUFtQixTQUFuQjtBQUNEO0FBQ0Y7O0FBQ0RvZCxhQUFLLENBQUNyYyxXQUFOLENBQWtCdWMsTUFBbEI7QUFDRDs7QUFDREgsYUFBTyxDQUFDcGMsV0FBUixDQUFvQnFjLEtBQXBCO0FBQ0Q7O0FBRURjLG1CQUFlLENBQUNuZCxXQUFoQixDQUE0Qm9jLE9BQTVCO0FBQ0FjLGNBQVUsQ0FBQ2xkLFdBQVgsQ0FBdUJtZCxlQUF2Qjs7QUFHQSxTQUFJLElBQUl6ZSxDQUFDLEdBQUMsQ0FBVixFQUFhQSxDQUFDLEdBQUcsS0FBS3NjLElBQUwsQ0FBVW5FLGVBQVYsQ0FBMEJsWSxNQUEzQyxFQUFtREQsQ0FBQyxFQUFwRCxFQUF3RDtBQUN0RCxVQUFJNGUsY0FBYyxHQUFHOWUsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixLQUF2QixDQUFyQjtBQUNBeWQsb0JBQWMsQ0FBQ3JlLFNBQWYsR0FBMkIsVUFBUzJKLE1BQU0sQ0FBQyxPQUFELENBQWYsR0FBMkIsSUFBM0IsR0FBa0NBLE1BQU0sQ0FBQyxPQUFELENBQXhDLEdBQW9ELEdBQXBELEdBQXdEbEssQ0FBeEQsR0FBMEQsVUFBckY7QUFDQTRlLG9CQUFjLENBQUNwVSxZQUFmLENBQTRCLE9BQTVCLEVBQXFDLGtCQUFyQztBQUNBLFdBQUsrUyxrQkFBTCxDQUF3QixLQUFLakIsSUFBTCxDQUFVbkUsZUFBVixDQUEwQm5ZLENBQTFCLENBQXhCLEVBQXVENGUsY0FBdkQsRUFBdUUsS0FBdkUsRUFBOEUsQ0FBOUUsRUFBaUYsS0FBakY7QUFDQUosZ0JBQVUsQ0FBQ2xkLFdBQVgsQ0FBdUJzZCxjQUF2QjtBQUNEOztBQUdELFNBQUssSUFBSTVlLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS3NjLElBQUwsQ0FBVWhFLGNBQVYsQ0FBeUJyWSxNQUE3QyxFQUFxREQsQ0FBQyxFQUF0RCxFQUEwRDtBQUN4RCxVQUFJNmUsU0FBUyxHQUFHL2UsUUFBUSxDQUFDcUIsYUFBVCxDQUF1QixLQUF2QixDQUFoQjs7QUFDQSxVQUFHbkIsQ0FBQyxLQUFLLENBQVQsRUFBYTtBQUNYNmUsaUJBQVMsQ0FBQ3RlLFNBQVYsR0FBc0IsUUFBUTJKLE1BQU0sQ0FBQyxXQUFELENBQWQsR0FBOEIsTUFBcEQ7QUFDRCxPQUZELE1BRUs7QUFDSDJVLGlCQUFTLENBQUN0ZSxTQUFWLEdBQXNCLFNBQVEySixNQUFNLENBQUMsa0JBQUQsQ0FBZCxHQUFxQyxHQUFyQyxJQUE0Q2xLLENBQUMsR0FBQyxDQUE5QyxJQUFtRCxRQUF6RTtBQUNEOztBQUVENmUsZUFBUyxDQUFDclUsWUFBVixDQUF1QixPQUF2QixFQUFnQyxtQkFBaEM7QUFFQSxVQUFJaVQsZUFBZSxHQUFHLEtBQXRCOztBQUNBLFVBQUcsS0FBS25CLElBQUwsQ0FBVTlELGdCQUFWLENBQTJCdlksTUFBM0IsR0FBb0MsQ0FBcEMsSUFBeUNELENBQUMsS0FBSyxLQUFLc2MsSUFBTCxDQUFVaEUsY0FBVixDQUF5QnJZLE1BQXpCLEdBQWdDLENBQWxGLEVBQXFGO0FBQ25Gd2QsdUJBQWUsR0FBRyxJQUFsQjtBQUNEOztBQUVELFdBQUtGLGtCQUFMLENBQXdCLEtBQUtqQixJQUFMLENBQVVwRSxTQUFsQyxFQUE2QzJHLFNBQTdDLEVBQXdELElBQXhELEVBQThEN2UsQ0FBOUQsRUFBaUV5ZCxlQUFqRTtBQUVBLFVBQUlxQixZQUFZLEdBQUdoZixRQUFRLENBQUNxQixhQUFULENBQXVCLEtBQXZCLENBQW5CO0FBQ0EsVUFBSTRkLFlBQVksR0FBRyxFQUFuQjtBQUNBLFVBQUkzRSxhQUFhLEdBQUcsS0FBS2tDLElBQUwsQ0FBVWhFLGNBQVYsQ0FBeUJ0WSxDQUF6QixDQUFwQjtBQUNBLFVBQUlnZixFQUFFLEdBQUc1RSxhQUFhLENBQUM3QyxrQkFBZCxDQUFpQ3RYLE1BQTFDOztBQUNBLFdBQUksSUFBSTRILENBQUMsR0FBQyxDQUFWLEVBQWFBLENBQUMsR0FBR21YLEVBQWpCLEVBQXFCblgsQ0FBQyxFQUF0QixFQUEwQjtBQUN4QmtYLG9CQUFZLElBQUkzRSxhQUFhLENBQUM3QyxrQkFBZCxDQUFpQzFQLENBQWpDLEVBQW9DZ1AsaUJBQXBEO0FBQ0EsWUFBR2hQLENBQUMsS0FBTW1YLEVBQUUsR0FBQyxDQUFiLEVBQWlCRCxZQUFZLElBQUksSUFBaEI7QUFDbEI7O0FBQ0QsVUFBR0MsRUFBRSxHQUFHLENBQVIsRUFBVztBQUNWRixvQkFBWSxDQUFDdmUsU0FBYixHQUF5QixRQUFRMkosTUFBTSxDQUFDLGdCQUFELENBQWQsR0FBa0MsOEJBQWxDLEdBQW1FNlUsWUFBbkUsR0FBa0YsYUFBM0c7QUFDQUQsb0JBQVksQ0FBQ3RVLFlBQWIsQ0FBMEIsT0FBMUIsRUFBbUMsV0FBbkM7QUFDQXFVLGlCQUFTLENBQUN2ZCxXQUFWLENBQXNCd2QsWUFBdEI7QUFDQTs7QUFFRE4sZ0JBQVUsQ0FBQ2xkLFdBQVgsQ0FBdUJ1ZCxTQUF2QjtBQUNEOztBQUVELFFBQUksS0FBS3ZDLElBQUwsQ0FBVTlELGdCQUFWLENBQTJCdlksTUFBM0IsR0FBb0MsQ0FBeEMsRUFBMkM7QUFDekMsVUFBSWdmLFVBQVUsR0FBR25mLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBakI7QUFDQThkLGdCQUFVLENBQUMxZSxTQUFYLEdBQXVCLFNBQVMySixNQUFNLENBQUMsV0FBRCxDQUFmLEdBQStCLE9BQXREO0FBRUEsVUFBSWdWLGVBQWUsR0FBR3BmLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdEI7QUFDQStkLHFCQUFlLENBQUMzZSxTQUFoQixHQUE0QiwrQkFBK0IsS0FBSytiLElBQUwsQ0FBVS9ELGFBQVYsQ0FBd0I1RCxHQUF2RCxHQUE2RCxTQUF6RjtBQUNBdUsscUJBQWUsQ0FBQzFVLFlBQWhCLENBQTZCLE9BQTdCLEVBQXNDLFdBQXRDO0FBQ0F5VSxnQkFBVSxDQUFDM2QsV0FBWCxDQUF1QjRkLGVBQXZCO0FBRUEsVUFBSUMsa0JBQWtCLEdBQUdyZixRQUFRLENBQUNxQixhQUFULENBQXVCLEtBQXZCLENBQXpCO0FBQ0EsVUFBSWllLGtCQUFrQixHQUFHLEVBQXpCO0FBQ0EsVUFBSUosRUFBRSxHQUFHLEtBQUsxQyxJQUFMLENBQVU5RCxnQkFBVixDQUEyQnZZLE1BQXBDOztBQUNBLFdBQUssSUFBSTRILENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdtWCxFQUFwQixFQUF3Qm5YLENBQUMsRUFBekIsRUFBNkI7QUFDM0J1WCwwQkFBa0IsSUFBSSxLQUFLOUMsSUFBTCxDQUFVOUQsZ0JBQVYsQ0FBMkIzUSxDQUEzQixFQUE4QmdQLGlCQUFwRDtBQUNBLFlBQUloUCxDQUFDLEtBQU1tWCxFQUFFLEdBQUcsQ0FBaEIsRUFDRUksa0JBQWtCLElBQUksSUFBdEI7QUFDSDs7QUFDRCxVQUFJSixFQUFFLEdBQUcsQ0FBVCxFQUFZO0FBQ1ZHLDBCQUFrQixDQUFDNWUsU0FBbkIsR0FBK0IsUUFBUTJKLE1BQU0sQ0FBQyxpQkFBRCxDQUFkLEdBQW9DLElBQXBDLEdBQTJDQSxNQUFNLENBQUMsV0FBRCxDQUFqRCxHQUFpRSwrQkFBakUsR0FBbUdrVixrQkFBbkcsR0FBd0gsYUFBdko7QUFDQUQsMEJBQWtCLENBQUMzVSxZQUFuQixDQUFnQyxPQUFoQyxFQUF5QyxXQUF6QztBQUNBeVUsa0JBQVUsQ0FBQzNkLFdBQVgsQ0FBdUI2ZCxrQkFBdkI7QUFDRDs7QUFFRVgsZ0JBQVUsQ0FBQ2xkLFdBQVgsQ0FBdUIyZCxVQUF2QjtBQUNKOztBQUdELFFBQUlJLE9BQU8sR0FBR3ZmLFFBQVEsQ0FBQ3FCLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZDtBQUNBa2UsV0FBTyxDQUFDOWUsU0FBUixHQUFvQixnQkFBZ0IySixNQUFNLENBQUMsUUFBRCxDQUF0QixHQUFrQyxxRUFBbEMsR0FBMEcsS0FBS29TLElBQUwsQ0FBVWpFLGtCQUF4STtBQUE0SixLQUFDLGFBQUQ7QUFDNUptRyxjQUFVLENBQUNsZCxXQUFYLENBQXVCK2QsT0FBdkI7QUFDQWpELFNBQUssQ0FBQzlhLFdBQU4sQ0FBa0JrZCxVQUFsQjtBQUNELEdBcEtEOztBQXNLQSxXQUFTRyxlQUFULENBQXlCeEQsQ0FBekIsRUFBNEI7QUFFMUIsUUFBSW1FLElBQUo7O0FBQ0EsUUFBSW5FLENBQUMsQ0FBQ29FLE1BQU4sRUFBYztBQUNaRCxVQUFJLEdBQUduRSxDQUFDLENBQUNvRSxNQUFUO0FBQ0QsS0FGRCxNQUVPO0FBQUU7QUFDUCxVQUFJcEUsQ0FBQyxDQUFDcUUsVUFBTixFQUNFRixJQUFJLEdBQUduRSxDQUFDLENBQUNxRSxVQUFUO0FBQ0g7O0FBQ0QsUUFBSUYsSUFBSSxDQUFDRyxRQUFMLEtBQWtCLENBQXRCLEVBQXlCO0FBQUU7QUFDekJILFVBQUksR0FBR0EsSUFBSSxDQUFDSSxVQUFaO0FBQ0Q7O0FBQ0QsUUFBSTFmLENBQUMsR0FBRzBDLFFBQVEsQ0FBQzRjLElBQUksQ0FBQzFSLEtBQU4sQ0FBaEI7QUFDQWhILFFBQUksQ0FBQzBWLElBQUwsQ0FBVTNELFNBQVYsQ0FBb0IzWSxDQUFwQjtBQUVBNEcsUUFBSSxDQUFDcVcsTUFBTDtBQUNEO0FBQ0YsQ0EvWU0sQzs7Ozs7Ozs7Ozs7QUNoeUJQOzs7Ozs7Ozs7O0FBVUE7O0FBQ0E7OztBQUdBO0FBRUMsV0FBVTBDLElBQVYsRUFBZ0I7QUFDYjs7QUFFQUEsTUFBSSxDQUFDQyxHQUFMLEdBQVdELElBQUksQ0FBQ0MsR0FBTCxJQUFZRCxJQUFJLENBQUNFLFNBQTVCOztBQUVBLE1BQUlGLElBQUksQ0FBQ0csSUFBTCxJQUFhSCxJQUFJLENBQUNDLEdBQXRCLEVBQTJCO0FBQ3ZCLFFBQUk7QUFDQSxVQUFJRSxJQUFKO0FBQ0E7QUFDSCxLQUhELENBR0UsT0FBTzNFLENBQVAsRUFBVSxDQUFFO0FBQ2pCLEdBVlksQ0FZYjtBQUNBOzs7QUFDQSxNQUFJNEUsV0FBVyxHQUFHSixJQUFJLENBQUNJLFdBQUwsSUFBb0JKLElBQUksQ0FBQ0ssaUJBQXpCLElBQThDTCxJQUFJLENBQUNNLGNBQW5ELElBQXNFLFVBQVNOLElBQVQsRUFBZTtBQUMvRixRQUNJTyxTQUFTLEdBQUcsU0FBWkEsU0FBWSxDQUFTQyxNQUFULEVBQWlCO0FBQ3pCLGFBQU9qUyxNQUFNLENBQUNwSyxTQUFQLENBQWlCNk0sUUFBakIsQ0FBMEJ5UCxJQUExQixDQUErQkQsTUFBL0IsRUFBdUN4ZCxLQUF2QyxDQUE2QyxvQkFBN0MsRUFBbUUsQ0FBbkUsQ0FBUDtBQUNILEtBSEw7QUFBQSxRQUlNMGQsZUFBZSxHQUFHLFNBQVNOLFdBQVQsR0FBdUI7QUFDdkMsV0FBS3pELElBQUwsR0FBWSxFQUFaO0FBQ0gsS0FOTDtBQUFBLFFBT01nRSxRQUFRLEdBQUcsU0FBU1IsSUFBVCxDQUFjeEQsSUFBZCxFQUFvQmdCLElBQXBCLEVBQTBCaUQsUUFBMUIsRUFBb0M7QUFDN0MsV0FBS2pFLElBQUwsR0FBWUEsSUFBWjtBQUNBLFdBQUt6YSxJQUFMLEdBQVl5YSxJQUFJLENBQUNyYyxNQUFqQjtBQUNBLFdBQUtxZCxJQUFMLEdBQVlBLElBQVo7QUFDQSxXQUFLaUQsUUFBTCxHQUFnQkEsUUFBaEI7QUFDSCxLQVpMO0FBQUEsUUFhTUMsU0FBUyxHQUFHSCxlQUFlLENBQUN2YyxTQWJsQztBQUFBLFFBY00yYyxRQUFRLEdBQUdILFFBQVEsQ0FBQ3hjLFNBZDFCO0FBQUEsUUFlTTRjLGNBQWMsR0FBR2YsSUFBSSxDQUFDZSxjQWY1QjtBQUFBLFFBZ0JNQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLENBQVNyRCxJQUFULEVBQWU7QUFDN0IsV0FBS3NELElBQUwsR0FBWSxLQUFLLEtBQUtDLElBQUwsR0FBWXZELElBQWpCLENBQVo7QUFDSCxLQWxCTDtBQUFBLFFBbUJNd0QsYUFBYSxHQUFHLENBQ2Qsd0VBQ0UsMERBRlksRUFHaEJoVyxLQUhnQixDQUdWLEdBSFUsQ0FuQnRCO0FBQUEsUUF1Qk1pVyxZQUFZLEdBQUdELGFBQWEsQ0FBQzdnQixNQXZCbkM7QUFBQSxRQXdCTStnQixRQUFRLEdBQUdyQixJQUFJLENBQUNDLEdBQUwsSUFBWUQsSUFBSSxDQUFDRSxTQUFqQixJQUE4QkYsSUF4Qi9DO0FBQUEsUUF5Qk1zQixzQkFBc0IsR0FBR0QsUUFBUSxDQUFDRSxlQXpCeEM7QUFBQSxRQTBCTUMsc0JBQXNCLEdBQUdILFFBQVEsQ0FBQ0ksZUExQnhDO0FBQUEsUUEyQk14QixHQUFHLEdBQUdvQixRQTNCWjtBQUFBLFFBNEJNSyxJQUFJLEdBQUcxQixJQUFJLENBQUMwQixJQTVCbEI7QUFBQSxRQTZCTWpULElBQUksR0FBR3VSLElBQUksQ0FBQ3ZSLElBN0JsQjtBQUFBLFFBK0JNa1QsV0FBVyxHQUFHM0IsSUFBSSxDQUFDMkIsV0EvQnpCO0FBQUEsUUFnQ01DLFVBQVUsR0FBRzVCLElBQUksQ0FBQzRCLFVBaEN4QjtBQUFBLFFBa0NNQyxNQUFNLEdBQUcsd0NBbENmOztBQW9DQWxCLFlBQVEsQ0FBQ21CLElBQVQsR0FBZ0JoQixRQUFRLENBQUNnQixJQUFULEdBQWdCLElBQWhDOztBQUNBLFdBQU9WLFlBQVksRUFBbkIsRUFBdUI7QUFDbkJKLG1CQUFhLENBQUM3YyxTQUFkLENBQXdCZ2QsYUFBYSxDQUFDQyxZQUFELENBQXJDLElBQXVEQSxZQUFZLEdBQUcsQ0FBdEU7QUFDSCxLQXhDOEYsQ0F5Qy9GOzs7QUFDQSxRQUFJLENBQUNDLFFBQVEsQ0FBQ0UsZUFBZCxFQUErQjtBQUMzQnRCLFNBQUcsR0FBR0QsSUFBSSxDQUFDQyxHQUFMLEdBQVcsVUFBUzhCLEdBQVQsRUFBYztBQUMzQixZQUNJQyxRQUFRLEdBQUc3aEIsUUFBUSxDQUFDOGhCLGVBQVQsQ0FBeUIsOEJBQXpCLEVBQXlELEdBQXpELENBRGY7QUFBQSxZQUVNQyxVQUZOO0FBSUFGLGdCQUFRLENBQUNHLElBQVQsR0FBZ0JKLEdBQWhCOztBQUNBLFlBQUksRUFBRSxZQUFZQyxRQUFkLENBQUosRUFBNkI7QUFDekIsY0FBSUEsUUFBUSxDQUFDSSxRQUFULENBQWtCQyxXQUFsQixPQUFvQyxPQUF4QyxFQUFpRDtBQUM3Q0wsb0JBQVEsQ0FBQ0gsTUFBVCxHQUFrQixJQUFsQjtBQUNILFdBRkQsTUFFTztBQUNISyxzQkFBVSxHQUFHSCxHQUFHLENBQUMvZSxLQUFKLENBQVU2ZSxNQUFWLENBQWI7QUFDQUcsb0JBQVEsQ0FBQ0gsTUFBVCxHQUFrQkssVUFBVSxJQUFJQSxVQUFVLENBQUMsQ0FBRCxDQUExQztBQUNIO0FBQ0o7O0FBQ0QsZUFBT0YsUUFBUDtBQUNILE9BZkQ7QUFnQkg7O0FBQ0QvQixPQUFHLENBQUNzQixlQUFKLEdBQXNCLFVBQVNyUSxJQUFULEVBQWU7QUFDakMsVUFDSXlNLElBQUksR0FBR3pNLElBQUksQ0FBQ3lNLElBRGhCO0FBQUEsVUFFTTJFLGVBRk47O0FBSUEsVUFBSTNFLElBQUksS0FBSyxJQUFiLEVBQW1CO0FBQ2ZBLFlBQUksR0FBRywwQkFBUDtBQUNIOztBQUNELFVBQUl6TSxJQUFJLFlBQVl5UCxRQUFwQixFQUE4QjtBQUMxQjJCLHVCQUFlLEdBQUcsVUFBVTNFLElBQTVCOztBQUNBLFlBQUl6TSxJQUFJLENBQUMwUCxRQUFMLEtBQWtCLFFBQXRCLEVBQWdDO0FBQzVCLGlCQUFPMEIsZUFBZSxHQUFHLFVBQWxCLEdBQStCcFIsSUFBSSxDQUFDeUwsSUFBM0M7QUFDSCxTQUZELE1BRU8sSUFBSXpMLElBQUksQ0FBQzBQLFFBQUwsS0FBa0IsS0FBdEIsRUFBNkI7QUFDaEMsaUJBQU8wQixlQUFlLEdBQUcsR0FBbEIsR0FBd0JDLGtCQUFrQixDQUFDclIsSUFBSSxDQUFDeUwsSUFBTixDQUFqRDtBQUNIOztBQUFDLFlBQUkrRSxJQUFKLEVBQVU7QUFDUixpQkFBT1ksZUFBZSxHQUFHLFVBQWxCLEdBQStCWixJQUFJLENBQUN4USxJQUFJLENBQUN5TCxJQUFOLENBQTFDO0FBQ0gsU0FGQyxNQUVLO0FBQ0gsaUJBQU8yRixlQUFlLEdBQUcsR0FBbEIsR0FBd0JFLGtCQUFrQixDQUFDdFIsSUFBSSxDQUFDeUwsSUFBTixDQUFqRDtBQUNIO0FBQ0osT0FYRCxNQVdPLElBQUkyRSxzQkFBSixFQUE0QjtBQUMvQixlQUFPQSxzQkFBc0IsQ0FBQ2IsSUFBdkIsQ0FBNEJZLFFBQTVCLEVBQXNDblEsSUFBdEMsQ0FBUDtBQUNIO0FBQ0osS0F0QkQ7O0FBdUJBK08sT0FBRyxDQUFDd0IsZUFBSixHQUFzQixVQUFTZ0IsVUFBVCxFQUFxQjtBQUN2QyxVQUFJQSxVQUFVLENBQUNDLFNBQVgsQ0FBcUIsQ0FBckIsRUFBd0IsQ0FBeEIsTUFBK0IsT0FBL0IsSUFBMENsQixzQkFBOUMsRUFBc0U7QUFDbEVBLDhCQUFzQixDQUFDZixJQUF2QixDQUE0QlksUUFBNUIsRUFBc0NvQixVQUF0QztBQUNIO0FBQ0osS0FKRDs7QUFLQTVCLGFBQVMsQ0FBQ3hSLE1BQVYsR0FBbUIsVUFBU3NOO0FBQUk7QUFBYixNQUE0QjtBQUMzQyxVQUFJZ0csRUFBRSxHQUFHLEtBQUtoRyxJQUFkLENBRDJDLENBRTNDOztBQUNBLFVBQUlpRixVQUFVLEtBQUtqRixJQUFJLFlBQVlnRixXQUFoQixJQUErQmhGLElBQUksWUFBWWlGLFVBQXBELENBQWQsRUFBK0U7QUFDM0UsWUFDSWhTLEdBQUcsR0FBRyxFQURWO0FBQUEsWUFFTWdULEdBQUcsR0FBRyxJQUFJaEIsVUFBSixDQUFlakYsSUFBZixDQUZaO0FBQUEsWUFHTXRjLENBQUMsR0FBRyxDQUhWO0FBQUEsWUFJTXdpQixPQUFPLEdBQUdELEdBQUcsQ0FBQ3RpQixNQUpwQjs7QUFNQSxlQUFPRCxDQUFDLEdBQUd3aUIsT0FBWCxFQUFvQnhpQixDQUFDLEVBQXJCLEVBQXlCO0FBQ3JCdVAsYUFBRyxJQUFJa1QsTUFBTSxDQUFDQyxZQUFQLENBQW9CSCxHQUFHLENBQUN2aUIsQ0FBRCxDQUF2QixDQUFQO0FBQ0g7O0FBQ0RzaUIsVUFBRSxDQUFDbmEsSUFBSCxDQUFRb0gsR0FBUjtBQUNILE9BWEQsTUFXTyxJQUFJMlEsU0FBUyxDQUFDNUQsSUFBRCxDQUFULEtBQW9CLE1BQXBCLElBQThCNEQsU0FBUyxDQUFDNUQsSUFBRCxDQUFULEtBQW9CLE1BQXRELEVBQThEO0FBQ2pFLFlBQUlvRSxjQUFKLEVBQW9CO0FBQ2hCLGNBQUlpQyxFQUFFLEdBQUcsSUFBSWpDLGNBQUosRUFBVDtBQUNBNEIsWUFBRSxDQUFDbmEsSUFBSCxDQUFRd2EsRUFBRSxDQUFDQyxrQkFBSCxDQUFzQnRHLElBQXRCLENBQVI7QUFDSCxTQUhELE1BR087QUFDSDtBQUNBLGdCQUFNLElBQUlxRSxhQUFKLENBQWtCLGtCQUFsQixDQUFOO0FBQ0g7QUFDSixPQVJNLE1BUUEsSUFBSXJFLElBQUksWUFBWWdFLFFBQXBCLEVBQThCO0FBQ2pDLFlBQUloRSxJQUFJLENBQUNpRSxRQUFMLEtBQWtCLFFBQWxCLElBQThCblMsSUFBbEMsRUFBd0M7QUFDcENrVSxZQUFFLENBQUNuYSxJQUFILENBQVFpRyxJQUFJLENBQUNrTyxJQUFJLENBQUNBLElBQU4sQ0FBWjtBQUNILFNBRkQsTUFFTyxJQUFJQSxJQUFJLENBQUNpRSxRQUFMLEtBQWtCLEtBQXRCLEVBQTZCO0FBQ2hDK0IsWUFBRSxDQUFDbmEsSUFBSCxDQUFRK1osa0JBQWtCLENBQUM1RixJQUFJLENBQUNBLElBQU4sQ0FBMUI7QUFDSCxTQUZNLE1BRUEsSUFBSUEsSUFBSSxDQUFDaUUsUUFBTCxLQUFrQixLQUF0QixFQUE2QjtBQUNoQytCLFlBQUUsQ0FBQ25hLElBQUgsQ0FBUW1VLElBQUksQ0FBQ0EsSUFBYjtBQUNIO0FBQ0osT0FSTSxNQVFBO0FBQ0gsWUFBSSxPQUFPQSxJQUFQLEtBQWdCLFFBQXBCLEVBQThCO0FBQzFCQSxjQUFJLElBQUksRUFBUixDQUQwQixDQUNkO0FBQ2YsU0FIRSxDQUlIOzs7QUFDQWdHLFVBQUUsQ0FBQ25hLElBQUgsQ0FBUTBhLFFBQVEsQ0FBQ1Ysa0JBQWtCLENBQUM3RixJQUFELENBQW5CLENBQWhCO0FBQ0g7QUFDSixLQXJDRDs7QUFzQ0FrRSxhQUFTLENBQUNzQyxPQUFWLEdBQW9CLFVBQVN4RixJQUFULEVBQWU7QUFDL0IsVUFBSSxDQUFDbkssU0FBUyxDQUFDbFQsTUFBZixFQUF1QjtBQUNuQnFkLFlBQUksR0FBRyxJQUFQO0FBQ0g7O0FBQ0QsYUFBTyxJQUFJZ0QsUUFBSixDQUFhLEtBQUtoRSxJQUFMLENBQVV5RyxJQUFWLENBQWUsRUFBZixDQUFiLEVBQWlDekYsSUFBakMsRUFBdUMsS0FBdkMsQ0FBUDtBQUNILEtBTEQ7O0FBTUFrRCxhQUFTLENBQUM3UCxRQUFWLEdBQXFCLFlBQVc7QUFDNUIsYUFBTyxzQkFBUDtBQUNILEtBRkQ7O0FBR0E4UCxZQUFRLENBQUN6VyxLQUFULEdBQWlCLFVBQVNqQixLQUFULEVBQWdCaWEsR0FBaEIsRUFBcUIxRixJQUFyQixFQUEyQjtBQUN4QyxVQUFJMkYsSUFBSSxHQUFHOVAsU0FBUyxDQUFDbFQsTUFBckI7O0FBQ0EsVUFBSWdqQixJQUFJLEdBQUcsQ0FBWCxFQUFjO0FBQ1YzRixZQUFJLEdBQUcsSUFBUDtBQUNIOztBQUNELGFBQU8sSUFBSWdELFFBQUosQ0FDSCxLQUFLaEUsSUFBTCxDQUFVdFMsS0FBVixDQUFnQmpCLEtBQWhCLEVBQXVCa2EsSUFBSSxHQUFHLENBQVAsR0FBV0QsR0FBWCxHQUFpQixLQUFLMUcsSUFBTCxDQUFVcmMsTUFBbEQsQ0FERyxFQUVEcWQsSUFGQyxFQUdELEtBQUtpRCxRQUhKLENBQVA7QUFLSCxLQVZEOztBQVdBRSxZQUFRLENBQUM5UCxRQUFULEdBQW9CLFlBQVc7QUFDM0IsYUFBTyxlQUFQO0FBQ0gsS0FGRDs7QUFHQThQLFlBQVEsQ0FBQ3lDLEtBQVQsR0FBaUIsWUFBVztBQUN4QixXQUFLcmhCLElBQUwsR0FBWSxDQUFaO0FBQ0EsYUFBTyxLQUFLeWEsSUFBWjtBQUNILEtBSEQ7O0FBSUEsV0FBTytELGVBQVA7QUFDSCxHQTFKbUYsQ0EwSmxGVixJQTFKa0YsQ0FBeEY7O0FBNEpBQSxNQUFJLENBQUNHLElBQUwsR0FBWSxVQUFTcUQsU0FBVCxFQUFvQm5pQixPQUFwQixFQUE2QjtBQUNyQyxRQUFJc2MsSUFBSSxHQUFHdGMsT0FBTyxHQUFJQSxPQUFPLENBQUNzYyxJQUFSLElBQWdCLEVBQXBCLEdBQTBCLEVBQTVDO0FBQ0EsUUFBSThGLE9BQU8sR0FBRyxJQUFJckQsV0FBSixFQUFkOztBQUNBLFFBQUlvRCxTQUFKLEVBQWU7QUFDWCxXQUFLLElBQUluakIsQ0FBQyxHQUFHLENBQVIsRUFBV3FqQixHQUFHLEdBQUdGLFNBQVMsQ0FBQ2xqQixNQUFoQyxFQUF3Q0QsQ0FBQyxHQUFHcWpCLEdBQTVDLEVBQWlEcmpCLENBQUMsRUFBbEQsRUFBc0Q7QUFDbEQsWUFBSXVoQixVQUFVLElBQUk0QixTQUFTLENBQUNuakIsQ0FBRCxDQUFULFlBQXdCdWhCLFVBQTFDLEVBQXNEO0FBQ2xENkIsaUJBQU8sQ0FBQ3BVLE1BQVIsQ0FBZW1VLFNBQVMsQ0FBQ25qQixDQUFELENBQVQsQ0FBYXNqQixNQUE1QjtBQUNILFNBRkQsTUFHSztBQUNERixpQkFBTyxDQUFDcFUsTUFBUixDQUFlbVUsU0FBUyxDQUFDbmpCLENBQUQsQ0FBeEI7QUFDSDtBQUNKO0FBQ0o7O0FBQ0QsUUFBSTZRLElBQUksR0FBR3VTLE9BQU8sQ0FBQ04sT0FBUixDQUFnQnhGLElBQWhCLENBQVg7O0FBQ0EsUUFBSSxDQUFDek0sSUFBSSxDQUFDN0csS0FBTixJQUFlNkcsSUFBSSxDQUFDMFMsV0FBeEIsRUFBcUM7QUFDakMxUyxVQUFJLENBQUM3RyxLQUFMLEdBQWE2RyxJQUFJLENBQUMwUyxXQUFsQjtBQUNIOztBQUNELFdBQU8xUyxJQUFQO0FBQ0gsR0FsQkQ7O0FBb0JBLE1BQUkyUyxjQUFjLEdBQUd0VixNQUFNLENBQUNzVixjQUFQLElBQXlCLFVBQVNyRCxNQUFULEVBQWlCO0FBQ3ZELFdBQU9BLE1BQU0sQ0FBQ3NELFNBQWQ7QUFDSCxHQUZMOztBQUdBOUQsTUFBSSxDQUFDRyxJQUFMLENBQVVoYyxTQUFWLEdBQXNCMGYsY0FBYyxDQUFDLElBQUk3RCxJQUFJLENBQUNHLElBQVQsRUFBRCxDQUFwQztBQUNILENBbE1BLEVBa01DLE9BQU80RCxJQUFQLEtBQWdCLFdBQWhCLElBQStCQSxJQUEvQixJQUF1QyxPQUFPblgsTUFBUCxLQUFrQixXQUFsQixJQUFpQ0EsTUFBeEUsSUFBa0YsS0FBS29YLE9BQXZGLElBQWtHLElBbE1uRyxDQUFELEM7Ozs7Ozs7Ozs7OztBQ2hCQTtBQUFBOzs7Ozs7Ozs7O0FBVUE7O0FBQ0E7O0FBRUE7QUFFQSxJQUFJN1MsTUFBTSxHQUFHQSxNQUFNLElBQUssVUFBUzZPLElBQVQsRUFBZTtBQUMvQixlQUQrQixDQUUvQjs7QUFDQSxNQUFJLE9BQU9BLElBQVAsS0FBZ0IsV0FBaEIsSUFBK0IsT0FBT2lFLFNBQVAsS0FBcUIsV0FBckIsSUFBb0MsZUFBZWhQLElBQWYsQ0FBb0JnUCxTQUFTLENBQUNDLFNBQTlCLENBQXZFLEVBQWlIO0FBQzdHO0FBQ0g7O0FBQ0QsTUFDSUMsR0FBRyxHQUFHbkUsSUFBSSxDQUFDN2YsUUFEZixDQUVBO0FBRkE7QUFBQSxNQUdNaWtCLE9BQU8sR0FBRyxTQUFWQSxPQUFVLEdBQVc7QUFDbkIsV0FBT3BFLElBQUksQ0FBQ0MsR0FBTCxJQUFZRCxJQUFJLENBQUNFLFNBQWpCLElBQThCRixJQUFyQztBQUNILEdBTEw7QUFBQSxNQU1NcUUsU0FBUyxHQUFHRixHQUFHLENBQUNsQyxlQUFKLENBQW9CLDhCQUFwQixFQUFvRCxHQUFwRCxDQU5sQjtBQUFBLE1BT01xQyxpQkFBaUIsSUFBRyxjQUFjRCxTQUFqQixDQVB2QjtBQUFBLE1BUU1FLEtBQUssR0FBRyxTQUFSQSxLQUFRLENBQVNDLElBQVQsRUFBZTtBQUNyQixRQUFJOWhCLEtBQUssR0FBRyxJQUFJK2hCLFVBQUosQ0FBZSxPQUFmLENBQVo7QUFDQUQsUUFBSSxDQUFDRSxhQUFMLENBQW1CaGlCLEtBQW5CO0FBQ0gsR0FYTDtBQUFBLE1BWU1paUIsU0FBUyxHQUFHLGVBQWUxUCxJQUFmLENBQW9CK0ssSUFBSSxDQUFDNEUsV0FBekIsQ0FabEI7QUFBQSxNQWFNQyxhQUFhLEdBQUUsZUFBZTVQLElBQWYsQ0FBb0JnUCxTQUFTLENBQUNDLFNBQTlCLENBYnJCO0FBQUEsTUFjTVksYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixDQUFTQyxFQUFULEVBQWE7QUFDM0IsS0FBQy9FLElBQUksQ0FBQ2dGLFlBQUwsSUFBcUJoRixJQUFJLENBQUN0VCxVQUEzQixFQUF1QyxZQUFXO0FBQzlDLFlBQU1xWSxFQUFOO0FBQ0gsS0FGRCxFQUVHLENBRkg7QUFHSCxHQWxCTDtBQUFBLE1BbUJNRSxtQkFBbUIsR0FBRywwQkFuQjVCLENBb0JBO0FBcEJBO0FBQUEsTUFxQk1DLHdCQUF3QixHQUFHLE9BQU8sRUFyQnhDLENBcUIyQztBQXJCM0M7QUFBQSxNQXNCTUMsTUFBTSxHQUFHLFNBQVRBLE1BQVMsQ0FBU0MsSUFBVCxFQUFlO0FBQ3RCLFFBQUlDLE9BQU8sR0FBRyxTQUFWQSxPQUFVLEdBQVc7QUFDckIsVUFBSSxPQUFPRCxJQUFQLEtBQWdCLFFBQXBCLEVBQThCO0FBQUU7QUFDNUJoQixlQUFPLEdBQUczQyxlQUFWLENBQTBCMkQsSUFBMUI7QUFDSCxPQUZELE1BRU87QUFBRTtBQUNMQSxZQUFJLENBQUNuaEIsTUFBTDtBQUNIO0FBQ0osS0FORDs7QUFPQXlJLGNBQVUsQ0FBQzJZLE9BQUQsRUFBVUgsd0JBQVYsQ0FBVjtBQUNILEdBL0JMO0FBQUEsTUFnQ01JLFFBQVEsR0FBRyxTQUFYQSxRQUFXLENBQVNDLFNBQVQsRUFBb0JDLFdBQXBCLEVBQWlDOWlCLEtBQWpDLEVBQXdDO0FBQ2pEOGlCLGVBQVcsR0FBRyxHQUFHQyxNQUFILENBQVVELFdBQVYsQ0FBZDtBQUNBLFFBQUlubEIsQ0FBQyxHQUFHbWxCLFdBQVcsQ0FBQ2xsQixNQUFwQjs7QUFDQSxXQUFPRCxDQUFDLEVBQVIsRUFBWTtBQUNSLFVBQUlxbEIsUUFBUSxHQUFHSCxTQUFTLENBQUMsT0FBT0MsV0FBVyxDQUFDbmxCLENBQUQsQ0FBbkIsQ0FBeEI7O0FBQ0EsVUFBSSxPQUFPcWxCLFFBQVAsS0FBb0IsVUFBeEIsRUFBb0M7QUFDaEMsWUFBSTtBQUNBQSxrQkFBUSxDQUFDakYsSUFBVCxDQUFjOEUsU0FBZCxFQUF5QjdpQixLQUFLLElBQUk2aUIsU0FBbEM7QUFDSCxTQUZELENBRUUsT0FBT1IsRUFBUCxFQUFXO0FBQ1RELHVCQUFhLENBQUNDLEVBQUQsQ0FBYjtBQUNIO0FBQ0o7QUFDSjtBQUNKLEdBN0NMO0FBQUEsTUE4Q01ZLFFBQVEsR0FBRyxTQUFYQSxRQUFXLENBQVN6VSxJQUFULEVBQWU7QUFDeEI7QUFDQTtBQUNBLFFBQUksNkVBQTZFK0QsSUFBN0UsQ0FBa0YvRCxJQUFJLENBQUN5TSxJQUF2RixDQUFKLEVBQWtHO0FBQzlGLGFBQU8sSUFBSXdDLElBQUosQ0FBUyxDQUFDMkMsTUFBTSxDQUFDQyxZQUFQLENBQW9CLE1BQXBCLENBQUQsRUFBOEI3UixJQUE5QixDQUFULEVBQThDO0FBQUN5TSxZQUFJLEVBQUV6TSxJQUFJLENBQUN5TTtBQUFaLE9BQTlDLENBQVA7QUFDSDs7QUFDRCxXQUFPek0sSUFBUDtBQUNILEdBckRMO0FBQUEsTUFzRE0wVSxTQUFTLEdBQUcsU0FBWkEsU0FBWSxDQUFTMVUsSUFBVCxFQUFlZ1EsSUFBZixFQUFxQjJFLFdBQXJCLEVBQWtDO0FBQzVDLFFBQUksQ0FBQ0EsV0FBTCxFQUFrQjtBQUNkM1UsVUFBSSxHQUFHeVUsUUFBUSxDQUFDelUsSUFBRCxDQUFmO0FBQ0gsS0FIMkMsQ0FJNUM7OztBQUNBLFFBQ0lxVSxTQUFTLEdBQUcsSUFEaEI7QUFBQSxRQUVNNUgsSUFBSSxHQUFHek0sSUFBSSxDQUFDeU0sSUFGbEI7QUFBQSxRQUdNbUksS0FBSyxHQUFHbkksSUFBSSxLQUFLc0gsbUJBSHZCO0FBQUEsUUFJTWMsVUFKTjtBQUFBLFFBS01DLFlBQVksR0FBRyxTQUFmQSxZQUFlLEdBQVc7QUFDeEJWLGNBQVEsQ0FBQ0MsU0FBRCxFQUFZLHFDQUFxQ3BhLEtBQXJDLENBQTJDLEdBQTNDLENBQVosQ0FBUjtBQUNILEtBUEwsQ0FRQTtBQVJBO0FBQUEsUUFTTThhLFFBQVEsR0FBRyxTQUFYQSxRQUFXLEdBQVc7QUFDcEIsVUFBSSxDQUFDcEIsYUFBYSxJQUFLaUIsS0FBSyxJQUFJbkIsU0FBNUIsS0FBMkMzRSxJQUFJLENBQUNrRyxVQUFwRCxFQUFnRTtBQUM1RDtBQUNBLFlBQUlDLE1BQU0sR0FBRyxJQUFJRCxVQUFKLEVBQWI7O0FBQ0FDLGNBQU0sQ0FBQ0MsU0FBUCxHQUFtQixZQUFXO0FBQzFCLGNBQUlDLEdBQUcsR0FBR3hCLGFBQWEsR0FBR3NCLE1BQU0sQ0FBQy9XLE1BQVYsR0FBbUIrVyxNQUFNLENBQUMvVyxNQUFQLENBQWNsRSxPQUFkLENBQXNCLGNBQXRCLEVBQXNDLHVCQUF0QyxDQUExQztBQUNBLGNBQUlvYixLQUFLLEdBQUd0RyxJQUFJLENBQUNoWSxJQUFMLENBQVVxZSxHQUFWLEVBQWUsUUFBZixDQUFaO0FBQ0EsY0FBRyxDQUFDQyxLQUFKLEVBQVd0RyxJQUFJLENBQUN1RyxRQUFMLENBQWNwRSxJQUFkLEdBQXFCa0UsR0FBckI7QUFDWEEsYUFBRyxHQUFDblcsU0FBSixDQUowQixDQUlYOztBQUNmcVYsbUJBQVMsQ0FBQ2pVLFVBQVYsR0FBdUJpVSxTQUFTLENBQUNpQixJQUFqQztBQUNBUixzQkFBWTtBQUNmLFNBUEQ7O0FBUUFHLGNBQU0sQ0FBQ00sYUFBUCxDQUFxQnZWLElBQXJCO0FBQ0FxVSxpQkFBUyxDQUFDalUsVUFBVixHQUF1QmlVLFNBQVMsQ0FBQ21CLElBQWpDO0FBQ0E7QUFDSCxPQWZtQixDQWdCcEI7OztBQUNBLFVBQUksQ0FBQ1gsVUFBTCxFQUFpQjtBQUNiQSxrQkFBVSxHQUFHM0IsT0FBTyxHQUFHN0MsZUFBVixDQUEwQnJRLElBQTFCLENBQWI7QUFDSDs7QUFDRCxVQUFJNFUsS0FBSixFQUFXO0FBQ1A5RixZQUFJLENBQUN1RyxRQUFMLENBQWNwRSxJQUFkLEdBQXFCNEQsVUFBckI7QUFDSCxPQUZELE1BRU87QUFDSCxZQUFJWSxNQUFNLEdBQUczRyxJQUFJLENBQUNoWSxJQUFMLENBQVUrZCxVQUFWLEVBQXNCLFFBQXRCLENBQWI7O0FBQ0EsWUFBSSxDQUFDWSxNQUFMLEVBQWE7QUFDVDtBQUNBM0csY0FBSSxDQUFDdUcsUUFBTCxDQUFjcEUsSUFBZCxHQUFxQjRELFVBQXJCO0FBQ0g7QUFDSjs7QUFDRFIsZUFBUyxDQUFDalUsVUFBVixHQUF1QmlVLFNBQVMsQ0FBQ2lCLElBQWpDO0FBQ0FSLGtCQUFZO0FBQ1piLFlBQU0sQ0FBQ1ksVUFBRCxDQUFOO0FBQ0gsS0F6Q0w7O0FBMkNBUixhQUFTLENBQUNqVSxVQUFWLEdBQXVCaVUsU0FBUyxDQUFDbUIsSUFBakM7O0FBRUEsUUFBSXBDLGlCQUFKLEVBQXVCO0FBQ25CeUIsZ0JBQVUsR0FBRzNCLE9BQU8sR0FBRzdDLGVBQVYsQ0FBMEJyUSxJQUExQixDQUFiO0FBQ0F4RSxnQkFBVSxDQUFDLFlBQVc7QUFDbEIyWCxpQkFBUyxDQUFDbEMsSUFBVixHQUFpQjRELFVBQWpCO0FBQ0ExQixpQkFBUyxDQUFDdUMsUUFBVixHQUFxQjFGLElBQXJCO0FBQ0FxRCxhQUFLLENBQUNGLFNBQUQsQ0FBTDtBQUNBMkIsb0JBQVk7QUFDWmIsY0FBTSxDQUFDWSxVQUFELENBQU47QUFDQVIsaUJBQVMsQ0FBQ2pVLFVBQVYsR0FBdUJpVSxTQUFTLENBQUNpQixJQUFqQztBQUNILE9BUFMsQ0FBVjtBQVFBO0FBQ0g7O0FBRURQLFlBQVE7QUFDWCxHQXRITDtBQUFBLE1BdUhNWSxRQUFRLEdBQUdqQixTQUFTLENBQUN6aEIsU0F2SDNCO0FBQUEsTUF3SE1nTixNQUFNLEdBQUcsU0FBVEEsTUFBUyxDQUFTRCxJQUFULEVBQWVnUSxJQUFmLEVBQXFCMkUsV0FBckIsRUFBa0M7QUFDekMsV0FBTyxJQUFJRCxTQUFKLENBQWMxVSxJQUFkLEVBQW9CZ1EsSUFBSSxJQUFJaFEsSUFBSSxDQUFDZ1EsSUFBYixJQUFxQixVQUF6QyxFQUFxRDJFLFdBQXJELENBQVA7QUFDSCxHQTFITCxDQU4rQixDQWtJL0I7OztBQUNBLE1BQUksT0FBTzVCLFNBQVAsS0FBcUIsV0FBckIsSUFBb0NBLFNBQVMsQ0FBQzZDLGdCQUFsRCxFQUFvRTtBQUNoRSxXQUFPLFVBQVM1VixJQUFULEVBQWVnUSxJQUFmLEVBQXFCMkUsV0FBckIsRUFBa0M7QUFDckMzRSxVQUFJLEdBQUdBLElBQUksSUFBSWhRLElBQUksQ0FBQ2dRLElBQWIsSUFBcUIsVUFBNUI7O0FBRUEsVUFBSSxDQUFDMkUsV0FBTCxFQUFrQjtBQUNkM1UsWUFBSSxHQUFHeVUsUUFBUSxDQUFDelUsSUFBRCxDQUFmO0FBQ0g7O0FBQ0QsYUFBTytTLFNBQVMsQ0FBQzZDLGdCQUFWLENBQTJCNVYsSUFBM0IsRUFBaUNnUSxJQUFqQyxDQUFQO0FBQ0gsS0FQRDtBQVFIOztBQUVEMkYsVUFBUSxDQUFDRSxLQUFULEdBQWlCLFlBQVUsQ0FBRSxDQUE3Qjs7QUFDQUYsVUFBUSxDQUFDdlYsVUFBVCxHQUFzQnVWLFFBQVEsQ0FBQ0gsSUFBVCxHQUFnQixDQUF0QztBQUNBRyxVQUFRLENBQUNHLE9BQVQsR0FBbUIsQ0FBbkI7QUFDQUgsVUFBUSxDQUFDTCxJQUFULEdBQWdCLENBQWhCO0FBRUFLLFVBQVEsQ0FBQ3JVLEtBQVQsR0FDSXFVLFFBQVEsQ0FBQ0ksWUFBVCxHQUNJSixRQUFRLENBQUNLLFVBQVQsR0FDSUwsUUFBUSxDQUFDTSxPQUFULEdBQ0lOLFFBQVEsQ0FBQ08sT0FBVCxHQUNJUCxRQUFRLENBQUNRLE9BQVQsR0FDSVIsUUFBUSxDQUFDUyxVQUFULEdBQ0ksSUFQNUI7QUFTQSxTQUFPblcsTUFBUDtBQUNILENBN0ptQixDQThKaEIsT0FBTzRTLElBQVAsS0FBZ0IsV0FBaEIsSUFBK0JBLElBQS9CLElBQ0csT0FBT25YLE1BQVAsS0FBa0IsV0FBbEIsSUFBaUNBLE1BRHBDLElBRUcsU0FBSSxDQUFDb1gsT0FoS1EsQ0FBeEIsQyxDQWtLQTtBQUNBO0FBQ0E7OztBQUVBLElBQUksU0FBaUN1RCxNQUFNLENBQUNDLE9BQTVDLEVBQXFEO0FBQ2pERCxRQUFNLENBQUNDLE9BQVAsQ0FBZXJXLE1BQWYsR0FBd0JBLE1BQXhCO0FBQ0gsQ0FGRCxNQUVPLElBQUssT0FBT3NXLE1BQVAsS0FBa0IsV0FBbEIsSUFBaUNBLE1BQU0sS0FBSyxJQUE3QyxJQUF1REEsZ0dBQUEsS0FBZSxJQUExRSxFQUFpRjtBQUNwRkEsUUFBTSxDQUFDLEVBQUQsRUFBSyxZQUFXO0FBQ2xCLFdBQU90VyxNQUFQO0FBQ0gsR0FGSyxDQUFOO0FBR0g7O0FBRWNBLHFFQUFmLEU7Ozs7Ozs7Ozs7Ozs7QUM3TEE7QUFBZSxvRkFBdUIsY0FBYyxFOzs7Ozs7Ozs7OztBQ0FwRCxVQUFVLG1CQUFPLENBQUMsbUpBQXdFO0FBQzFGLDBCQUEwQixtQkFBTyxDQUFDLG1TQUFvSjs7QUFFdEw7O0FBRUE7QUFDQSwwQkFBMEIsUUFBUztBQUNuQzs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOzs7QUFHQSxJQUFJLElBQVU7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNLG1TQUFvSjtBQUMxSjtBQUNBLGtCQUFrQixtQkFBTyxDQUFDLG1TQUFvSjs7QUFFOUs7O0FBRUE7QUFDQSw0QkFBNEIsUUFBUztBQUNyQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSxzQzs7Ozs7Ozs7Ozs7O0FDdkVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBdVcsOEVBQXFCLENBQUNwbUIsVUFBdEIsRzs7Ozs7Ozs7Ozs7O0FDSEE7QUFBQTtBQUFBOzs7O0FBS0E7QUFDTyxJQUFNb21CLHFCQUFxQixHQUFHLFNBQXhCQSxxQkFBd0IsQ0FBU3JtQixPQUFULEVBQWtCO0FBQ25EO0FBQ0EsT0FBS0EsT0FBTCxHQUFlO0FBQ1hzbUIsWUFBUSxFQUFFLEdBREM7QUFFWEMsZUFBVyxFQUFFLENBQUMsT0FBRCxFQUFTLFVBQVQsRUFBb0IsV0FBcEIsRUFBZ0MsU0FBaEMsQ0FGRjtBQUdYQyxpQkFBYSxFQUFFLHlCQUFVO0FBQ3JCLFVBQUc1RCxTQUFTLENBQUM2RCxPQUFWLElBQXFCLDZCQUF4QixFQUNBO0FBQ0ksWUFBSUMsS0FBSyxHQUFHOUQsU0FBUyxDQUFDQyxTQUF0Qjs7QUFDQSxZQUFJNkQsS0FBSyxDQUFDL2tCLEtBQU4sQ0FBWSw2QkFBWixLQUE4QyxJQUFsRCxFQUF1RDtBQUNuRCxjQUFJaUcsT0FBTyxHQUFHK2UsVUFBVSxDQUFFQyxNQUFNLENBQUNDLEVBQVQsQ0FBeEI7QUFDQSxjQUFHamYsT0FBTyxHQUFHLEVBQWIsRUFDSSxPQUFPLElBQVA7QUFDUDtBQUNKOztBQUNELGFBQU8sS0FBUDtBQUNIO0FBZFUsR0FBZjs7QUFnQkEsTUFBRzVILE9BQUgsRUFBVztBQUNQLFFBQUk4bUIsR0FBRyxHQUFHLElBQVY7QUFDQUMsS0FBQyxDQUFDQyxJQUFGLENBQU9obkIsT0FBUCxFQUFnQixVQUFTeVYsQ0FBVCxFQUFXbkMsQ0FBWCxFQUFhO0FBQ3pCd1QsU0FBRyxDQUFDOW1CLE9BQUosQ0FBWXlWLENBQVosSUFBaUJuQyxDQUFqQjtBQUNILEtBRkQ7QUFHSDs7QUFFRCxNQUFHLEtBQUt0VCxPQUFMLENBQWF3bUIsYUFBYixFQUFILEVBQ0ksS0FBS1MscUJBQUw7QUFDUCxDQTNCTSxDLENBNkJQOztBQUNBWixxQkFBcUIsQ0FBQ3BtQixVQUF0QixHQUFtQyxVQUFTRCxPQUFULEVBQWlCO0FBQ2hELE1BQUdxbUIscUJBQXFCLENBQUNhLFNBQXRCLElBQW1DLElBQXRDLEVBQ0liLHFCQUFxQixDQUFDYSxTQUF0QixHQUFrQyxJQUFJYixxQkFBSixDQUEwQnJtQixPQUExQixDQUFsQztBQUNKLFNBQU9xbUIscUJBQXFCLENBQUNhLFNBQTdCO0FBQ0gsQ0FKRCxDLENBTUE7OztBQUNBYixxQkFBcUIsQ0FBQ3ZqQixTQUF0QixDQUFnQ21rQixxQkFBaEMsR0FBd0QsWUFBVTtBQUM5RDtBQUNBRixHQUFDLENBQUNqb0IsUUFBRCxDQUFELENBQVlxb0IsRUFBWixDQUFlLEtBQUtubkIsT0FBTCxDQUFhdW1CLFdBQWIsQ0FBeUJ4RSxJQUF6QixDQUE4QixHQUE5QixDQUFmLEVBQW1ELEtBQUsvaEIsT0FBTCxDQUFhc21CLFFBQWhFLEVBQTBFLFVBQVNuTSxDQUFULEVBQVc7QUFDakYsUUFBRzRNLENBQUMsQ0FBQyxJQUFELENBQUQsQ0FBUUssR0FBUixDQUFZLGdCQUFaLEtBQWlDLE1BQXBDLEVBQTJDO0FBQ3ZDO0FBQ0EsVUFBSUMsb0JBQW9CLEdBQUdOLENBQUMsQ0FBQyxJQUFELENBQUQsQ0FBUUssR0FBUixDQUFZLFNBQVosQ0FBM0I7QUFDQUwsT0FBQyxDQUFDLElBQUQsQ0FBRCxDQUFRSyxHQUFSLENBQVksU0FBWixFQUFzQixNQUF0QjtBQUVBLFVBQUlFLGNBQWMsR0FBR3hvQixRQUFRLENBQUN5b0IsZ0JBQVQsQ0FBMEJwTixDQUFDLENBQUNxTixPQUE1QixFQUFxQ3JOLENBQUMsQ0FBQ3NOLE9BQXZDLENBQXJCO0FBRUEsVUFBR0osb0JBQUgsRUFDSU4sQ0FBQyxDQUFDLElBQUQsQ0FBRCxDQUNLSyxHQURMLENBQ1MsU0FEVCxFQUNvQkMsb0JBRHBCLEVBREosS0FJSU4sQ0FBQyxDQUFDLElBQUQsQ0FBRCxDQUFRSyxHQUFSLENBQVksU0FBWixFQUFzQixFQUF0QixFQVhtQyxDQWF2Qzs7QUFDQWpOLE9BQUMsQ0FBQ29FLE1BQUYsR0FBVytJLGNBQVg7QUFDQVAsT0FBQyxDQUFDTyxjQUFELENBQUQsQ0FBa0JJLE9BQWxCLENBQTBCdk4sQ0FBMUI7QUFFQSxhQUFPLEtBQVA7QUFDSDs7QUFDRCxXQUFPLElBQVA7QUFDSCxHQXJCRDtBQXNCSCxDQXhCRCxDIiwiZmlsZSI6ImttYXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJLbWFwXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkttYXBcIl0gPSBmYWN0b3J5KCk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlS21hcFwiXTtcbiBcdHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVLbWFwXCJdID0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0XHRpZiAocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdH0gO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XG4gXHRcdGlmIChudWxsKSBzY3JpcHQuY3Jvc3NPcmlnaW4gPSBudWxsO1xuIFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChyZXF1ZXN0VGltZW91dCkge1xuIFx0XHRyZXF1ZXN0VGltZW91dCA9IHJlcXVlc3RUaW1lb3V0IHx8IDEwMDAwO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0aWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xuIFx0XHRcdH1cbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xuIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcbiBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IHJlcXVlc3RUaW1lb3V0O1xuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0aWYgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuIFx0XHRcdFx0aWYgKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XG4gXHRcdFx0XHRcdC8vIHRpbWVvdXRcbiBcdFx0XHRcdFx0cmVqZWN0KFxuIFx0XHRcdFx0XHRcdG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIilcbiBcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXG4gXHRcdFx0XHRcdHJlc29sdmUoKTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XG4gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcbiBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcbiBcdFx0XHRcdFx0XHRyZXR1cm47XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiMDk5YmFjMTE2NzE3NzZlMjBmYzFcIjtcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIiAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJ0XCJcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuIFx0XHRcdFx0dGhyb3cgZXJyO1xuIFx0XHRcdH0pO1xuXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xuIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbiBcdFx0XHRcdFx0aWYgKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH07XG4gXHRcdGZuLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRcdGlmIChtb2RlICYgMSkgdmFsdWUgPSBmbih2YWx1ZSk7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udCh2YWx1ZSwgbW9kZSAmIH4xKTtcbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZJbnZhbGlkYXRlZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGludmFsaWRhdGU6IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0dGhpcy5fc2VsZkludmFsaWRhdGVkID0gdHJ1ZTtcbiBcdFx0XHRcdHN3aXRjaCAoaG90U3RhdHVzKSB7XG4gXHRcdFx0XHRcdGNhc2UgXCJpZGxlXCI6XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwicmVhZHlcIjpcbiBcdFx0XHRcdFx0XHRob3RBcHBseUludmFsaWRhdGVkTW9kdWxlKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcInByZXBhcmVcIjpcbiBcdFx0XHRcdFx0Y2FzZSBcImNoZWNrXCI6XG4gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlXCI6XG4gXHRcdFx0XHRcdGNhc2UgXCJhcHBseVwiOlxuIFx0XHRcdFx0XHRcdChob3RRdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMgPVxuIFx0XHRcdFx0XHRcdFx0aG90UXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzIHx8IFtdKS5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHQvLyBpZ25vcmUgcmVxdWVzdHMgaW4gZXJyb3Igc3RhdGVzXG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGlmICghbCkgcmV0dXJuIGhvdFN0YXR1cztcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cbiBcdFx0fTtcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuIFx0XHRyZXR1cm4gaG90O1xuIFx0fVxuXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcblxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XG4gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xuIFx0fVxuXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdERlZmVycmVkO1xuXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2gsIGhvdFF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcztcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4gXHRcdH1cbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhob3RBcHBseUludmFsaWRhdGVkTW9kdWxlcygpID8gXCJyZWFkeVwiIDogXCJpZGxlXCIpO1xuIFx0XHRcdFx0cmV0dXJuIG51bGw7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XG5cbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0dmFyIGNodW5rSWQgPSBcImFwcFwiO1xuIFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdHtcbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nID09PSAwICYmXG4gXHRcdFx0XHRob3RXYWl0aW5nRmlsZXMgPT09IDBcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuIFx0XHRcdHJldHVybjtcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcbiBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmICgtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XG4gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbiBcdFx0aWYgKGhvdEFwcGx5T25VcGRhdGUpIHtcbiBcdFx0XHQvLyBXcmFwIGRlZmVycmVkIG9iamVjdCBpbiBQcm9taXNlIHRvIG1hcmsgaXQgYXMgYSB3ZWxsLWhhbmRsZWQgUHJvbWlzZSB0b1xuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcbiBcdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcbiBcdFx0XHRcdH0pXG4gXHRcdFx0XHQudGhlbihcbiBcdFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuIFx0XHRcdFx0XHR9LFxuIFx0XHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0KTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gXHRcdHJldHVybiBob3RBcHBseUludGVybmFsKG9wdGlvbnMpO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseUludGVybmFsKG9wdGlvbnMpIHtcbiBcdFx0aG90QXBwbHlJbnZhbGlkYXRlZE1vZHVsZXMoKTtcblxuIFx0XHR2YXIgY2I7XG4gXHRcdHZhciBpO1xuIFx0XHR2YXIgajtcbiBcdFx0dmFyIG1vZHVsZTtcbiBcdFx0dmFyIG1vZHVsZUlkO1xuXG4gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYodXBkYXRlTW9kdWxlSWQpIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcblxuIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5tYXAoZnVuY3Rpb24oaWQpIHtcbiBcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxuIFx0XHRcdFx0XHRpZDogaWRcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcbiBcdFx0XHRcdHZhciBjaGFpbiA9IHF1ZXVlSXRlbS5jaGFpbjtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKFxuIFx0XHRcdFx0XHQhbW9kdWxlIHx8XG4gXHRcdFx0XHRcdChtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQgJiYgIW1vZHVsZS5ob3QuX3NlbGZJbnZhbGlkYXRlZClcbiBcdFx0XHRcdClcbiBcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZCAmJlxuIFx0XHRcdFx0Ly8gcmVtb3ZlZCBzZWxmLWFjY2VwdGVkIG1vZHVsZXMgc2hvdWxkIG5vdCBiZSByZXF1aXJlZFxuIFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gIT09IHdhcm5VbmV4cGVjdGVkUmVxdWlyZSAmJlxuIFx0XHRcdFx0Ly8gd2hlbiBjYWxsZWQgaW52YWxpZGF0ZSBzZWxmLWFjY2VwdGluZyBpcyBub3QgcG9zc2libGVcbiBcdFx0XHRcdCFpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZJbnZhbGlkYXRlZFxuIFx0XHRcdCkge1xuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRwYXJlbnRzOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5wYXJlbnRzLnNsaWNlKCksXG4gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHRcdH0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xuIFx0XHRPYmplY3Qua2V5cyhob3RBdmFpbGFibGVGaWxlc01hcCkuZm9yRWFjaChmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xuIFx0XHRcdFx0aG90RGlzcG9zZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0fSk7XG5cbiBcdFx0dmFyIGlkeDtcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XG4gXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRpZiAoIW1vZHVsZSkgY29udGludWU7XG5cbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xuXG4gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgZGlzcG9zZUhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcbiBcdFx0XHRcdGNiKGRhdGEpO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xuXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcbiBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXG4gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gd2hlbiBkaXNwb3NpbmcgdGhlcmUgaXMgbm8gbmVlZCB0byBjYWxsIGRpc3Bvc2UgaGFuZGxlclxuIFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcbiBcdFx0XHRcdGlmICghY2hpbGQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkge1xuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXG4gXHRcdHZhciBkZXBlbmRlbmN5O1xuIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XG4gXHRcdFx0XHRcdFx0aWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XG4gXHRcdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJhcHBseVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xuXG4gXHRcdGlmIChob3RVcGRhdGVOZXdIYXNoICE9PSB1bmRlZmluZWQpIHtcbiBcdFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG4gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVuZGVmaW5lZDtcbiBcdFx0fVxuIFx0XHRob3RVcGRhdGUgPSB1bmRlZmluZWQ7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IGl0ZW0ucGFyZW50cztcbiBcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSBtb2R1bGVJZDtcbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XG4gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xuIFx0XHRcdFx0XHR9IGNhdGNoIChlcnIyKSB7XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3ItaGFuZGxlci1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXG4gXHRcdFx0XHRcdFx0XHRcdG9yaWdpbmFsRXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjI7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcbiBcdFx0aWYgKGVycm9yKSB7XG4gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcbiBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuIFx0XHR9XG5cbiBcdFx0aWYgKGhvdFF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcykge1xuIFx0XHRcdHJldHVybiBob3RBcHBseUludGVybmFsKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24obGlzdCkge1xuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLmZvckVhY2goZnVuY3Rpb24obW9kdWxlSWQpIHtcbiBcdFx0XHRcdFx0aWYgKGxpc3QuaW5kZXhPZihtb2R1bGVJZCkgPCAwKSBsaXN0LnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRyZXR1cm4gbGlzdDtcbiBcdFx0XHR9KTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90QXBwbHlJbnZhbGlkYXRlZE1vZHVsZXMoKSB7XG4gXHRcdGlmIChob3RRdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoIWhvdFVwZGF0ZSkgaG90VXBkYXRlID0ge307XG4gXHRcdFx0aG90UXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzLmZvckVhY2goaG90QXBwbHlJbnZhbGlkYXRlZE1vZHVsZSk7XG4gXHRcdFx0aG90UXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzID0gdW5kZWZpbmVkO1xuIFx0XHRcdHJldHVybiB0cnVlO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5SW52YWxpZGF0ZWRNb2R1bGUobW9kdWxlSWQpIHtcbiBcdFx0aWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBtb2R1bGVJZCkpXG4gXHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogKGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IGhvdEN1cnJlbnRQYXJlbnRzLCBob3RDdXJyZW50UGFyZW50cyA9IFtdLCBob3RDdXJyZW50UGFyZW50c1RlbXApLFxuIFx0XHRcdGNoaWxkcmVuOiBbXVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKFwiLi9pbmRleC5qc1wiKShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vaW5kZXguanNcIik7XG4iLCIvLyBUaGUgcHVibGljLXBhdGggbW9kdWxlIG11c3QgYmUgaW1wb3J0ZWQgZmlyc3QhXHJcbi8vIGltcG9ydCAnLi9zcmMvcHVibGljLXBhdGguanMnO1xyXG4vL1xyXG5pbXBvcnQgJy4vc3JjL3BvbHlmaWxscy9hbGwnO1xyXG5pbXBvcnQgJy4vc3JjL2ttYXAuc2Nzcyc7XHJcbmltcG9ydCB7UmVhZHl9IGZyb20gJy4vc3JjL0ttYXAvVXRpbGl0eS9SZWFkeSc7XHJcbmltcG9ydCB7S21hcH0gZnJvbSAnLi9zcmMvS21hcC9LbWFwJztcclxuZXhwb3J0IHtLbWFwIGFzIGRlZmF1bHR9O1xyXG5cclxuLy8gQXV0b21hdGljYWxseSBpbnN0YWxsIGludG8gZGl2LmttYXAtY2wtaW5zdGFsbCwgd2hlcmUgdGhlIHRleHRcclxuLy8gY29udGVudHMgb2YgdGhlIHRhZyBhcmUgSlNPTiB0byBjb25maWd1cmUgS21hcFxyXG5SZWFkeS5nbygoKSA9PiB7XHJcbiAgICBjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdi5rbWFwLWNsLWluc3RhbGwnKTtcclxuICAgIGZvcihsZXQgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcclxuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShlbGVtZW50LnRleHRDb250ZW50KTtcclxuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGNvbnN0IGttYXAgPSBuZXcgS21hcChlbGVtZW50LCBqc29uKTtcclxuICAgICAgICBrbWFwLnN0YXJ0Tm93KCk7XHJcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIH1cclxufSk7IiwiLypcbiAqIGNsYXNzTGlzdC5qczogQ3Jvc3MtYnJvd3NlciBmdWxsIGVsZW1lbnQuY2xhc3NMaXN0IGltcGxlbWVudGF0aW9uLlxuICogMS4xLjIwMTcwNDI3XG4gKlxuICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuICogTGljZW5zZTogRGVkaWNhdGVkIHRvIHRoZSBwdWJsaWMgZG9tYWluLlxuICogICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VsaWdyZXkvY2xhc3NMaXN0LmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcbiAqL1xuXG4vKmdsb2JhbCBzZWxmLCBkb2N1bWVudCwgRE9NRXhjZXB0aW9uICovXG5cbi8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9jbGFzc0xpc3QuanMvYmxvYi9tYXN0ZXIvY2xhc3NMaXN0LmpzICovXG5cbmlmIChcImRvY3VtZW50XCIgaW4gd2luZG93LnNlbGYpIHtcblxuLy8gRnVsbCBwb2x5ZmlsbCBmb3IgYnJvd3NlcnMgd2l0aCBubyBjbGFzc0xpc3Qgc3VwcG9ydFxuLy8gSW5jbHVkaW5nIElFIDwgRWRnZSBtaXNzaW5nIFNWR0VsZW1lbnQuY2xhc3NMaXN0XG5pZiAoIShcImNsYXNzTGlzdFwiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJfXCIpKSBcblx0fHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TICYmICEoXCJjbGFzc0xpc3RcIiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwiZ1wiKSkpIHtcblxuKGZ1bmN0aW9uICh2aWV3KSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5pZiAoISgnRWxlbWVudCcgaW4gdmlldykpIHJldHVybjtcblxudmFyXG5cdCAgY2xhc3NMaXN0UHJvcCA9IFwiY2xhc3NMaXN0XCJcblx0LCBwcm90b1Byb3AgPSBcInByb3RvdHlwZVwiXG5cdCwgZWxlbUN0clByb3RvID0gdmlldy5FbGVtZW50W3Byb3RvUHJvcF1cblx0LCBvYmpDdHIgPSBPYmplY3Rcblx0LCBzdHJUcmltID0gU3RyaW5nW3Byb3RvUHJvcF0udHJpbSB8fCBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgXCJcIik7XG5cdH1cblx0LCBhcnJJbmRleE9mID0gQXJyYXlbcHJvdG9Qcm9wXS5pbmRleE9mIHx8IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0dmFyXG5cdFx0XHQgIGkgPSAwXG5cdFx0XHQsIGxlbiA9IHRoaXMubGVuZ3RoXG5cdFx0O1xuXHRcdGZvciAoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIC0xO1xuXHR9XG5cdC8vIFZlbmRvcnM6IHBsZWFzZSBhbGxvdyBjb250ZW50IGNvZGUgdG8gaW5zdGFudGlhdGUgRE9NRXhjZXB0aW9uc1xuXHQsIERPTUV4ID0gZnVuY3Rpb24gKHR5cGUsIG1lc3NhZ2UpIHtcblx0XHR0aGlzLm5hbWUgPSB0eXBlO1xuXHRcdHRoaXMuY29kZSA9IERPTUV4Y2VwdGlvblt0eXBlXTtcblx0XHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHR9XG5cdCwgY2hlY2tUb2tlbkFuZEdldEluZGV4ID0gZnVuY3Rpb24gKGNsYXNzTGlzdCwgdG9rZW4pIHtcblx0XHRpZiAodG9rZW4gPT09IFwiXCIpIHtcblx0XHRcdHRocm93IG5ldyBET01FeChcblx0XHRcdFx0ICBcIlNZTlRBWF9FUlJcIlxuXHRcdFx0XHQsIFwiQW4gaW52YWxpZCBvciBpbGxlZ2FsIHN0cmluZyB3YXMgc3BlY2lmaWVkXCJcblx0XHRcdCk7XG5cdFx0fVxuXHRcdGlmICgvXFxzLy50ZXN0KHRva2VuKSkge1xuXHRcdFx0dGhyb3cgbmV3IERPTUV4KFxuXHRcdFx0XHQgIFwiSU5WQUxJRF9DSEFSQUNURVJfRVJSXCJcblx0XHRcdFx0LCBcIlN0cmluZyBjb250YWlucyBhbiBpbnZhbGlkIGNoYXJhY3RlclwiXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRyZXR1cm4gYXJySW5kZXhPZi5jYWxsKGNsYXNzTGlzdCwgdG9rZW4pO1xuXHR9XG5cdCwgQ2xhc3NMaXN0ID0gZnVuY3Rpb24gKGVsZW0pIHtcblx0XHR2YXJcblx0XHRcdCAgdHJpbW1lZENsYXNzZXMgPSBzdHJUcmltLmNhbGwoZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiKVxuXHRcdFx0LCBjbGFzc2VzID0gdHJpbW1lZENsYXNzZXMgPyB0cmltbWVkQ2xhc3Nlcy5zcGxpdCgvXFxzKy8pIDogW11cblx0XHRcdCwgaSA9IDBcblx0XHRcdCwgbGVuID0gY2xhc3Nlcy5sZW5ndGhcblx0XHQ7XG5cdFx0Zm9yICg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0dGhpcy5wdXNoKGNsYXNzZXNbaV0pO1xuXHRcdH1cblx0XHR0aGlzLl91cGRhdGVDbGFzc05hbWUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMudG9TdHJpbmcoKSk7XG5cdFx0fTtcblx0fVxuXHQsIGNsYXNzTGlzdFByb3RvID0gQ2xhc3NMaXN0W3Byb3RvUHJvcF0gPSBbXVxuXHQsIGNsYXNzTGlzdEdldHRlciA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gbmV3IENsYXNzTGlzdCh0aGlzKTtcblx0fVxuO1xuLy8gTW9zdCBET01FeGNlcHRpb24gaW1wbGVtZW50YXRpb25zIGRvbid0IGFsbG93IGNhbGxpbmcgRE9NRXhjZXB0aW9uJ3MgdG9TdHJpbmcoKVxuLy8gb24gbm9uLURPTUV4Y2VwdGlvbnMuIEVycm9yJ3MgdG9TdHJpbmcoKSBpcyBzdWZmaWNpZW50IGhlcmUuXG5ET01FeFtwcm90b1Byb3BdID0gRXJyb3JbcHJvdG9Qcm9wXTtcbmNsYXNzTGlzdFByb3RvLml0ZW0gPSBmdW5jdGlvbiAoaSkge1xuXHRyZXR1cm4gdGhpc1tpXSB8fCBudWxsO1xufTtcbmNsYXNzTGlzdFByb3RvLmNvbnRhaW5zID0gZnVuY3Rpb24gKHRva2VuKSB7XG5cdHRva2VuICs9IFwiXCI7XG5cdHJldHVybiBjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pICE9PSAtMTtcbn07XG5jbGFzc0xpc3RQcm90by5hZGQgPSBmdW5jdGlvbiAoKSB7XG5cdHZhclxuXHRcdCAgdG9rZW5zID0gYXJndW1lbnRzXG5cdFx0LCBpID0gMFxuXHRcdCwgbCA9IHRva2Vucy5sZW5ndGhcblx0XHQsIHRva2VuXG5cdFx0LCB1cGRhdGVkID0gZmFsc2Vcblx0O1xuXHRkbyB7XG5cdFx0dG9rZW4gPSB0b2tlbnNbaV0gKyBcIlwiO1xuXHRcdGlmIChjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pID09PSAtMSkge1xuXHRcdFx0dGhpcy5wdXNoKHRva2VuKTtcblx0XHRcdHVwZGF0ZWQgPSB0cnVlO1xuXHRcdH1cblx0fVxuXHR3aGlsZSAoKytpIDwgbCk7XG5cblx0aWYgKHVwZGF0ZWQpIHtcblx0XHR0aGlzLl91cGRhdGVDbGFzc05hbWUoKTtcblx0fVxufTtcbmNsYXNzTGlzdFByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0dmFyXG5cdFx0ICB0b2tlbnMgPSBhcmd1bWVudHNcblx0XHQsIGkgPSAwXG5cdFx0LCBsID0gdG9rZW5zLmxlbmd0aFxuXHRcdCwgdG9rZW5cblx0XHQsIHVwZGF0ZWQgPSBmYWxzZVxuXHRcdCwgaW5kZXhcblx0O1xuXHRkbyB7XG5cdFx0dG9rZW4gPSB0b2tlbnNbaV0gKyBcIlwiO1xuXHRcdGluZGV4ID0gY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKTtcblx0XHR3aGlsZSAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHR0aGlzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHR1cGRhdGVkID0gdHJ1ZTtcblx0XHRcdGluZGV4ID0gY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKTtcblx0XHR9XG5cdH1cblx0d2hpbGUgKCsraSA8IGwpO1xuXG5cdGlmICh1cGRhdGVkKSB7XG5cdFx0dGhpcy5fdXBkYXRlQ2xhc3NOYW1lKCk7XG5cdH1cbn07XG5jbGFzc0xpc3RQcm90by50b2dnbGUgPSBmdW5jdGlvbiAodG9rZW4sIGZvcmNlKSB7XG5cdHRva2VuICs9IFwiXCI7XG5cblx0dmFyXG5cdFx0ICByZXN1bHQgPSB0aGlzLmNvbnRhaW5zKHRva2VuKVxuXHRcdCwgbWV0aG9kID0gcmVzdWx0ID9cblx0XHRcdGZvcmNlICE9PSB0cnVlICYmIFwicmVtb3ZlXCJcblx0XHQ6XG5cdFx0XHRmb3JjZSAhPT0gZmFsc2UgJiYgXCJhZGRcIlxuXHQ7XG5cblx0aWYgKG1ldGhvZCkge1xuXHRcdHRoaXNbbWV0aG9kXSh0b2tlbik7XG5cdH1cblxuXHRpZiAoZm9yY2UgPT09IHRydWUgfHwgZm9yY2UgPT09IGZhbHNlKSB7XG5cdFx0cmV0dXJuIGZvcmNlO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiAhcmVzdWx0O1xuXHR9XG59O1xuY2xhc3NMaXN0UHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdHJldHVybiB0aGlzLmpvaW4oXCIgXCIpO1xufTtcblxuaWYgKG9iakN0ci5kZWZpbmVQcm9wZXJ0eSkge1xuXHR2YXIgY2xhc3NMaXN0UHJvcERlc2MgPSB7XG5cdFx0ICBnZXQ6IGNsYXNzTGlzdEdldHRlclxuXHRcdCwgZW51bWVyYWJsZTogdHJ1ZVxuXHRcdCwgY29uZmlndXJhYmxlOiB0cnVlXG5cdH07XG5cdHRyeSB7XG5cdFx0b2JqQ3RyLmRlZmluZVByb3BlcnR5KGVsZW1DdHJQcm90bywgY2xhc3NMaXN0UHJvcCwgY2xhc3NMaXN0UHJvcERlc2MpO1xuXHR9IGNhdGNoIChleCkgeyAvLyBJRSA4IGRvZXNuJ3Qgc3VwcG9ydCBlbnVtZXJhYmxlOnRydWVcblx0XHQvLyBhZGRpbmcgdW5kZWZpbmVkIHRvIGZpZ2h0IHRoaXMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL2VsaWdyZXkvY2xhc3NMaXN0LmpzL2lzc3Vlcy8zNlxuXHRcdC8vIG1vZGVybmllIElFOC1NU1c3IG1hY2hpbmUgaGFzIElFOCA4LjAuNjAwMS4xODcwMiBhbmQgaXMgYWZmZWN0ZWRcblx0XHRpZiAoZXgubnVtYmVyID09PSB1bmRlZmluZWQgfHwgZXgubnVtYmVyID09PSAtMHg3RkY1RUM1NCkge1xuXHRcdFx0Y2xhc3NMaXN0UHJvcERlc2MuZW51bWVyYWJsZSA9IGZhbHNlO1xuXHRcdFx0b2JqQ3RyLmRlZmluZVByb3BlcnR5KGVsZW1DdHJQcm90bywgY2xhc3NMaXN0UHJvcCwgY2xhc3NMaXN0UHJvcERlc2MpO1xuXHRcdH1cblx0fVxufSBlbHNlIGlmIChvYmpDdHJbcHJvdG9Qcm9wXS5fX2RlZmluZUdldHRlcl9fKSB7XG5cdGVsZW1DdHJQcm90by5fX2RlZmluZUdldHRlcl9fKGNsYXNzTGlzdFByb3AsIGNsYXNzTGlzdEdldHRlcik7XG59XG5cbn0od2luZG93LnNlbGYpKTtcblxufVxuXG4vLyBUaGVyZSBpcyBmdWxsIG9yIHBhcnRpYWwgbmF0aXZlIGNsYXNzTGlzdCBzdXBwb3J0LCBzbyBqdXN0IGNoZWNrIGlmIHdlIG5lZWRcbi8vIHRvIG5vcm1hbGl6ZSB0aGUgYWRkL3JlbW92ZSBhbmQgdG9nZ2xlIEFQSXMuXG5cbihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciB0ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJfXCIpO1xuXG5cdHRlc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjMVwiLCBcImMyXCIpO1xuXG5cdC8vIFBvbHlmaWxsIGZvciBJRSAxMC8xMSBhbmQgRmlyZWZveCA8MjYsIHdoZXJlIGNsYXNzTGlzdC5hZGQgYW5kXG5cdC8vIGNsYXNzTGlzdC5yZW1vdmUgZXhpc3QgYnV0IHN1cHBvcnQgb25seSBvbmUgYXJndW1lbnQgYXQgYSB0aW1lLlxuXHRpZiAoIXRlc3RFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImMyXCIpKSB7XG5cdFx0dmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uKG1ldGhvZCkge1xuXHRcdFx0dmFyIG9yaWdpbmFsID0gRE9NVG9rZW5MaXN0LnByb3RvdHlwZVttZXRob2RdO1xuXG5cdFx0XHRET01Ub2tlbkxpc3QucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih0b2tlbikge1xuXHRcdFx0XHR2YXIgaSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0XHR0b2tlbiA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdFx0XHRvcmlnaW5hbC5jYWxsKHRoaXMsIHRva2VuKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9O1xuXHRcdGNyZWF0ZU1ldGhvZCgnYWRkJyk7XG5cdFx0Y3JlYXRlTWV0aG9kKCdyZW1vdmUnKTtcblx0fVxuXG5cdHRlc3RFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJjM1wiLCBmYWxzZSk7XG5cblx0Ly8gUG9seWZpbGwgZm9yIElFIDEwIGFuZCBGaXJlZm94IDwyNCwgd2hlcmUgY2xhc3NMaXN0LnRvZ2dsZSBkb2VzIG5vdFxuXHQvLyBzdXBwb3J0IHRoZSBzZWNvbmQgYXJndW1lbnQuXG5cdGlmICh0ZXN0RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJjM1wiKSkge1xuXHRcdHZhciBfdG9nZ2xlID0gRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGU7XG5cblx0XHRET01Ub2tlbkxpc3QucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKHRva2VuLCBmb3JjZSkge1xuXHRcdFx0aWYgKDEgaW4gYXJndW1lbnRzICYmICF0aGlzLmNvbnRhaW5zKHRva2VuKSA9PT0gIWZvcmNlKSB7XG5cdFx0XHRcdHJldHVybiBmb3JjZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBfdG9nZ2xlLmNhbGwodGhpcywgdG9rZW4pO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0fVxuXG5cdHRlc3RFbGVtZW50ID0gbnVsbDtcbn0oKSk7XG5cbn1cbiIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbnZhciBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gPSByZXF1aXJlKFwiLi9pbWcveC5wbmdcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImRpdi5rbWFwLWNsLWluc3RhbGwge1xcbiAgZGlzcGxheTogbm9uZTsgfVxcblxcbmRpdi5rbWFwLWNsIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIG1hcmdpbjogMWVtIGF1dG87XFxuICBtYXgtd2lkdGg6IDY1MHB4OyB9XFxuICBkaXYua21hcC1jbCBoMyB7XFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBibGFjaztcXG4gICAgZm9udC1zaXplOiAxLjJlbTtcXG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XFxuICAgIG1hcmdpbjogMWVtIDAgMC41ZW0gMDtcXG4gICAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50OyB9XFxuICBkaXYua21hcC1jbCBidXR0b24ge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIHBhZGRpbmc6IDAuMTVlbSAxZW07XFxuICAgIGZvbnQtc2l6ZTogLjllbTtcXG4gICAgbWluLXdpZHRoOiA2ZW07IH1cXG4gIGRpdi5rbWFwLWNsIHRkIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyOyB9XFxuXFxuZGl2LmttYXAtY2wtd29yayB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiB0YWJsZTtcXG4gIG1hcmdpbjogMCBhdXRvO1xcbiAgcGFkZGluZzogMDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjazsgfVxcblxcbmRpdi5rbWFwLWNsLWRsZyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICBib3R0b206IDA7XFxuICByaWdodDogMDtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiVHJlYnVjaGV0IE1TXFxcIiwgXFxcIkx1Y2lkYSBHcmFuZGVcXFwiLCBcXFwiTHVjaWRhIFNhbnMgVW5pY29kZVxcXCIsIFxcXCJMdWNpZGEgU2Fuc1xcXCIsIHNhbnMtc2VyaWY7IH1cXG4gIGRpdi5rbWFwLWNsLWRsZyA+IGRpdjpmaXJzdC1jaGlsZCB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIG9wYWNpdHk6IDAuNTtcXG4gICAgdG9wOiAwO1xcbiAgICBsZWZ0OiAwO1xcbiAgICBib3R0b206IDA7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICB6LWluZGV4OiAyOyB9XFxuICBkaXYua21hcC1jbC1kbGcgPiBkaXY6bnRoLWNoaWxkKDIpIHtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICB0b3A6IDUwJTtcXG4gICAgb3BhY2l0eTogMTtcXG4gICAgei1pbmRleDogMTA7XFxuICAgIHdpZHRoOiA1MCU7XFxuICAgIG1hcmdpbjogMCBhdXRvO1xcbiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDFweCkgdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxuICAgIGJhY2tncm91bmQ6IHdoaXRlOyB9XFxuICAgIGRpdi5rbWFwLWNsLWRsZyA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXY6Zmlyc3QtY2hpbGQge1xcbiAgICAgIG1hcmdpbjogMDtcXG4gICAgICBiYWNrZ3JvdW5kOiBncmVlbjtcXG4gICAgICBjb2xvcjogd2hpdGU7XFxuICAgICAgcGFkZGluZzogMC4yNWVtO1xcbiAgICAgIGZvbnQtc2l6ZTogMS4xZW07IH1cXG4gICAgZGl2LmttYXAtY2wtZGxnID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdjpudGgtY2hpbGQoMikge1xcbiAgICAgIHBhZGRpbmc6IDAuNWVtOyB9XFxuICAgIGRpdi5rbWFwLWNsLWRsZyA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXY6bnRoLWNoaWxkKDMpIHtcXG4gICAgICBwYWRkaW5nOiAwLjVlbTtcXG4gICAgICB0ZXh0LWFsaWduOiByaWdodDsgfVxcbiAgICAgIGRpdi5rbWFwLWNsLWRsZyA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXY6bnRoLWNoaWxkKDMpIGJ1dHRvbiB7XFxuICAgICAgICB3aWR0aDogOGVtO1xcbiAgICAgICAgcGFkZGluZzogMC41ZW0gMWVtOyB9XFxuXFxuZGl2LmttYXAtY2wtd29yayA+IGRpdjpmaXJzdC1jaGlsZCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xcbiAgcGFkZGluZzogMWVtIDAgMCAwO1xcbiAgdmVydGljYWwtYWxpZ246IHRvcDtcXG4gIHdpZHRoOiAxMmVtO1xcbiAgbWF4LXdpZHRoOiAxMmVtO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYmFja2dyb3VuZDogZ3JlZW47IH1cXG4gIGRpdi5rbWFwLWNsLXdvcmsgPiBkaXY6Zmlyc3QtY2hpbGQgYnV0dG9uIHtcXG4gICAgd2lkdGg6IDllbTtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBoZWlnaHQ6IDJlbTtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgZm9udC1zaXplOiAwLjllbTsgfVxcbiAgZGl2LmttYXAtY2wtd29yayA+IGRpdjpmaXJzdC1jaGlsZCAubGlzdCB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgICB0b3A6IDRlbTtcXG4gICAgbGVmdDogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIGJvdHRvbTogMDsgfVxcbiAgICBkaXYua21hcC1jbC13b3JrID4gZGl2OmZpcnN0LWNoaWxkIC5saXN0IC5ncm91cCB7XFxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgIGhlaWdodDogMy4yZW07XFxuICAgICAgZm9udC1zaXplOiAwLjhlbTtcXG4gICAgICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XFxuICAgICAgbWFyZ2luOiAwLjI1ZW0gMDtcXG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgICAgIHBhZGRpbmc6IDAuMjVlbTtcXG4gICAgICBjb2xvcjogd2hpdGU7IH1cXG4gICAgICBkaXYua21hcC1jbC13b3JrID4gZGl2OmZpcnN0LWNoaWxkIC5saXN0IC5ncm91cCBzcGFuIHtcXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgcmlnaHQ6IDAuMjVlbTtcXG4gICAgICAgIGJvdHRvbTogMC4yNWVtOyB9XFxuICAgICAgZGl2LmttYXAtY2wtd29yayA+IGRpdjpmaXJzdC1jaGlsZCAubGlzdCAuZ3JvdXAgYSB7XFxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgICAgICB3aWR0aDogMTZweDtcXG4gICAgICAgIGhlaWdodDogMTZweDtcXG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gKyBcIik7IH1cXG5cXG5kaXYua21hcC1jbC13b3JrID4gZGl2Om50aC1jaGlsZCgyKSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xcbiAgcGFkZGluZzogMWVtIDJlbSAxZW0gMWVtO1xcbiAgbWluLXdpZHRoOiAyNWVtO1xcbiAgYmFja2dyb3VuZDogd2hpdGU7IH1cXG4gIGRpdi5rbWFwLWNsLXdvcmsgPiBkaXY6bnRoLWNoaWxkKDIpIGNhbnZhcyB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHotaW5kZXg6IDEwO1xcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTsgfVxcblxcbnRhYmxlLmttYXAtY2wge1xcbiAgYmFja2dyb3VuZDogbm9uZTtcXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxuICBib3gtc2hhZG93OiBub25lO1xcbiAgYm9yZGVyOiAwOyB9XFxuICB0YWJsZS5rbWFwLWNsIGlucHV0IHtcXG4gICAgd2lkdGg6IDNlbTtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyOyB9XFxuICB0YWJsZS5rbWFwLWNsIHRyIHtcXG4gICAgYm9yZGVyOiAwO1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyB9XFxuICB0YWJsZS5rbWFwLWNsIHRoLCB0YWJsZS5rbWFwLWNsIHRkIHtcXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XFxuICAgIHRleHQtc2hhZG93OiBub25lO1xcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgICBjb2xvcjogYmxhY2s7XFxuICAgIHBhZGRpbmc6IDAuMjVlbTtcXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgfVxcbiAgdGFibGUua21hcC1jbCB0ciB0aCB7XFxuICAgIGJvcmRlcjogMDtcXG4gICAgd2lkdGg6IDRlbTtcXG4gICAgaGVpZ2h0OiA0ZW07IH1cXG4gIHRhYmxlLmttYXAtY2wgdGQge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xcbiAgICB3aWR0aDogNGVtO1xcbiAgICBoZWlnaHQ6IDRlbTtcXG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyOyB9XFxuICAgIHRhYmxlLmttYXAtY2wgdGQgc3Bhbi5taW50ZXJtIHtcXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgdG9wOiAwLjE1ZW07XFxuICAgICAgbGVmdDogMC4yNWVtO1xcbiAgICAgIGZvbnQtc2l6ZTogMC43NWVtOyB9XFxuICB0YWJsZS5rbWFwLWNsIHRkLmttYXAtY2wtc2VsZWN0ZWQge1xcbiAgICBiYWNrZ3JvdW5kOiB5ZWxsb3c7IH1cXG4gIHRhYmxlLmttYXAtY2wgdHI6Zmlyc3QtY2hpbGQgdGgge1xcbiAgICBjb2xvcjogYmxhY2s7XFxuICAgIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgICB0ZXh0LXNoYWRvdzogbm9uZTtcXG4gICAgYm9yZGVyOiAwO1xcbiAgICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgICBwYWRkaW5nOiAwLjI1ZW07XFxuICAgIGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7IH1cXG4gIHRhYmxlLmttYXAtY2wgdHI6Zmlyc3QtY2hpbGQgdGg6bm90KDpmaXJzdC1jaGlsZCkge1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIHZlcnRpY2FsLWFsaWduOiBib3R0b207IH1cXG4gIHRhYmxlLmttYXAtY2wgdHI6Zmlyc3QtY2hpbGQgdGg6Zmlyc3QtY2hpbGQge1xcbiAgICBib3JkZXI6IDA7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgfVxcbiAgICB0YWJsZS5rbWFwLWNsIHRyOmZpcnN0LWNoaWxkIHRoOmZpcnN0LWNoaWxkIC5rbWFwLWNsLWxlZnQge1xcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICBib3R0b206IDA7XFxuICAgICAgcmlnaHQ6IDEuNWVtOyB9XFxuICAgIHRhYmxlLmttYXAtY2wgdHI6Zmlyc3QtY2hpbGQgdGg6Zmlyc3QtY2hpbGQgLmttYXAtY2wtcmlnaHQge1xcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICBib3R0b206IDEuNWVtO1xcbiAgICAgIHJpZ2h0OiAwOyB9XFxuICAgIHRhYmxlLmttYXAtY2wgdHI6Zmlyc3QtY2hpbGQgdGg6Zmlyc3QtY2hpbGQgLmttYXAtY2wtbGluZSB7XFxuICAgICAgd2lkdGg6IDRlbTtcXG4gICAgICBoZWlnaHQ6IDFweDtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgYmxhY2s7XFxuICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgyZW0pIHJvdGF0ZSg0NWRlZykgdHJhbnNsYXRlKC0yZW0pO1xcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDJlbSkgcm90YXRlKDQ1ZGVnKSB0cmFuc2xhdGUoLTJlbSk7XFxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgIHJpZ2h0OiAwO1xcbiAgICAgIGJvdHRvbTogMDsgfVxcbiAgdGFibGUua21hcC1jbCB0cjpub3QoOmZpcnN0LWNoaWxkKSB0aCB7XFxuICAgIHRleHQtYWxpZ246IHJpZ2h0OyB9XFxuXFxuZGl2LmttYXAtY2wtZ2VuZXJhdG9yIHtcXG4gIG1hcmdpbjogMCBhdXRvOyB9XFxuICBkaXYua21hcC1jbC1nZW5lcmF0b3IgZm9ybSB7XFxuICAgIG1heC13aWR0aDogMTAwJTtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlOyB9XFxuICBkaXYua21hcC1jbC1nZW5lcmF0b3IgcCB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gICAgbWFyZ2luOiAwLjc1ZW0gMDtcXG4gICAgcGFkZGluZy10b3A6IDAuMjVlbTtcXG4gICAgdGV4dC1hbGlnbjogbGVmdDsgfVxcbiAgICBkaXYua21hcC1jbC1nZW5lcmF0b3IgcCBzcGFuIHtcXG4gICAgICBwYWRkaW5nLWxlZnQ6IDAuNWVtO1xcbiAgICAgIGZvbnQtc2l6ZTogMC44NWVtO1xcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICB3aWR0aDogMTAwJTtcXG4gICAgICB0b3A6IDUwJTtcXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7IH1cXG5cXG5kaXYua21hcC1jbC1zb2x1dGlvbiBhIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHdpZHRoOiAxNnB4O1xcbiAgaGVpZ2h0OiAxNnB4O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyArIFwiKTsgfVxcblxcbmRpdi5rbWFwLWNsLXNvbHV0aW9uIGJ1dHRvbiB7XFxuICB3aWR0aDogOGVtOyB9XFxuXFxuZGl2LmttYXAtY2wtc29sdXRpb24gYnV0dG9uLmttYXAtY2wtc29sdmUge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgZmxvYXQ6IHJpZ2h0OyB9XFxuXFxuZGl2LmttYXAtY2wtc29sdXRpb24gYnV0dG9uLmttYXAtY2wtdG9wbmcge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgbWFyZ2luLXJpZ2h0OiAxZW07IH1cXG5cXG5kaXYua21hcC1jbC1zb2x1dGlvbiBpbnB1dFt0eXBlPVxcXCJ0ZXh0XFxcIl0ge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBmb250LXNpemU6IDAuOWVtOyB9XFxuXFxuZGl2LmttYXAtY2wtc29sdXRpb24gPiBkaXYgcCB7XFxuICBmb250LXNpemU6IDEuMWVtO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyOyB9XFxuXFxuZGl2LmttYXAtY2wtbWFudWFsIGZvcm0ge1xcbiAgZGlzcGxheTogdGFibGU7XFxuICB0YWJsZS1sYXlvdXQ6IGZpeGVkO1xcbiAgd2lkdGg6IDEwMCU7IH1cXG4gIGRpdi5rbWFwLWNsLW1hbnVhbCBmb3JtIGlucHV0W3R5cGU9XFxcInRleHRcXFwiXSB7XFxuICAgIHdpZHRoOiA5MCU7XFxuICAgIGZvbnQtc2l6ZTogMC44ZW07IH1cXG4gIGRpdi5rbWFwLWNsLW1hbnVhbCBmb3JtIGxhYmVsIHtcXG4gICAgZm9udC1zaXplOiAwLjllbTsgfVxcbiAgZGl2LmttYXAtY2wtbWFudWFsIGZvcm0gPiBkaXYge1xcbiAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xcbiAgICBtaW4td2lkdGg6IDUwJTtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwOyB9XFxuICBkaXYua21hcC1jbC1tYW51YWwgZm9ybSBwIHtcXG4gICAgbWFyZ2luLXRvcDogMDsgfVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIG9wdGlvbnMgPSB7fTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGUsIG5vLXBhcmFtLXJlYXNzaWduXG5cblxuICB1cmwgPSB1cmwgJiYgdXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybDtcblxuICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9IC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuXG5cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9IC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcblxuXG4gIGlmICgvW1wiJygpIFxcdFxcbl0vLnRlc3QodXJsKSB8fCBvcHRpb25zLm5lZWRRdW90ZXMpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJykucmVwbGFjZSgvXFxuL2csICdcXFxcbicpLCBcIlxcXCJcIik7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTsiLCIvKiFcbiAqIGh0bWwyY2FudmFzIDEuMC4wLXJjLjUgPGh0dHBzOi8vaHRtbDJjYW52YXMuaGVydHplbi5jb20+XG4gKiBDb3B5cmlnaHQgKGMpIDIwMTkgTmlrbGFzIHZvbiBIZXJ0emVuIDxodHRwczovL2hlcnR6ZW4uY29tPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2VcbiAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5odG1sMmNhbnZhcyA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICAgIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG4gICAgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuICAgIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG4gICAgVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG4gICAgS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG4gICAgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuICAgIE1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG4gICAgU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbiAgICBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4gICAgLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICAgICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgICAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgICAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgICAgICB9XHJcbiAgICB9XG5cbiAgICB2YXIgQm91bmRzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIEJvdW5kcyh4LCB5LCB3LCBoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVmdCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMudG9wID0geTtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHc7XHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgQm91bmRzLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoeCwgeSwgdywgaCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEJvdW5kcyh0aGlzLmxlZnQgKyB4LCB0aGlzLnRvcCArIHksIHRoaXMud2lkdGggKyB3LCB0aGlzLmhlaWdodCArIGgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQm91bmRzLmZyb21DbGllbnRSZWN0ID0gZnVuY3Rpb24gKGNsaWVudFJlY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHMoY2xpZW50UmVjdC5sZWZ0LCBjbGllbnRSZWN0LnRvcCwgY2xpZW50UmVjdC53aWR0aCwgY2xpZW50UmVjdC5oZWlnaHQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEJvdW5kcztcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgcGFyc2VCb3VuZHMgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHJldHVybiBCb3VuZHMuZnJvbUNsaWVudFJlY3Qobm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIHBhcnNlRG9jdW1lbnRTaXplID0gZnVuY3Rpb24gKGRvY3VtZW50KSB7XHJcbiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xyXG4gICAgICAgIHZhciBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgaWYgKCFib2R5IHx8ICFkb2N1bWVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCBkb2N1bWVudCBzaXplXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLm1heChNYXRoLm1heChib2R5LnNjcm9sbFdpZHRoLCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGgpLCBNYXRoLm1heChib2R5Lm9mZnNldFdpZHRoLCBkb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgpLCBNYXRoLm1heChib2R5LmNsaWVudFdpZHRoLCBkb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpKTtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgoTWF0aC5tYXgoYm9keS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpLCBNYXRoLm1heChib2R5Lm9mZnNldEhlaWdodCwgZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCksIE1hdGgubWF4KGJvZHkuY2xpZW50SGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHMoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICB9O1xuXG4gICAgLypcbiAgICAgKiBjc3MtbGluZS1icmVhayAxLjEuMSA8aHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Nzcy1saW5lLWJyZWFrI3JlYWRtZT5cbiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMTkgTmlrbGFzIHZvbiBIZXJ0emVuIDxodHRwczovL2hlcnR6ZW4uY29tPlxuICAgICAqIFJlbGVhc2VkIHVuZGVyIE1JVCBMaWNlbnNlXG4gICAgICovXG4gICAgdmFyIHRvQ29kZVBvaW50cyA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICB2YXIgY29kZVBvaW50cyA9IFtdO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICB2YXIgbGVuZ3RoID0gc3RyLmxlbmd0aDtcclxuICAgICAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzdHIuY2hhckNvZGVBdChpKyspO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPj0gMHhkODAwICYmIHZhbHVlIDw9IDB4ZGJmZiAmJiBpIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXh0cmEgPSBzdHIuY2hhckNvZGVBdChpKyspO1xyXG4gICAgICAgICAgICAgICAgaWYgKChleHRyYSAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGVQb2ludHMucHVzaCgoKHZhbHVlICYgMHgzZmYpIDw8IDEwKSArIChleHRyYSAmIDB4M2ZmKSArIDB4MTAwMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZVBvaW50cy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnRzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2RlUG9pbnRzO1xyXG4gICAgfTtcclxuICAgIHZhciBmcm9tQ29kZVBvaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb2RlUG9pbnRzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgY29kZVBvaW50c1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoU3RyaW5nLmZyb21Db2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50LmFwcGx5KFN0cmluZywgY29kZVBvaW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsZW5ndGggPSBjb2RlUG9pbnRzLmxlbmd0aDtcclxuICAgICAgICBpZiAoIWxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb2RlVW5pdHMgPSBbXTtcclxuICAgICAgICB2YXIgaW5kZXggPSAtMTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XHJcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGNvZGVQb2ludCA9IGNvZGVQb2ludHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZmZmZikge1xyXG4gICAgICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goY29kZVBvaW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwO1xyXG4gICAgICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goKGNvZGVQb2ludCA+PiAxMCkgKyAweGQ4MDAsIGNvZGVQb2ludCAlIDB4NDAwICsgMHhkYzAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBsZW5ndGggfHwgY29kZVVuaXRzLmxlbmd0aCA+IDB4NDAwMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlVW5pdHMpO1xyXG4gICAgICAgICAgICAgICAgY29kZVVuaXRzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbiAgICB2YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XHJcbiAgICAvLyBVc2UgYSBsb29rdXAgdGFibGUgdG8gZmluZCB0aGUgaW5kZXguXHJcbiAgICB2YXIgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7XHJcbiAgICB9XHJcbiAgICB2YXIgZGVjb2RlID0gZnVuY3Rpb24gKGJhc2U2NCkge1xyXG4gICAgICAgIHZhciBidWZmZXJMZW5ndGggPSBiYXNlNjQubGVuZ3RoICogMC43NSwgbGVuID0gYmFzZTY0Lmxlbmd0aCwgaSwgcCA9IDAsIGVuY29kZWQxLCBlbmNvZGVkMiwgZW5jb2RlZDMsIGVuY29kZWQ0O1xyXG4gICAgICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDFdID09PSAnPScpIHtcclxuICAgICAgICAgICAgYnVmZmVyTGVuZ3RoLS07XHJcbiAgICAgICAgICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDJdID09PSAnPScpIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBidWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuc2xpY2UgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgID8gbmV3IEFycmF5QnVmZmVyKGJ1ZmZlckxlbmd0aClcclxuICAgICAgICAgICAgOiBuZXcgQXJyYXkoYnVmZmVyTGVuZ3RoKTtcclxuICAgICAgICB2YXIgYnl0ZXMgPSBBcnJheS5pc0FycmF5KGJ1ZmZlcikgPyBidWZmZXIgOiBuZXcgVWludDhBcnJheShidWZmZXIpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xyXG4gICAgICAgICAgICBlbmNvZGVkMSA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpKV07XHJcbiAgICAgICAgICAgIGVuY29kZWQyID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAxKV07XHJcbiAgICAgICAgICAgIGVuY29kZWQzID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAyKV07XHJcbiAgICAgICAgICAgIGVuY29kZWQ0ID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAzKV07XHJcbiAgICAgICAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDEgPDwgMikgfCAoZW5jb2RlZDIgPj4gNCk7XHJcbiAgICAgICAgICAgIGJ5dGVzW3ArK10gPSAoKGVuY29kZWQyICYgMTUpIDw8IDQpIHwgKGVuY29kZWQzID4+IDIpO1xyXG4gICAgICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMyAmIDMpIDw8IDYpIHwgKGVuY29kZWQ0ICYgNjMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgfTtcclxuICAgIHZhciBwb2x5VWludDE2QXJyYXkgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGJ5dGVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICBieXRlcy5wdXNoKChidWZmZXJbaSArIDFdIDw8IDgpIHwgYnVmZmVyW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xyXG4gICAgfTtcclxuICAgIHZhciBwb2x5VWludDMyQXJyYXkgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGJ5dGVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICBieXRlcy5wdXNoKChidWZmZXJbaSArIDNdIDw8IDI0KSB8IChidWZmZXJbaSArIDJdIDw8IDE2KSB8IChidWZmZXJbaSArIDFdIDw8IDgpIHwgYnVmZmVyW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xyXG4gICAgfTtcblxuICAgIC8qKiBTaGlmdCBzaXplIGZvciBnZXR0aW5nIHRoZSBpbmRleC0yIHRhYmxlIG9mZnNldC4gKi9cclxuICAgIHZhciBVVFJJRTJfU0hJRlRfMiA9IDU7XHJcbiAgICAvKiogU2hpZnQgc2l6ZSBmb3IgZ2V0dGluZyB0aGUgaW5kZXgtMSB0YWJsZSBvZmZzZXQuICovXHJcbiAgICB2YXIgVVRSSUUyX1NISUZUXzEgPSA2ICsgNTtcclxuICAgIC8qKlxyXG4gICAgICogU2hpZnQgc2l6ZSBmb3Igc2hpZnRpbmcgbGVmdCB0aGUgaW5kZXggYXJyYXkgdmFsdWVzLlxyXG4gICAgICogSW5jcmVhc2VzIHBvc3NpYmxlIGRhdGEgc2l6ZSB3aXRoIDE2LWJpdCBpbmRleCB2YWx1ZXMgYXQgdGhlIGNvc3RcclxuICAgICAqIG9mIGNvbXBhY3RhYmlsaXR5LlxyXG4gICAgICogVGhpcyByZXF1aXJlcyBkYXRhIGJsb2NrcyB0byBiZSBhbGlnbmVkIGJ5IFVUUklFMl9EQVRBX0dSQU5VTEFSSVRZLlxyXG4gICAgICovXHJcbiAgICB2YXIgVVRSSUUyX0lOREVYX1NISUZUID0gMjtcclxuICAgIC8qKlxyXG4gICAgICogRGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0d28gc2hpZnQgc2l6ZXMsXHJcbiAgICAgKiBmb3IgZ2V0dGluZyBhbiBpbmRleC0xIG9mZnNldCBmcm9tIGFuIGluZGV4LTIgb2Zmc2V0LiA2PTExLTVcclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9TSElGVF8xXzIgPSBVVFJJRTJfU0hJRlRfMSAtIFVUUklFMl9TSElGVF8yO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgcGFydCBvZiB0aGUgaW5kZXgtMiB0YWJsZSBmb3IgVStEODAwLi5VK0RCRkYgc3RvcmVzIHZhbHVlcyBmb3JcclxuICAgICAqIGxlYWQgc3Vycm9nYXRlIGNvZGUgX3VuaXRzXyBub3QgY29kZSBfcG9pbnRzXy5cclxuICAgICAqIFZhbHVlcyBmb3IgbGVhZCBzdXJyb2dhdGUgY29kZSBfcG9pbnRzXyBhcmUgaW5kZXhlZCB3aXRoIHRoaXMgcG9ydGlvbiBvZiB0aGUgdGFibGUuXHJcbiAgICAgKiBMZW5ndGg9MzI9MHgyMD0weDQwMD4+VVRSSUUyX1NISUZUXzIuIChUaGVyZSBhcmUgMTAyND0weDQwMCBsZWFkIHN1cnJvZ2F0ZXMuKVxyXG4gICAgICovXHJcbiAgICB2YXIgVVRSSUUyX0xTQ1BfSU5ERVhfMl9PRkZTRVQgPSAweDEwMDAwID4+IFVUUklFMl9TSElGVF8yO1xyXG4gICAgLyoqIE51bWJlciBvZiBlbnRyaWVzIGluIGEgZGF0YSBibG9jay4gMzI9MHgyMCAqL1xyXG4gICAgdmFyIFVUUklFMl9EQVRBX0JMT0NLX0xFTkdUSCA9IDEgPDwgVVRSSUUyX1NISUZUXzI7XHJcbiAgICAvKiogTWFzayBmb3IgZ2V0dGluZyB0aGUgbG93ZXIgYml0cyBmb3IgdGhlIGluLWRhdGEtYmxvY2sgb2Zmc2V0LiAqL1xyXG4gICAgdmFyIFVUUklFMl9EQVRBX01BU0sgPSBVVFJJRTJfREFUQV9CTE9DS19MRU5HVEggLSAxO1xyXG4gICAgdmFyIFVUUklFMl9MU0NQX0lOREVYXzJfTEVOR1RIID0gMHg0MDAgPj4gVVRSSUUyX1NISUZUXzI7XHJcbiAgICAvKiogQ291bnQgdGhlIGxlbmd0aHMgb2YgYm90aCBCTVAgcGllY2VzLiAyMDgwPTB4ODIwICovXHJcbiAgICB2YXIgVVRSSUUyX0lOREVYXzJfQk1QX0xFTkdUSCA9IFVUUklFMl9MU0NQX0lOREVYXzJfT0ZGU0VUICsgVVRSSUUyX0xTQ1BfSU5ERVhfMl9MRU5HVEg7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSAyLWJ5dGUgVVRGLTggdmVyc2lvbiBvZiB0aGUgaW5kZXgtMiB0YWJsZSBmb2xsb3dzIGF0IG9mZnNldCAyMDgwPTB4ODIwLlxyXG4gICAgICogTGVuZ3RoIDMyPTB4MjAgZm9yIGxlYWQgYnl0ZXMgQzAuLkRGLCByZWdhcmRsZXNzIG9mIFVUUklFMl9TSElGVF8yLlxyXG4gICAgICovXHJcbiAgICB2YXIgVVRSSUUyX1VURjhfMkJfSU5ERVhfMl9PRkZTRVQgPSBVVFJJRTJfSU5ERVhfMl9CTVBfTEVOR1RIO1xyXG4gICAgdmFyIFVUUklFMl9VVEY4XzJCX0lOREVYXzJfTEVOR1RIID0gMHg4MDAgPj4gNjsgLyogVSswODAwIGlzIHRoZSBmaXJzdCBjb2RlIHBvaW50IGFmdGVyIDItYnl0ZSBVVEYtOCAqL1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgaW5kZXgtMSB0YWJsZSwgb25seSB1c2VkIGZvciBzdXBwbGVtZW50YXJ5IGNvZGUgcG9pbnRzLCBhdCBvZmZzZXQgMjExMj0weDg0MC5cclxuICAgICAqIFZhcmlhYmxlIGxlbmd0aCwgZm9yIGNvZGUgcG9pbnRzIHVwIHRvIGhpZ2hTdGFydCwgd2hlcmUgdGhlIGxhc3Qgc2luZ2xlLXZhbHVlIHJhbmdlIHN0YXJ0cy5cclxuICAgICAqIE1heGltdW0gbGVuZ3RoIDUxMj0weDIwMD0weDEwMDAwMD4+VVRSSUUyX1NISUZUXzEuXHJcbiAgICAgKiAoRm9yIDB4MTAwMDAwIHN1cHBsZW1lbnRhcnkgY29kZSBwb2ludHMgVSsxMDAwMC4uVSsxMGZmZmYuKVxyXG4gICAgICpcclxuICAgICAqIFRoZSBwYXJ0IG9mIHRoZSBpbmRleC0yIHRhYmxlIGZvciBzdXBwbGVtZW50YXJ5IGNvZGUgcG9pbnRzIHN0YXJ0c1xyXG4gICAgICogYWZ0ZXIgdGhpcyBpbmRleC0xIHRhYmxlLlxyXG4gICAgICpcclxuICAgICAqIEJvdGggdGhlIGluZGV4LTEgdGFibGUgYW5kIHRoZSBmb2xsb3dpbmcgcGFydCBvZiB0aGUgaW5kZXgtMiB0YWJsZVxyXG4gICAgICogYXJlIG9taXR0ZWQgY29tcGxldGVseSBpZiB0aGVyZSBpcyBvbmx5IEJNUCBkYXRhLlxyXG4gICAgICovXHJcbiAgICB2YXIgVVRSSUUyX0lOREVYXzFfT0ZGU0VUID0gVVRSSUUyX1VURjhfMkJfSU5ERVhfMl9PRkZTRVQgKyBVVFJJRTJfVVRGOF8yQl9JTkRFWF8yX0xFTkdUSDtcclxuICAgIC8qKlxyXG4gICAgICogTnVtYmVyIG9mIGluZGV4LTEgZW50cmllcyBmb3IgdGhlIEJNUC4gMzI9MHgyMFxyXG4gICAgICogVGhpcyBwYXJ0IG9mIHRoZSBpbmRleC0xIHRhYmxlIGlzIG9taXR0ZWQgZnJvbSB0aGUgc2VyaWFsaXplZCBmb3JtLlxyXG4gICAgICovXHJcbiAgICB2YXIgVVRSSUUyX09NSVRURURfQk1QX0lOREVYXzFfTEVOR1RIID0gMHgxMDAwMCA+PiBVVFJJRTJfU0hJRlRfMTtcclxuICAgIC8qKiBOdW1iZXIgb2YgZW50cmllcyBpbiBhbiBpbmRleC0yIGJsb2NrLiA2ND0weDQwICovXHJcbiAgICB2YXIgVVRSSUUyX0lOREVYXzJfQkxPQ0tfTEVOR1RIID0gMSA8PCBVVFJJRTJfU0hJRlRfMV8yO1xyXG4gICAgLyoqIE1hc2sgZm9yIGdldHRpbmcgdGhlIGxvd2VyIGJpdHMgZm9yIHRoZSBpbi1pbmRleC0yLWJsb2NrIG9mZnNldC4gKi9cclxuICAgIHZhciBVVFJJRTJfSU5ERVhfMl9NQVNLID0gVVRSSUUyX0lOREVYXzJfQkxPQ0tfTEVOR1RIIC0gMTtcclxuICAgIHZhciBzbGljZTE2ID0gZnVuY3Rpb24gKHZpZXcsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICBpZiAodmlldy5zbGljZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmlldy5zbGljZShzdGFydCwgZW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50MTZBcnJheShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh2aWV3LCBzdGFydCwgZW5kKSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIHNsaWNlMzIgPSBmdW5jdGlvbiAodmlldywgc3RhcnQsIGVuZCkge1xyXG4gICAgICAgIGlmICh2aWV3LnNsaWNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2aWV3LnNsaWNlKHN0YXJ0LCBlbmQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHZpZXcsIHN0YXJ0LCBlbmQpKTtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlVHJpZUZyb21CYXNlNjQgPSBmdW5jdGlvbiAoYmFzZTY0KSB7XHJcbiAgICAgICAgdmFyIGJ1ZmZlciA9IGRlY29kZShiYXNlNjQpO1xyXG4gICAgICAgIHZhciB2aWV3MzIgPSBBcnJheS5pc0FycmF5KGJ1ZmZlcikgPyBwb2x5VWludDMyQXJyYXkoYnVmZmVyKSA6IG5ldyBVaW50MzJBcnJheShidWZmZXIpO1xyXG4gICAgICAgIHZhciB2aWV3MTYgPSBBcnJheS5pc0FycmF5KGJ1ZmZlcikgPyBwb2x5VWludDE2QXJyYXkoYnVmZmVyKSA6IG5ldyBVaW50MTZBcnJheShidWZmZXIpO1xyXG4gICAgICAgIHZhciBoZWFkZXJMZW5ndGggPSAyNDtcclxuICAgICAgICB2YXIgaW5kZXggPSBzbGljZTE2KHZpZXcxNiwgaGVhZGVyTGVuZ3RoIC8gMiwgdmlldzMyWzRdIC8gMik7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB2aWV3MzJbNV0gPT09IDJcclxuICAgICAgICAgICAgPyBzbGljZTE2KHZpZXcxNiwgKGhlYWRlckxlbmd0aCArIHZpZXczMls0XSkgLyAyKVxyXG4gICAgICAgICAgICA6IHNsaWNlMzIodmlldzMyLCBNYXRoLmNlaWwoKGhlYWRlckxlbmd0aCArIHZpZXczMls0XSkgLyA0KSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUcmllKHZpZXczMlswXSwgdmlldzMyWzFdLCB2aWV3MzJbMl0sIHZpZXczMlszXSwgaW5kZXgsIGRhdGEpO1xyXG4gICAgfTtcclxuICAgIHZhciBUcmllID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFRyaWUoaW5pdGlhbFZhbHVlLCBlcnJvclZhbHVlLCBoaWdoU3RhcnQsIGhpZ2hWYWx1ZUluZGV4LCBpbmRleCwgZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5lcnJvclZhbHVlID0gZXJyb3JWYWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5oaWdoU3RhcnQgPSBoaWdoU3RhcnQ7XHJcbiAgICAgICAgICAgIHRoaXMuaGlnaFZhbHVlSW5kZXggPSBoaWdoVmFsdWVJbmRleDtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXQgdGhlIHZhbHVlIGZvciBhIGNvZGUgcG9pbnQgYXMgc3RvcmVkIGluIHRoZSBUcmllLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIGNvZGVQb2ludCB0aGUgY29kZSBwb2ludFxyXG4gICAgICAgICAqIEByZXR1cm4gdGhlIHZhbHVlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgVHJpZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGNvZGVQb2ludCkge1xyXG4gICAgICAgICAgICB2YXIgaXg7XHJcbiAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8IDB4MGQ4MDAgfHwgKGNvZGVQb2ludCA+IDB4MGRiZmYgJiYgY29kZVBvaW50IDw9IDB4MGZmZmYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT3JkaW5hcnkgQk1QIGNvZGUgcG9pbnQsIGV4Y2x1ZGluZyBsZWFkaW5nIHN1cnJvZ2F0ZXMuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQk1QIHVzZXMgYSBzaW5nbGUgbGV2ZWwgbG9va3VwLiAgQk1QIGluZGV4IHN0YXJ0cyBhdCBvZmZzZXQgMCBpbiB0aGUgVHJpZTIgaW5kZXguXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gMTYgYml0IGRhdGEgaXMgc3RvcmVkIGluIHRoZSBpbmRleCBhcnJheSBpdHNlbGYuXHJcbiAgICAgICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W2NvZGVQb2ludCA+PiBVVFJJRTJfU0hJRlRfMl07XHJcbiAgICAgICAgICAgICAgICAgICAgaXggPSAoaXggPDwgVVRSSUUyX0lOREVYX1NISUZUKSArIChjb2RlUG9pbnQgJiBVVFJJRTJfREFUQV9NQVNLKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW2l4XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPD0gMHhmZmZmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTGVhZCBTdXJyb2dhdGUgQ29kZSBQb2ludC4gIEEgU2VwYXJhdGUgaW5kZXggc2VjdGlvbiBpcyBzdG9yZWQgZm9yXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGVhZCBzdXJyb2dhdGUgY29kZSB1bml0cyBhbmQgY29kZSBwb2ludHMuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICBUaGUgbWFpbiBpbmRleCBoYXMgdGhlIGNvZGUgdW5pdCBkYXRhLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgRm9yIHRoaXMgZnVuY3Rpb24sIHdlIG5lZWQgdGhlIGNvZGUgcG9pbnQgZGF0YS5cclxuICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiB0aGlzIGV4cHJlc3Npb24gY291bGQgYmUgcmVmYWN0b3JlZCBmb3Igc2xpZ2h0bHkgaW1wcm92ZWQgZWZmaWNpZW5jeSwgYnV0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgc3Vycm9nYXRlIGNvZGUgcG9pbnRzIHdpbGwgYmUgc28gcmFyZSBpbiBwcmFjdGljZSB0aGF0IGl0J3Mgbm90IHdvcnRoIGl0LlxyXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gdGhpcy5pbmRleFtVVFJJRTJfTFNDUF9JTkRFWF8yX09GRlNFVCArICgoY29kZVBvaW50IC0gMHhkODAwKSA+PiBVVFJJRTJfU0hJRlRfMildO1xyXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gKGl4IDw8IFVUUklFMl9JTkRFWF9TSElGVCkgKyAoY29kZVBvaW50ICYgVVRSSUUyX0RBVEFfTUFTSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtpeF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50IDwgdGhpcy5oaWdoU3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTdXBwbGVtZW50YWwgY29kZSBwb2ludCwgdXNlIHR3by1sZXZlbCBsb29rdXAuXHJcbiAgICAgICAgICAgICAgICAgICAgaXggPSBVVFJJRTJfSU5ERVhfMV9PRkZTRVQgLSBVVFJJRTJfT01JVFRFRF9CTVBfSU5ERVhfMV9MRU5HVEggKyAoY29kZVBvaW50ID4+IFVUUklFMl9TSElGVF8xKTtcclxuICAgICAgICAgICAgICAgICAgICBpeCA9IHRoaXMuaW5kZXhbaXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGl4ICs9IChjb2RlUG9pbnQgPj4gVVRSSUUyX1NISUZUXzIpICYgVVRSSUUyX0lOREVYXzJfTUFTSztcclxuICAgICAgICAgICAgICAgICAgICBpeCA9IHRoaXMuaW5kZXhbaXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gKGl4IDw8IFVUUklFMl9JTkRFWF9TSElGVCkgKyAoY29kZVBvaW50ICYgVVRSSUUyX0RBVEFfTUFTSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtpeF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4MTBmZmZmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVt0aGlzLmhpZ2hWYWx1ZUluZGV4XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBGYWxsIHRocm91Z2guICBUaGUgY29kZSBwb2ludCBpcyBvdXRzaWRlIG9mIHRoZSBsZWdhbCByYW5nZSBvZiAwLi4weDEwZmZmZi5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JWYWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBUcmllO1xyXG4gICAgfSgpKTtcblxuICAgIHZhciBiYXNlNjQgPSAnS3dBQUFBQUFBQUFBQ0E0QUlEb0FBUEFmQUFBQ0FBQUFBQUFJQUJBQUdBQkFBRWdBVUFCWUFGNEFaZ0JlQUdZQVlBQm9BSEFBZUFCZUFHWUFmQUNFQUlBQWlBQ1FBSmdBb0FDb0FLMEF0UUM5QU1VQVhnQm1BRjRBWmdCZUFHWUF6UURWQUY0QVpnRFJBTmtBM2dEbUFPd0E5QUQ4QUFRQkRBRVVBUm9CSWdHQUFJZ0FKd0V2QVRjQlB3RkZBVTBCVEFGVUFWd0JaQUZzQVhNQmV3R0RBVEFBaXdHVEFac0JvZ0drQWF3QnRBRzhBY0lCeWdIU0Fkb0I0QUhvQWZBQitBSCtBUVlDRGdJV0F2NEJIZ0ltQWk0Q05nSStBa1VDVFFKVEFsc0NZd0pyQW5FQ2VRS0JBazBDaVFLUkFwa0NvUUtvQXJBQ3VBTEFBc1FDekFJd0FOUUMzQUxrQWpBQTdBTDBBdndDQVFNSkF4QURHQU13QUNBREpnTXVBellEUGdPQUFFWURTZ05TQTFJRFVnTmFBMW9EWUFOaUEySURnQUNBQUdvRGdBQnlBM1lEZmdPQUFJUURnQUNLQTVJRG1nT0FBSUFBb2dPcUE0QUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFLOER0d09BQUlBQXZ3UEhBODhEMXdQZkF5QUQ1d1BzQS9RRC9BT0FBSUFBQkFRTUJCSUVnQUFXQkI0RUpnUXVCRE1FSUFNN0JFRUVYZ0JKQkNBRFVRUlpCR0VFYVFRd0FEQUFjUVErQVhrRWdRU0pCSkVFZ0FDWUJJQUFvQVNvQks4RXR3UXdBTDhFeFFTQUFJQUFnQUNBQUlBQWdBQ2dBTTBFWGdCZUFGNEFYZ0JlQUY0QVhnQmVBTlVFWGdEWkJPRUVYZ0RwQlBFRStRUUJCUWtGRVFVWkJTRUZLUVV4QlRVRlBRVkZCVXdGVkFWY0JWNEFZd1ZlQUdzRmN3VjdCWU1GaXdXU0JWNEFtZ1dnQmFjRlhnQmVBRjRBWGdCZUFLc0ZYZ0N5QmJFRnVnVzdCY0lGd2dYSUJjSUZ3Z1hRQmRRRjNBWGtCZXNGOHdYN0JRTUdDd1lUQmhzR0l3WXJCak1HT3daZUFEOEdSd1pOQmw0QVZBWmJCbDRBWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdCZUFHTUdYZ0JxQm5FR1hnQmVBRjRBWGdCZUFGNEFYZ0JlQUY0QVhnQjVCb0FHNHdTR0JvNEdrd2FBQUlBREhnUjVBRjRBWGdCZUFKc0dnQUJHQTRBQW93YXJCck1Hc3dhZ0FMc0d3d2JMQmpBQTB3YmFCdG9HM1FiYUJ0b0cyZ2JhQnRvRzJnYmxCdXNHOHdiN0JnTUhDd2NUQnhzSEN3Y2pCeXNITUFjMUJ6VUhPZ2RDQjlvR1NnZFNCMW9IWUFmYUJsb0hhQWZhQmxJSDJnYmFCdG9HMmdiYUJ0b0cyZ2JhQmpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhiUWRlQUY0QU5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWQxQjMwSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQjRNSDJnYUtCNjhFZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSThIbHdkZUFKOEhwd2VBQUlBQXJ3ZTNCMTRBWGdDL0I4VUh5Z2N3QU5BSDJBZmdCNEFBNkFmd0J6NEIrQWNBQ0Z3QkNBZ1BDQmNJb2dFWUFSOElKd2lBQUM4SU53Zy9DQ0FEUndoUENGY0lYd2huQ0VvREdnU0FBSUFBZ0FCdkNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJaEFpTENJNElNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2d3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCNTRJTlFjMUI2SUkyZ2FxQ0xJSXVnaUFBSUFBdmdqR0NJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUF5d2lIQVlBQTB3aUFBTmtJM1FqbENPMEk5QWo4Q0lBQWdBQ0FBQUlKQ2drU0NSb0pJZ2tuQ1RZSEx3azNDWllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lBQUlBQUFBRkFBWGdCZUFHQUFjQUJlQUh3QVFBQ1FBS0FBclFDOUFKNEFYZ0JlQUUwQTNnQlJBTjRBN0FEOEFNd0JHZ0VBQUtjQk53RUZBVXdCWEFGNFFraENtRUtuQXJjQ2dBSEhBc0FCejRMQUFjQUJ3QUhBQWQrQzZBQm9BRytDLzRMQUFjQUJ3QUhBQWMrREY0TUFBY0FCNTRNM2d3ZURWNE5uZzNlRGFBQm9BR2dBYUFCb0FHZ0FhQUJvQUdnQWFBQm9BR2dBYUFCb0FHZ0FhQUJvQUdnQWFBQm9BRWVEcUFCVmc2V0RxQUJvUTZnQWFBQm9BSFhEdmNPTncvM0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRG5jUEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUI3Y1BQd2xHQ1U0Sk1BQ0FBSUFBZ0FCV0NWNEpZUW1BQUdrSmNBbDRDWHdKZ0Frd0FEQUFNQUF3QUlnSmdBQ0xDWk1KZ0FDWkNaOEpvd21yQ1lBQXN3a3dBRjRBWGdCOEFJQUF1d2tBQk1NSnlRbUFBTTRKZ0FEVkNUQUFNQUF3QURBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQXF3WVdCTmtJTUFBd0FEQUFNQURkQ2VBSjZBbnVDUjRFOWdrd0FQNEpCUW9OQ2pBQU1BQ0FBQlVLMHdpQUFCMEtKQW9zQ2pRS2dBQXdBRHdLUXdxQUFFc0t2UW1kQ1ZNS1d3b3dBREFBZ0FDQUFMY0VNQUNBQUdNS2dBQnJDakFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBZUJEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUlrRVBRRnpDbm9LaVFTQ0Nvb0trQXFKQkpnS29BcWtDb2tFR0FHc0NyUUt2QXJCQ2pBQU1BREpDdEVLRlFIWkN1RUsvZ0hwQ3ZFS01BQXdBREFBTUFDQUFJd0UrUW93QUlBQVB3RUJDekFBTUFBd0FEQUFNQUNBQUFrTEVRc3dBSUFBUHdFWkN5RUxnQUFPQ0NrTE1BQXhDemtMTUFBd0FEQUFNQUF3QURBQVhnQmVBRUVMTUFBd0FEQUFNQUF3QURBQU1BQXdBRWtMVFF0VkM0QUFYQXRrQzRBQWlRa3dBREFBTUFBd0FEQUFNQUF3QURBQWJBdHhDM2tMZ0F1RkM0c0xNQUF3QUpNTGx3dWZDekFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFwd3N3QURBQU1BQ0FBSUFBZ0FDdkM0QUFnQUNBQUlBQWdBQ0FBTGNMTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUF2d3VBQU1jTGdBQ0FBSUFBZ0FDQUFJQUF5Z3VBQUlBQWdBQ0FBSUFBMFFzd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFOa0xnQUNBQUlBQTRBc3dBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDSkNSNEU2QXN3QURBQWh3SHdDNEFBK0FzQURBZ01FQXd3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUNBQUlBQUdBd2REQ1VNTUFBd0FDME1OUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUXcxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVIUFF3d0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURVSE5RYzFCelVITlFjMUJ6VUhOUWMyQnpBQU1BQTVERFVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFkRkREQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQWdBQ0FBSUFBVFF4U0RGb01NQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FGNEFYZ0JlQUY0QVhnQmVBRjRBWWd4ZUFHb01YZ0J4REhrTWZ3eGVBSVVNWGdCZUFJME1NQUF3QURBQU1BQXdBRjRBWGdDVkRKME1NQUF3QURBQU1BQmVBRjRBcFF4ZUFLc01zd3k3REY0QXdneTlETW9NWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdEUkROa01lUUJxQ2VBTTNBeDhBT1lNN0F6MERQZ01YZ0JlQUY0QVhnQmVBRjRBWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdDZ0FBQU5vQUFIRFE0TkZnMHdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUFlRFNZTk1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUlBQWdBQ0FBSUFBZ0FDQUFDNE5NQUJlQUY0QU5nMHdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBRDROUmcxT0RWWU5YZzFtRFRBQWJRMHdBREFBTUFBd0FEQUFNQUF3QURBQTJnYmFCdG9HMmdiYUJ0b0cyZ2JhQm5VTmVnM0NCWUFOd2dXRkRkb0dqQTNhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYVVEWndOcEEyb0Rkb0cyZ2F3RGJjTnZ3M0hEZG9HMmdiUERkWU4zQTNmRGVZTjJnYnNEZk1OMmdiYUJ2b04vZzNhQmdZT0RnN2FCbDRBWGdCZUFCWU9YZ0JlQUNVRzJnWWVEbDRBSkE1ZUFDd08ydzNhQnRvR01RNDVEdG9HMmdiYUJ0b0dRUTdhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnWkpEalVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCMUVPMmdZMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWRaRGpVSE5RYzFCelVITlFjMUIyRU9OUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhhQTQxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCM0FPMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdZMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCMkVPMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdaSkR0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJra09lQTZnQUtBQW9BQXdBREFBTUFBd0FLQUFvQUNnQUtBQW9BQ2dBS0FBZ0E0d0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUQvL3dRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUEwQUF3QUJBQUVBQWdBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBS0FCTUFGd0FlQUJzQUdnQWVBQmNBRmdBU0FCNEFHd0FZQUE4QUdBQWNBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBR0FBWUFCNEFIZ0FlQUJNQUhnQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUZnQWJBQklBSGdBZUFCNEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCWUFEUUFSQUI0QUJBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFVQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFrQUZnQWFBQnNBR3dBYkFCNEFIUUFkQUI0QVR3QVhBQjRBRFFBZUFCNEFHZ0FiQUU4QVR3QU9BRkFBSFFBZEFCMEFUd0JQQUJjQVR3QlBBRThBRmdCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCMEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBQjRBSGdBZUFCNEFVQUJRQUZBQVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQWVBQjRBSGdBZUFGQUFUd0JBQUU4QVR3QlBBRUFBVHdCUUFGQUFUd0JRQUI0QUhnQWVBQjRBSGdBZUFCMEFIUUFkQUIwQUhnQWRBQjRBRGdCUUFGQUFVQUJRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUI0QVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBSkFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFrQUNRQUpBQWtBQ1FBSkFBa0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQWVBQjRBSGdBZUFGQUFIZ0FlQUI0QUt3QXJBRkFBVUFCUUFGQUFHQUJRQUNzQUt3QXJBQ3NBSGdBZUFGQUFIZ0JRQUZBQVVBQXJBRkFBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBQkFBRUFBUUFCQUFFQUFRQUJBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFBZUFCNEFIZ0FlQUI0QUhnQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FZQUEwQUt3QXJBQjRBSGdBYkFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFEUUFFQUI0QUJBQUVBQjRBQkFBRUFCTUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFLd0FyQUNzQUt3QXJBRllBVmdCV0FCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUdnQWFBQm9BR0FBWUFCNEFIZ0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUV3QUVBQ3NBRXdBVEFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUJMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUJvQUdRQVpBQjRBVUFCUUFBUUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQk1BVUFBRUFBUUFCQUFFQUFRQUJBQUVBQjRBSGdBRUFBUUFCQUFFQUFRQUJBQlFBRkFBQkFBRUFCNEFCQUFFQUFRQUJBQlFBRkFBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCUUFGQUFVQUFlQUI0QVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FlQUZBQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBVUFCUUFCNEFIZ0FZQUJNQVVBQXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFGQUFCQUFFQUFRQUJBQUVBRkFBQkFBRUFBUUFVQUFFQUFRQUJBQUVBQVFBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBckFDc0FIZ0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFlQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQU5BQTBBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQUt3QXJBQ3NBVUFCUUFGQUFVQUFyQUNzQUJBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQVFBQkFBckFDc0FCQUFFQUFRQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQXJBQ3NBS3dBckFGQUFVQUFyQUZBQVVBQlFBQVFBQkFBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JRQUZBQUdnQWFBRkFBVUFCUUFGQUFVQUJNQUI0QUd3QlFBQjRBS3dBckFDc0FCQUFFQUFRQUt3QlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFBckFGQUFVQUFyQUZBQVVBQXJBQ3NBQkFBckFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFBUUFCQUFyQUNzQUJBQUVBQVFBS3dBckFDc0FCQUFyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQUt3QlFBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QUVBQVFBVUFCUUFGQUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUFyQUZBQVVBQlFBRkFBVUFBckFDc0FCQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQ3NBQkFBRUFBUUFLd0FyQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUFRQUJBQXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBZUFCc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFBUUFCQUFFQUFRQUJBQUVBQ3NBQkFBRUFBUUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBS3dBckFBUUFCQUFyQUNzQUJBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBckFDc0FLd0FyQUZBQVVBQXJBRkFBVUFCUUFBUUFCQUFyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QWVBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QUVBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dCUUFGQUFVQUFyQUZBQVVBQlFBRkFBS3dBckFDc0FVQUJRQUNzQVVBQXJBRkFBVUFBckFDc0FLd0JRQUZBQUt3QXJBQ3NBVUFCUUFGQUFLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FFQUFRQUJBQUVBQVFBS3dBckFDc0FCQUFFQUFRQUt3QUVBQVFBQkFBRUFDc0FLd0JRQUNzQUt3QXJBQ3NBS3dBckFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUZBQVVBQlFBQjRBSGdBZUFCNEFIZ0FlQUJzQUhnQXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUNzQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBckFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dCUUFGQUFCQUFFQUNzQUt3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUI0QVVBQUVBQVFBQkFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFDc0FLd0FFQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQ3NBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFGQUFLd0JRQUZBQUJBQUVBQ3NBS3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUNzQUJBQUVBQVFBQkFCUUFCNEFLd0FyQUNzQUt3QlFBRkFBVUFBRUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUNzQUt3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQm9BVUFCUUFGQUFVQUJRQUZBQUt3QXJBQVFBQkFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FFQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUt3QUVBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQVFBQkFBZUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFBcUFGd0FYQUFxQUNvQUtnQXFBQ29BS2dBcUFDc0FLd0FyQUNzQUd3QmNBRndBWEFCY0FGd0FYQUJjQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FlQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQURRQU5BQ3NBS3dBckFDc0FLd0JjQUZ3QUt3QmNBQ3NBS3dCY0FGd0FLd0JjQUNzQUt3QmNBQ3NBS3dBckFDc0FLd0FyQUZ3QVhBQmNBRndBS3dCY0FGd0FYQUJjQUZ3QVhBQmNBQ3NBWEFCY0FGd0FLd0JjQUNzQVhBQXJBQ3NBWEFCY0FDc0FYQUJjQUZ3QVhBQXFBRndBWEFBcUFDb0FLZ0FxQUNvQUtnQXJBQ29BS2dCY0FDc0FLd0JjQUZ3QVhBQmNBRndBS3dCY0FDc0FLZ0FxQUNvQUtnQXFBQ29BS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUZ3QVhBQmNBRndBVUFBT0FBNEFEZ0FPQUI0QURnQU9BQWtBRGdBT0FBMEFDUUFUQUJNQUV3QVRBQk1BQ1FBZUFCTUFIZ0FlQUI0QUJBQUVBQjRBSGdBZUFCNEFIZ0FlQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQU5BQVFBSGdBRUFCNEFCQUFXQUJFQUZnQVJBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQU5BQVFBQkFBRUFBUUFCQUFOQUFRQUJBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FEUUFOQUI0QUhnQWVBQjRBSGdBZUFBUUFIZ0FlQUI0QUhnQWVBQjRBS3dBZUFCNEFEZ0FPQUEwQURnQWVBQjRBSGdBZUFCNEFDUUFKQUNzQUt3QXJBQ3NBS3dCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFGd0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FOQUEwQUhnQWVBQjRBSGdCY0FGd0FYQUJjQUZ3QVhBQXFBQ29BS2dBcUFGd0FYQUJjQUZ3QUtnQXFBQ29BWEFBcUFDb0FLZ0JjQUZ3QUtnQXFBQ29BS2dBcUFDb0FLZ0JjQUZ3QVhBQXFBQ29BS2dBcUFGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BWEFBcUFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLZ0FxQUNvQUtnQXFBQ29BVUFCUUFGQUFVQUJRQUZBQUt3QlFBQ3NBS3dBckFDc0FLd0JRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQWVBRkFBVUFCUUFGQUFXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQXJBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBS3dCUUFGQUFVQUJRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FFQUFRQUJBQWVBQTBBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FOQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFCNEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCWUFFUUFyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBRFFBTkFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBMEFEUUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBQ3NBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BRFFBTkFCVUFYQUFOQUI0QURRQWJBRndBS2dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBVEFCTUFEUUFOQUE0QUhnQVRBQk1BSGdBRUFBUUFCQUFKQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQlFBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBZUFDc0FLd0FyQUJNQUV3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBQ3NBS3dCY0FGd0FYQUJjQUZ3QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FDc0FLd0FyQUNzQVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JjQUNzQUt3QXJBQ29BS2dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFDc0FLd0FlQUI0QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBckFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FyQUNzQUJBQkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBckFDc0FLZ0FxQUNvQUtnQXFBQ29BS2dCY0FDb0FLZ0FxQUNvQUtnQXFBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FEUUFOQUI0QURRQU5BQTBBRFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDc0FLd0FyQUFRQUJBQUVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQVVBQlFBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QU5BQTBBRFFBTkFBMEFTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QlFBRkFBVUFCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQU5BQTBBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUhnQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFGQUFVQUJRQUZBQUJBQlFBRkFBVUFCUUFBUUFCQUFFQUZBQVVBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QUVBQVFBQkFBRUFBUUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBS3dCUUFDc0FVQUFyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQUhnQWVBQjRBVUFCUUFGQUFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQVVBQlFBRkFBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFDc0FVQUJRQUZBQUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUE0QUhnQXJBQTBBRFFBTkFBMEFEUUFOQUEwQUNRQU5BQTBBRFFBSUFBUUFDd0FFQUFRQURRQUpBQTBBRFFBTUFCMEFIUUFlQUJjQUZ3QVdBQmNBRndBWEFCWUFGd0FkQUIwQUhnQWVBQlFBRkFBVUFBMEFBUUFCQUFRQUJBQUVBQVFBQkFBSkFCb0FHZ0FhQUJvQUdnQWFBQm9BR2dBZUFCY0FGd0FkQUJVQUZRQWVBQjRBSGdBZUFCNEFIZ0FZQUJZQUVRQVZBQlVBRlFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FOQUI0QURRQU5BQTBBRFFBZUFBMEFEUUFOQUFjQUhnQWVBQjRBSGdBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFVQUJRQUNzQUt3QlBBRkFBVUFCUUFGQUFVQUFlQUI0QUhnQVdBQkVBVHdCUUFFOEFUd0JQQUU4QVVBQlFBRkFBVUFCUUFCNEFIZ0FlQUJZQUVRQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUd3QWJBQnNBR3dBYkFCc0FHd0FhQUJzQUd3QWJBQnNBR3dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBR3dBYUFCc0FHd0FiQUJzQUdnQWJBQnNBR2dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBR3dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQlFBQm9BSGdBZEFCNEFVQUFlQUJvQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QVR3QWVBRkFBR3dBZUFCNEFVQUJRQUZBQVVBQlFBQjRBSGdBZUFCMEFIUUFlQUZBQUhnQlFBQjRBVUFBZUFGQUFUd0JRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUZBQVVBQlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBQjRBVUFCUUFGQUFVQUJQQUU4QVVBQlFBRkFBVUFCUUFFOEFVQUJRQUU4QVVBQlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUUFGQUFVQUJRQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUhnQWVBRkFBVUFCUUFGQUFUd0FlQUI0QUt3QXJBQ3NBS3dBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FkQUI0QUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZUFCMEFIUUFlQUI0QUhnQWRBQjBBSGdBZUFCMEFIZ0FlQUI0QUhRQWVBQjBBR3dBYkFCNEFIUUFlQUI0QUhnQWVBQjBBSGdBZUFCMEFIUUFkQUIwQUhnQWVBQjBBSGdBZEFCNEFIUUFkQUIwQUhRQWRBQjBBSGdBZEFCNEFIZ0FlQUI0QUhnQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZUFCNEFIZ0FkQUI0QUhnQWVBQjRBSGdBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWRBQjRBSGdBZEFCMEFIUUFkQUI0QUhnQWRBQjBBSGdBZUFCMEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FkQUIwQUhnQWVBQjBBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUIwQUhnQWVBQjRBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjBBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUJRQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FXQUJFQUZnQVJBQjRBSGdBZUFCNEFIZ0FlQUIwQUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUNVQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUZnQVJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDVUFKUUFsQUNVQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUJQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlFBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSGdBZUFCMEFIUUFkQUIwQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjBBSGdBZEFCMEFIUUFkQUIwQUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjBBSGdBZUFCMEFIUUFlQUI0QUhnQWVBQjBBSFFBZUFCNEFIZ0FlQUIwQUhRQWRBQjRBSGdBZEFCNEFIZ0FkQUIwQUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWRBQjBBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSlFBbEFDVUFKUUFlQUIwQUhRQWVBQjRBSFFBZUFCNEFIZ0FlQUIwQUhRQWVBQjRBSGdBZUFDVUFKUUFkQUIwQUpRQWVBQ1VBSlFBbEFDQUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUhnQWVBQjRBSGdBZEFCNEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWRBQjRBSFFBZEFCMEFIZ0FkQUNVQUhRQWRBQjRBSFFBZEFCNEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUIwQUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFIUUFkQUIwQUhRQWxBQjRBSlFBbEFDVUFIUUFsQUNVQUhRQWRBQjBBSlFBbEFCMEFIUUFsQUIwQUhRQWxBQ1VBSlFBZUFCMEFIZ0FlQUI0QUhnQWRBQjBBSlFBZEFCMEFIUUFkQUIwQUhRQWxBQ1VBSlFBbEFDVUFIUUFsQUNVQUlBQWxBQjBBSFFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSGdBZUFCNEFKUUFsQUNBQUlBQWdBQ0FBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjRBSGdBZUFCY0FGd0FYQUJjQUZ3QVhBQjRBRXdBVEFDVUFIZ0FlQUI0QUZnQVJBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBV0FCRUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFCWUFFUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUJZQUVRQVdBQkVBRmdBUkFCWUFFUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBRmdBUkFCWUFFUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUJZQUVRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIUUFkQUIwQUhRQWRBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQUVBQVFBQkFBZUFCNEFLd0FyQUNzQUt3QXJBQk1BRFFBTkFBMEFVQUFUQUEwQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBRUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQTBBRFFBTkFBMEFEUUFOQUEwQURRQWVBQTBBRmdBTkFCNEFIZ0FYQUJjQUhnQWVBQmNBRndBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRFFBTkFBMEFEUUFUQUZBQURRQU5BQjRBRFFBTkFCNEFIZ0FlQUI0QUhnQU1BQXdBRFFBTkFBMEFIZ0FOQUEwQUZnQU5BQTBBRFFBTkFBMEFEUUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ3NBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQXJBQ3NBS3dBckFBMEFFUUFSQUNVQUpRQkhBRmNBVndBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFDVUFKUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFGUUFXQUJFQUVRQWxBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQVFBQkFBRUFBUUFCQUFFQUNVQVZ3QlhBRmNBVndBMkFDVUFKUUJYQUZjQVZ3QkhBRWNBSlFBbEFDVUFLd0JSQUZjQVVRQlhBRkVBVndCUkFGY0FVUUJYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGRUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlJBRmNBVVFCWEFGRUFWd0JYQUZjQVZ3QlhBRmNBVVFCWEFGY0FWd0JYQUZjQVZ3QlJBRkVBS3dBckFBUUFCQUFWQUJVQVJ3QkhBRmNBRlFCUkFGY0FVUUJYQUZFQVZ3QlJBRmNBVVFCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRkVBVndCUkFGY0FVUUJYQUZjQVZ3QlhBRmNBVndCUkFGY0FWd0JYQUZjQVZ3QlhBRkVBVVFCWEFGY0FWd0JYQUJVQVVRQkhBRWNBVndBckFDc0FLd0FyQUNzQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBS3dBckFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0FyQUNVQUpRQlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FLd0FyQUNzQUt3QXJBQ1VBSlFBbEFDVUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVRQlJBRkVBVVFCUkFGRUFVUUJSQUZFQVVRQlJBRkVBVVFCUkFGRUFVUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ3NBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUU4QVR3QlBBRThBVHdCUEFFOEFUd0FsQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRWNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUt3QXJBQ3NBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBRFFBVEFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFCQUFFQUFRQUJBQWVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBSGdCUUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFVQUJRQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQWVBQTBBRFFBTkFBMEFEUUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QVVBQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUI0QUhnQWVBQjRBSGdBZUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFVQUJRQUZBQUJBQlFBRkFBVUFCUUFBUUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFlQUI0QUhnQWVBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBSGdBZUFCb0FIZ0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFEZ0FPQUJNQUV3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QU5BQTBBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0FyQUNzQUt3QUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUFlQUI0QUhnQlFBQTRBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQTBBRFFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFDc0FLd0FyQUFRQUhnQWVBQjRBSGdBZUFCNEFEUUFOQUEwQUhnQWVBQjRBSGdBckFGQUFTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQjRBSGdCY0FGd0FYQUJjQUZ3QUtnQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBWEFCY0FGd0FYQUJjQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUFRQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FIZ0FOQUEwQURRQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FLZ0FxQUNvQVhBQXFBQ29BS2dCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFBcUFGd0FLZ0FxQUNvQVhBQmNBQ29BS2dCY0FGd0FYQUJjQUZ3QUtnQXFBRndBS2dCY0FDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FDb0FLZ0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBMEFEUUJRQUZBQVVBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFEUUFFQUFRQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFDc0FLd0FyQUNzQVZBQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlVBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FLd0FyQUNzQUt3QmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BS3dBckFDc0FLd0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUNVQUpRQlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUpRQWxBQ1VBSlFBbEFDVUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUZZQUJBQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBQjRBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0FyQUZZQVZnQldBRllBVmdBckFGWUFLd0JXQUZZQUt3QldBRllBS3dCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFFUUFXQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBYUFCNEFLd0FyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFHQUFSQUJFQUdBQVlBQk1BRXdBV0FCRUFGQUFyQUNzQUt3QXJBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ1VBSlFBbEFDVUFKUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQWxBQ1VBRmdBUkFDVUFKUUFsQUNVQUpRQWxBQ1VBRVFBbEFCRUFLd0FWQUJVQUV3QVRBQ1VBRmdBUkFCWUFFUUFXQUJFQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNzQUpRQWJBQm9BSlFBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQWNBS3dBVEFDVUFKUUFiQUJvQUpRQWxBQllBRVFBbEFDVUFFUUFsQUJFQUpRQlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQlVBRlFBbEFDVUFKUUFUQUNVQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUJZQUpRQVJBQ1VBSlFBbEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndBV0FDVUFFUUFsQUJZQUVRQVJBQllBRVFBUkFCVUFWd0JSQUZFQVVRQlJBRkVBVVFCUkFGRUFVUUJSQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFFY0FSd0FyQUNzQVZ3QlhBRmNBVndCWEFGY0FLd0FyQUZjQVZ3QlhBRmNBVndCWEFDc0FLd0JYQUZjQVZ3QlhBRmNBVndBckFDc0FWd0JYQUZjQUt3QXJBQ3NBR2dBYkFDVUFKUUFsQUJzQUd3QXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QUVBQVFBQkFBUUFCMEFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FEUUFOQUEwQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0JRQUZBQUhnQWVBQjRBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUJBQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQVFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBRFFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQTBBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUFyQUNzQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBQ3NBS3dBckFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBSGdCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBRFFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUI0QVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFCQUFFQUFRQUt3QUVBQVFBS3dBckFDc0FLd0FyQUFRQUJBQUVBQVFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBQkFBRUFBUUFLd0FyQUNzQUt3QUVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQURRQU5BQTBBRFFBTkFBMEFEUUFOQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQjRBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBQTBBRFFBTkFBMEFEUUFOQUJRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FOQUEwQURRQU5BQTBBRFFBTkFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBMEFEUUFlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBZUFCNEFIZ0FOQUEwQURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FOQUEwQURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFlQUE0QVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QUVBRkFBVUFCUUFGQUFEUUFOQUI0QURRQWVBQVFBQkFBRUFCNEFLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVVBQU9BRkFBRFFBTkFBMEFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQU5BQTBBSGdBTkFBMEFIZ0FFQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQUt3QlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBMEFLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFCUUFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFyQUNzQUJBQUVBQ3NBS3dBRUFBUUFCQUFyQUNzQVVBQXJBQ3NBS3dBckFDc0FLd0FFQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQUJBQUVBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFBMEFEUUFOQUEwQUhnQkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBRFFBckFCNEFLd0FyQUFRQUJBQUVBQVFBVUFCUUFCNEFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQU9BQTBBRFFBVEFCTUFIZ0FlQUI0QURRQU5BQTBBRFFBTkFBMEFEUUFOQUEwQURRQU5BQTBBRFFBTkFBMEFVQUJRQUZBQVVBQUVBQVFBS3dBckFBUUFEUUFOQUI0QVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0FyQUNzQUt3QU9BQTRBRGdBT0FBNEFEZ0FPQUE0QURnQU9BQTRBRGdBT0FDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQXJBQ3NBS3dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FYQUJjQUEwQURRQU5BQ29BU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFGQUFCQUFFQUFRQUJBQU9BQjRBRFFBTkFBMEFEUUFPQUI0QUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBVUFCUUFGQUFVQUFyQUNzQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQTBBRFFBTkFDc0FEZ0FPQUE0QURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQUVBRkFBRFFBTkFBMEFEUUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QU9BQk1BVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBRUFDc0FCQUFFQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUJRQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQURRQU5BQTBBRFFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVNBQklBRWdBUXdCREFFTUFVQUJRQUZBQVVBQkRBRkFBVUFCUUFFZ0FRd0JJQUVNQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVNBQkRBRU1BVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCSUFFTUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUNzQUt3QU5BQTBBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUFRQUJBQUVBQVFBQkFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQTBBRFFBTkFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFEUUFlQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRWNBUndBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FlQUFRQUJBQU5BQVFBQkFBRUFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUJBQUVBQVFBQkFBRUFCNEFIZ0FlQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBSGdBZUFBUUFCQUFFQUFRQUJBQUVBQVFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FFQUFRQUJBQUVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQUVBQVFBQkFBZUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFGQUFVQUFyQUNzQVVBQXJBQ3NBVUFCUUFDc0FLd0JRQUZBQVVBQlFBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0JRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FlQUI0QVVBQlFBRkFBVUFCUUFDc0FVQUFyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFlQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFCNEFIZ0FlQUI0QUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBRUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFCQUFlQUI0QURRQU5BQTBBRFFBZUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBckFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBckFDc0FLd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUNzQUt3QXJBQ3NBRmdBV0FGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFBckFGQUFLd0FyQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUFyQUZBQUt3QlFBQ3NBS3dBckFDc0FLd0FyQUZBQUt3QXJBQ3NBS3dCUUFDc0FVQUFyQUZBQUt3QlFBRkFBVUFBckFGQUFVQUFyQUZBQUt3QXJBRkFBS3dCUUFDc0FVQUFyQUZBQUt3QlFBQ3NBVUFCUUFDc0FVQUFyQUNzQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFBckFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdBbEFDVUFKUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFlQUNVQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhnQWVBQ1VBSlFBbEFDVUFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFsQUNVQUpRQWxBQ1VBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUI0QUhnQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFIZ0FlQUNVQUpRQWxBQ1VBSlFBZUFDVUFKUUFsQUNVQUpRQWdBQ0FBSUFBbEFDVUFJQUFsQUNVQUlBQWdBQ0FBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJUUFoQUNFQUlRQWhBQ1VBSlFBZ0FDQUFKUUFsQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWdBQ0FBSUFBbEFDVUFKUUFsQUNBQUpRQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWxBQ1VBSlFBZ0FDVUFKUUFsQUNVQUlBQWdBQ0FBSlFBZ0FDQUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBZUFDVUFIZ0FsQUI0QUpRQWxBQ1VBSlFBbEFDQUFKUUFsQUNVQUpRQWVBQ1VBSGdBZUFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBZ0FDVUFKUUFsQUNVQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWxBQ1VBSlFBbEFDQUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQjRBSGdBZUFCNEFIZ0FlQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFnQUNBQUpRQWxBQ1VBSUFBZ0FDQUFJQUFnQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBRndBWEFCY0FGUUFWQUJVQUhnQWVBQjRBSGdBbEFDVUFKUUFnQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFnQUNBQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBbEFDVUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWxBQ1VBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ0FBSUFBZ0FDQUFJQUFsQUNBQUlBQWxBQ1VBSlFBbEFDVUFKUUFnQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUpRQWxBQ1VBSUFBZ0FDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDc0FLd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUJYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQXJBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0EnO1xuXG4gICAgLyogQGZsb3cgKi9cclxuICAgIHZhciBMRVRURVJfTlVNQkVSX01PRElGSUVSID0gNTA7XHJcbiAgICAvLyBOb24tdGFpbG9yYWJsZSBMaW5lIEJyZWFraW5nIENsYXNzZXNcclxuICAgIHZhciBCSyA9IDE7IC8vICBDYXVzZSBhIGxpbmUgYnJlYWsgKGFmdGVyKVxyXG4gICAgdmFyIENSID0gMjsgLy8gIENhdXNlIGEgbGluZSBicmVhayAoYWZ0ZXIpLCBleGNlcHQgYmV0d2VlbiBDUiBhbmQgTEZcclxuICAgIHZhciBMRiA9IDM7IC8vICBDYXVzZSBhIGxpbmUgYnJlYWsgKGFmdGVyKVxyXG4gICAgdmFyIENNID0gNDsgLy8gIFByb2hpYml0IGEgbGluZSBicmVhayBiZXR3ZWVuIHRoZSBjaGFyYWN0ZXIgYW5kIHRoZSBwcmVjZWRpbmcgY2hhcmFjdGVyXHJcbiAgICB2YXIgTkwgPSA1OyAvLyAgQ2F1c2UgYSBsaW5lIGJyZWFrIChhZnRlcilcclxuICAgIHZhciBXSiA9IDc7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmUgYW5kIGFmdGVyXHJcbiAgICB2YXIgWlcgPSA4OyAvLyAgUHJvdmlkZSBhIGJyZWFrIG9wcG9ydHVuaXR5XHJcbiAgICB2YXIgR0wgPSA5OyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYmVmb3JlIGFuZCBhZnRlclxyXG4gICAgdmFyIFNQID0gMTA7IC8vIEVuYWJsZSBpbmRpcmVjdCBsaW5lIGJyZWFrc1xyXG4gICAgdmFyIFpXSiA9IDExOyAvLyBQcm9oaWJpdCBsaW5lIGJyZWFrcyB3aXRoaW4gam9pbmVyIHNlcXVlbmNlc1xyXG4gICAgLy8gQnJlYWsgT3Bwb3J0dW5pdGllc1xyXG4gICAgdmFyIEIyID0gMTI7IC8vICBQcm92aWRlIGEgbGluZSBicmVhayBvcHBvcnR1bml0eSBiZWZvcmUgYW5kIGFmdGVyIHRoZSBjaGFyYWN0ZXJcclxuICAgIHZhciBCQSA9IDEzOyAvLyAgR2VuZXJhbGx5IHByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGFmdGVyIHRoZSBjaGFyYWN0ZXJcclxuICAgIHZhciBCQiA9IDE0OyAvLyAgR2VuZXJhbGx5IHByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGJlZm9yZSB0aGUgY2hhcmFjdGVyXHJcbiAgICB2YXIgSFkgPSAxNTsgLy8gIFByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGFmdGVyIHRoZSBjaGFyYWN0ZXIsIGV4Y2VwdCBpbiBudW1lcmljIGNvbnRleHRcclxuICAgIHZhciBDQiA9IDE2OyAvLyAgIFByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGNvbnRpbmdlbnQgb24gYWRkaXRpb25hbCBpbmZvcm1hdGlvblxyXG4gICAgLy8gQ2hhcmFjdGVycyBQcm9oaWJpdGluZyBDZXJ0YWluIEJyZWFrc1xyXG4gICAgdmFyIENMID0gMTc7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmVcclxuICAgIHZhciBDUCA9IDE4OyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYmVmb3JlXHJcbiAgICB2YXIgRVggPSAxOTsgLy8gIFByb2hpYml0IGxpbmUgYnJlYWtzIGJlZm9yZVxyXG4gICAgdmFyIElOID0gMjA7IC8vICBBbGxvdyBvbmx5IGluZGlyZWN0IGxpbmUgYnJlYWtzIGJldHdlZW4gcGFpcnNcclxuICAgIHZhciBOUyA9IDIxOyAvLyAgQWxsb3cgb25seSBpbmRpcmVjdCBsaW5lIGJyZWFrcyBiZWZvcmVcclxuICAgIHZhciBPUCA9IDIyOyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYWZ0ZXJcclxuICAgIHZhciBRVSA9IDIzOyAvLyAgQWN0IGxpa2UgdGhleSBhcmUgYm90aCBvcGVuaW5nIGFuZCBjbG9zaW5nXHJcbiAgICAvLyBOdW1lcmljIENvbnRleHRcclxuICAgIHZhciBJUyA9IDI0OyAvLyAgUHJldmVudCBicmVha3MgYWZ0ZXIgYW55IGFuZCBiZWZvcmUgbnVtZXJpY1xyXG4gICAgdmFyIE5VID0gMjU7IC8vICBGb3JtIG51bWVyaWMgZXhwcmVzc2lvbnMgZm9yIGxpbmUgYnJlYWtpbmcgcHVycG9zZXNcclxuICAgIHZhciBQTyA9IDI2OyAvLyAgRG8gbm90IGJyZWFrIGZvbGxvd2luZyBhIG51bWVyaWMgZXhwcmVzc2lvblxyXG4gICAgdmFyIFBSID0gMjc7IC8vICBEbyBub3QgYnJlYWsgaW4gZnJvbnQgb2YgYSBudW1lcmljIGV4cHJlc3Npb25cclxuICAgIHZhciBTWSA9IDI4OyAvLyAgUHJldmVudCBhIGJyZWFrIGJlZm9yZTsgYW5kIGFsbG93IGEgYnJlYWsgYWZ0ZXJcclxuICAgIC8vIE90aGVyIENoYXJhY3RlcnNcclxuICAgIHZhciBBSSA9IDI5OyAvLyAgQWN0IGxpa2UgQUwgd2hlbiB0aGUgcmVzb2x2ZWRFQVcgaXMgTjsgb3RoZXJ3aXNlOyBhY3QgYXMgSURcclxuICAgIHZhciBBTCA9IDMwOyAvLyAgQXJlIGFscGhhYmV0aWMgY2hhcmFjdGVycyBvciBzeW1ib2xzIHRoYXQgYXJlIHVzZWQgd2l0aCBhbHBoYWJldGljIGNoYXJhY3RlcnNcclxuICAgIHZhciBDSiA9IDMxOyAvLyAgVHJlYXQgYXMgTlMgb3IgSUQgZm9yIHN0cmljdCBvciBub3JtYWwgYnJlYWtpbmcuXHJcbiAgICB2YXIgRUIgPSAzMjsgLy8gIERvIG5vdCBicmVhayBmcm9tIGZvbGxvd2luZyBFbW9qaSBNb2RpZmllclxyXG4gICAgdmFyIEVNID0gMzM7IC8vICBEbyBub3QgYnJlYWsgZnJvbSBwcmVjZWRpbmcgRW1vamkgQmFzZVxyXG4gICAgdmFyIEgyID0gMzQ7IC8vICBGb3JtIEtvcmVhbiBzeWxsYWJsZSBibG9ja3NcclxuICAgIHZhciBIMyA9IDM1OyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXHJcbiAgICB2YXIgSEwgPSAzNjsgLy8gIERvIG5vdCBicmVhayBhcm91bmQgYSBmb2xsb3dpbmcgaHlwaGVuOyBvdGhlcndpc2UgYWN0IGFzIEFscGhhYmV0aWNcclxuICAgIHZhciBJRCA9IDM3OyAvLyAgQnJlYWsgYmVmb3JlIG9yIGFmdGVyOyBleGNlcHQgaW4gc29tZSBudW1lcmljIGNvbnRleHRcclxuICAgIHZhciBKTCA9IDM4OyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXHJcbiAgICB2YXIgSlYgPSAzOTsgLy8gIEZvcm0gS29yZWFuIHN5bGxhYmxlIGJsb2Nrc1xyXG4gICAgdmFyIEpUID0gNDA7IC8vICBGb3JtIEtvcmVhbiBzeWxsYWJsZSBibG9ja3NcclxuICAgIHZhciBSSSA9IDQxOyAvLyAgS2VlcCBwYWlycyB0b2dldGhlci4gRm9yIHBhaXJzOyBicmVhayBiZWZvcmUgYW5kIGFmdGVyIG90aGVyIGNsYXNzZXNcclxuICAgIHZhciBTQSA9IDQyOyAvLyAgUHJvdmlkZSBhIGxpbmUgYnJlYWsgb3Bwb3J0dW5pdHkgY29udGluZ2VudCBvbiBhZGRpdGlvbmFsLCBsYW5ndWFnZS1zcGVjaWZpYyBjb250ZXh0IGFuYWx5c2lzXHJcbiAgICB2YXIgWFggPSA0MzsgLy8gIEhhdmUgYXMgeWV0IHVua25vd24gbGluZSBicmVha2luZyBiZWhhdmlvciBvciB1bmFzc2lnbmVkIGNvZGUgcG9zaXRpb25zXHJcbiAgICB2YXIgQlJFQUtfTUFOREFUT1JZID0gJyEnO1xyXG4gICAgdmFyIEJSRUFLX05PVF9BTExPV0VEID0gJ8OXJztcclxuICAgIHZhciBCUkVBS19BTExPV0VEID0gJ8O3JztcclxuICAgIHZhciBVbmljb2RlVHJpZSA9IGNyZWF0ZVRyaWVGcm9tQmFzZTY0KGJhc2U2NCk7XHJcbiAgICB2YXIgQUxQSEFCRVRJQ1MgPSBbQUwsIEhMXTtcclxuICAgIHZhciBIQVJEX0xJTkVfQlJFQUtTID0gW0JLLCBDUiwgTEYsIE5MXTtcclxuICAgIHZhciBTUEFDRSA9IFtTUCwgWlddO1xyXG4gICAgdmFyIFBSRUZJWF9QT1NURklYID0gW1BSLCBQT107XHJcbiAgICB2YXIgTElORV9CUkVBS1MgPSBIQVJEX0xJTkVfQlJFQUtTLmNvbmNhdChTUEFDRSk7XHJcbiAgICB2YXIgS09SRUFOX1NZTExBQkxFX0JMT0NLID0gW0pMLCBKViwgSlQsIEgyLCBIM107XHJcbiAgICB2YXIgSFlQSEVOID0gW0hZLCBCQV07XHJcbiAgICB2YXIgY29kZVBvaW50c1RvQ2hhcmFjdGVyQ2xhc3NlcyA9IGZ1bmN0aW9uIChjb2RlUG9pbnRzLCBsaW5lQnJlYWspIHtcclxuICAgICAgICBpZiAobGluZUJyZWFrID09PSB2b2lkIDApIHsgbGluZUJyZWFrID0gJ3N0cmljdCc7IH1cclxuICAgICAgICB2YXIgdHlwZXMgPSBbXTtcclxuICAgICAgICB2YXIgaW5kaWNpZXMgPSBbXTtcclxuICAgICAgICB2YXIgY2F0ZWdvcmllcyA9IFtdO1xyXG4gICAgICAgIGNvZGVQb2ludHMuZm9yRWFjaChmdW5jdGlvbiAoY29kZVBvaW50LCBpbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgY2xhc3NUeXBlID0gVW5pY29kZVRyaWUuZ2V0KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgIGlmIChjbGFzc1R5cGUgPiBMRVRURVJfTlVNQkVSX01PRElGSUVSKSB7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLnB1c2godHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjbGFzc1R5cGUgLT0gTEVUVEVSX05VTUJFUl9NT0RJRklFUjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaChmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFsnbm9ybWFsJywgJ2F1dG8nLCAnbG9vc2UnXS5pbmRleE9mKGxpbmVCcmVhaykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBVKzIwMTAsIOKAkyBVKzIwMTMsIOOAnCBVKzMwMUMsIOOCoCBVKzMwQTBcclxuICAgICAgICAgICAgICAgIGlmIChbMHgyMDEwLCAweDIwMTMsIDB4MzAxYywgMHgzMGEwXS5pbmRleE9mKGNvZGVQb2ludCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNpZXMucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQ0IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjbGFzc1R5cGUgPT09IENNIHx8IGNsYXNzVHlwZSA9PT0gWldKKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMQjEwIFRyZWF0IGFueSByZW1haW5pbmcgY29tYmluaW5nIG1hcmsgb3IgWldKIGFzIEFMLlxyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNpZXMucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQUwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gTEI5IERvIG5vdCBicmVhayBhIGNvbWJpbmluZyBjaGFyYWN0ZXIgc2VxdWVuY2U7IHRyZWF0IGl0IGFzIGlmIGl0IGhhcyB0aGUgbGluZSBicmVha2luZyBjbGFzcyBvZlxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGJhc2UgY2hhcmFjdGVyIGluIGFsbCBvZiB0aGUgZm9sbG93aW5nIHJ1bGVzLiBUcmVhdCBaV0ogYXMgaWYgaXQgd2VyZSBDTS5cclxuICAgICAgICAgICAgICAgIHZhciBwcmV2ID0gdHlwZXNbaW5kZXggLSAxXTtcclxuICAgICAgICAgICAgICAgIGlmIChMSU5FX0JSRUFLUy5pbmRleE9mKHByZXYpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGljaWVzLnB1c2goaW5kaWNpZXNbaW5kZXggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2gocHJldik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRpY2llcy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKEFMKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmRpY2llcy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKGNsYXNzVHlwZSA9PT0gQ0opIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKGxpbmVCcmVhayA9PT0gJ3N0cmljdCcgPyBOUyA6IElEKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2xhc3NUeXBlID09PSBTQSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQUwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjbGFzc1R5cGUgPT09IEFJKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXMucHVzaChBTCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRm9yIHN1cHBsZW1lbnRhcnkgY2hhcmFjdGVycywgYSB1c2VmdWwgZGVmYXVsdCBpcyB0byB0cmVhdCBjaGFyYWN0ZXJzIGluIHRoZSByYW5nZSAxMDAwMC4uMUZGRkQgYXMgQUxcclxuICAgICAgICAgICAgLy8gYW5kIGNoYXJhY3RlcnMgaW4gdGhlIHJhbmdlcyAyMDAwMC4uMkZGRkQgYW5kIDMwMDAwLi4zRkZGRCBhcyBJRCwgdW50aWwgdGhlIGltcGxlbWVudGF0aW9uIGNhbiBiZSByZXZpc2VkXHJcbiAgICAgICAgICAgIC8vIHRvIHRha2UgaW50byBhY2NvdW50IHRoZSBhY3R1YWwgbGluZSBicmVha2luZyBwcm9wZXJ0aWVzIGZvciB0aGVzZSBjaGFyYWN0ZXJzLlxyXG4gICAgICAgICAgICBpZiAoY2xhc3NUeXBlID09PSBYWCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChjb2RlUG9pbnQgPj0gMHgyMDAwMCAmJiBjb2RlUG9pbnQgPD0gMHgyZmZmZCkgfHwgKGNvZGVQb2ludCA+PSAweDMwMDAwICYmIGNvZGVQb2ludCA8PSAweDNmZmZkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKElEKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKEFMKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0eXBlcy5wdXNoKGNsYXNzVHlwZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIFtpbmRpY2llcywgdHlwZXMsIGNhdGVnb3JpZXNdO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0FkamFjZW50V2l0aFNwYWNlSWdub3JlZCA9IGZ1bmN0aW9uIChhLCBiLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpIHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IGNsYXNzVHlwZXNbY3VycmVudEluZGV4XTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhKSA/IGEuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgOiBhID09PSBjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gY3VycmVudEluZGV4O1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA8PSBjbGFzc1R5cGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBjbGFzc1R5cGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHQgPT09IGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBTUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBTUCkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IGN1cnJlbnRJbmRleDtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldiA9IGNsYXNzVHlwZXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhKSA/IGEuaW5kZXhPZihwcmV2KSAhPT0gLTEgOiBhID09PSBwcmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBjdXJyZW50SW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4gPD0gY2xhc3NUeXBlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGNsYXNzVHlwZXNbbl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gU1ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHByZXYgIT09IFNQKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHZhciBwcmV2aW91c05vblNwYWNlQ2xhc3NUeXBlID0gZnVuY3Rpb24gKGN1cnJlbnRJbmRleCwgY2xhc3NUeXBlcykge1xyXG4gICAgICAgIHZhciBpID0gY3VycmVudEluZGV4O1xyXG4gICAgICAgIHdoaWxlIChpID49IDApIHtcclxuICAgICAgICAgICAgdmFyIHR5cGUgPSBjbGFzc1R5cGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gU1ApIHtcclxuICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfTtcclxuICAgIHZhciBfbGluZUJyZWFrQXRJbmRleCA9IGZ1bmN0aW9uIChjb2RlUG9pbnRzLCBjbGFzc1R5cGVzLCBpbmRpY2llcywgaW5kZXgsIGZvcmJpZGRlbkJyZWFrcykge1xyXG4gICAgICAgIGlmIChpbmRpY2llc1tpbmRleF0gPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gaW5kZXggLSAxO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZvcmJpZGRlbkJyZWFrcykgJiYgZm9yYmlkZGVuQnJlYWtzW2N1cnJlbnRJbmRleF0gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmVmb3JlSW5kZXggPSBjdXJyZW50SW5kZXggLSAxO1xyXG4gICAgICAgIHZhciBhZnRlckluZGV4ID0gY3VycmVudEluZGV4ICsgMTtcclxuICAgICAgICB2YXIgY3VycmVudCA9IGNsYXNzVHlwZXNbY3VycmVudEluZGV4XTtcclxuICAgICAgICAvLyBMQjQgQWx3YXlzIGJyZWFrIGFmdGVyIGhhcmQgbGluZSBicmVha3MuXHJcbiAgICAgICAgLy8gTEI1IFRyZWF0IENSIGZvbGxvd2VkIGJ5IExGLCBhcyB3ZWxsIGFzIENSLCBMRiwgYW5kIE5MIGFzIGhhcmQgbGluZSBicmVha3MuXHJcbiAgICAgICAgdmFyIGJlZm9yZSA9IGJlZm9yZUluZGV4ID49IDAgPyBjbGFzc1R5cGVzW2JlZm9yZUluZGV4XSA6IDA7XHJcbiAgICAgICAgdmFyIG5leHQgPSBjbGFzc1R5cGVzW2FmdGVySW5kZXhdO1xyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBDUiAmJiBuZXh0ID09PSBMRikge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChIQVJEX0xJTkVfQlJFQUtTLmluZGV4T2YoY3VycmVudCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19NQU5EQVRPUlk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCNiBEbyBub3QgYnJlYWsgYmVmb3JlIGhhcmQgbGluZSBicmVha3MuXHJcbiAgICAgICAgaWYgKEhBUkRfTElORV9CUkVBS1MuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjcgRG8gbm90IGJyZWFrIGJlZm9yZSBzcGFjZXMgb3IgemVybyB3aWR0aCBzcGFjZS5cclxuICAgICAgICBpZiAoU1BBQ0UuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjggQnJlYWsgYmVmb3JlIGFueSBjaGFyYWN0ZXIgZm9sbG93aW5nIGEgemVyby13aWR0aCBzcGFjZSwgZXZlbiBpZiBvbmUgb3IgbW9yZSBzcGFjZXMgaW50ZXJ2ZW5lLlxyXG4gICAgICAgIGlmIChwcmV2aW91c05vblNwYWNlQ2xhc3NUeXBlKGN1cnJlbnRJbmRleCwgY2xhc3NUeXBlcykgPT09IFpXKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjhhIERvIG5vdCBicmVhayBiZXR3ZWVuIGEgemVybyB3aWR0aCBqb2luZXIgYW5kIGFuIGlkZW9ncmFwaCwgZW1vamkgYmFzZSBvciBlbW9qaSBtb2RpZmllci5cclxuICAgICAgICBpZiAoVW5pY29kZVRyaWUuZ2V0KGNvZGVQb2ludHNbY3VycmVudEluZGV4XSkgPT09IFpXSiAmJiAobmV4dCA9PT0gSUQgfHwgbmV4dCA9PT0gRUIgfHwgbmV4dCA9PT0gRU0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxMSBEbyBub3QgYnJlYWsgYmVmb3JlIG9yIGFmdGVyIFdvcmQgam9pbmVyIGFuZCByZWxhdGVkIGNoYXJhY3RlcnMuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IFdKIHx8IG5leHQgPT09IFdKKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxMiBEbyBub3QgYnJlYWsgYWZ0ZXIgTkJTUCBhbmQgcmVsYXRlZCBjaGFyYWN0ZXJzLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBHTCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMTJhIERvIG5vdCBicmVhayBiZWZvcmUgTkJTUCBhbmQgcmVsYXRlZCBjaGFyYWN0ZXJzLCBleGNlcHQgYWZ0ZXIgc3BhY2VzIGFuZCBoeXBoZW5zLlxyXG4gICAgICAgIGlmIChbU1AsIEJBLCBIWV0uaW5kZXhPZihjdXJyZW50KSA9PT0gLTEgJiYgbmV4dCA9PT0gR0wpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjEzIERvIG5vdCBicmVhayBiZWZvcmUg4oCYXeKAmSBvciDigJgh4oCZIG9yIOKAmDvigJkgb3Ig4oCYL+KAmSwgZXZlbiBhZnRlciBzcGFjZXMuXHJcbiAgICAgICAgaWYgKFtDTCwgQ1AsIEVYLCBJUywgU1ldLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxNCBEbyBub3QgYnJlYWsgYWZ0ZXIg4oCYW+KAmSwgZXZlbiBhZnRlciBzcGFjZXMuXHJcbiAgICAgICAgaWYgKHByZXZpb3VzTm9uU3BhY2VDbGFzc1R5cGUoY3VycmVudEluZGV4LCBjbGFzc1R5cGVzKSA9PT0gT1ApIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjE1IERvIG5vdCBicmVhayB3aXRoaW4g4oCY4oCdW+KAmSwgZXZlbiB3aXRoIGludGVydmVuaW5nIHNwYWNlcy5cclxuICAgICAgICBpZiAoaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQoUVUsIE9QLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxNiBEbyBub3QgYnJlYWsgYmV0d2VlbiBjbG9zaW5nIHB1bmN0dWF0aW9uIGFuZCBhIG5vbnN0YXJ0ZXIgKGxiPU5TKSwgZXZlbiB3aXRoIGludGVydmVuaW5nIHNwYWNlcy5cclxuICAgICAgICBpZiAoaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQoW0NMLCBDUF0sIE5TLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxNyBEbyBub3QgYnJlYWsgd2l0aGluIOKAmOKAlOKAlOKAmSwgZXZlbiB3aXRoIGludGVydmVuaW5nIHNwYWNlcy5cclxuICAgICAgICBpZiAoaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQoQjIsIEIyLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxOCBCcmVhayBhZnRlciBzcGFjZXMuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IFNQKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjE5IERvIG5vdCBicmVhayBiZWZvcmUgb3IgYWZ0ZXIgcXVvdGF0aW9uIG1hcmtzLCBzdWNoIGFzIOKAmCDigJ0g4oCZLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBRVSB8fCBuZXh0ID09PSBRVSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjAgQnJlYWsgYmVmb3JlIGFuZCBhZnRlciB1bnJlc29sdmVkIENCLlxyXG4gICAgICAgIGlmIChuZXh0ID09PSBDQiB8fCBjdXJyZW50ID09PSBDQikge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyMSBEbyBub3QgYnJlYWsgYmVmb3JlIGh5cGhlbi1taW51cywgb3RoZXIgaHlwaGVucywgZml4ZWQtd2lkdGggc3BhY2VzLCBzbWFsbCBrYW5hLCBhbmQgb3RoZXIgbm9uLXN0YXJ0ZXJzLCBvciBhZnRlciBhY3V0ZSBhY2NlbnRzLlxyXG4gICAgICAgIGlmIChbQkEsIEhZLCBOU10uaW5kZXhPZihuZXh0KSAhPT0gLTEgfHwgY3VycmVudCA9PT0gQkIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjIxYSBEb24ndCBicmVhayBhZnRlciBIZWJyZXcgKyBIeXBoZW4uXHJcbiAgICAgICAgaWYgKGJlZm9yZSA9PT0gSEwgJiYgSFlQSEVOLmluZGV4T2YoY3VycmVudCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyMWIgRG9u4oCZdCBicmVhayBiZXR3ZWVuIFNvbGlkdXMgYW5kIEhlYnJldyBsZXR0ZXJzLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBTWSAmJiBuZXh0ID09PSBITCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjIgRG8gbm90IGJyZWFrIGJldHdlZW4gdHdvIGVsbGlwc2VzLCBvciBiZXR3ZWVuIGxldHRlcnMsIG51bWJlcnMgb3IgZXhjbGFtYXRpb25zIGFuZCBlbGxpcHNpcy5cclxuICAgICAgICBpZiAobmV4dCA9PT0gSU4gJiYgQUxQSEFCRVRJQ1MuY29uY2F0KElOLCBFWCwgTlUsIElELCBFQiwgRU0pLmluZGV4T2YoY3VycmVudCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyMyBEbyBub3QgYnJlYWsgYmV0d2VlbiBkaWdpdHMgYW5kIGxldHRlcnMuXHJcbiAgICAgICAgaWYgKChBTFBIQUJFVElDUy5pbmRleE9mKG5leHQpICE9PSAtMSAmJiBjdXJyZW50ID09PSBOVSkgfHwgKEFMUEhBQkVUSUNTLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIG5leHQgPT09IE5VKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjNhIERvIG5vdCBicmVhayBiZXR3ZWVuIG51bWVyaWMgcHJlZml4ZXMgYW5kIGlkZW9ncmFwaHMsIG9yIGJldHdlZW4gaWRlb2dyYXBocyBhbmQgbnVtZXJpYyBwb3N0Zml4ZXMuXHJcbiAgICAgICAgaWYgKChjdXJyZW50ID09PSBQUiAmJiBbSUQsIEVCLCBFTV0uaW5kZXhPZihuZXh0KSAhPT0gLTEpIHx8XHJcbiAgICAgICAgICAgIChbSUQsIEVCLCBFTV0uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgbmV4dCA9PT0gUE8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyNCBEbyBub3QgYnJlYWsgYmV0d2VlbiBudW1lcmljIHByZWZpeC9wb3N0Zml4IGFuZCBsZXR0ZXJzLCBvciBiZXR3ZWVuIGxldHRlcnMgYW5kIHByZWZpeC9wb3N0Zml4LlxyXG4gICAgICAgIGlmICgoQUxQSEFCRVRJQ1MuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgUFJFRklYX1BPU1RGSVguaW5kZXhPZihuZXh0KSAhPT0gLTEpIHx8XHJcbiAgICAgICAgICAgIChQUkVGSVhfUE9TVEZJWC5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBBTFBIQUJFVElDUy5pbmRleE9mKG5leHQpICE9PSAtMSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjI1IERvIG5vdCBicmVhayBiZXR3ZWVuIHRoZSBmb2xsb3dpbmcgcGFpcnMgb2YgY2xhc3NlcyByZWxldmFudCB0byBudW1iZXJzOlxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAvLyAoUFIgfCBQTykgw5cgKCBPUCB8IEhZICk/IE5VXHJcbiAgICAgICAgKFtQUiwgUE9dLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmXHJcbiAgICAgICAgICAgIChuZXh0ID09PSBOVSB8fCAoW09QLCBIWV0uaW5kZXhPZihuZXh0KSAhPT0gLTEgJiYgY2xhc3NUeXBlc1thZnRlckluZGV4ICsgMV0gPT09IE5VKSkpIHx8XHJcbiAgICAgICAgICAgIC8vICggT1AgfCBIWSApIMOXIE5VXHJcbiAgICAgICAgICAgIChbT1AsIEhZXS5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBuZXh0ID09PSBOVSkgfHxcclxuICAgICAgICAgICAgLy8gTlUgw5dcdChOVSB8IFNZIHwgSVMpXHJcbiAgICAgICAgICAgIChjdXJyZW50ID09PSBOVSAmJiBbTlUsIFNZLCBJU10uaW5kZXhPZihuZXh0KSAhPT0gLTEpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTlUgKE5VIHwgU1kgfCBJUykqIMOXIChOVSB8IFNZIHwgSVMgfCBDTCB8IENQKVxyXG4gICAgICAgIGlmIChbTlUsIFNZLCBJUywgQ0wsIENQXS5pbmRleE9mKG5leHQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICB2YXIgcHJldkluZGV4ID0gY3VycmVudEluZGV4O1xyXG4gICAgICAgICAgICB3aGlsZSAocHJldkluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gY2xhc3NUeXBlc1twcmV2SW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IE5VKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoW1NZLCBJU10uaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2SW5kZXgtLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5VIChOVSB8IFNZIHwgSVMpKiAoQ0wgfCBDUCk/IMOXIChQTyB8IFBSKSlcclxuICAgICAgICBpZiAoW1BSLCBQT10uaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgdmFyIHByZXZJbmRleCA9IFtDTCwgQ1BdLmluZGV4T2YoY3VycmVudCkgIT09IC0xID8gYmVmb3JlSW5kZXggOiBjdXJyZW50SW5kZXg7XHJcbiAgICAgICAgICAgIHdoaWxlIChwcmV2SW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBjbGFzc1R5cGVzW3ByZXZJbmRleF07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gTlUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChbU1ksIElTXS5pbmRleE9mKHR5cGUpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZJbmRleC0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyNiBEbyBub3QgYnJlYWsgYSBLb3JlYW4gc3lsbGFibGUuXHJcbiAgICAgICAgaWYgKChKTCA9PT0gY3VycmVudCAmJiBbSkwsIEpWLCBIMiwgSDNdLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxyXG4gICAgICAgICAgICAoW0pWLCBIMl0uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgW0pWLCBKVF0uaW5kZXhPZihuZXh0KSAhPT0gLTEpIHx8XHJcbiAgICAgICAgICAgIChbSlQsIEgzXS5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBuZXh0ID09PSBKVCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjI3IFRyZWF0IGEgS29yZWFuIFN5bGxhYmxlIEJsb2NrIHRoZSBzYW1lIGFzIElELlxyXG4gICAgICAgIGlmICgoS09SRUFOX1NZTExBQkxFX0JMT0NLLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIFtJTiwgUE9dLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxyXG4gICAgICAgICAgICAoS09SRUFOX1NZTExBQkxFX0JMT0NLLmluZGV4T2YobmV4dCkgIT09IC0xICYmIGN1cnJlbnQgPT09IFBSKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjggRG8gbm90IGJyZWFrIGJldHdlZW4gYWxwaGFiZXRpY3MgKOKAnGF04oCdKS5cclxuICAgICAgICBpZiAoQUxQSEFCRVRJQ1MuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgQUxQSEFCRVRJQ1MuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjI5IERvIG5vdCBicmVhayBiZXR3ZWVuIG51bWVyaWMgcHVuY3R1YXRpb24gYW5kIGFscGhhYmV0aWNzICjigJxlLmcu4oCdKS5cclxuICAgICAgICBpZiAoY3VycmVudCA9PT0gSVMgJiYgQUxQSEFCRVRJQ1MuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjMwIERvIG5vdCBicmVhayBiZXR3ZWVuIGxldHRlcnMsIG51bWJlcnMsIG9yIG9yZGluYXJ5IHN5bWJvbHMgYW5kIG9wZW5pbmcgb3IgY2xvc2luZyBwYXJlbnRoZXNlcy5cclxuICAgICAgICBpZiAoKEFMUEhBQkVUSUNTLmNvbmNhdChOVSkuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgbmV4dCA9PT0gT1ApIHx8XHJcbiAgICAgICAgICAgIChBTFBIQUJFVElDUy5jb25jYXQoTlUpLmluZGV4T2YobmV4dCkgIT09IC0xICYmIGN1cnJlbnQgPT09IENQKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMzBhIEJyZWFrIGJldHdlZW4gdHdvIHJlZ2lvbmFsIGluZGljYXRvciBzeW1ib2xzIGlmIGFuZCBvbmx5IGlmIHRoZXJlIGFyZSBhbiBldmVuIG51bWJlciBvZiByZWdpb25hbFxyXG4gICAgICAgIC8vIGluZGljYXRvcnMgcHJlY2VkaW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgYnJlYWsuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IFJJICYmIG5leHQgPT09IFJJKSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gaW5kaWNpZXNbY3VycmVudEluZGV4XTtcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMTtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NUeXBlc1tpXSA9PT0gUkkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvdW50ICUgMiAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMzBiIERvIG5vdCBicmVhayBiZXR3ZWVuIGFuIGVtb2ppIGJhc2UgYW5kIGFuIGVtb2ppIG1vZGlmaWVyLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBFQiAmJiBuZXh0ID09PSBFTSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBCUkVBS19BTExPV0VEO1xyXG4gICAgfTtcclxuICAgIHZhciBjc3NGb3JtYXR0ZWRDbGFzc2VzID0gZnVuY3Rpb24gKGNvZGVQb2ludHMsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoIW9wdGlvbnMpIHtcclxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgbGluZUJyZWFrOiAnbm9ybWFsJywgd29yZEJyZWFrOiAnbm9ybWFsJyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX2EgPSBjb2RlUG9pbnRzVG9DaGFyYWN0ZXJDbGFzc2VzKGNvZGVQb2ludHMsIG9wdGlvbnMubGluZUJyZWFrKSwgaW5kaWNpZXMgPSBfYVswXSwgY2xhc3NUeXBlcyA9IF9hWzFdLCBpc0xldHRlck51bWJlciA9IF9hWzJdO1xyXG4gICAgICAgIGlmIChvcHRpb25zLndvcmRCcmVhayA9PT0gJ2JyZWFrLWFsbCcgfHwgb3B0aW9ucy53b3JkQnJlYWsgPT09ICdicmVhay13b3JkJykge1xyXG4gICAgICAgICAgICBjbGFzc1R5cGVzID0gY2xhc3NUeXBlcy5tYXAoZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIChbTlUsIEFMLCBTQV0uaW5kZXhPZih0eXBlKSAhPT0gLTEgPyBJRCA6IHR5cGUpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGZvcmJpZGRlbkJyZWFrcG9pbnRzID0gb3B0aW9ucy53b3JkQnJlYWsgPT09ICdrZWVwLWFsbCdcclxuICAgICAgICAgICAgPyBpc0xldHRlck51bWJlci5tYXAoZnVuY3Rpb24gKGxldHRlck51bWJlciwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlck51bWJlciAmJiBjb2RlUG9pbnRzW2ldID49IDB4NGUwMCAmJiBjb2RlUG9pbnRzW2ldIDw9IDB4OWZmZjtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmV0dXJuIFtpbmRpY2llcywgY2xhc3NUeXBlcywgZm9yYmlkZGVuQnJlYWtwb2ludHNdO1xyXG4gICAgfTtcclxuICAgIHZhciBCcmVhayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBCcmVhayhjb2RlUG9pbnRzLCBsaW5lQnJlYWssIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb2RlUG9pbnRzID0gY29kZVBvaW50cztcclxuICAgICAgICAgICAgdGhpcy5yZXF1aXJlZCA9IGxpbmVCcmVhayA9PT0gQlJFQUtfTUFOREFUT1JZO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kID0gZW5kO1xyXG4gICAgICAgIH1cclxuICAgICAgICBCcmVhay5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgdGhpcy5jb2RlUG9pbnRzLnNsaWNlKHRoaXMuc3RhcnQsIHRoaXMuZW5kKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQnJlYWs7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIExpbmVCcmVha2VyID0gZnVuY3Rpb24gKHN0ciwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBjb2RlUG9pbnRzID0gdG9Db2RlUG9pbnRzKHN0cik7XHJcbiAgICAgICAgdmFyIF9hID0gY3NzRm9ybWF0dGVkQ2xhc3Nlcyhjb2RlUG9pbnRzLCBvcHRpb25zKSwgaW5kaWNpZXMgPSBfYVswXSwgY2xhc3NUeXBlcyA9IF9hWzFdLCBmb3JiaWRkZW5CcmVha3BvaW50cyA9IF9hWzJdO1xyXG4gICAgICAgIHZhciBsZW5ndGggPSBjb2RlUG9pbnRzLmxlbmd0aDtcclxuICAgICAgICB2YXIgbGFzdEVuZCA9IDA7XHJcbiAgICAgICAgdmFyIG5leHRJbmRleCA9IDA7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCA+PSBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogbnVsbCB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVCcmVhayA9IEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG5leHRJbmRleCA8IGxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIChsaW5lQnJlYWsgPSBfbGluZUJyZWFrQXRJbmRleChjb2RlUG9pbnRzLCBjbGFzc1R5cGVzLCBpbmRpY2llcywgKytuZXh0SW5kZXgsIGZvcmJpZGRlbkJyZWFrcG9pbnRzKSkgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEJSRUFLX05PVF9BTExPV0VEKSB7IH1cclxuICAgICAgICAgICAgICAgIGlmIChsaW5lQnJlYWsgIT09IEJSRUFLX05PVF9BTExPV0VEIHx8IG5leHRJbmRleCA9PT0gbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gbmV3IEJyZWFrKGNvZGVQb2ludHMsIGxpbmVCcmVhaywgbGFzdEVuZCwgbmV4dEluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0RW5kID0gbmV4dEluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiBudWxsIH07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfTtcclxuICAgIH07XG5cbiAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXN5bnRheC0zXHJcbiAgICB2YXIgVG9rZW5UeXBlO1xyXG4gICAgKGZ1bmN0aW9uIChUb2tlblR5cGUpIHtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiU1RSSU5HX1RPS0VOXCJdID0gMF0gPSBcIlNUUklOR19UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJCQURfU1RSSU5HX1RPS0VOXCJdID0gMV0gPSBcIkJBRF9TVFJJTkdfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiTEVGVF9QQVJFTlRIRVNJU19UT0tFTlwiXSA9IDJdID0gXCJMRUZUX1BBUkVOVEhFU0lTX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOXCJdID0gM10gPSBcIlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkNPTU1BX1RPS0VOXCJdID0gNF0gPSBcIkNPTU1BX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkhBU0hfVE9LRU5cIl0gPSA1XSA9IFwiSEFTSF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJERUxJTV9UT0tFTlwiXSA9IDZdID0gXCJERUxJTV9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJBVF9LRVlXT1JEX1RPS0VOXCJdID0gN10gPSBcIkFUX0tFWVdPUkRfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiUFJFRklYX01BVENIX1RPS0VOXCJdID0gOF0gPSBcIlBSRUZJWF9NQVRDSF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJEQVNIX01BVENIX1RPS0VOXCJdID0gOV0gPSBcIkRBU0hfTUFUQ0hfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiSU5DTFVERV9NQVRDSF9UT0tFTlwiXSA9IDEwXSA9IFwiSU5DTFVERV9NQVRDSF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJMRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU5cIl0gPSAxMV0gPSBcIkxFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJSSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOXCJdID0gMTJdID0gXCJSSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlNVRkZJWF9NQVRDSF9UT0tFTlwiXSA9IDEzXSA9IFwiU1VGRklYX01BVENIX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlNVQlNUUklOR19NQVRDSF9UT0tFTlwiXSA9IDE0XSA9IFwiU1VCU1RSSU5HX01BVENIX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkRJTUVOU0lPTl9UT0tFTlwiXSA9IDE1XSA9IFwiRElNRU5TSU9OX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlBFUkNFTlRBR0VfVE9LRU5cIl0gPSAxNl0gPSBcIlBFUkNFTlRBR0VfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiTlVNQkVSX1RPS0VOXCJdID0gMTddID0gXCJOVU1CRVJfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiRlVOQ1RJT05cIl0gPSAxOF0gPSBcIkZVTkNUSU9OXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkZVTkNUSU9OX1RPS0VOXCJdID0gMTldID0gXCJGVU5DVElPTl9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJJREVOVF9UT0tFTlwiXSA9IDIwXSA9IFwiSURFTlRfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiQ09MVU1OX1RPS0VOXCJdID0gMjFdID0gXCJDT0xVTU5fVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiVVJMX1RPS0VOXCJdID0gMjJdID0gXCJVUkxfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiQkFEX1VSTF9UT0tFTlwiXSA9IDIzXSA9IFwiQkFEX1VSTF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJDRENfVE9LRU5cIl0gPSAyNF0gPSBcIkNEQ19UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJDRE9fVE9LRU5cIl0gPSAyNV0gPSBcIkNET19UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJDT0xPTl9UT0tFTlwiXSA9IDI2XSA9IFwiQ09MT05fVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiU0VNSUNPTE9OX1RPS0VOXCJdID0gMjddID0gXCJTRU1JQ09MT05fVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlwiXSA9IDI4XSA9IFwiTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJSSUdIVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlwiXSA9IDI5XSA9IFwiUklHSFRfU1FVQVJFX0JSQUNLRVRfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiVU5JQ09ERV9SQU5HRV9UT0tFTlwiXSA9IDMwXSA9IFwiVU5JQ09ERV9SQU5HRV9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJXSElURVNQQUNFX1RPS0VOXCJdID0gMzFdID0gXCJXSElURVNQQUNFX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkVPRl9UT0tFTlwiXSA9IDMyXSA9IFwiRU9GX1RPS0VOXCI7XHJcbiAgICB9KShUb2tlblR5cGUgfHwgKFRva2VuVHlwZSA9IHt9KSk7XHJcbiAgICB2YXIgRkxBR19VTlJFU1RSSUNURUQgPSAxIDw8IDA7XHJcbiAgICB2YXIgRkxBR19JRCA9IDEgPDwgMTtcclxuICAgIHZhciBGTEFHX0lOVEVHRVIgPSAxIDw8IDI7XHJcbiAgICB2YXIgRkxBR19OVU1CRVIgPSAxIDw8IDM7XHJcbiAgICB2YXIgTElORV9GRUVEID0gMHgwMDBhO1xyXG4gICAgdmFyIFNPTElEVVMgPSAweDAwMmY7XHJcbiAgICB2YXIgUkVWRVJTRV9TT0xJRFVTID0gMHgwMDVjO1xyXG4gICAgdmFyIENIQVJBQ1RFUl9UQUJVTEFUSU9OID0gMHgwMDA5O1xyXG4gICAgdmFyIFNQQUNFJDEgPSAweDAwMjA7XHJcbiAgICB2YXIgUVVPVEFUSU9OX01BUksgPSAweDAwMjI7XHJcbiAgICB2YXIgRVFVQUxTX1NJR04gPSAweDAwM2Q7XHJcbiAgICB2YXIgTlVNQkVSX1NJR04gPSAweDAwMjM7XHJcbiAgICB2YXIgRE9MTEFSX1NJR04gPSAweDAwMjQ7XHJcbiAgICB2YXIgUEVSQ0VOVEFHRV9TSUdOID0gMHgwMDI1O1xyXG4gICAgdmFyIEFQT1NUUk9QSEUgPSAweDAwMjc7XHJcbiAgICB2YXIgTEVGVF9QQVJFTlRIRVNJUyA9IDB4MDAyODtcclxuICAgIHZhciBSSUdIVF9QQVJFTlRIRVNJUyA9IDB4MDAyOTtcclxuICAgIHZhciBMT1dfTElORSA9IDB4MDA1ZjtcclxuICAgIHZhciBIWVBIRU5fTUlOVVMgPSAweDAwMmQ7XHJcbiAgICB2YXIgRVhDTEFNQVRJT05fTUFSSyA9IDB4MDAyMTtcclxuICAgIHZhciBMRVNTX1RIQU5fU0lHTiA9IDB4MDAzYztcclxuICAgIHZhciBHUkVBVEVSX1RIQU5fU0lHTiA9IDB4MDAzZTtcclxuICAgIHZhciBDT01NRVJDSUFMX0FUID0gMHgwMDQwO1xyXG4gICAgdmFyIExFRlRfU1FVQVJFX0JSQUNLRVQgPSAweDAwNWI7XHJcbiAgICB2YXIgUklHSFRfU1FVQVJFX0JSQUNLRVQgPSAweDAwNWQ7XHJcbiAgICB2YXIgQ0lSQ1VNRkxFWF9BQ0NFTlQgPSAweDAwM2Q7XHJcbiAgICB2YXIgTEVGVF9DVVJMWV9CUkFDS0VUID0gMHgwMDdiO1xyXG4gICAgdmFyIFFVRVNUSU9OX01BUksgPSAweDAwM2Y7XHJcbiAgICB2YXIgUklHSFRfQ1VSTFlfQlJBQ0tFVCA9IDB4MDA3ZDtcclxuICAgIHZhciBWRVJUSUNBTF9MSU5FID0gMHgwMDdjO1xyXG4gICAgdmFyIFRJTERFID0gMHgwMDdlO1xyXG4gICAgdmFyIENPTlRST0wgPSAweDAwODA7XHJcbiAgICB2YXIgUkVQTEFDRU1FTlRfQ0hBUkFDVEVSID0gMHhmZmZkO1xyXG4gICAgdmFyIEFTVEVSSVNLID0gMHgwMDJhO1xyXG4gICAgdmFyIFBMVVNfU0lHTiA9IDB4MDAyYjtcclxuICAgIHZhciBDT01NQSA9IDB4MDAyYztcclxuICAgIHZhciBDT0xPTiA9IDB4MDAzYTtcclxuICAgIHZhciBTRU1JQ09MT04gPSAweDAwM2I7XHJcbiAgICB2YXIgRlVMTF9TVE9QID0gMHgwMDJlO1xyXG4gICAgdmFyIE5VTEwgPSAweDAwMDA7XHJcbiAgICB2YXIgQkFDS1NQQUNFID0gMHgwMDA4O1xyXG4gICAgdmFyIExJTkVfVEFCVUxBVElPTiA9IDB4MDAwYjtcclxuICAgIHZhciBTSElGVF9PVVQgPSAweDAwMGU7XHJcbiAgICB2YXIgSU5GT1JNQVRJT05fU0VQQVJBVE9SX09ORSA9IDB4MDAxZjtcclxuICAgIHZhciBERUxFVEUgPSAweDAwN2Y7XHJcbiAgICB2YXIgRU9GID0gLTE7XHJcbiAgICB2YXIgWkVSTyA9IDB4MDAzMDtcclxuICAgIHZhciBhID0gMHgwMDYxO1xyXG4gICAgdmFyIGUgPSAweDAwNjU7XHJcbiAgICB2YXIgZiA9IDB4MDA2NjtcclxuICAgIHZhciB1ID0gMHgwMDc1O1xyXG4gICAgdmFyIHogPSAweDAwN2E7XHJcbiAgICB2YXIgQSA9IDB4MDA0MTtcclxuICAgIHZhciBFID0gMHgwMDQ1O1xyXG4gICAgdmFyIEYgPSAweDAwNDY7XHJcbiAgICB2YXIgVSA9IDB4MDA1NTtcclxuICAgIHZhciBaID0gMHgwMDVhO1xyXG4gICAgdmFyIGlzRGlnaXQgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7IHJldHVybiBjb2RlUG9pbnQgPj0gWkVSTyAmJiBjb2RlUG9pbnQgPD0gMHgwMDM5OyB9O1xyXG4gICAgdmFyIGlzU3Vycm9nYXRlQ29kZVBvaW50ID0gZnVuY3Rpb24gKGNvZGVQb2ludCkgeyByZXR1cm4gY29kZVBvaW50ID49IDB4ZDgwMCAmJiBjb2RlUG9pbnQgPD0gMHhkZmZmOyB9O1xyXG4gICAgdmFyIGlzSGV4ID0gZnVuY3Rpb24gKGNvZGVQb2ludCkge1xyXG4gICAgICAgIHJldHVybiBpc0RpZ2l0KGNvZGVQb2ludCkgfHwgKGNvZGVQb2ludCA+PSBBICYmIGNvZGVQb2ludCA8PSBGKSB8fCAoY29kZVBvaW50ID49IGEgJiYgY29kZVBvaW50IDw9IGYpO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0xvd2VyQ2FzZUxldHRlciA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHsgcmV0dXJuIGNvZGVQb2ludCA+PSBhICYmIGNvZGVQb2ludCA8PSB6OyB9O1xyXG4gICAgdmFyIGlzVXBwZXJDYXNlTGV0dGVyID0gZnVuY3Rpb24gKGNvZGVQb2ludCkgeyByZXR1cm4gY29kZVBvaW50ID49IEEgJiYgY29kZVBvaW50IDw9IFo7IH07XHJcbiAgICB2YXIgaXNMZXR0ZXIgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7IHJldHVybiBpc0xvd2VyQ2FzZUxldHRlcihjb2RlUG9pbnQpIHx8IGlzVXBwZXJDYXNlTGV0dGVyKGNvZGVQb2ludCk7IH07XHJcbiAgICB2YXIgaXNOb25BU0NJSUNvZGVQb2ludCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHsgcmV0dXJuIGNvZGVQb2ludCA+PSBDT05UUk9MOyB9O1xyXG4gICAgdmFyIGlzV2hpdGVTcGFjZSA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gY29kZVBvaW50ID09PSBMSU5FX0ZFRUQgfHwgY29kZVBvaW50ID09PSBDSEFSQUNURVJfVEFCVUxBVElPTiB8fCBjb2RlUG9pbnQgPT09IFNQQUNFJDE7XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzTmFtZVN0YXJ0Q29kZVBvaW50ID0gZnVuY3Rpb24gKGNvZGVQb2ludCkge1xyXG4gICAgICAgIHJldHVybiBpc0xldHRlcihjb2RlUG9pbnQpIHx8IGlzTm9uQVNDSUlDb2RlUG9pbnQoY29kZVBvaW50KSB8fCBjb2RlUG9pbnQgPT09IExPV19MSU5FO1xyXG4gICAgfTtcclxuICAgIHZhciBpc05hbWVDb2RlUG9pbnQgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGlzTmFtZVN0YXJ0Q29kZVBvaW50KGNvZGVQb2ludCkgfHwgaXNEaWdpdChjb2RlUG9pbnQpIHx8IGNvZGVQb2ludCA9PT0gSFlQSEVOX01JTlVTO1xyXG4gICAgfTtcclxuICAgIHZhciBpc05vblByaW50YWJsZUNvZGVQb2ludCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gKChjb2RlUG9pbnQgPj0gTlVMTCAmJiBjb2RlUG9pbnQgPD0gQkFDS1NQQUNFKSB8fFxyXG4gICAgICAgICAgICBjb2RlUG9pbnQgPT09IExJTkVfVEFCVUxBVElPTiB8fFxyXG4gICAgICAgICAgICAoY29kZVBvaW50ID49IFNISUZUX09VVCAmJiBjb2RlUG9pbnQgPD0gSU5GT1JNQVRJT05fU0VQQVJBVE9SX09ORSkgfHxcclxuICAgICAgICAgICAgY29kZVBvaW50ID09PSBERUxFVEUpO1xyXG4gICAgfTtcclxuICAgIHZhciBpc1ZhbGlkRXNjYXBlID0gZnVuY3Rpb24gKGMxLCBjMikge1xyXG4gICAgICAgIGlmIChjMSAhPT0gUkVWRVJTRV9TT0xJRFVTKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGMyICE9PSBMSU5FX0ZFRUQ7XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzSWRlbnRpZmllclN0YXJ0ID0gZnVuY3Rpb24gKGMxLCBjMiwgYzMpIHtcclxuICAgICAgICBpZiAoYzEgPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNOYW1lU3RhcnRDb2RlUG9pbnQoYzIpIHx8IGlzVmFsaWRFc2NhcGUoYzIsIGMzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNOYW1lU3RhcnRDb2RlUG9pbnQoYzEpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjMSA9PT0gUkVWRVJTRV9TT0xJRFVTICYmIGlzVmFsaWRFc2NhcGUoYzEsIGMyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHZhciBpc051bWJlclN0YXJ0ID0gZnVuY3Rpb24gKGMxLCBjMiwgYzMpIHtcclxuICAgICAgICBpZiAoYzEgPT09IFBMVVNfU0lHTiB8fCBjMSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0RpZ2l0KGMyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGMyID09PSBGVUxMX1NUT1AgJiYgaXNEaWdpdChjMyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjMSA9PT0gRlVMTF9TVE9QKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0RpZ2l0KGMyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlzRGlnaXQoYzEpO1xyXG4gICAgfTtcclxuICAgIHZhciBzdHJpbmdUb051bWJlciA9IGZ1bmN0aW9uIChjb2RlUG9pbnRzKSB7XHJcbiAgICAgICAgdmFyIGMgPSAwO1xyXG4gICAgICAgIHZhciBzaWduID0gMTtcclxuICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gUExVU19TSUdOIHx8IGNvZGVQb2ludHNbY10gPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgICAgICBzaWduID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYysrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW50ZWdlcnMgPSBbXTtcclxuICAgICAgICB3aGlsZSAoaXNEaWdpdChjb2RlUG9pbnRzW2NdKSkge1xyXG4gICAgICAgICAgICBpbnRlZ2Vycy5wdXNoKGNvZGVQb2ludHNbYysrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpbnQgPSBpbnRlZ2Vycy5sZW5ndGggPyBwYXJzZUludChmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgaW50ZWdlcnMpLCAxMCkgOiAwO1xyXG4gICAgICAgIGlmIChjb2RlUG9pbnRzW2NdID09PSBGVUxMX1NUT1ApIHtcclxuICAgICAgICAgICAgYysrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZnJhY3Rpb24gPSBbXTtcclxuICAgICAgICB3aGlsZSAoaXNEaWdpdChjb2RlUG9pbnRzW2NdKSkge1xyXG4gICAgICAgICAgICBmcmFjdGlvbi5wdXNoKGNvZGVQb2ludHNbYysrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBmcmFjZCA9IGZyYWN0aW9uLmxlbmd0aDtcclxuICAgICAgICB2YXIgZnJhYyA9IGZyYWNkID8gcGFyc2VJbnQoZnJvbUNvZGVQb2ludC5hcHBseSh2b2lkIDAsIGZyYWN0aW9uKSwgMTApIDogMDtcclxuICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gRSB8fCBjb2RlUG9pbnRzW2NdID09PSBlKSB7XHJcbiAgICAgICAgICAgIGMrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGV4cHNpZ24gPSAxO1xyXG4gICAgICAgIGlmIChjb2RlUG9pbnRzW2NdID09PSBQTFVTX1NJR04gfHwgY29kZVBvaW50c1tjXSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2RlUG9pbnRzW2NdID09PSBIWVBIRU5fTUlOVVMpIHtcclxuICAgICAgICAgICAgICAgIGV4cHNpZ24gPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBleHBvbmVudCA9IFtdO1xyXG4gICAgICAgIHdoaWxlIChpc0RpZ2l0KGNvZGVQb2ludHNbY10pKSB7XHJcbiAgICAgICAgICAgIGV4cG9uZW50LnB1c2goY29kZVBvaW50c1tjKytdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGV4cCA9IGV4cG9uZW50Lmxlbmd0aCA/IHBhcnNlSW50KGZyb21Db2RlUG9pbnQuYXBwbHkodm9pZCAwLCBleHBvbmVudCksIDEwKSA6IDA7XHJcbiAgICAgICAgcmV0dXJuIHNpZ24gKiAoaW50ICsgZnJhYyAqIE1hdGgucG93KDEwLCAtZnJhY2QpKSAqIE1hdGgucG93KDEwLCBleHBzaWduICogZXhwKTtcclxuICAgIH07XHJcbiAgICB2YXIgTEVGVF9QQVJFTlRIRVNJU19UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuTEVGVF9QQVJFTlRIRVNJU19UT0tFTlxyXG4gICAgfTtcclxuICAgIHZhciBSSUdIVF9QQVJFTlRIRVNJU19UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUklHSFRfUEFSRU5USEVTSVNfVE9LRU5cclxuICAgIH07XHJcbiAgICB2YXIgQ09NTUFfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5DT01NQV9UT0tFTiB9O1xyXG4gICAgdmFyIFNVRkZJWF9NQVRDSF9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLlNVRkZJWF9NQVRDSF9UT0tFTiB9O1xyXG4gICAgdmFyIFBSRUZJWF9NQVRDSF9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLlBSRUZJWF9NQVRDSF9UT0tFTiB9O1xyXG4gICAgdmFyIENPTFVNTl9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLkNPTFVNTl9UT0tFTiB9O1xyXG4gICAgdmFyIERBU0hfTUFUQ0hfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5EQVNIX01BVENIX1RPS0VOIH07XHJcbiAgICB2YXIgSU5DTFVERV9NQVRDSF9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLklOQ0xVREVfTUFUQ0hfVE9LRU4gfTtcclxuICAgIHZhciBMRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU4gPSB7XHJcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLkxFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTlxyXG4gICAgfTtcclxuICAgIHZhciBSSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOID0ge1xyXG4gICAgICAgIHR5cGU6IFRva2VuVHlwZS5SSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOXHJcbiAgICB9O1xyXG4gICAgdmFyIFNVQlNUUklOR19NQVRDSF9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLlNVQlNUUklOR19NQVRDSF9UT0tFTiB9O1xyXG4gICAgdmFyIEJBRF9VUkxfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5CQURfVVJMX1RPS0VOIH07XHJcbiAgICB2YXIgQkFEX1NUUklOR19UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLkJBRF9TVFJJTkdfVE9LRU4gfTtcclxuICAgIHZhciBDRE9fVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5DRE9fVE9LRU4gfTtcclxuICAgIHZhciBDRENfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5DRENfVE9LRU4gfTtcclxuICAgIHZhciBDT0xPTl9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLkNPTE9OX1RPS0VOIH07XHJcbiAgICB2YXIgU0VNSUNPTE9OX1RPS0VOID0geyB0eXBlOiBUb2tlblR5cGUuU0VNSUNPTE9OX1RPS0VOIH07XHJcbiAgICB2YXIgTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlxyXG4gICAgfTtcclxuICAgIHZhciBSSUdIVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUklHSFRfU1FVQVJFX0JSQUNLRVRfVE9LRU5cclxuICAgIH07XHJcbiAgICB2YXIgV0hJVEVTUEFDRV9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU4gfTtcclxuICAgIHZhciBFT0ZfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5FT0ZfVE9LRU4gfTtcclxuICAgIHZhciBUb2tlbml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gVG9rZW5pemVyKCkge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGNodW5rKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fdmFsdWUuY29uY2F0KHRvQ29kZVBvaW50cyhjaHVuaykpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW5zID0gW107XHJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgIHdoaWxlICh0b2tlbiAhPT0gRU9GX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZVRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29kZVBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFFVT1RBVElPTl9NQVJLOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVTdHJpbmdUb2tlbihRVU9UQVRJT05fTUFSSyk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE5VTUJFUl9TSUdOOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYzIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMzID0gdGhpcy5wZWVrQ29kZVBvaW50KDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hbWVDb2RlUG9pbnQoYzEpIHx8IGlzVmFsaWRFc2NhcGUoYzIsIGMzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmxhZ3MgPSBpc0lkZW50aWZpZXJTdGFydChjMSwgYzIsIGMzKSA/IEZMQUdfSUQgOiBGTEFHX1VOUkVTVFJJQ1RFRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5jb25zdW1lTmFtZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuSEFTSF9UT0tFTiwgdmFsdWU6IHZhbHVlLCBmbGFnczogZmxhZ3MgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIERPTExBUl9TSUdOOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1VGRklYX01BVENIX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQVBPU1RST1BIRTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lU3RyaW5nVG9rZW4oQVBPU1RST1BIRSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExFRlRfUEFSRU5USEVTSVM6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExFRlRfUEFSRU5USEVTSVNfVE9LRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlIFJJR0hUX1BBUkVOVEhFU0lTOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSSUdIVF9QQVJFTlRIRVNJU19UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgQVNURVJJU0s6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gRVFVQUxTX1NJR04pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTVUJTVFJJTkdfTUFUQ0hfVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBQTFVTX1NJR046XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyU3RhcnQoY29kZVBvaW50LCB0aGlzLnBlZWtDb2RlUG9pbnQoMCksIHRoaXMucGVla0NvZGVQb2ludCgxKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZU51bWVyaWNUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQ09NTUE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENPTU1BX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBIWVBIRU5fTUlOVVM6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUxID0gY29kZVBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlMiA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZTMgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyU3RhcnQoZTEsIGUyLCBlMykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZU51bWVyaWNUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJZGVudGlmaWVyU3RhcnQoZTEsIGUyLCBlMykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUlkZW50TGlrZVRva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlMiA9PT0gSFlQSEVOX01JTlVTICYmIGUzID09PSBHUkVBVEVSX1RIQU5fU0lHTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDRENfVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBGVUxMX1NUT1A6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyU3RhcnQoY29kZVBvaW50LCB0aGlzLnBlZWtDb2RlUG9pbnQoMCksIHRoaXMucGVla0NvZGVQb2ludCgxKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZU51bWVyaWNUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgU09MSURVUzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBBU1RFUklTSykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gQVNURVJJU0spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09IFNPTElEVVMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09IEVPRikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDT0xPTjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ09MT05fVE9LRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNFTUlDT0xPTjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0VNSUNPTE9OX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMRVNTX1RIQU5fU0lHTjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFWENMQU1BVElPTl9NQVJLICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla0NvZGVQb2ludCgxKSA9PT0gSFlQSEVOX01JTlVTICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla0NvZGVQb2ludCgyKSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENET19UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENPTU1FUkNJQUxfQVQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGExID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhMiA9IHRoaXMucGVla0NvZGVQb2ludCgxKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYTMgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KGExLCBhMiwgYTMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY29uc3VtZU5hbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLkFUX0tFWVdPUkRfVE9LRU4sIHZhbHVlOiB2YWx1ZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTEVGVF9TUVVBUkVfQlJBQ0tFVDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgUkVWRVJTRV9TT0xJRFVTOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkRXNjYXBlKGNvZGVQb2ludCwgdGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3VtZUNvZGVQb2ludChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSWRlbnRMaWtlVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFJJR0hUX1NRVUFSRV9CUkFDS0VUOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSSUdIVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgQ0lSQ1VNRkxFWF9BQ0NFTlQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gRVFVQUxTX1NJR04pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQUkVGSVhfTUFUQ0hfVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMRUZUX0NVUkxZX0JSQUNLRVQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgUklHSFRfQ1VSTFlfQlJBQ0tFVDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUklHSFRfQ1VSTFlfQlJBQ0tFVF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgdTpcclxuICAgICAgICAgICAgICAgIGNhc2UgVTpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdTEgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHUyID0gdGhpcy5wZWVrQ29kZVBvaW50KDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1MSA9PT0gUExVU19TSUdOICYmIChpc0hleCh1MikgfHwgdTIgPT09IFFVRVNUSU9OX01BUkspKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVVbmljb2RlUmFuZ2VUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3VtZUNvZGVQb2ludChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJZGVudExpa2VUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBWRVJUSUNBTF9MSU5FOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREFTSF9NQVRDSF9UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gVkVSVElDQUxfTElORSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENPTFVNTl9UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFRJTERFOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5DTFVERV9NQVRDSF9UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEVPRjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRU9GX1RPS0VOO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc1doaXRlU3BhY2UoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lV2hpdGVTcGFjZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFdISVRFU1BBQ0VfVE9LRU47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzRGlnaXQoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVOdW1lcmljVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNOYW1lU3RhcnRDb2RlUG9pbnQoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJZGVudExpa2VUb2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5ERUxJTV9UT0tFTiwgdmFsdWU6IGZyb21Db2RlUG9pbnQoY29kZVBvaW50KSB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lQ29kZVBvaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl92YWx1ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyA/IC0xIDogdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLnJlY29uc3VtZUNvZGVQb2ludCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUudW5zaGlmdChjb2RlUG9pbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5wZWVrQ29kZVBvaW50ID0gZnVuY3Rpb24gKGRlbHRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkZWx0YSA+PSB0aGlzLl92YWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVbZGVsdGFdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lVW5pY29kZVJhbmdlVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkaWdpdHMgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICB3aGlsZSAoaXNIZXgoY29kZVBvaW50KSAmJiBkaWdpdHMubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICAgICAgZGlnaXRzLnB1c2goY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBxdWVzdGlvbk1hcmtzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHdoaWxlIChjb2RlUG9pbnQgPT09IFFVRVNUSU9OX01BUksgJiYgZGlnaXRzLmxlbmd0aCA8IDYpIHtcclxuICAgICAgICAgICAgICAgIGRpZ2l0cy5wdXNoKGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uTWFya3MgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChxdWVzdGlvbk1hcmtzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRfMSA9IHBhcnNlSW50KGZyb21Db2RlUG9pbnQuYXBwbHkodm9pZCAwLCBkaWdpdHMubWFwKGZ1bmN0aW9uIChkaWdpdCkgeyByZXR1cm4gKGRpZ2l0ID09PSBRVUVTVElPTl9NQVJLID8gWkVSTyA6IGRpZ2l0KTsgfSkpLCAxNik7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gcGFyc2VJbnQoZnJvbUNvZGVQb2ludC5hcHBseSh2b2lkIDAsIGRpZ2l0cy5tYXAoZnVuY3Rpb24gKGRpZ2l0KSB7IHJldHVybiAoZGlnaXQgPT09IFFVRVNUSU9OX01BUksgPyBGIDogZGlnaXQpOyB9KSksIDE2KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VTklDT0RFX1JBTkdFX1RPS0VOLCBzdGFydDogc3RhcnRfMSwgZW5kOiBlbmQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBwYXJzZUludChmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgZGlnaXRzKSwgMTYpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBIWVBIRU5fTUlOVVMgJiYgaXNIZXgodGhpcy5wZWVrQ29kZVBvaW50KDEpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHZhciBlbmREaWdpdHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpc0hleChjb2RlUG9pbnQpICYmIGVuZERpZ2l0cy5sZW5ndGggPCA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kRGlnaXRzLnB1c2goY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBlbmQgPSBwYXJzZUludChmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgZW5kRGlnaXRzKSwgMTYpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlVOSUNPREVfUkFOR0VfVE9LRU4sIHN0YXJ0OiBzdGFydCwgZW5kOiBlbmQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VTklDT0RFX1JBTkdFX1RPS0VOLCBzdGFydDogc3RhcnQsIGVuZDogc3RhcnQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lSWRlbnRMaWtlVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY29uc3VtZU5hbWUoKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICd1cmwnICYmIHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gTEVGVF9QQVJFTlRIRVNJUykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lVXJsVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IExFRlRfUEFSRU5USEVTSVMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLkZVTkNUSU9OX1RPS0VOLCB2YWx1ZTogdmFsdWUgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuSURFTlRfVE9LRU4sIHZhbHVlOiB2YWx1ZSB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lVXJsVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVXaGl0ZVNwYWNlKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVPRikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlVSTF9UT0tFTiwgdmFsdWU6ICcnIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG5leHQgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XHJcbiAgICAgICAgICAgIGlmIChuZXh0ID09PSBBUE9TVFJPUEhFIHx8IG5leHQgPT09IFFVT1RBVElPTl9NQVJLKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nVG9rZW4gPSB0aGlzLmNvbnN1bWVTdHJpbmdUb2tlbih0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RyaW5nVG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZVdoaXRlU3BhY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFT0YgfHwgdGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBSSUdIVF9QQVJFTlRIRVNJUykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlVSTF9UT0tFTiwgdmFsdWU6IHN0cmluZ1Rva2VuLnZhbHVlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQmFkVXJsUmVtbmFudHMoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBCQURfVVJMX1RPS0VOO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBFT0YgfHwgY29kZVBvaW50ID09PSBSSUdIVF9QQVJFTlRIRVNJUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VUkxfVE9LRU4sIHZhbHVlOiBmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgdmFsdWUpIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1doaXRlU3BhY2UoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZVdoaXRlU3BhY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFT0YgfHwgdGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBSSUdIVF9QQVJFTlRIRVNJUykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlVSTF9UT0tFTiwgdmFsdWU6IGZyb21Db2RlUG9pbnQuYXBwbHkodm9pZCAwLCB2YWx1ZSkgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQmFkVXJsUmVtbmFudHMoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQkFEX1VSTF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA9PT0gUVVPVEFUSU9OX01BUksgfHxcclxuICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPT09IEFQT1NUUk9QSEUgfHxcclxuICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPT09IExFRlRfUEFSRU5USEVTSVMgfHxcclxuICAgICAgICAgICAgICAgICAgICBpc05vblByaW50YWJsZUNvZGVQb2ludChjb2RlUG9pbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQmFkVXJsUmVtbmFudHMoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQkFEX1VSTF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA9PT0gUkVWRVJTRV9TT0xJRFVTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRFc2NhcGUoY29kZVBvaW50LCB0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2godGhpcy5jb25zdW1lRXNjYXBlZENvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUJhZFVybFJlbW5hbnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCQURfVVJMX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2goY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lV2hpdGVTcGFjZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2hpbGUgKGlzV2hpdGVTcGFjZSh0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lQmFkVXJsUmVtbmFudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBSSUdIVF9QQVJFTlRIRVNJUyB8fCBjb2RlUG9pbnQgPT09IEVPRikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkRXNjYXBlKGNvZGVQb2ludCwgdGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUVzY2FwZWRDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lU3RyaW5nU2xpY2UgPSBmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgdmFyIFNMSUNFX1NUQUNLX1NJWkUgPSA2MDAwMDtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIHdoaWxlIChjb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbW91bnQgPSBNYXRoLm1pbihTTElDRV9TVEFDS19TSVpFLCBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgdGhpcy5fdmFsdWUuc3BsaWNlKDAsIGFtb3VudCkpO1xyXG4gICAgICAgICAgICAgICAgY291bnQgLT0gYW1vdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZVN0cmluZ1Rva2VuID0gZnVuY3Rpb24gKGVuZGluZ0NvZGVQb2ludCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAnJztcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5fdmFsdWVbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBFT0YgfHwgY29kZVBvaW50ID09PSB1bmRlZmluZWQgfHwgY29kZVBvaW50ID09PSBlbmRpbmdDb2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSB0aGlzLmNvbnN1bWVTdHJpbmdTbGljZShpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuU1RSSU5HX1RPS0VOLCB2YWx1ZTogdmFsdWUgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPT09IExJTkVfRkVFRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlLnNwbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQkFEX1NUUklOR19UT0tFTjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPT09IFJFVkVSU0VfU09MSURVUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gdGhpcy5fdmFsdWVbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBFT0YgJiYgbmV4dCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSBMSU5FX0ZFRUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuY29uc3VtZVN0cmluZ1NsaWNlKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1ZhbGlkRXNjYXBlKGNvZGVQb2ludCwgbmV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuY29uc3VtZVN0cmluZ1NsaWNlKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gZnJvbUNvZGVQb2ludCh0aGlzLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICB9IHdoaWxlICh0cnVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZU51bWJlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlcHIgPSBbXTtcclxuICAgICAgICAgICAgdmFyIHR5cGUgPSBGTEFHX0lOVEVHRVI7XHJcbiAgICAgICAgICAgIHZhciBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgaWYgKGMxID09PSBQTFVTX1NJR04gfHwgYzEgPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICAgICAgcmVwci5wdXNoKHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoaXNEaWdpdCh0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGMxID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICB2YXIgYzIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgIGlmIChjMSA9PT0gRlVMTF9TVE9QICYmIGlzRGlnaXQoYzIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCksIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBGTEFHX05VTUJFUjtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpc0RpZ2l0KHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGMxID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICBjMiA9IHRoaXMucGVla0NvZGVQb2ludCgxKTtcclxuICAgICAgICAgICAgdmFyIGMzID0gdGhpcy5wZWVrQ29kZVBvaW50KDIpO1xyXG4gICAgICAgICAgICBpZiAoKGMxID09PSBFIHx8IGMxID09PSBlKSAmJiAoKChjMiA9PT0gUExVU19TSUdOIHx8IGMyID09PSBIWVBIRU5fTUlOVVMpICYmIGlzRGlnaXQoYzMpKSB8fCBpc0RpZ2l0KGMyKSkpIHtcclxuICAgICAgICAgICAgICAgIHJlcHIucHVzaCh0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSwgdGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IEZMQUdfTlVNQkVSO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGlzRGlnaXQodGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcHIucHVzaCh0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFtzdHJpbmdUb051bWJlcihyZXByKSwgdHlwZV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLmNvbnN1bWVOdW1lcmljVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuY29uc3VtZU51bWJlcigpLCBudW1iZXIgPSBfYVswXSwgZmxhZ3MgPSBfYVsxXTtcclxuICAgICAgICAgICAgdmFyIGMxID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICB2YXIgYzIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgIHZhciBjMyA9IHRoaXMucGVla0NvZGVQb2ludCgyKTtcclxuICAgICAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KGMxLCBjMiwgYzMpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdW5pdCA9IHRoaXMuY29uc3VtZU5hbWUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU4sIG51bWJlcjogbnVtYmVyLCBmbGFnczogZmxhZ3MsIHVuaXQ6IHVuaXQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYzEgPT09IFBFUkNFTlRBR0VfU0lHTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTiwgbnVtYmVyOiBudW1iZXIsIGZsYWdzOiBmbGFncyB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4sIG51bWJlcjogbnVtYmVyLCBmbGFnczogZmxhZ3MgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZUVzY2FwZWRDb2RlUG9pbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgaWYgKGlzSGV4KGNvZGVQb2ludCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoZXggPSBmcm9tQ29kZVBvaW50KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaXNIZXgodGhpcy5wZWVrQ29kZVBvaW50KDApKSAmJiBoZXgubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhleCArPSBmcm9tQ29kZVBvaW50KHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc1doaXRlU3BhY2UodGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGhleENvZGVQb2ludCA9IHBhcnNlSW50KGhleCwgMTYpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhleENvZGVQb2ludCA9PT0gMCB8fCBpc1N1cnJvZ2F0ZUNvZGVQb2ludChoZXhDb2RlUG9pbnQpIHx8IGhleENvZGVQb2ludCA+IDB4MTBmZmZmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJFUExBQ0VNRU5UX0NIQVJBQ1RFUjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBoZXhDb2RlUG9pbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA9PT0gRU9GKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUkVQTEFDRU1FTlRfQ0hBUkFDVEVSO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb2RlUG9pbnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLmNvbnN1bWVOYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNOYW1lQ29kZVBvaW50KGNvZGVQb2ludCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZnJvbUNvZGVQb2ludChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNWYWxpZEVzY2FwZShjb2RlUG9pbnQsIHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZnJvbUNvZGVQb2ludCh0aGlzLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gVG9rZW5pemVyO1xyXG4gICAgfSgpKTtcblxuICAgIHZhciBQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gUGFyc2VyKHRva2Vucykge1xyXG4gICAgICAgICAgICB0aGlzLl90b2tlbnMgPSB0b2tlbnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFBhcnNlci5jcmVhdGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIHRva2VuaXplciA9IG5ldyBUb2tlbml6ZXIoKTtcclxuICAgICAgICAgICAgdG9rZW5pemVyLndyaXRlKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQYXJzZXIodG9rZW5pemVyLnJlYWQoKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQYXJzZXIucGFyc2VWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGFyc2VyLmNyZWF0ZSh2YWx1ZSkucGFyc2VDb21wb25lbnRWYWx1ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnBhcnNlVmFsdWVzID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQYXJzZXIuY3JlYXRlKHZhbHVlKS5wYXJzZUNvbXBvbmVudFZhbHVlcygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZUNvbXBvbmVudFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICB3aGlsZSAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkVPRl9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiRXJyb3IgcGFyc2luZyBDU1MgY29tcG9uZW50IHZhbHVlLCB1bmV4cGVjdGVkIEVPRlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnJlY29uc3VtZVRva2VuKHRva2VuKTtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5jb25zdW1lQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICB9IHdoaWxlICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuV0hJVEVTUEFDRV9UT0tFTik7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRU9GX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiRXJyb3IgcGFyc2luZyBDU1MgY29tcG9uZW50IHZhbHVlLCBtdWx0aXBsZSB2YWx1ZXMgZm91bmQgd2hlbiBleHBlY3Rpbmcgb25seSBvbmVcIik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlQ29tcG9uZW50VmFsdWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gW107XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmNvbnN1bWVDb21wb25lbnRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5FT0ZfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5jb25zdW1lQ29tcG9uZW50VmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuTEVGVF9DVVJMWV9CUkFDS0VUX1RPS0VOOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkxFRlRfUEFSRU5USEVTSVNfVE9LRU46XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZVNpbXBsZUJsb2NrKHRva2VuLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuRlVOQ1RJT05fVE9LRU46XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUZ1bmN0aW9uKHRva2VuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQYXJzZXIucHJvdG90eXBlLmNvbnN1bWVTaW1wbGVCbG9jayA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHZhciBibG9jayA9IHsgdHlwZTogdHlwZSwgdmFsdWVzOiBbXSB9O1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5FT0ZfVE9LRU4gfHwgaXNFbmRpbmdUb2tlbkZvcih0b2tlbiwgdHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmxvY2s7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3VtZVRva2VuKHRva2VuKTtcclxuICAgICAgICAgICAgICAgIGJsb2NrLnZhbHVlcy5wdXNoKHRoaXMuY29uc3VtZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQYXJzZXIucHJvdG90eXBlLmNvbnN1bWVGdW5jdGlvbiA9IGZ1bmN0aW9uIChmdW5jdGlvblRva2VuKSB7XHJcbiAgICAgICAgICAgIHZhciBjc3NGdW5jdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGZ1bmN0aW9uVG9rZW4udmFsdWUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IFtdLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogVG9rZW5UeXBlLkZVTkNUSU9OXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5FT0ZfVE9LRU4gfHwgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNzc0Z1bmN0aW9uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVUb2tlbih0b2tlbik7XHJcbiAgICAgICAgICAgICAgICBjc3NGdW5jdGlvbi52YWx1ZXMucHVzaCh0aGlzLmNvbnN1bWVDb21wb25lbnRWYWx1ZSgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5jb25zdW1lVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHRoaXMuX3Rva2Vucy5zaGlmdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHRva2VuID09PSAndW5kZWZpbmVkJyA/IEVPRl9UT0tFTiA6IHRva2VuO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5yZWNvbnN1bWVUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICB0aGlzLl90b2tlbnMudW5zaGlmdCh0b2tlbik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUGFyc2VyO1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBpc0RpbWVuc2lvblRva2VuID0gZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOOyB9O1xyXG4gICAgdmFyIGlzTnVtYmVyVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5OVU1CRVJfVE9LRU47IH07XHJcbiAgICB2YXIgaXNJZGVudFRva2VuID0gZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU47IH07XHJcbiAgICB2YXIgaXNTdHJpbmdUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTjsgfTtcclxuICAgIHZhciBpc0lkZW50V2l0aFZhbHVlID0gZnVuY3Rpb24gKHRva2VuLCB2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBpc0lkZW50VG9rZW4odG9rZW4pICYmIHRva2VuLnZhbHVlID09PSB2YWx1ZTtcclxuICAgIH07XHJcbiAgICB2YXIgbm9uV2hpdGVTcGFjZSA9IGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gdG9rZW4udHlwZSAhPT0gVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU47IH07XHJcbiAgICB2YXIgbm9uRnVuY3Rpb25BcmdTZXBhcmF0b3IgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICByZXR1cm4gdG9rZW4udHlwZSAhPT0gVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU4gJiYgdG9rZW4udHlwZSAhPT0gVG9rZW5UeXBlLkNPTU1BX1RPS0VOO1xyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZUZ1bmN0aW9uQXJncyA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIHZhciBhcmcgPSBbXTtcclxuICAgICAgICB0b2tlbnMuZm9yRWFjaChmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5DT01NQV9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyZy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBwYXJzaW5nIGZ1bmN0aW9uIGFyZ3MsIHplcm8gdG9rZW5zIGZvciBhcmdcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJnKTtcclxuICAgICAgICAgICAgICAgIGFyZyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlICE9PSBUb2tlblR5cGUuV0hJVEVTUEFDRV9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgYXJnLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGFyZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcmdzO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0VuZGluZ1Rva2VuRm9yID0gZnVuY3Rpb24gKHRva2VuLCB0eXBlKSB7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFRva2VuVHlwZS5MRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU4gJiYgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlJJR0hUX0NVUkxZX0JSQUNLRVRfVE9LRU4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSBUb2tlblR5cGUuTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTiAmJiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuUklHSFRfU1FVQVJFX0JSQUNLRVRfVE9LRU4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0eXBlID09PSBUb2tlblR5cGUuTEVGVF9QQVJFTlRIRVNJU19UT0tFTiAmJiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuUklHSFRfUEFSRU5USEVTSVNfVE9LRU47XHJcbiAgICB9O1xuXG4gICAgdmFyIGlzTGVuZ3RoID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4gfHwgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkRJTUVOU0lPTl9UT0tFTjtcclxuICAgIH07XG5cbiAgICB2YXIgaXNMZW5ndGhQZXJjZW50YWdlID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOIHx8IGlzTGVuZ3RoKHRva2VuKTtcclxuICAgIH07XHJcbiAgICB2YXIgcGFyc2VMZW5ndGhQZXJjZW50YWdlVHVwbGUgPSBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgcmV0dXJuIHRva2Vucy5sZW5ndGggPiAxID8gW3Rva2Vuc1swXSwgdG9rZW5zWzFdXSA6IFt0b2tlbnNbMF1dO1xyXG4gICAgfTtcclxuICAgIHZhciBaRVJPX0xFTkdUSCA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuTlVNQkVSX1RPS0VOLFxyXG4gICAgICAgIG51bWJlcjogMCxcclxuICAgICAgICBmbGFnczogRkxBR19JTlRFR0VSXHJcbiAgICB9O1xyXG4gICAgdmFyIEZJRlRZX1BFUkNFTlQgPSB7XHJcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4sXHJcbiAgICAgICAgbnVtYmVyOiA1MCxcclxuICAgICAgICBmbGFnczogRkxBR19JTlRFR0VSXHJcbiAgICB9O1xyXG4gICAgdmFyIEhVTkRSRURfUEVSQ0VOVCA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTixcclxuICAgICAgICBudW1iZXI6IDEwMCxcclxuICAgICAgICBmbGFnczogRkxBR19JTlRFR0VSXHJcbiAgICB9O1xyXG4gICAgdmFyIGdldEFic29sdXRlVmFsdWVGb3JUdXBsZSA9IGZ1bmN0aW9uICh0dXBsZSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHZhciB4ID0gdHVwbGVbMF0sIHkgPSB0dXBsZVsxXTtcclxuICAgICAgICByZXR1cm4gW2dldEFic29sdXRlVmFsdWUoeCwgd2lkdGgpLCBnZXRBYnNvbHV0ZVZhbHVlKHR5cGVvZiB5ICE9PSAndW5kZWZpbmVkJyA/IHkgOiB4LCBoZWlnaHQpXTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0QWJzb2x1dGVWYWx1ZSA9IGZ1bmN0aW9uICh0b2tlbiwgcGFyZW50KSB7XHJcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodG9rZW4ubnVtYmVyIC8gMTAwKSAqIHBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRGltZW5zaW9uVG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udW5pdCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmVtJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2VtJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTYgKiB0b2tlbi5udW1iZXI7IC8vIFRPRE8gdXNlIGNvcnJlY3QgZm9udC1zaXplXHJcbiAgICAgICAgICAgICAgICBjYXNlICdweCc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRva2VuLm51bWJlcjtcclxuICAgIH07XG5cbiAgICB2YXIgREVHID0gJ2RlZyc7XHJcbiAgICB2YXIgR1JBRCA9ICdncmFkJztcclxuICAgIHZhciBSQUQgPSAncmFkJztcclxuICAgIHZhciBUVVJOID0gJ3R1cm4nO1xyXG4gICAgdmFyIGFuZ2xlID0ge1xyXG4gICAgICAgIG5hbWU6ICdhbmdsZScsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gVG9rZW5UeXBlLkRJTUVOU0lPTl9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZS51bml0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBERUc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoTWF0aC5QSSAqIHZhbHVlLm51bWJlcikgLyAxODA7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBHUkFEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKE1hdGguUEkgLyAyMDApICogdmFsdWUubnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgUkFEOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUubnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVFVSTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguUEkgKiAyICogdmFsdWUubnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGFuZ2xlIHR5cGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBpc0FuZ2xlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU4pIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlLnVuaXQgPT09IERFRyB8fCB2YWx1ZS51bml0ID09PSBHUkFEIHx8IHZhbHVlLnVuaXQgPT09IFJBRCB8fCB2YWx1ZS51bml0ID09PSBUVVJOKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgdmFyIHBhcnNlTmFtZWRTaWRlID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHZhciBzaWRlT3JDb3JuZXIgPSB0b2tlbnNcclxuICAgICAgICAgICAgLmZpbHRlcihpc0lkZW50VG9rZW4pXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGlkZW50KSB7IHJldHVybiBpZGVudC52YWx1ZTsgfSlcclxuICAgICAgICAgICAgLmpvaW4oJyAnKTtcclxuICAgICAgICBzd2l0Y2ggKHNpZGVPckNvcm5lcikge1xyXG4gICAgICAgICAgICBjYXNlICd0byBib3R0b20gcmlnaHQnOlxyXG4gICAgICAgICAgICBjYXNlICd0byByaWdodCBib3R0b20nOlxyXG4gICAgICAgICAgICBjYXNlICdsZWZ0IHRvcCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvcCBsZWZ0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbWkVST19MRU5HVEgsIFpFUk9fTEVOR1RIXTtcclxuICAgICAgICAgICAgY2FzZSAndG8gdG9wJzpcclxuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWcoMCk7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvIGJvdHRvbSBsZWZ0JzpcclxuICAgICAgICAgICAgY2FzZSAndG8gbGVmdCBib3R0b20nOlxyXG4gICAgICAgICAgICBjYXNlICdyaWdodCB0b3AnOlxyXG4gICAgICAgICAgICBjYXNlICd0b3AgcmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtaRVJPX0xFTkdUSCwgSFVORFJFRF9QRVJDRU5UXTtcclxuICAgICAgICAgICAgY2FzZSAndG8gcmlnaHQnOlxyXG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWcoOTApO1xyXG4gICAgICAgICAgICBjYXNlICd0byB0b3AgbGVmdCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvIGxlZnQgdG9wJzpcclxuICAgICAgICAgICAgY2FzZSAncmlnaHQgYm90dG9tJzpcclxuICAgICAgICAgICAgY2FzZSAnYm90dG9tIHJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbSFVORFJFRF9QRVJDRU5ULCBIVU5EUkVEX1BFUkNFTlRdO1xyXG4gICAgICAgICAgICBjYXNlICd0byBib3R0b20nOlxyXG4gICAgICAgICAgICBjYXNlICd0b3AnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZygxODApO1xyXG4gICAgICAgICAgICBjYXNlICd0byB0b3AgcmlnaHQnOlxyXG4gICAgICAgICAgICBjYXNlICd0byByaWdodCB0b3AnOlxyXG4gICAgICAgICAgICBjYXNlICdsZWZ0IGJvdHRvbSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSBsZWZ0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbSFVORFJFRF9QRVJDRU5ULCBaRVJPX0xFTkdUSF07XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvIGxlZnQnOlxyXG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVnKDI3MCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfTtcclxuICAgIHZhciBkZWcgPSBmdW5jdGlvbiAoZGVnKSB7IHJldHVybiAoTWF0aC5QSSAqIGRlZykgLyAxODA7IH07XG5cbiAgICB2YXIgY29sb3IgPSB7XHJcbiAgICAgICAgbmFtZTogJ2NvbG9yJyxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuRlVOQ1RJT04pIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb2xvckZ1bmN0aW9uID0gU1VQUE9SVEVEX0NPTE9SX0ZVTkNUSU9OU1t2YWx1ZS5uYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29sb3JGdW5jdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIHBhcnNlIGFuIHVuc3VwcG9ydGVkIGNvbG9yIGZ1bmN0aW9uIFxcXCJcIiArIHZhbHVlLm5hbWUgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JGdW5jdGlvbih2YWx1ZS52YWx1ZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuSEFTSF9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnZhbHVlLmxlbmd0aCA9PT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDEsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDIsIDMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWNrKHBhcnNlSW50KHIgKyByLCAxNiksIHBhcnNlSW50KGcgKyBnLCAxNiksIHBhcnNlSW50KGIgKyBiLCAxNiksIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnZhbHVlLmxlbmd0aCA9PT0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDEsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDIsIDMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDMsIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWNrKHBhcnNlSW50KHIgKyByLCAxNiksIHBhcnNlSW50KGcgKyBnLCAxNiksIHBhcnNlSW50KGIgKyBiLCAxNiksIHBhcnNlSW50KGEgKyBhLCAxNikgLyAyNTUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnZhbHVlLmxlbmd0aCA9PT0gNikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDAsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDIsIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDQsIDYpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWNrKHBhcnNlSW50KHIsIDE2KSwgcGFyc2VJbnQoZywgMTYpLCBwYXJzZUludChiLCAxNiksIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlLnZhbHVlLmxlbmd0aCA9PT0gOCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDAsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDIsIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDQsIDYpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhID0gdmFsdWUudmFsdWUuc3Vic3RyaW5nKDYsIDgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWNrKHBhcnNlSW50KHIsIDE2KSwgcGFyc2VJbnQoZywgMTYpLCBwYXJzZUludChiLCAxNiksIHBhcnNlSW50KGEsIDE2KSAvIDI1NSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWVkQ29sb3IgPSBDT0xPUlNbdmFsdWUudmFsdWUudG9VcHBlckNhc2UoKV07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5hbWVkQ29sb3IgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWVkQ29sb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIENPTE9SUy5UUkFOU1BBUkVOVDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzVHJhbnNwYXJlbnQgPSBmdW5jdGlvbiAoY29sb3IpIHsgcmV0dXJuICgweGZmICYgY29sb3IpID09PSAwOyB9O1xyXG4gICAgdmFyIGFzU3RyaW5nID0gZnVuY3Rpb24gKGNvbG9yKSB7XHJcbiAgICAgICAgdmFyIGFscGhhID0gMHhmZiAmIGNvbG9yO1xyXG4gICAgICAgIHZhciBibHVlID0gMHhmZiAmIChjb2xvciA+PiA4KTtcclxuICAgICAgICB2YXIgZ3JlZW4gPSAweGZmICYgKGNvbG9yID4+IDE2KTtcclxuICAgICAgICB2YXIgcmVkID0gMHhmZiAmIChjb2xvciA+PiAyNCk7XHJcbiAgICAgICAgcmV0dXJuIGFscGhhIDwgMjU1ID8gXCJyZ2JhKFwiICsgcmVkICsgXCIsXCIgKyBncmVlbiArIFwiLFwiICsgYmx1ZSArIFwiLFwiICsgYWxwaGEgLyAyNTUgKyBcIilcIiA6IFwicmdiKFwiICsgcmVkICsgXCIsXCIgKyBncmVlbiArIFwiLFwiICsgYmx1ZSArIFwiKVwiO1xyXG4gICAgfTtcclxuICAgIHZhciBwYWNrID0gZnVuY3Rpb24gKHIsIGcsIGIsIGEpIHtcclxuICAgICAgICByZXR1cm4gKChyIDw8IDI0KSB8IChnIDw8IDE2KSB8IChiIDw8IDgpIHwgKE1hdGgucm91bmQoYSAqIDI1NSkgPDwgMCkpID4+PiAwO1xyXG4gICAgfTtcclxuICAgIHZhciBnZXRUb2tlbkNvbG9yVmFsdWUgPSBmdW5jdGlvbiAodG9rZW4sIGkpIHtcclxuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLk5VTUJFUl9UT0tFTikge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW4ubnVtYmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4pIHtcclxuICAgICAgICAgICAgdmFyIG1heCA9IGkgPT09IDMgPyAxIDogMjU1O1xyXG4gICAgICAgICAgICByZXR1cm4gaSA9PT0gMyA/ICh0b2tlbi5udW1iZXIgLyAxMDApICogbWF4IDogTWF0aC5yb3VuZCgodG9rZW4ubnVtYmVyIC8gMTAwKSAqIG1heCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfTtcclxuICAgIHZhciByZ2IgPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgICAgIHZhciB0b2tlbnMgPSBhcmdzLmZpbHRlcihub25GdW5jdGlvbkFyZ1NlcGFyYXRvcik7XHJcbiAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDMpIHtcclxuICAgICAgICAgICAgdmFyIF9hID0gdG9rZW5zLm1hcChnZXRUb2tlbkNvbG9yVmFsdWUpLCByID0gX2FbMF0sIGcgPSBfYVsxXSwgYiA9IF9hWzJdO1xyXG4gICAgICAgICAgICByZXR1cm4gcGFjayhyLCBnLCBiLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDQpIHtcclxuICAgICAgICAgICAgdmFyIF9iID0gdG9rZW5zLm1hcChnZXRUb2tlbkNvbG9yVmFsdWUpLCByID0gX2JbMF0sIGcgPSBfYlsxXSwgYiA9IF9iWzJdLCBhID0gX2JbM107XHJcbiAgICAgICAgICAgIHJldHVybiBwYWNrKHIsIGcsIGIsIGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH07XHJcbiAgICBmdW5jdGlvbiBodWUycmdiKHQxLCB0MiwgaHVlKSB7XHJcbiAgICAgICAgaWYgKGh1ZSA8IDApIHtcclxuICAgICAgICAgICAgaHVlICs9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChodWUgPj0gMSkge1xyXG4gICAgICAgICAgICBodWUgLT0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGh1ZSA8IDEgLyA2KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodDIgLSB0MSkgKiBodWUgKiA2ICsgdDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGh1ZSA8IDEgLyAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0MjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaHVlIDwgMiAvIDMpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh0MiAtIHQxKSAqIDYgKiAoMiAvIDMgLSBodWUpICsgdDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGhzbCA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdmFyIHRva2VucyA9IGFyZ3MuZmlsdGVyKG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yKTtcclxuICAgICAgICB2YXIgaHVlID0gdG9rZW5zWzBdLCBzYXR1cmF0aW9uID0gdG9rZW5zWzFdLCBsaWdodG5lc3MgPSB0b2tlbnNbMl0sIGFscGhhID0gdG9rZW5zWzNdO1xyXG4gICAgICAgIHZhciBoID0gKGh1ZS50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOID8gZGVnKGh1ZS5udW1iZXIpIDogYW5nbGUucGFyc2UoaHVlKSkgLyAoTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIHZhciBzID0gaXNMZW5ndGhQZXJjZW50YWdlKHNhdHVyYXRpb24pID8gc2F0dXJhdGlvbi5udW1iZXIgLyAxMDAgOiAwO1xyXG4gICAgICAgIHZhciBsID0gaXNMZW5ndGhQZXJjZW50YWdlKGxpZ2h0bmVzcykgPyBsaWdodG5lc3MubnVtYmVyIC8gMTAwIDogMDtcclxuICAgICAgICB2YXIgYSA9IHR5cGVvZiBhbHBoYSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNMZW5ndGhQZXJjZW50YWdlKGFscGhhKSA/IGdldEFic29sdXRlVmFsdWUoYWxwaGEsIDEpIDogMTtcclxuICAgICAgICBpZiAocyA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFjayhsICogMjU1LCBsICogMjU1LCBsICogMjU1LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHQyID0gbCA8PSAwLjUgPyBsICogKHMgKyAxKSA6IGwgKyBzIC0gbCAqIHM7XHJcbiAgICAgICAgdmFyIHQxID0gbCAqIDIgLSB0MjtcclxuICAgICAgICB2YXIgciA9IGh1ZTJyZ2IodDEsIHQyLCBoICsgMSAvIDMpO1xyXG4gICAgICAgIHZhciBnID0gaHVlMnJnYih0MSwgdDIsIGgpO1xyXG4gICAgICAgIHZhciBiID0gaHVlMnJnYih0MSwgdDIsIGggLSAxIC8gMyk7XHJcbiAgICAgICAgcmV0dXJuIHBhY2sociAqIDI1NSwgZyAqIDI1NSwgYiAqIDI1NSwgYSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIFNVUFBPUlRFRF9DT0xPUl9GVU5DVElPTlMgPSB7XHJcbiAgICAgICAgaHNsOiBoc2wsXHJcbiAgICAgICAgaHNsYTogaHNsLFxyXG4gICAgICAgIHJnYjogcmdiLFxyXG4gICAgICAgIHJnYmE6IHJnYlxyXG4gICAgfTtcclxuICAgIHZhciBDT0xPUlMgPSB7XHJcbiAgICAgICAgQUxJQ0VCTFVFOiAweGYwZjhmZmZmLFxyXG4gICAgICAgIEFOVElRVUVXSElURTogMHhmYWViZDdmZixcclxuICAgICAgICBBUVVBOiAweDAwZmZmZmZmLFxyXG4gICAgICAgIEFRVUFNQVJJTkU6IDB4N2ZmZmQ0ZmYsXHJcbiAgICAgICAgQVpVUkU6IDB4ZjBmZmZmZmYsXHJcbiAgICAgICAgQkVJR0U6IDB4ZjVmNWRjZmYsXHJcbiAgICAgICAgQklTUVVFOiAweGZmZTRjNGZmLFxyXG4gICAgICAgIEJMQUNLOiAweDAwMDAwMGZmLFxyXG4gICAgICAgIEJMQU5DSEVEQUxNT05EOiAweGZmZWJjZGZmLFxyXG4gICAgICAgIEJMVUU6IDB4MDAwMGZmZmYsXHJcbiAgICAgICAgQkxVRVZJT0xFVDogMHg4YTJiZTJmZixcclxuICAgICAgICBCUk9XTjogMHhhNTJhMmFmZixcclxuICAgICAgICBCVVJMWVdPT0Q6IDB4ZGViODg3ZmYsXHJcbiAgICAgICAgQ0FERVRCTFVFOiAweDVmOWVhMGZmLFxyXG4gICAgICAgIENIQVJUUkVVU0U6IDB4N2ZmZjAwZmYsXHJcbiAgICAgICAgQ0hPQ09MQVRFOiAweGQyNjkxZWZmLFxyXG4gICAgICAgIENPUkFMOiAweGZmN2Y1MGZmLFxyXG4gICAgICAgIENPUk5GTE9XRVJCTFVFOiAweDY0OTVlZGZmLFxyXG4gICAgICAgIENPUk5TSUxLOiAweGZmZjhkY2ZmLFxyXG4gICAgICAgIENSSU1TT046IDB4ZGMxNDNjZmYsXHJcbiAgICAgICAgQ1lBTjogMHgwMGZmZmZmZixcclxuICAgICAgICBEQVJLQkxVRTogMHgwMDAwOGJmZixcclxuICAgICAgICBEQVJLQ1lBTjogMHgwMDhiOGJmZixcclxuICAgICAgICBEQVJLR09MREVOUk9EOiAweGI4ODZiYmZmLFxyXG4gICAgICAgIERBUktHUkFZOiAweGE5YTlhOWZmLFxyXG4gICAgICAgIERBUktHUkVFTjogMHgwMDY0MDBmZixcclxuICAgICAgICBEQVJLR1JFWTogMHhhOWE5YTlmZixcclxuICAgICAgICBEQVJLS0hBS0k6IDB4YmRiNzZiZmYsXHJcbiAgICAgICAgREFSS01BR0VOVEE6IDB4OGIwMDhiZmYsXHJcbiAgICAgICAgREFSS09MSVZFR1JFRU46IDB4NTU2YjJmZmYsXHJcbiAgICAgICAgREFSS09SQU5HRTogMHhmZjhjMDBmZixcclxuICAgICAgICBEQVJLT1JDSElEOiAweDk5MzJjY2ZmLFxyXG4gICAgICAgIERBUktSRUQ6IDB4OGIwMDAwZmYsXHJcbiAgICAgICAgREFSS1NBTE1PTjogMHhlOTk2N2FmZixcclxuICAgICAgICBEQVJLU0VBR1JFRU46IDB4OGZiYzhmZmYsXHJcbiAgICAgICAgREFSS1NMQVRFQkxVRTogMHg0ODNkOGJmZixcclxuICAgICAgICBEQVJLU0xBVEVHUkFZOiAweDJmNGY0ZmZmLFxyXG4gICAgICAgIERBUktTTEFURUdSRVk6IDB4MmY0ZjRmZmYsXHJcbiAgICAgICAgREFSS1RVUlFVT0lTRTogMHgwMGNlZDFmZixcclxuICAgICAgICBEQVJLVklPTEVUOiAweDk0MDBkM2ZmLFxyXG4gICAgICAgIERFRVBQSU5LOiAweGZmMTQ5M2ZmLFxyXG4gICAgICAgIERFRVBTS1lCTFVFOiAweDAwYmZmZmZmLFxyXG4gICAgICAgIERJTUdSQVk6IDB4Njk2OTY5ZmYsXHJcbiAgICAgICAgRElNR1JFWTogMHg2OTY5NjlmZixcclxuICAgICAgICBET0RHRVJCTFVFOiAweDFlOTBmZmZmLFxyXG4gICAgICAgIEZJUkVCUklDSzogMHhiMjIyMjJmZixcclxuICAgICAgICBGTE9SQUxXSElURTogMHhmZmZhZjBmZixcclxuICAgICAgICBGT1JFU1RHUkVFTjogMHgyMjhiMjJmZixcclxuICAgICAgICBGVUNIU0lBOiAweGZmMDBmZmZmLFxyXG4gICAgICAgIEdBSU5TQk9STzogMHhkY2RjZGNmZixcclxuICAgICAgICBHSE9TVFdISVRFOiAweGY4ZjhmZmZmLFxyXG4gICAgICAgIEdPTEQ6IDB4ZmZkNzAwZmYsXHJcbiAgICAgICAgR09MREVOUk9EOiAweGRhYTUyMGZmLFxyXG4gICAgICAgIEdSQVk6IDB4ODA4MDgwZmYsXHJcbiAgICAgICAgR1JFRU46IDB4MDA4MDAwZmYsXHJcbiAgICAgICAgR1JFRU5ZRUxMT1c6IDB4YWRmZjJmZmYsXHJcbiAgICAgICAgR1JFWTogMHg4MDgwODBmZixcclxuICAgICAgICBIT05FWURFVzogMHhmMGZmZjBmZixcclxuICAgICAgICBIT1RQSU5LOiAweGZmNjliNGZmLFxyXG4gICAgICAgIElORElBTlJFRDogMHhjZDVjNWNmZixcclxuICAgICAgICBJTkRJR086IDB4NGIwMDgyZmYsXHJcbiAgICAgICAgSVZPUlk6IDB4ZmZmZmYwZmYsXHJcbiAgICAgICAgS0hBS0k6IDB4ZjBlNjhjZmYsXHJcbiAgICAgICAgTEFWRU5ERVI6IDB4ZTZlNmZhZmYsXHJcbiAgICAgICAgTEFWRU5ERVJCTFVTSDogMHhmZmYwZjVmZixcclxuICAgICAgICBMQVdOR1JFRU46IDB4N2NmYzAwZmYsXHJcbiAgICAgICAgTEVNT05DSElGRk9OOiAweGZmZmFjZGZmLFxyXG4gICAgICAgIExJR0hUQkxVRTogMHhhZGQ4ZTZmZixcclxuICAgICAgICBMSUdIVENPUkFMOiAweGYwODA4MGZmLFxyXG4gICAgICAgIExJR0hUQ1lBTjogMHhlMGZmZmZmZixcclxuICAgICAgICBMSUdIVEdPTERFTlJPRFlFTExPVzogMHhmYWZhZDJmZixcclxuICAgICAgICBMSUdIVEdSQVk6IDB4ZDNkM2QzZmYsXHJcbiAgICAgICAgTElHSFRHUkVFTjogMHg5MGVlOTBmZixcclxuICAgICAgICBMSUdIVEdSRVk6IDB4ZDNkM2QzZmYsXHJcbiAgICAgICAgTElHSFRQSU5LOiAweGZmYjZjMWZmLFxyXG4gICAgICAgIExJR0hUU0FMTU9OOiAweGZmYTA3YWZmLFxyXG4gICAgICAgIExJR0hUU0VBR1JFRU46IDB4MjBiMmFhZmYsXHJcbiAgICAgICAgTElHSFRTS1lCTFVFOiAweDg3Y2VmYWZmLFxyXG4gICAgICAgIExJR0hUU0xBVEVHUkFZOiAweDc3ODg5OWZmLFxyXG4gICAgICAgIExJR0hUU0xBVEVHUkVZOiAweDc3ODg5OWZmLFxyXG4gICAgICAgIExJR0hUU1RFRUxCTFVFOiAweGIwYzRkZWZmLFxyXG4gICAgICAgIExJR0hUWUVMTE9XOiAweGZmZmZlMGZmLFxyXG4gICAgICAgIExJTUU6IDB4MDBmZjAwZmYsXHJcbiAgICAgICAgTElNRUdSRUVOOiAweDMyY2QzMmZmLFxyXG4gICAgICAgIExJTkVOOiAweGZhZjBlNmZmLFxyXG4gICAgICAgIE1BR0VOVEE6IDB4ZmYwMGZmZmYsXHJcbiAgICAgICAgTUFST09OOiAweDgwMDAwMGZmLFxyXG4gICAgICAgIE1FRElVTUFRVUFNQVJJTkU6IDB4NjZjZGFhZmYsXHJcbiAgICAgICAgTUVESVVNQkxVRTogMHgwMDAwY2RmZixcclxuICAgICAgICBNRURJVU1PUkNISUQ6IDB4YmE1NWQzZmYsXHJcbiAgICAgICAgTUVESVVNUFVSUExFOiAweDkzNzBkYmZmLFxyXG4gICAgICAgIE1FRElVTVNFQUdSRUVOOiAweDNjYjM3MWZmLFxyXG4gICAgICAgIE1FRElVTVNMQVRFQkxVRTogMHg3YjY4ZWVmZixcclxuICAgICAgICBNRURJVU1TUFJJTkdHUkVFTjogMHgwMGZhOWFmZixcclxuICAgICAgICBNRURJVU1UVVJRVU9JU0U6IDB4NDhkMWNjZmYsXHJcbiAgICAgICAgTUVESVVNVklPTEVUUkVEOiAweGM3MTU4NWZmLFxyXG4gICAgICAgIE1JRE5JR0hUQkxVRTogMHgxOTE5NzBmZixcclxuICAgICAgICBNSU5UQ1JFQU06IDB4ZjVmZmZhZmYsXHJcbiAgICAgICAgTUlTVFlST1NFOiAweGZmZTRlMWZmLFxyXG4gICAgICAgIE1PQ0NBU0lOOiAweGZmZTRiNWZmLFxyXG4gICAgICAgIE5BVkFKT1dISVRFOiAweGZmZGVhZGZmLFxyXG4gICAgICAgIE5BVlk6IDB4MDAwMDgwZmYsXHJcbiAgICAgICAgT0xETEFDRTogMHhmZGY1ZTZmZixcclxuICAgICAgICBPTElWRTogMHg4MDgwMDBmZixcclxuICAgICAgICBPTElWRURSQUI6IDB4NmI4ZTIzZmYsXHJcbiAgICAgICAgT1JBTkdFOiAweGZmYTUwMGZmLFxyXG4gICAgICAgIE9SQU5HRVJFRDogMHhmZjQ1MDBmZixcclxuICAgICAgICBPUkNISUQ6IDB4ZGE3MGQ2ZmYsXHJcbiAgICAgICAgUEFMRUdPTERFTlJPRDogMHhlZWU4YWFmZixcclxuICAgICAgICBQQUxFR1JFRU46IDB4OThmYjk4ZmYsXHJcbiAgICAgICAgUEFMRVRVUlFVT0lTRTogMHhhZmVlZWVmZixcclxuICAgICAgICBQQUxFVklPTEVUUkVEOiAweGRiNzA5M2ZmLFxyXG4gICAgICAgIFBBUEFZQVdISVA6IDB4ZmZlZmQ1ZmYsXHJcbiAgICAgICAgUEVBQ0hQVUZGOiAweGZmZGFiOWZmLFxyXG4gICAgICAgIFBFUlU6IDB4Y2Q4NTNmZmYsXHJcbiAgICAgICAgUElOSzogMHhmZmMwY2JmZixcclxuICAgICAgICBQTFVNOiAweGRkYTBkZGZmLFxyXG4gICAgICAgIFBPV0RFUkJMVUU6IDB4YjBlMGU2ZmYsXHJcbiAgICAgICAgUFVSUExFOiAweDgwMDA4MGZmLFxyXG4gICAgICAgIFJFQkVDQ0FQVVJQTEU6IDB4NjYzMzk5ZmYsXHJcbiAgICAgICAgUkVEOiAweGZmMDAwMGZmLFxyXG4gICAgICAgIFJPU1lCUk9XTjogMHhiYzhmOGZmZixcclxuICAgICAgICBST1lBTEJMVUU6IDB4NDE2OWUxZmYsXHJcbiAgICAgICAgU0FERExFQlJPV046IDB4OGI0NTEzZmYsXHJcbiAgICAgICAgU0FMTU9OOiAweGZhODA3MmZmLFxyXG4gICAgICAgIFNBTkRZQlJPV046IDB4ZjRhNDYwZmYsXHJcbiAgICAgICAgU0VBR1JFRU46IDB4MmU4YjU3ZmYsXHJcbiAgICAgICAgU0VBU0hFTEw6IDB4ZmZmNWVlZmYsXHJcbiAgICAgICAgU0lFTk5BOiAweGEwNTIyZGZmLFxyXG4gICAgICAgIFNJTFZFUjogMHhjMGMwYzBmZixcclxuICAgICAgICBTS1lCTFVFOiAweDg3Y2VlYmZmLFxyXG4gICAgICAgIFNMQVRFQkxVRTogMHg2YTVhY2RmZixcclxuICAgICAgICBTTEFURUdSQVk6IDB4NzA4MDkwZmYsXHJcbiAgICAgICAgU0xBVEVHUkVZOiAweDcwODA5MGZmLFxyXG4gICAgICAgIFNOT1c6IDB4ZmZmYWZhZmYsXHJcbiAgICAgICAgU1BSSU5HR1JFRU46IDB4MDBmZjdmZmYsXHJcbiAgICAgICAgU1RFRUxCTFVFOiAweDQ2ODJiNGZmLFxyXG4gICAgICAgIFRBTjogMHhkMmI0OGNmZixcclxuICAgICAgICBURUFMOiAweDAwODA4MGZmLFxyXG4gICAgICAgIFRISVNUTEU6IDB4ZDhiZmQ4ZmYsXHJcbiAgICAgICAgVE9NQVRPOiAweGZmNjM0N2ZmLFxyXG4gICAgICAgIFRSQU5TUEFSRU5UOiAweDAwMDAwMDAwLFxyXG4gICAgICAgIFRVUlFVT0lTRTogMHg0MGUwZDBmZixcclxuICAgICAgICBWSU9MRVQ6IDB4ZWU4MmVlZmYsXHJcbiAgICAgICAgV0hFQVQ6IDB4ZjVkZWIzZmYsXHJcbiAgICAgICAgV0hJVEU6IDB4ZmZmZmZmZmYsXHJcbiAgICAgICAgV0hJVEVTTU9LRTogMHhmNWY1ZjVmZixcclxuICAgICAgICBZRUxMT1c6IDB4ZmZmZjAwZmYsXHJcbiAgICAgICAgWUVMTE9XR1JFRU46IDB4OWFjZDMyZmZcclxuICAgIH07XG5cbiAgICB2YXIgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGU7XHJcbiAgICAoZnVuY3Rpb24gKFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlKSB7XHJcbiAgICAgICAgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbXCJWQUxVRVwiXSA9IDBdID0gXCJWQUxVRVwiO1xyXG4gICAgICAgIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1Byb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1wiTElTVFwiXSA9IDFdID0gXCJMSVNUXCI7XHJcbiAgICAgICAgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbXCJJREVOVF9WQUxVRVwiXSA9IDJdID0gXCJJREVOVF9WQUxVRVwiO1xyXG4gICAgICAgIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1Byb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1wiVFlQRV9WQUxVRVwiXSA9IDNdID0gXCJUWVBFX1ZBTFVFXCI7XHJcbiAgICAgICAgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbXCJUT0tFTl9WQUxVRVwiXSA9IDRdID0gXCJUT0tFTl9WQUxVRVwiO1xyXG4gICAgfSkoUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUgfHwgKFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlID0ge30pKTtcblxuICAgIHZhciBCQUNLR1JPVU5EX0NMSVA7XHJcbiAgICAoZnVuY3Rpb24gKEJBQ0tHUk9VTkRfQ0xJUCkge1xyXG4gICAgICAgIEJBQ0tHUk9VTkRfQ0xJUFtCQUNLR1JPVU5EX0NMSVBbXCJCT1JERVJfQk9YXCJdID0gMF0gPSBcIkJPUkRFUl9CT1hcIjtcclxuICAgICAgICBCQUNLR1JPVU5EX0NMSVBbQkFDS0dST1VORF9DTElQW1wiUEFERElOR19CT1hcIl0gPSAxXSA9IFwiUEFERElOR19CT1hcIjtcclxuICAgICAgICBCQUNLR1JPVU5EX0NMSVBbQkFDS0dST1VORF9DTElQW1wiQ09OVEVOVF9CT1hcIl0gPSAyXSA9IFwiQ09OVEVOVF9CT1hcIjtcclxuICAgIH0pKEJBQ0tHUk9VTkRfQ0xJUCB8fCAoQkFDS0dST1VORF9DTElQID0ge30pKTtcclxuICAgIHZhciBiYWNrZ3JvdW5kQ2xpcCA9IHtcclxuICAgICAgICBuYW1lOiAnYmFja2dyb3VuZC1jbGlwJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdib3JkZXItYm94JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vucy5tYXAoZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncGFkZGluZy1ib3gnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfQ0xJUC5QQURESU5HX0JPWDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29udGVudC1ib3gnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfQ0xJUC5DT05URU5UX0JPWDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQkFDS0dST1VORF9DTElQLkJPUkRFUl9CT1g7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgYmFja2dyb3VuZENvbG9yID0ge1xyXG4gICAgICAgIG5hbWU6IFwiYmFja2dyb3VuZC1jb2xvclwiLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRZUEVfVkFMVUUsXHJcbiAgICAgICAgZm9ybWF0OiAnY29sb3InXHJcbiAgICB9O1xuXG4gICAgdmFyIHBhcnNlQ29sb3JTdG9wID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB2YXIgY29sb3IkMSA9IGNvbG9yLnBhcnNlKGFyZ3NbMF0pO1xyXG4gICAgICAgIHZhciBzdG9wID0gYXJnc1sxXTtcclxuICAgICAgICByZXR1cm4gc3RvcCAmJiBpc0xlbmd0aFBlcmNlbnRhZ2Uoc3RvcCkgPyB7IGNvbG9yOiBjb2xvciQxLCBzdG9wOiBzdG9wIH0gOiB7IGNvbG9yOiBjb2xvciQxLCBzdG9wOiBudWxsIH07XHJcbiAgICB9O1xyXG4gICAgdmFyIHByb2Nlc3NDb2xvclN0b3BzID0gZnVuY3Rpb24gKHN0b3BzLCBsaW5lTGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIGZpcnN0ID0gc3RvcHNbMF07XHJcbiAgICAgICAgdmFyIGxhc3QgPSBzdG9wc1tzdG9wcy5sZW5ndGggLSAxXTtcclxuICAgICAgICBpZiAoZmlyc3Quc3RvcCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBmaXJzdC5zdG9wID0gWkVST19MRU5HVEg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXN0LnN0b3AgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgbGFzdC5zdG9wID0gSFVORFJFRF9QRVJDRU5UO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcHJvY2Vzc1N0b3BzID0gW107XHJcbiAgICAgICAgdmFyIHByZXZpb3VzID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0b3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzdG9wXzEgPSBzdG9wc1tpXS5zdG9wO1xyXG4gICAgICAgICAgICBpZiAoc3RvcF8xICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWJzb2x1dGVWYWx1ZSA9IGdldEFic29sdXRlVmFsdWUoc3RvcF8xLCBsaW5lTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGlmIChhYnNvbHV0ZVZhbHVlID4gcHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcHMucHVzaChhYnNvbHV0ZVZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9wcy5wdXNoKHByZXZpb3VzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gYWJzb2x1dGVWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9wcy5wdXNoKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBnYXBCZWdpbiA9IG51bGw7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9jZXNzU3RvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHN0b3BfMiA9IHByb2Nlc3NTdG9wc1tpXTtcclxuICAgICAgICAgICAgaWYgKHN0b3BfMiA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhcEJlZ2luID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FwQmVnaW4gPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGdhcEJlZ2luICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2FwTGVuZ3RoID0gaSAtIGdhcEJlZ2luO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJlZm9yZUdhcCA9IHByb2Nlc3NTdG9wc1tnYXBCZWdpbiAtIDFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGdhcFZhbHVlID0gKHN0b3BfMiAtIGJlZm9yZUdhcCkgLyAoZ2FwTGVuZ3RoICsgMSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBnID0gMTsgZyA8PSBnYXBMZW5ndGg7IGcrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9wc1tnYXBCZWdpbiArIGcgLSAxXSA9IGdhcFZhbHVlICogZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGdhcEJlZ2luID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RvcHMubWFwKGZ1bmN0aW9uIChfYSwgaSkge1xyXG4gICAgICAgICAgICB2YXIgY29sb3IgPSBfYS5jb2xvcjtcclxuICAgICAgICAgICAgcmV0dXJuIHsgY29sb3I6IGNvbG9yLCBzdG9wOiBNYXRoLm1heChNYXRoLm1pbigxLCBwcm9jZXNzU3RvcHNbaV0gLyBsaW5lTGVuZ3RoKSwgMCkgfTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0QW5nbGVGcm9tQ29ybmVyID0gZnVuY3Rpb24gKGNvcm5lciwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHZhciBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG4gICAgICAgIHZhciBjZW50ZXJZID0gaGVpZ2h0IC8gMjtcclxuICAgICAgICB2YXIgeCA9IGdldEFic29sdXRlVmFsdWUoY29ybmVyWzBdLCB3aWR0aCkgLSBjZW50ZXJYO1xyXG4gICAgICAgIHZhciB5ID0gY2VudGVyWSAtIGdldEFic29sdXRlVmFsdWUoY29ybmVyWzFdLCBoZWlnaHQpO1xyXG4gICAgICAgIHJldHVybiAoTWF0aC5hdGFuMih5LCB4KSArIE1hdGguUEkgKiAyKSAlIChNYXRoLlBJICogMik7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZUdyYWRpZW50RGlyZWN0aW9uID0gZnVuY3Rpb24gKGFuZ2xlLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgdmFyIHJhZGlhbiA9IHR5cGVvZiBhbmdsZSA9PT0gJ251bWJlcicgPyBhbmdsZSA6IGdldEFuZ2xlRnJvbUNvcm5lcihhbmdsZSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgdmFyIGxpbmVMZW5ndGggPSBNYXRoLmFicyh3aWR0aCAqIE1hdGguc2luKHJhZGlhbikpICsgTWF0aC5hYnMoaGVpZ2h0ICogTWF0aC5jb3MocmFkaWFuKSk7XHJcbiAgICAgICAgdmFyIGhhbGZXaWR0aCA9IHdpZHRoIC8gMjtcclxuICAgICAgICB2YXIgaGFsZkhlaWdodCA9IGhlaWdodCAvIDI7XHJcbiAgICAgICAgdmFyIGhhbGZMaW5lTGVuZ3RoID0gbGluZUxlbmd0aCAvIDI7XHJcbiAgICAgICAgdmFyIHlEaWZmID0gTWF0aC5zaW4ocmFkaWFuIC0gTWF0aC5QSSAvIDIpICogaGFsZkxpbmVMZW5ndGg7XHJcbiAgICAgICAgdmFyIHhEaWZmID0gTWF0aC5jb3MocmFkaWFuIC0gTWF0aC5QSSAvIDIpICogaGFsZkxpbmVMZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIFtsaW5lTGVuZ3RoLCBoYWxmV2lkdGggLSB4RGlmZiwgaGFsZldpZHRoICsgeERpZmYsIGhhbGZIZWlnaHQgLSB5RGlmZiwgaGFsZkhlaWdodCArIHlEaWZmXTtcclxuICAgIH07XHJcbiAgICB2YXIgZGlzdGFuY2UgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpOyB9O1xyXG4gICAgdmFyIGZpbmRDb3JuZXIgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgeCwgeSwgY2xvc2VzdCkge1xyXG4gICAgICAgIHZhciBjb3JuZXJzID0gW1swLCAwXSwgWzAsIGhlaWdodF0sIFt3aWR0aCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV07XHJcbiAgICAgICAgcmV0dXJuIGNvcm5lcnMucmVkdWNlKGZ1bmN0aW9uIChzdGF0LCBjb3JuZXIpIHtcclxuICAgICAgICAgICAgdmFyIGN4ID0gY29ybmVyWzBdLCBjeSA9IGNvcm5lclsxXTtcclxuICAgICAgICAgICAgdmFyIGQgPSBkaXN0YW5jZSh4IC0gY3gsIHkgLSBjeSk7XHJcbiAgICAgICAgICAgIGlmIChjbG9zZXN0ID8gZCA8IHN0YXQub3B0aW11bURpc3RhbmNlIDogZCA+IHN0YXQub3B0aW11bURpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGltdW1Db3JuZXI6IGNvcm5lcixcclxuICAgICAgICAgICAgICAgICAgICBvcHRpbXVtRGlzdGFuY2U6IGRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0YXQ7XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBvcHRpbXVtRGlzdGFuY2U6IGNsb3Nlc3QgPyBJbmZpbml0eSA6IC1JbmZpbml0eSxcclxuICAgICAgICAgICAgb3B0aW11bUNvcm5lcjogbnVsbFxyXG4gICAgICAgIH0pLm9wdGltdW1Db3JuZXI7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZVJhZGl1cyA9IGZ1bmN0aW9uIChncmFkaWVudCwgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHZhciByeCA9IDA7XHJcbiAgICAgICAgdmFyIHJ5ID0gMDtcclxuICAgICAgICBzd2l0Y2ggKGdyYWRpZW50LnNpemUpIHtcclxuICAgICAgICAgICAgY2FzZSBDU1NSYWRpYWxFeHRlbnQuQ0xPU0VTVF9TSURFOlxyXG4gICAgICAgICAgICAgICAgLy8gVGhlIGVuZGluZyBzaGFwZSBpcyBzaXplZCBzbyB0aGF0IHRoYXQgaXQgZXhhY3RseSBtZWV0cyB0aGUgc2lkZSBvZiB0aGUgZ3JhZGllbnQgYm94IGNsb3Nlc3QgdG8gdGhlIGdyYWRpZW504oCZcyBjZW50ZXIuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc2hhcGUgaXMgYW4gZWxsaXBzZSwgaXQgZXhhY3RseSBtZWV0cyB0aGUgY2xvc2VzdCBzaWRlIGluIGVhY2ggZGltZW5zaW9uLlxyXG4gICAgICAgICAgICAgICAgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5DSVJDTEUpIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IHJ5ID0gTWF0aC5taW4oTWF0aC5hYnMoeCksIE1hdGguYWJzKHggLSB3aWR0aCksIE1hdGguYWJzKHkpLCBNYXRoLmFicyh5IC0gaGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmFkaWVudC5zaGFwZSA9PT0gQ1NTUmFkaWFsU2hhcGUuRUxMSVBTRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gTWF0aC5taW4oTWF0aC5hYnMoeCksIE1hdGguYWJzKHggLSB3aWR0aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ5ID0gTWF0aC5taW4oTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX0NPUk5FUjpcclxuICAgICAgICAgICAgICAgIC8vIFRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgc28gdGhhdCB0aGF0IGl0IHBhc3NlcyB0aHJvdWdoIHRoZSBjb3JuZXIgb2YgdGhlIGdyYWRpZW50IGJveCBjbG9zZXN0IHRvIHRoZSBncmFkaWVudOKAmXMgY2VudGVyLlxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHNoYXBlIGlzIGFuIGVsbGlwc2UsIHRoZSBlbmRpbmcgc2hhcGUgaXMgZ2l2ZW4gdGhlIHNhbWUgYXNwZWN0LXJhdGlvIGl0IHdvdWxkIGhhdmUgaWYgY2xvc2VzdC1zaWRlIHdlcmUgc3BlY2lmaWVkLlxyXG4gICAgICAgICAgICAgICAgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5DSVJDTEUpIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IHJ5ID0gTWF0aC5taW4oZGlzdGFuY2UoeCwgeSksIGRpc3RhbmNlKHgsIHkgLSBoZWlnaHQpLCBkaXN0YW5jZSh4IC0gd2lkdGgsIHkpLCBkaXN0YW5jZSh4IC0gd2lkdGgsIHkgLSBoZWlnaHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5FTExJUFNFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcmF0aW8gcnkvcnggKHdoaWNoIGlzIHRvIGJlIHRoZSBzYW1lIGFzIGZvciBcImNsb3Nlc3Qtc2lkZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gTWF0aC5taW4oTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKSAvIE1hdGgubWluKE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBmaW5kQ29ybmVyKHdpZHRoLCBoZWlnaHQsIHgsIHksIHRydWUpLCBjeCA9IF9hWzBdLCBjeSA9IF9hWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gZGlzdGFuY2UoY3ggLSB4LCAoY3kgLSB5KSAvIGMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ5ID0gYyAqIHJ4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX1NJREU6XHJcbiAgICAgICAgICAgICAgICAvLyBTYW1lIGFzIGNsb3Nlc3Qtc2lkZSwgZXhjZXB0IHRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgYmFzZWQgb24gdGhlIGZhcnRoZXN0IHNpZGUocylcclxuICAgICAgICAgICAgICAgIGlmIChncmFkaWVudC5zaGFwZSA9PT0gQ1NTUmFkaWFsU2hhcGUuQ0lSQ0xFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSByeSA9IE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpLCBNYXRoLmFicyh5KSwgTWF0aC5hYnMoeSAtIGhlaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkVMTElQU0UpIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpKTtcclxuICAgICAgICAgICAgICAgICAgICByeSA9IE1hdGgubWF4KE1hdGguYWJzKHkpLCBNYXRoLmFicyh5IC0gaGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSOlxyXG4gICAgICAgICAgICAgICAgLy8gU2FtZSBhcyBjbG9zZXN0LWNvcm5lciwgZXhjZXB0IHRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgYmFzZWQgb24gdGhlIGZhcnRoZXN0IGNvcm5lci5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBzaGFwZSBpcyBhbiBlbGxpcHNlLCB0aGUgZW5kaW5nIHNoYXBlIGlzIGdpdmVuIHRoZSBzYW1lIGFzcGVjdCByYXRpbyBpdCB3b3VsZCBoYXZlIGlmIGZhcnRoZXN0LXNpZGUgd2VyZSBzcGVjaWZpZWQuXHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkNJUkNMRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gcnkgPSBNYXRoLm1heChkaXN0YW5jZSh4LCB5KSwgZGlzdGFuY2UoeCwgeSAtIGhlaWdodCksIGRpc3RhbmNlKHggLSB3aWR0aCwgeSksIGRpc3RhbmNlKHggLSB3aWR0aCwgeSAtIGhlaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkVMTElQU0UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDb21wdXRlIHRoZSByYXRpbyByeS9yeCAod2hpY2ggaXMgdG8gYmUgdGhlIHNhbWUgYXMgZm9yIFwiZmFydGhlc3Qtc2lkZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gTWF0aC5tYXgoTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKSAvIE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2IgPSBmaW5kQ29ybmVyKHdpZHRoLCBoZWlnaHQsIHgsIHksIGZhbHNlKSwgY3ggPSBfYlswXSwgY3kgPSBfYlsxXTtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IGRpc3RhbmNlKGN4IC0geCwgKGN5IC0geSkgLyBjKTtcclxuICAgICAgICAgICAgICAgICAgICByeSA9IGMgKiByeDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShncmFkaWVudC5zaXplKSkge1xyXG4gICAgICAgICAgICByeCA9IGdldEFic29sdXRlVmFsdWUoZ3JhZGllbnQuc2l6ZVswXSwgd2lkdGgpO1xyXG4gICAgICAgICAgICByeSA9IGdyYWRpZW50LnNpemUubGVuZ3RoID09PSAyID8gZ2V0QWJzb2x1dGVWYWx1ZShncmFkaWVudC5zaXplWzFdLCBoZWlnaHQpIDogcng7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbcngsIHJ5XTtcclxuICAgIH07XG5cbiAgICB2YXIgbGluZWFyR3JhZGllbnQgPSBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgdmFyIGFuZ2xlJDEgPSBkZWcoMTgwKTtcclxuICAgICAgICB2YXIgc3RvcHMgPSBbXTtcclxuICAgICAgICBwYXJzZUZ1bmN0aW9uQXJncyh0b2tlbnMpLmZvckVhY2goZnVuY3Rpb24gKGFyZywgaSkge1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0VG9rZW4gPSBhcmdbMF07XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RUb2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgZmlyc3RUb2tlbi52YWx1ZSA9PT0gJ3RvJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlJDEgPSBwYXJzZU5hbWVkU2lkZShhcmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQW5nbGUoZmlyc3RUb2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmdsZSQxID0gYW5nbGUucGFyc2UoZmlyc3RUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjb2xvclN0b3AgPSBwYXJzZUNvbG9yU3RvcChhcmcpO1xyXG4gICAgICAgICAgICBzdG9wcy5wdXNoKGNvbG9yU3RvcCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHsgYW5nbGU6IGFuZ2xlJDEsIHN0b3BzOiBzdG9wcywgdHlwZTogQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVCB9O1xyXG4gICAgfTtcblxuICAgIHZhciBwcmVmaXhMaW5lYXJHcmFkaWVudCA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICB2YXIgYW5nbGUkMSA9IGRlZygxODApO1xyXG4gICAgICAgIHZhciBzdG9wcyA9IFtdO1xyXG4gICAgICAgIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3RUb2tlbiA9IGFyZ1swXTtcclxuICAgICAgICAgICAgICAgIGlmIChmaXJzdFRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJlxyXG4gICAgICAgICAgICAgICAgICAgIFsndG9wJywgJ2xlZnQnLCAncmlnaHQnLCAnYm90dG9tJ10uaW5kZXhPZihmaXJzdFRva2VuLnZhbHVlKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmdsZSQxID0gcGFyc2VOYW1lZFNpZGUoYXJnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0FuZ2xlKGZpcnN0VG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUkMSA9IChhbmdsZS5wYXJzZShmaXJzdFRva2VuKSArIGRlZygyNzApKSAlIGRlZygzNjApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY29sb3JTdG9wID0gcGFyc2VDb2xvclN0b3AoYXJnKTtcclxuICAgICAgICAgICAgc3RvcHMucHVzaChjb2xvclN0b3ApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGFuZ2xlOiBhbmdsZSQxLFxyXG4gICAgICAgICAgICBzdG9wczogc3RvcHMsXHJcbiAgICAgICAgICAgIHR5cGU6IENTU0ltYWdlVHlwZS5MSU5FQVJfR1JBRElFTlRcclxuICAgICAgICB9O1xyXG4gICAgfTtcblxuICAgIHZhciB0ZXN0UmFuZ2VCb3VuZHMgPSBmdW5jdGlvbiAoZG9jdW1lbnQpIHtcclxuICAgICAgICB2YXIgVEVTVF9IRUlHSFQgPSAxMjM7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZVJhbmdlKSB7XHJcbiAgICAgICAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgICAgIGlmIChyYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JvdW5kdGVzdCcpO1xyXG4gICAgICAgICAgICAgICAgdGVzdEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gVEVTVF9IRUlHSFQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICB0ZXN0RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVzdEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZSh0ZXN0RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VCb3VuZHMgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgIHZhciByYW5nZUhlaWdodCA9IE1hdGgucm91bmQocmFuZ2VCb3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGVzdEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlSGVpZ2h0ID09PSBURVNUX0hFSUdIVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICB2YXIgdGVzdENPUlMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlb2YgbmV3IEltYWdlKCkuY3Jvc3NPcmlnaW4gIT09ICd1bmRlZmluZWQnOyB9O1xyXG4gICAgdmFyIHRlc3RSZXNwb25zZVR5cGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlb2YgbmV3IFhNTEh0dHBSZXF1ZXN0KCkucmVzcG9uc2VUeXBlID09PSAnc3RyaW5nJzsgfTtcclxuICAgIHZhciB0ZXN0U1ZHID0gZnVuY3Rpb24gKGRvY3VtZW50KSB7XHJcbiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgaWYgKCFjdHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjwvc3ZnPlwiO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcclxuICAgICAgICAgICAgY2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0dyZWVuUGl4ZWwgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBkYXRhWzBdID09PSAwICYmIGRhdGFbMV0gPT09IDI1NSAmJiBkYXRhWzJdID09PSAwICYmIGRhdGFbM10gPT09IDI1NTtcclxuICAgIH07XHJcbiAgICB2YXIgdGVzdEZvcmVpZ25PYmplY3QgPSBmdW5jdGlvbiAoZG9jdW1lbnQpIHtcclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgdmFyIHNpemUgPSAxMDA7XHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gc2l6ZTtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZTtcclxuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgaWYgKCFjdHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2IoMCwgMjU1LCAwKSc7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHNpemUsIHNpemUpO1xyXG4gICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB2YXIgZ3JlZW5JbWFnZVNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgICAgICBpbWcuc3JjID0gZ3JlZW5JbWFnZVNyYztcclxuICAgICAgICB2YXIgc3ZnID0gY3JlYXRlRm9yZWlnbk9iamVjdFNWRyhzaXplLCBzaXplLCAwLCAwLCBpbWcpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmVkJztcclxuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgc2l6ZSwgc2l6ZSk7XHJcbiAgICAgICAgcmV0dXJuIGxvYWRTZXJpYWxpemVkU1ZHKHN2ZylcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGltZykge1xyXG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCk7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzaXplLCBzaXplKS5kYXRhO1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JlZCc7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCBzaXplLCBzaXplKTtcclxuICAgICAgICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgbm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIGdyZWVuSW1hZ2VTcmMgKyBcIilcIjtcclxuICAgICAgICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSBzaXplICsgXCJweFwiO1xyXG4gICAgICAgICAgICAvLyBGaXJlZm94IDU1IGRvZXMgbm90IHJlbmRlciBpbmxpbmUgPGltZyAvPiB0YWdzXHJcbiAgICAgICAgICAgIHJldHVybiBpc0dyZWVuUGl4ZWwoZGF0YSlcclxuICAgICAgICAgICAgICAgID8gbG9hZFNlcmlhbGl6ZWRTVkcoY3JlYXRlRm9yZWlnbk9iamVjdFNWRyhzaXplLCBzaXplLCAwLCAwLCBub2RlKSlcclxuICAgICAgICAgICAgICAgIDogUHJvbWlzZS5yZWplY3QoZmFsc2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChpbWcpIHtcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xyXG4gICAgICAgICAgICAvLyBFZGdlIGRvZXMgbm90IHJlbmRlciBiYWNrZ3JvdW5kLWltYWdlc1xyXG4gICAgICAgICAgICByZXR1cm4gaXNHcmVlblBpeGVsKGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc2l6ZSwgc2l6ZSkuZGF0YSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlRm9yZWlnbk9iamVjdFNWRyA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0LCB4LCB5LCBub2RlKSB7XHJcbiAgICAgICAgdmFyIHhtbG5zID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcclxuICAgICAgICB2YXIgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHhtbG5zLCAnc3ZnJyk7XHJcbiAgICAgICAgdmFyIGZvcmVpZ25PYmplY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoeG1sbnMsICdmb3JlaWduT2JqZWN0Jyk7XHJcbiAgICAgICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsIHdpZHRoLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnaGVpZ2h0JywgaGVpZ2h0LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgJ3dpZHRoJywgJzEwMCUnKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICdoZWlnaHQnLCAnMTAwJScpO1xyXG4gICAgICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCB4LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgJ3knLCB5LnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGZvcmVpZ25PYmplY3Quc2V0QXR0cmlidXRlTlMobnVsbCwgJ2V4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWQnLCAndHJ1ZScpO1xyXG4gICAgICAgIHN2Zy5hcHBlbmRDaGlsZChmb3JlaWduT2JqZWN0KTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LmFwcGVuZENoaWxkKG5vZGUpO1xyXG4gICAgICAgIHJldHVybiBzdmc7XHJcbiAgICB9O1xyXG4gICAgdmFyIGxvYWRTZXJpYWxpemVkU1ZHID0gZnVuY3Rpb24gKHN2Zykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoaW1nKTsgfTtcclxuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7XHJcbiAgICAgICAgICAgIGltZy5zcmMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG5ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoc3ZnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIEZFQVRVUkVTID0ge1xyXG4gICAgICAgIGdldCBTVVBQT1JUX1JBTkdFX0JPVU5EUygpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGVzdFJhbmdlQm91bmRzKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9SQU5HRV9CT1VORFMnLCB7IHZhbHVlOiB2YWx1ZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IFNVUFBPUlRfU1ZHX0RSQVdJTkcoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRlc3RTVkcoZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRkVBVFVSRVMsICdTVVBQT1JUX1NWR19EUkFXSU5HJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX0ZPUkVJR05PQkpFQ1RfRFJBV0lORygpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdHlwZW9mIEFycmF5LmZyb20gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHdpbmRvdy5mZXRjaCA9PT0gJ2Z1bmN0aW9uJ1xyXG4gICAgICAgICAgICAgICAgPyB0ZXN0Rm9yZWlnbk9iamVjdChkb2N1bWVudClcclxuICAgICAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9GT1JFSUdOT0JKRUNUX0RSQVdJTkcnLCB7IHZhbHVlOiB2YWx1ZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IFNVUFBPUlRfQ09SU19JTUFHRVMoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRlc3RDT1JTKCk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGRUFUVVJFUywgJ1NVUFBPUlRfQ09SU19JTUFHRVMnLCB7IHZhbHVlOiB2YWx1ZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IFNVUFBPUlRfUkVTUE9OU0VfVFlQRSgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGVzdFJlc3BvbnNlVHlwZSgpO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRkVBVFVSRVMsICdTVVBQT1JUX1JFU1BPTlNFX1RZUEUnLCB7IHZhbHVlOiB2YWx1ZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0IFNVUFBPUlRfQ09SU19YSFIoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9ICd3aXRoQ3JlZGVudGlhbHMnIGluIG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRkVBVFVSRVMsICdTVVBQT1JUX0NPUlNfWEhSJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIExvZ2dlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBMb2dnZXIoX2EpIHtcclxuICAgICAgICAgICAgdmFyIGlkID0gX2EuaWQsIGVuYWJsZWQgPSBfYS5lbmFibGVkO1xyXG4gICAgICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgIExvZ2dlci5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiB0eXBlb2YgY29uc29sZS5kZWJ1ZyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1Zy5hcHBseShjb25zb2xlLCBbdGhpcy5pZCwgdGhpcy5nZXRUaW1lKCkgKyBcIm1zXCJdLmNvbmNhdChhcmdzKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZm8uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIExvZ2dlci5wcm90b3R5cGUuZ2V0VGltZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSB0aGlzLnN0YXJ0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTG9nZ2VyLmNyZWF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIExvZ2dlci5pbnN0YW5jZXNbb3B0aW9ucy5pZF0gPSBuZXcgTG9nZ2VyKG9wdGlvbnMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTG9nZ2VyLmRlc3Ryb3kgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgZGVsZXRlIExvZ2dlci5pbnN0YW5jZXNbaWRdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IExvZ2dlci5pbnN0YW5jZXNbaWRdO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGluc3RhbmNlID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gbG9nZ2VyIGluc3RhbmNlIGZvdW5kIHdpdGggaWQgXCIgKyBpZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICBMb2dnZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiB0eXBlb2YgY29uc29sZS5pbmZvID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8uYXBwbHkoY29uc29sZSwgW3RoaXMuaWQsIHRoaXMuZ2V0VGltZSgpICsgXCJtc1wiXS5jb25jYXQoYXJncykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgIExvZ2dlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvci5hcHBseShjb25zb2xlLCBbdGhpcy5pZCwgdGhpcy5nZXRUaW1lKCkgKyBcIm1zXCJdLmNvbmNhdChhcmdzKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZm8uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIExvZ2dlci5pbnN0YW5jZXMgPSB7fTtcclxuICAgICAgICByZXR1cm4gTG9nZ2VyO1xyXG4gICAgfSgpKTtcblxuICAgIHZhciBDYWNoZVN0b3JhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2FjaGVTdG9yYWdlKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBDYWNoZVN0b3JhZ2UuY3JlYXRlID0gZnVuY3Rpb24gKG5hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChDYWNoZVN0b3JhZ2UuX2NhY2hlc1tuYW1lXSA9IG5ldyBDYWNoZShuYW1lLCBvcHRpb25zKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2UuZGVzdHJveSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBDYWNoZVN0b3JhZ2UuX2NhY2hlc1tuYW1lXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5vcGVuID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGNhY2hlID0gQ2FjaGVTdG9yYWdlLl9jYWNoZXNbbmFtZV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FjaGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FjaGUgd2l0aCBrZXkgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBub3QgZm91bmRcIik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2UuZ2V0T3JpZ2luID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICB2YXIgbGluayA9IENhY2hlU3RvcmFnZS5fbGluaztcclxuICAgICAgICAgICAgaWYgKCFsaW5rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Fib3V0OmJsYW5rJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsaW5rLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9IGxpbmsuaHJlZjsgLy8gSUU5LCBMT0whIC0gaHR0cDovL2pzZmlkZGxlLm5ldC9uaWtsYXN2aC8yZTQ4Yi9cclxuICAgICAgICAgICAgcmV0dXJuIGxpbmsucHJvdG9jb2wgKyBsaW5rLmhvc3RuYW1lICsgbGluay5wb3J0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FjaGVTdG9yYWdlLmlzU2FtZU9yaWdpbiA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENhY2hlU3RvcmFnZS5nZXRPcmlnaW4oc3JjKSA9PT0gQ2FjaGVTdG9yYWdlLl9vcmlnaW47XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2Uuc2V0Q29udGV4dCA9IGZ1bmN0aW9uICh3aW5kb3cpIHtcclxuICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLl9saW5rID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLl9vcmlnaW4gPSBDYWNoZVN0b3JhZ2UuZ2V0T3JpZ2luKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBDYWNoZVN0b3JhZ2UuX2N1cnJlbnQ7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjYWNoZSBpbnN0YW5jZSBhdHRhY2hlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5hdHRhY2hJbnN0YW5jZSA9IGZ1bmN0aW9uIChjYWNoZSkge1xyXG4gICAgICAgICAgICBDYWNoZVN0b3JhZ2UuX2N1cnJlbnQgPSBjYWNoZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5kZXRhY2hJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLl9jdXJyZW50ID0gbnVsbDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5fY2FjaGVzID0ge307XHJcbiAgICAgICAgQ2FjaGVTdG9yYWdlLl9vcmlnaW4gPSAnYWJvdXQ6YmxhbmsnO1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5fY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIENhY2hlU3RvcmFnZTtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgQ2FjaGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2FjaGUoaWQsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQ2FjaGUucHJvdG90eXBlLmFkZEltYWdlID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhcyhzcmMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0Jsb2JJbWFnZShzcmMpIHx8IGlzUmVuZGVyYWJsZShzcmMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZVtzcmNdID0gdGhpcy5sb2FkSW1hZ2Uoc3JjKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgQ2FjaGUucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVbc3JjXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlLnByb3RvdHlwZS5sb2FkSW1hZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc1NhbWVPcmlnaW4sIHVzZUNPUlMsIHVzZVByb3h5LCBzcmM7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTYW1lT3JpZ2luID0gQ2FjaGVTdG9yYWdlLmlzU2FtZU9yaWdpbihrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlQ09SUyA9ICFpc0lubGluZUltYWdlKGtleSkgJiYgdGhpcy5fb3B0aW9ucy51c2VDT1JTID09PSB0cnVlICYmIEZFQVRVUkVTLlNVUFBPUlRfQ09SU19JTUFHRVMgJiYgIWlzU2FtZU9yaWdpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZVByb3h5ID0gIWlzSW5saW5lSW1hZ2Uoa2V5KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpc1NhbWVPcmlnaW4gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcy5fb3B0aW9ucy5wcm94eSA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGRUFUVVJFUy5TVVBQT1JUX0NPUlNfWEhSICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXVzZUNPUlM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU2FtZU9yaWdpbiAmJiB0aGlzLl9vcHRpb25zLmFsbG93VGFpbnQgPT09IGZhbHNlICYmICFpc0lubGluZUltYWdlKGtleSkgJiYgIXVzZVByb3h5ICYmICF1c2VDT1JTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF1c2VQcm94eSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnByb3h5KHNyYyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZSh0aGlzLmlkKS5kZWJ1ZyhcIkFkZGVkIGltYWdlIFwiICsga2V5LnN1YnN0cmluZygwLCAyNTYpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZShpbWcpOyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcub25lcnJvciA9IHJlamVjdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pb3Mgc2FmYXJpIDEwLjMgdGFpbnRzIGNhbnZhcyB3aXRoIGRhdGEgdXJscyB1bmxlc3MgY3Jvc3NPcmlnaW4gaXMgc2V0IHRvIGFub255bW91c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNJbmxpbmVCYXNlNjRJbWFnZShzcmMpIHx8IHVzZUNPUlMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBzcmM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWcuY29tcGxldGUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElubGluZSBYTUwgaW1hZ2VzIG1heSBmYWlsIHRvIHBhcnNlLCB0aHJvd2luZyBhbiBFcnJvciBsYXRlciBvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKGltZyk7IH0sIDUwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9vcHRpb25zLmltYWdlVGltZW91dCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVqZWN0KFwiVGltZWQgb3V0IChcIiArIF90aGlzLl9vcHRpb25zLmltYWdlVGltZW91dCArIFwibXMpIGxvYWRpbmcgaW1hZ2VcIik7IH0sIF90aGlzLl9vcHRpb25zLmltYWdlVGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FjaGUucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLl9jYWNoZVtrZXldICE9PSAndW5kZWZpbmVkJztcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKE9iamVjdC5rZXlzKHRoaXMuX2NhY2hlKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZS5wcm90b3R5cGUucHJveHkgPSBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBwcm94eSA9IHRoaXMuX29wdGlvbnMucHJveHk7XHJcbiAgICAgICAgICAgIGlmICghcHJveHkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcHJveHkgZGVmaW5lZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBzcmMuc3Vic3RyaW5nKDAsIDI1Nik7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VUeXBlID0gRkVBVFVSRVMuU1VQUE9SVF9SRVNQT05TRV9UWVBFID8gJ2Jsb2InIDogJ3RleHQnO1xyXG4gICAgICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09ICd0ZXh0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh4aHIucmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlcl8xID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlcl8xLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHJlYWRlcl8xLnJlc3VsdCk7IH0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlcl8xLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIHJlamVjdChlKTsgfSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyXzEucmVhZEFzRGF0YVVSTCh4aHIucmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoXCJGYWlsZWQgdG8gcHJveHkgcmVzb3VyY2UgXCIgKyBrZXkgKyBcIiB3aXRoIHN0YXR1cyBjb2RlIFwiICsgeGhyLnN0YXR1cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHhoci5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHByb3h5ICsgXCI/dXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHNyYykgKyBcIiZyZXNwb25zZVR5cGU9XCIgKyByZXNwb25zZVR5cGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlVHlwZSAhPT0gJ3RleHQnICYmIHhociBpbnN0YW5jZW9mIFhNTEh0dHBSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb3B0aW9ucy5pbWFnZVRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZW91dF8xID0gX3RoaXMuX29wdGlvbnMuaW1hZ2VUaW1lb3V0O1xyXG4gICAgICAgICAgICAgICAgICAgIHhoci50aW1lb3V0ID0gdGltZW91dF8xO1xyXG4gICAgICAgICAgICAgICAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByZWplY3QoXCJUaW1lZCBvdXQgKFwiICsgdGltZW91dF8xICsgXCJtcykgcHJveHlpbmcgXCIgKyBrZXkpOyB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQ2FjaGU7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIElOTElORV9TVkcgPSAvXmRhdGE6aW1hZ2VcXC9zdmdcXCt4bWwvaTtcclxuICAgIHZhciBJTkxJTkVfQkFTRTY0ID0gL15kYXRhOmltYWdlXFwvLio7YmFzZTY0LC9pO1xyXG4gICAgdmFyIElOTElORV9JTUcgPSAvXmRhdGE6aW1hZ2VcXC8uKi9pO1xyXG4gICAgdmFyIGlzUmVuZGVyYWJsZSA9IGZ1bmN0aW9uIChzcmMpIHsgcmV0dXJuIEZFQVRVUkVTLlNVUFBPUlRfU1ZHX0RSQVdJTkcgfHwgIWlzU1ZHKHNyYyk7IH07XHJcbiAgICB2YXIgaXNJbmxpbmVJbWFnZSA9IGZ1bmN0aW9uIChzcmMpIHsgcmV0dXJuIElOTElORV9JTUcudGVzdChzcmMpOyB9O1xyXG4gICAgdmFyIGlzSW5saW5lQmFzZTY0SW1hZ2UgPSBmdW5jdGlvbiAoc3JjKSB7IHJldHVybiBJTkxJTkVfQkFTRTY0LnRlc3Qoc3JjKTsgfTtcclxuICAgIHZhciBpc0Jsb2JJbWFnZSA9IGZ1bmN0aW9uIChzcmMpIHsgcmV0dXJuIHNyYy5zdWJzdHIoMCwgNCkgPT09ICdibG9iJzsgfTtcclxuICAgIHZhciBpc1NWRyA9IGZ1bmN0aW9uIChzcmMpIHsgcmV0dXJuIHNyYy5zdWJzdHIoLTMpLnRvTG93ZXJDYXNlKCkgPT09ICdzdmcnIHx8IElOTElORV9TVkcudGVzdChzcmMpOyB9O1xuXG4gICAgdmFyIHdlYmtpdEdyYWRpZW50ID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHZhciBhbmdsZSA9IGRlZygxODApO1xyXG4gICAgICAgIHZhciBzdG9wcyA9IFtdO1xyXG4gICAgICAgIHZhciB0eXBlID0gQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVDtcclxuICAgICAgICB2YXIgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5DSVJDTEU7XHJcbiAgICAgICAgdmFyIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSO1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IFtdO1xyXG4gICAgICAgIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBmaXJzdFRva2VuID0gYXJnWzBdO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbihmaXJzdFRva2VuKSAmJiBmaXJzdFRva2VuLnZhbHVlID09PSAnbGluZWFyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBDU1NJbWFnZVR5cGUuTElORUFSX0dSQURJRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzSWRlbnRUb2tlbihmaXJzdFRva2VuKSAmJiBmaXJzdFRva2VuLnZhbHVlID09PSAncmFkaWFsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBDU1NJbWFnZVR5cGUuUkFESUFMX0dSQURJRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmlyc3RUb2tlbi50eXBlID09PSBUb2tlblR5cGUuRlVOQ1RJT04pIHtcclxuICAgICAgICAgICAgICAgIGlmIChmaXJzdFRva2VuLm5hbWUgPT09ICdmcm9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciQxID0gY29sb3IucGFyc2UoZmlyc3RUb2tlbi52YWx1ZXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3BzLnB1c2goeyBzdG9wOiBaRVJPX0xFTkdUSCwgY29sb3I6IGNvbG9yJDEgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmaXJzdFRva2VuLm5hbWUgPT09ICd0bycpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IkMSA9IGNvbG9yLnBhcnNlKGZpcnN0VG9rZW4udmFsdWVzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBzdG9wcy5wdXNoKHsgc3RvcDogSFVORFJFRF9QRVJDRU5ULCBjb2xvcjogY29sb3IkMSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpcnN0VG9rZW4ubmFtZSA9PT0gJ2NvbG9yLXN0b3AnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGZpcnN0VG9rZW4udmFsdWVzLmZpbHRlcihub25GdW5jdGlvbkFyZ1NlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yJDEgPSBjb2xvci5wYXJzZSh2YWx1ZXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcF8xID0gdmFsdWVzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXJUb2tlbihzdG9wXzEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wOiB7IHR5cGU6IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOLCBudW1iZXI6IHN0b3BfMS5udW1iZXIgKiAxMDAsIGZsYWdzOiBzdG9wXzEuZmxhZ3MgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IkMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVFxyXG4gICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgIGFuZ2xlOiAoYW5nbGUgKyBkZWcoMTgwKSkgJSBkZWcoMzYwKSxcclxuICAgICAgICAgICAgICAgIHN0b3BzOiBzdG9wcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IHsgc2l6ZTogc2l6ZSwgc2hhcGU6IHNoYXBlLCBzdG9wczogc3RvcHMsIHBvc2l0aW9uOiBwb3NpdGlvbiwgdHlwZTogdHlwZSB9O1xyXG4gICAgfTtcblxuICAgIHZhciBDTE9TRVNUX1NJREUgPSAnY2xvc2VzdC1zaWRlJztcclxuICAgIHZhciBGQVJUSEVTVF9TSURFID0gJ2ZhcnRoZXN0LXNpZGUnO1xyXG4gICAgdmFyIENMT1NFU1RfQ09STkVSID0gJ2Nsb3Nlc3QtY29ybmVyJztcclxuICAgIHZhciBGQVJUSEVTVF9DT1JORVIgPSAnZmFydGhlc3QtY29ybmVyJztcclxuICAgIHZhciBDSVJDTEUgPSAnY2lyY2xlJztcclxuICAgIHZhciBFTExJUFNFID0gJ2VsbGlwc2UnO1xyXG4gICAgdmFyIENPVkVSID0gJ2NvdmVyJztcclxuICAgIHZhciBDT05UQUlOID0gJ2NvbnRhaW4nO1xyXG4gICAgdmFyIHJhZGlhbEdyYWRpZW50ID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHZhciBzaGFwZSA9IENTU1JhZGlhbFNoYXBlLkNJUkNMRTtcclxuICAgICAgICB2YXIgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9DT1JORVI7XHJcbiAgICAgICAgdmFyIHN0b3BzID0gW107XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gW107XHJcbiAgICAgICAgcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChhcmcsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGlzQ29sb3JTdG9wID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc0F0UG9zaXRpb25fMSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaXNDb2xvclN0b3AgPSBhcmcucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXRQb3NpdGlvbl8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0lkZW50VG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChGSUZUWV9QRVJDRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5wdXNoKFpFUk9fTEVOR1RIKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChIVU5EUkVEX1BFUkNFTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzTGVuZ3RoUGVyY2VudGFnZSh0b2tlbikgfHwgaXNMZW5ndGgodG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0lkZW50VG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ0lSQ0xFOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlID0gQ1NTUmFkaWFsU2hhcGUuQ0lSQ0xFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRUxMSVBTRTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFwZSA9IENTU1JhZGlhbFNoYXBlLkVMTElQU0U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXRQb3NpdGlvbl8xID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENMT1NFU1RfU0lERTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkNMT1NFU1RfU0lERTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENPVkVSOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBGQVJUSEVTVF9TSURFOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfU0lERTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENPTlRBSU46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENMT1NFU1RfQ09STkVSOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuQ0xPU0VTVF9DT1JORVI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBGQVJUSEVTVF9DT1JORVI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9DT1JORVI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzTGVuZ3RoKHRva2VuKSB8fCBpc0xlbmd0aFBlcmNlbnRhZ2UodG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzaXplKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemUucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgICAgIH0sIGlzQ29sb3JTdG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNDb2xvclN0b3ApIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb2xvclN0b3AgPSBwYXJzZUNvbG9yU3RvcChhcmcpO1xyXG4gICAgICAgICAgICAgICAgc3RvcHMucHVzaChjb2xvclN0b3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHsgc2l6ZTogc2l6ZSwgc2hhcGU6IHNoYXBlLCBzdG9wczogc3RvcHMsIHBvc2l0aW9uOiBwb3NpdGlvbiwgdHlwZTogQ1NTSW1hZ2VUeXBlLlJBRElBTF9HUkFESUVOVCB9O1xyXG4gICAgfTtcblxuICAgIHZhciBwcmVmaXhSYWRpYWxHcmFkaWVudCA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICB2YXIgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5DSVJDTEU7XHJcbiAgICAgICAgdmFyIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSO1xyXG4gICAgICAgIHZhciBzdG9wcyA9IFtdO1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IFtdO1xyXG4gICAgICAgIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBpc0NvbG9yU3RvcCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpc0NvbG9yU3RvcCA9IGFyZy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgdG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjZW50ZXInOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnB1c2goRklGVFlfUEVSQ0VOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnB1c2goWkVST19MRU5HVEgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChIVU5EUkVEX1BFUkNFTlQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2UodG9rZW4pIHx8IGlzTGVuZ3RoKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xyXG4gICAgICAgICAgICAgICAgfSwgaXNDb2xvclN0b3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGkgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGlzQ29sb3JTdG9wID0gYXJnLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lkZW50VG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ0lSQ0xFOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlID0gQ1NTUmFkaWFsU2hhcGUuQ0lSQ0xFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRUxMSVBTRTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFwZSA9IENTU1JhZGlhbFNoYXBlLkVMTElQU0U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDT05UQUlOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDTE9TRVNUX1NJREU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX1NJREU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBGQVJUSEVTVF9TSURFOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfU0lERTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENMT1NFU1RfQ09STkVSOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuQ0xPU0VTVF9DT1JORVI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDT1ZFUjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRkFSVEhFU1RfQ09STkVSOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0xlbmd0aCh0b2tlbikgfHwgaXNMZW5ndGhQZXJjZW50YWdlKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2l6ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICB9LCBpc0NvbG9yU3RvcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzQ29sb3JTdG9wKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JTdG9wID0gcGFyc2VDb2xvclN0b3AoYXJnKTtcclxuICAgICAgICAgICAgICAgIHN0b3BzLnB1c2goY29sb3JTdG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7IHNpemU6IHNpemUsIHNoYXBlOiBzaGFwZSwgc3RvcHM6IHN0b3BzLCBwb3NpdGlvbjogcG9zaXRpb24sIHR5cGU6IENTU0ltYWdlVHlwZS5SQURJQUxfR1JBRElFTlQgfTtcclxuICAgIH07XG5cbiAgICB2YXIgQ1NTSW1hZ2VUeXBlO1xyXG4gICAgKGZ1bmN0aW9uIChDU1NJbWFnZVR5cGUpIHtcclxuICAgICAgICBDU1NJbWFnZVR5cGVbQ1NTSW1hZ2VUeXBlW1wiVVJMXCJdID0gMF0gPSBcIlVSTFwiO1xyXG4gICAgICAgIENTU0ltYWdlVHlwZVtDU1NJbWFnZVR5cGVbXCJMSU5FQVJfR1JBRElFTlRcIl0gPSAxXSA9IFwiTElORUFSX0dSQURJRU5UXCI7XHJcbiAgICAgICAgQ1NTSW1hZ2VUeXBlW0NTU0ltYWdlVHlwZVtcIlJBRElBTF9HUkFESUVOVFwiXSA9IDJdID0gXCJSQURJQUxfR1JBRElFTlRcIjtcclxuICAgIH0pKENTU0ltYWdlVHlwZSB8fCAoQ1NTSW1hZ2VUeXBlID0ge30pKTtcclxuICAgIHZhciBpc0xpbmVhckdyYWRpZW50ID0gZnVuY3Rpb24gKGJhY2tncm91bmQpIHtcclxuICAgICAgICByZXR1cm4gYmFja2dyb3VuZC50eXBlID09PSBDU1NJbWFnZVR5cGUuTElORUFSX0dSQURJRU5UO1xyXG4gICAgfTtcclxuICAgIHZhciBpc1JhZGlhbEdyYWRpZW50ID0gZnVuY3Rpb24gKGJhY2tncm91bmQpIHtcclxuICAgICAgICByZXR1cm4gYmFja2dyb3VuZC50eXBlID09PSBDU1NJbWFnZVR5cGUuUkFESUFMX0dSQURJRU5UO1xyXG4gICAgfTtcclxuICAgIHZhciBDU1NSYWRpYWxTaGFwZTtcclxuICAgIChmdW5jdGlvbiAoQ1NTUmFkaWFsU2hhcGUpIHtcclxuICAgICAgICBDU1NSYWRpYWxTaGFwZVtDU1NSYWRpYWxTaGFwZVtcIkNJUkNMRVwiXSA9IDBdID0gXCJDSVJDTEVcIjtcclxuICAgICAgICBDU1NSYWRpYWxTaGFwZVtDU1NSYWRpYWxTaGFwZVtcIkVMTElQU0VcIl0gPSAxXSA9IFwiRUxMSVBTRVwiO1xyXG4gICAgfSkoQ1NTUmFkaWFsU2hhcGUgfHwgKENTU1JhZGlhbFNoYXBlID0ge30pKTtcclxuICAgIHZhciBDU1NSYWRpYWxFeHRlbnQ7XHJcbiAgICAoZnVuY3Rpb24gKENTU1JhZGlhbEV4dGVudCkge1xyXG4gICAgICAgIENTU1JhZGlhbEV4dGVudFtDU1NSYWRpYWxFeHRlbnRbXCJDTE9TRVNUX1NJREVcIl0gPSAwXSA9IFwiQ0xPU0VTVF9TSURFXCI7XHJcbiAgICAgICAgQ1NTUmFkaWFsRXh0ZW50W0NTU1JhZGlhbEV4dGVudFtcIkZBUlRIRVNUX1NJREVcIl0gPSAxXSA9IFwiRkFSVEhFU1RfU0lERVwiO1xyXG4gICAgICAgIENTU1JhZGlhbEV4dGVudFtDU1NSYWRpYWxFeHRlbnRbXCJDTE9TRVNUX0NPUk5FUlwiXSA9IDJdID0gXCJDTE9TRVNUX0NPUk5FUlwiO1xyXG4gICAgICAgIENTU1JhZGlhbEV4dGVudFtDU1NSYWRpYWxFeHRlbnRbXCJGQVJUSEVTVF9DT1JORVJcIl0gPSAzXSA9IFwiRkFSVEhFU1RfQ09STkVSXCI7XHJcbiAgICB9KShDU1NSYWRpYWxFeHRlbnQgfHwgKENTU1JhZGlhbEV4dGVudCA9IHt9KSk7XHJcbiAgICB2YXIgaW1hZ2UgPSB7XHJcbiAgICAgICAgbmFtZTogJ2ltYWdlJyxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuVVJMX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VfMSA9IHsgdXJsOiB2YWx1ZS52YWx1ZSwgdHlwZTogQ1NTSW1hZ2VUeXBlLlVSTCB9O1xyXG4gICAgICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLmdldEluc3RhbmNlKCkuYWRkSW1hZ2UodmFsdWUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlXzE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5GVU5DVElPTikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlRnVuY3Rpb24gPSBTVVBQT1JURURfSU1BR0VfRlVOQ1RJT05TW3ZhbHVlLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbWFnZUZ1bmN0aW9uID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gcGFyc2UgYW4gdW5zdXBwb3J0ZWQgaW1hZ2UgZnVuY3Rpb24gXFxcIlwiICsgdmFsdWUubmFtZSArIFwiXFxcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZUZ1bmN0aW9uKHZhbHVlLnZhbHVlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgaW1hZ2UgdHlwZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gaXNTdXBwb3J0ZWRJbWFnZSh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZS50eXBlICE9PSBUb2tlblR5cGUuRlVOQ1RJT04gfHwgU1VQUE9SVEVEX0lNQUdFX0ZVTkNUSU9OU1t2YWx1ZS5uYW1lXTtcclxuICAgIH1cclxuICAgIHZhciBTVVBQT1JURURfSU1BR0VfRlVOQ1RJT05TID0ge1xyXG4gICAgICAgICdsaW5lYXItZ3JhZGllbnQnOiBsaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAnLW1vei1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAnLW1zLWxpbmVhci1ncmFkaWVudCc6IHByZWZpeExpbmVhckdyYWRpZW50LFxyXG4gICAgICAgICctby1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAnLXdlYmtpdC1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAncmFkaWFsLWdyYWRpZW50JzogcmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy1tb3otcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy1tcy1yYWRpYWwtZ3JhZGllbnQnOiBwcmVmaXhSYWRpYWxHcmFkaWVudCxcclxuICAgICAgICAnLW8tcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy13ZWJraXQtcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy13ZWJraXQtZ3JhZGllbnQnOiB3ZWJraXRHcmFkaWVudFxyXG4gICAgfTtcblxuICAgIHZhciBiYWNrZ3JvdW5kSW1hZ2UgPSB7XHJcbiAgICAgICAgbmFtZTogJ2JhY2tncm91bmQtaW1hZ2UnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IHRva2Vuc1swXTtcclxuICAgICAgICAgICAgaWYgKGZpcnN0LnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJiBmaXJzdC52YWx1ZSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vucy5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBub25GdW5jdGlvbkFyZ1NlcGFyYXRvcih2YWx1ZSkgJiYgaXNTdXBwb3J0ZWRJbWFnZSh2YWx1ZSk7IH0pLm1hcChpbWFnZS5wYXJzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBiYWNrZ3JvdW5kT3JpZ2luID0ge1xyXG4gICAgICAgIG5hbWU6ICdiYWNrZ3JvdW5kLW9yaWdpbicsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnYm9yZGVyLWJveCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnMubWFwKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BhZGRpbmctYm94JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFBBRERJTkdfQk9YICovO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb250ZW50LWJveCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMiAvKiBDT05URU5UX0JPWCAqLztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMCAvKiBCT1JERVJfQk9YICovO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIGJhY2tncm91bmRQb3NpdGlvbiA9IHtcclxuICAgICAgICBuYW1lOiAnYmFja2dyb3VuZC1wb3NpdGlvbicsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCUgMCUnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKVxyXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodmFsdWVzKSB7IHJldHVybiB2YWx1ZXMuZmlsdGVyKGlzTGVuZ3RoUGVyY2VudGFnZSk7IH0pXHJcbiAgICAgICAgICAgICAgICAubWFwKHBhcnNlTGVuZ3RoUGVyY2VudGFnZVR1cGxlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIEJBQ0tHUk9VTkRfUkVQRUFUO1xyXG4gICAgKGZ1bmN0aW9uIChCQUNLR1JPVU5EX1JFUEVBVCkge1xyXG4gICAgICAgIEJBQ0tHUk9VTkRfUkVQRUFUW0JBQ0tHUk9VTkRfUkVQRUFUW1wiUkVQRUFUXCJdID0gMF0gPSBcIlJFUEVBVFwiO1xyXG4gICAgICAgIEJBQ0tHUk9VTkRfUkVQRUFUW0JBQ0tHUk9VTkRfUkVQRUFUW1wiTk9fUkVQRUFUXCJdID0gMV0gPSBcIk5PX1JFUEVBVFwiO1xyXG4gICAgICAgIEJBQ0tHUk9VTkRfUkVQRUFUW0JBQ0tHUk9VTkRfUkVQRUFUW1wiUkVQRUFUX1hcIl0gPSAyXSA9IFwiUkVQRUFUX1hcIjtcclxuICAgICAgICBCQUNLR1JPVU5EX1JFUEVBVFtCQUNLR1JPVU5EX1JFUEVBVFtcIlJFUEVBVF9ZXCJdID0gM10gPSBcIlJFUEVBVF9ZXCI7XHJcbiAgICB9KShCQUNLR1JPVU5EX1JFUEVBVCB8fCAoQkFDS0dST1VORF9SRVBFQVQgPSB7fSkpO1xyXG4gICAgdmFyIGJhY2tncm91bmRSZXBlYXQgPSB7XHJcbiAgICAgICAgbmFtZTogJ2JhY2tncm91bmQtcmVwZWF0JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdyZXBlYXQnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKVxyXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihpc0lkZW50VG9rZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIHRva2VuLnZhbHVlOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAubWFwKHBhcnNlQmFja2dyb3VuZFJlcGVhdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZUJhY2tncm91bmRSZXBlYXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ25vLXJlcGVhdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQkFDS0dST1VORF9SRVBFQVQuTk9fUkVQRUFUO1xyXG4gICAgICAgICAgICBjYXNlICdyZXBlYXQteCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3JlcGVhdCBuby1yZXBlYXQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVF9YO1xyXG4gICAgICAgICAgICBjYXNlICdyZXBlYXQteSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ25vLXJlcGVhdCByZXBlYXQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVF9ZO1xyXG4gICAgICAgICAgICBjYXNlICdyZXBlYXQnOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVDtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIEJBQ0tHUk9VTkRfU0laRTtcclxuICAgIChmdW5jdGlvbiAoQkFDS0dST1VORF9TSVpFKSB7XHJcbiAgICAgICAgQkFDS0dST1VORF9TSVpFW1wiQVVUT1wiXSA9IFwiYXV0b1wiO1xyXG4gICAgICAgIEJBQ0tHUk9VTkRfU0laRVtcIkNPTlRBSU5cIl0gPSBcImNvbnRhaW5cIjtcclxuICAgICAgICBCQUNLR1JPVU5EX1NJWkVbXCJDT1ZFUlwiXSA9IFwiY292ZXJcIjtcclxuICAgIH0pKEJBQ0tHUk9VTkRfU0laRSB8fCAoQkFDS0dST1VORF9TSVpFID0ge30pKTtcclxuICAgIHZhciBiYWNrZ3JvdW5kU2l6ZSA9IHtcclxuICAgICAgICBuYW1lOiAnYmFja2dyb3VuZC1zaXplJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICcwJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykubWFwKGZ1bmN0aW9uICh2YWx1ZXMpIHsgcmV0dXJuIHZhbHVlcy5maWx0ZXIoaXNCYWNrZ3JvdW5kU2l6ZUluZm9Ub2tlbik7IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgaXNCYWNrZ3JvdW5kU2l6ZUluZm9Ub2tlbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBpc0lkZW50VG9rZW4odmFsdWUpIHx8IGlzTGVuZ3RoUGVyY2VudGFnZSh2YWx1ZSk7XHJcbiAgICB9O1xuXG4gICAgdmFyIGJvcmRlckNvbG9yRm9yU2lkZSA9IGZ1bmN0aW9uIChzaWRlKSB7IHJldHVybiAoe1xyXG4gICAgICAgIG5hbWU6IFwiYm9yZGVyLVwiICsgc2lkZSArIFwiLWNvbG9yXCIsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVFlQRV9WQUxVRSxcclxuICAgICAgICBmb3JtYXQ6ICdjb2xvcidcclxuICAgIH0pOyB9O1xyXG4gICAgdmFyIGJvcmRlclRvcENvbG9yID0gYm9yZGVyQ29sb3JGb3JTaWRlKCd0b3AnKTtcclxuICAgIHZhciBib3JkZXJSaWdodENvbG9yID0gYm9yZGVyQ29sb3JGb3JTaWRlKCdyaWdodCcpO1xyXG4gICAgdmFyIGJvcmRlckJvdHRvbUNvbG9yID0gYm9yZGVyQ29sb3JGb3JTaWRlKCdib3R0b20nKTtcclxuICAgIHZhciBib3JkZXJMZWZ0Q29sb3IgPSBib3JkZXJDb2xvckZvclNpZGUoJ2xlZnQnKTtcblxuICAgIHZhciBib3JkZXJSYWRpdXNGb3JTaWRlID0gZnVuY3Rpb24gKHNpZGUpIHsgcmV0dXJuICh7XHJcbiAgICAgICAgbmFtZTogXCJib3JkZXItcmFkaXVzLVwiICsgc2lkZSxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICcwIDAnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VucykgeyByZXR1cm4gcGFyc2VMZW5ndGhQZXJjZW50YWdlVHVwbGUodG9rZW5zLmZpbHRlcihpc0xlbmd0aFBlcmNlbnRhZ2UpKTsgfVxyXG4gICAgfSk7IH07XHJcbiAgICB2YXIgYm9yZGVyVG9wTGVmdFJhZGl1cyA9IGJvcmRlclJhZGl1c0ZvclNpZGUoJ3RvcC1sZWZ0Jyk7XHJcbiAgICB2YXIgYm9yZGVyVG9wUmlnaHRSYWRpdXMgPSBib3JkZXJSYWRpdXNGb3JTaWRlKCd0b3AtcmlnaHQnKTtcclxuICAgIHZhciBib3JkZXJCb3R0b21SaWdodFJhZGl1cyA9IGJvcmRlclJhZGl1c0ZvclNpZGUoJ2JvdHRvbS1yaWdodCcpO1xyXG4gICAgdmFyIGJvcmRlckJvdHRvbUxlZnRSYWRpdXMgPSBib3JkZXJSYWRpdXNGb3JTaWRlKCdib3R0b20tbGVmdCcpO1xuXG4gICAgdmFyIEJPUkRFUl9TVFlMRTtcclxuICAgIChmdW5jdGlvbiAoQk9SREVSX1NUWUxFKSB7XHJcbiAgICAgICAgQk9SREVSX1NUWUxFW0JPUkRFUl9TVFlMRVtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xyXG4gICAgICAgIEJPUkRFUl9TVFlMRVtCT1JERVJfU1RZTEVbXCJTT0xJRFwiXSA9IDFdID0gXCJTT0xJRFwiO1xyXG4gICAgfSkoQk9SREVSX1NUWUxFIHx8IChCT1JERVJfU1RZTEUgPSB7fSkpO1xyXG4gICAgdmFyIGJvcmRlclN0eWxlRm9yU2lkZSA9IGZ1bmN0aW9uIChzaWRlKSB7IHJldHVybiAoe1xyXG4gICAgICAgIG5hbWU6IFwiYm9yZGVyLVwiICsgc2lkZSArIFwiLXN0eWxlXCIsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnc29saWQnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChzdHlsZSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdub25lJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQk9SREVSX1NUWUxFLk5PTkU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIEJPUkRFUl9TVFlMRS5TT0xJRDtcclxuICAgICAgICB9XHJcbiAgICB9KTsgfTtcclxuICAgIHZhciBib3JkZXJUb3BTdHlsZSA9IGJvcmRlclN0eWxlRm9yU2lkZSgndG9wJyk7XHJcbiAgICB2YXIgYm9yZGVyUmlnaHRTdHlsZSA9IGJvcmRlclN0eWxlRm9yU2lkZSgncmlnaHQnKTtcclxuICAgIHZhciBib3JkZXJCb3R0b21TdHlsZSA9IGJvcmRlclN0eWxlRm9yU2lkZSgnYm90dG9tJyk7XHJcbiAgICB2YXIgYm9yZGVyTGVmdFN0eWxlID0gYm9yZGVyU3R5bGVGb3JTaWRlKCdsZWZ0Jyk7XG5cbiAgICB2YXIgYm9yZGVyV2lkdGhGb3JTaWRlID0gZnVuY3Rpb24gKHNpZGUpIHsgcmV0dXJuICh7XHJcbiAgICAgICAgbmFtZTogXCJib3JkZXItXCIgKyBzaWRlICsgXCItd2lkdGhcIixcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICcwJyxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgaWYgKGlzRGltZW5zaW9uVG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4ubnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgIH0pOyB9O1xyXG4gICAgdmFyIGJvcmRlclRvcFdpZHRoID0gYm9yZGVyV2lkdGhGb3JTaWRlKCd0b3AnKTtcclxuICAgIHZhciBib3JkZXJSaWdodFdpZHRoID0gYm9yZGVyV2lkdGhGb3JTaWRlKCdyaWdodCcpO1xyXG4gICAgdmFyIGJvcmRlckJvdHRvbVdpZHRoID0gYm9yZGVyV2lkdGhGb3JTaWRlKCdib3R0b20nKTtcclxuICAgIHZhciBib3JkZXJMZWZ0V2lkdGggPSBib3JkZXJXaWR0aEZvclNpZGUoJ2xlZnQnKTtcblxuICAgIHZhciBjb2xvciQxID0ge1xyXG4gICAgICAgIG5hbWU6IFwiY29sb3JcIixcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICd0cmFuc3BhcmVudCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxyXG4gICAgICAgIGZvcm1hdDogJ2NvbG9yJ1xyXG4gICAgfTtcblxuICAgIHZhciBkaXNwbGF5ID0ge1xyXG4gICAgICAgIG5hbWU6ICdkaXNwbGF5JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdpbmxpbmUtYmxvY2snLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zLmZpbHRlcihpc0lkZW50VG9rZW4pLnJlZHVjZShmdW5jdGlvbiAoYml0LCB0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpdCB8IHBhcnNlRGlzcGxheVZhbHVlKHRva2VuLnZhbHVlKTtcclxuICAgICAgICAgICAgfSwgMCAvKiBOT05FICovKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIHBhcnNlRGlzcGxheVZhbHVlID0gZnVuY3Rpb24gKGRpc3BsYXkpIHtcclxuICAgICAgICBzd2l0Y2ggKGRpc3BsYXkpIHtcclxuICAgICAgICAgICAgY2FzZSAnYmxvY2snOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDIgLyogQkxPQ0sgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2lubGluZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNCAvKiBJTkxJTkUgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3J1bi1pbic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gOCAvKiBSVU5fSU4gKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2Zsb3cnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE2IC8qIEZMT1cgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2Zsb3ctcm9vdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMzIgLyogRkxPV19ST09UICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNjQgLyogVEFCTEUgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2ZsZXgnOlxyXG4gICAgICAgICAgICBjYXNlICctd2Via2l0LWZsZXgnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEyOCAvKiBGTEVYICovO1xyXG4gICAgICAgICAgICBjYXNlICdncmlkJzpcclxuICAgICAgICAgICAgY2FzZSAnLW1zLWdyaWQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDI1NiAvKiBHUklEICovO1xyXG4gICAgICAgICAgICBjYXNlICdydWJ5JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA1MTIgLyogUlVCWSAqLztcclxuICAgICAgICAgICAgY2FzZSAnc3ViZ3JpZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTAyNCAvKiBTVUJHUklEICovO1xyXG4gICAgICAgICAgICBjYXNlICdsaXN0LWl0ZW0nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDIwNDggLyogTElTVF9JVEVNICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1yb3ctZ3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDQwOTYgLyogVEFCTEVfUk9XX0dST1VQICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1oZWFkZXItZ3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDgxOTIgLyogVEFCTEVfSEVBREVSX0dST1VQICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1mb290ZXItZ3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE2Mzg0IC8qIFRBQkxFX0ZPT1RFUl9HUk9VUCAqLztcclxuICAgICAgICAgICAgY2FzZSAndGFibGUtcm93JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAzMjc2OCAvKiBUQUJMRV9ST1cgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3RhYmxlLWNlbGwnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDY1NTM2IC8qIFRBQkxFX0NFTEwgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3RhYmxlLWNvbHVtbi1ncm91cCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTMxMDcyIC8qIFRBQkxFX0NPTFVNTl9HUk9VUCAqLztcclxuICAgICAgICAgICAgY2FzZSAndGFibGUtY29sdW1uJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAyNjIxNDQgLyogVEFCTEVfQ09MVU1OICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1jYXB0aW9uJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA1MjQyODggLyogVEFCTEVfQ0FQVElPTiAqLztcclxuICAgICAgICAgICAgY2FzZSAncnVieS1iYXNlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAxMDQ4NTc2IC8qIFJVQllfQkFTRSAqLztcclxuICAgICAgICAgICAgY2FzZSAncnVieS10ZXh0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAyMDk3MTUyIC8qIFJVQllfVEVYVCAqLztcclxuICAgICAgICAgICAgY2FzZSAncnVieS1iYXNlLWNvbnRhaW5lcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNDE5NDMwNCAvKiBSVUJZX0JBU0VfQ09OVEFJTkVSICovO1xyXG4gICAgICAgICAgICBjYXNlICdydWJ5LXRleHQtY29udGFpbmVyJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA4Mzg4NjA4IC8qIFJVQllfVEVYVF9DT05UQUlORVIgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRzJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAxNjc3NzIxNiAvKiBDT05URU5UUyAqLztcclxuICAgICAgICAgICAgY2FzZSAnaW5saW5lLWJsb2NrJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAzMzU1NDQzMiAvKiBJTkxJTkVfQkxPQ0sgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2lubGluZS1saXN0LWl0ZW0nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDY3MTA4ODY0IC8qIElOTElORV9MSVNUX0lURU0gKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2lubGluZS10YWJsZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTM0MjE3NzI4IC8qIElOTElORV9UQUJMRSAqLztcclxuICAgICAgICAgICAgY2FzZSAnaW5saW5lLWZsZXgnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDI2ODQzNTQ1NiAvKiBJTkxJTkVfRkxFWCAqLztcclxuICAgICAgICAgICAgY2FzZSAnaW5saW5lLWdyaWQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDUzNjg3MDkxMiAvKiBJTkxJTkVfR1JJRCAqLztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDAgLyogTk9ORSAqLztcclxuICAgIH07XG5cbiAgICB2YXIgRkxPQVQ7XHJcbiAgICAoZnVuY3Rpb24gKEZMT0FUKSB7XHJcbiAgICAgICAgRkxPQVRbRkxPQVRbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcclxuICAgICAgICBGTE9BVFtGTE9BVFtcIkxFRlRcIl0gPSAxXSA9IFwiTEVGVFwiO1xyXG4gICAgICAgIEZMT0FUW0ZMT0FUW1wiUklHSFRcIl0gPSAyXSA9IFwiUklHSFRcIjtcclxuICAgICAgICBGTE9BVFtGTE9BVFtcIklOTElORV9TVEFSVFwiXSA9IDNdID0gXCJJTkxJTkVfU1RBUlRcIjtcclxuICAgICAgICBGTE9BVFtGTE9BVFtcIklOTElORV9FTkRcIl0gPSA0XSA9IFwiSU5MSU5FX0VORFwiO1xyXG4gICAgfSkoRkxPQVQgfHwgKEZMT0FUID0ge30pKTtcclxuICAgIHZhciBmbG9hdCA9IHtcclxuICAgICAgICBuYW1lOiAnZmxvYXQnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChmbG9hdCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGZsb2F0KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRkxPQVQuTEVGVDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRkxPQVQuUklHSFQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdpbmxpbmUtc3RhcnQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGTE9BVC5JTkxJTkVfU1RBUlQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdpbmxpbmUtZW5kJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRkxPQVQuSU5MSU5FX0VORDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gRkxPQVQuTk9ORTtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIGxldHRlclNwYWNpbmcgPSB7XHJcbiAgICAgICAgbmFtZTogJ2xldHRlci1zcGFjaW5nJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICcwJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJiB0b2tlbi52YWx1ZSA9PT0gJ25vcm1hbCcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4ubnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4ubnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgTElORV9CUkVBSztcclxuICAgIChmdW5jdGlvbiAoTElORV9CUkVBSykge1xyXG4gICAgICAgIExJTkVfQlJFQUtbXCJOT1JNQUxcIl0gPSBcIm5vcm1hbFwiO1xyXG4gICAgICAgIExJTkVfQlJFQUtbXCJTVFJJQ1RcIl0gPSBcInN0cmljdFwiO1xyXG4gICAgfSkoTElORV9CUkVBSyB8fCAoTElORV9CUkVBSyA9IHt9KSk7XHJcbiAgICB2YXIgbGluZUJyZWFrID0ge1xyXG4gICAgICAgIG5hbWU6ICdsaW5lLWJyZWFrJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub3JtYWwnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChsaW5lQnJlYWspIHtcclxuICAgICAgICAgICAgc3dpdGNoIChsaW5lQnJlYWspIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmljdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJTkVfQlJFQUsuU1RSSUNUO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbm9ybWFsJzpcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJTkVfQlJFQUsuTk9STUFMO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBsaW5lSGVpZ2h0ID0ge1xyXG4gICAgICAgIG5hbWU6ICdsaW5lLWhlaWdodCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9ybWFsJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRPS0VOX1ZBTFVFXHJcbiAgICB9O1xyXG4gICAgdmFyIGNvbXB1dGVMaW5lSGVpZ2h0ID0gZnVuY3Rpb24gKHRva2VuLCBmb250U2l6ZSkge1xyXG4gICAgICAgIGlmIChpc0lkZW50VG9rZW4odG9rZW4pICYmIHRva2VuLnZhbHVlID09PSAnbm9ybWFsJykge1xyXG4gICAgICAgICAgICByZXR1cm4gMS4yICogZm9udFNpemU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvbnRTaXplICogdG9rZW4ubnVtYmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2UodG9rZW4pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXRBYnNvbHV0ZVZhbHVlKHRva2VuLCBmb250U2l6ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb250U2l6ZTtcclxuICAgIH07XG5cbiAgICB2YXIgbGlzdFN0eWxlSW1hZ2UgPSB7XHJcbiAgICAgICAgbmFtZTogJ2xpc3Qtc3R5bGUtaW1hZ2UnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlZBTFVFLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmIHRva2VuLnZhbHVlID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpbWFnZS5wYXJzZSh0b2tlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBMSVNUX1NUWUxFX1BPU0lUSU9OO1xyXG4gICAgKGZ1bmN0aW9uIChMSVNUX1NUWUxFX1BPU0lUSU9OKSB7XHJcbiAgICAgICAgTElTVF9TVFlMRV9QT1NJVElPTltMSVNUX1NUWUxFX1BPU0lUSU9OW1wiSU5TSURFXCJdID0gMF0gPSBcIklOU0lERVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfUE9TSVRJT05bTElTVF9TVFlMRV9QT1NJVElPTltcIk9VVFNJREVcIl0gPSAxXSA9IFwiT1VUU0lERVwiO1xyXG4gICAgfSkoTElTVF9TVFlMRV9QT1NJVElPTiB8fCAoTElTVF9TVFlMRV9QT1NJVElPTiA9IHt9KSk7XHJcbiAgICB2YXIgbGlzdFN0eWxlUG9zaXRpb24gPSB7XHJcbiAgICAgICAgbmFtZTogJ2xpc3Qtc3R5bGUtcG9zaXRpb24nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ291dHNpZGUnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdpbnNpZGUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1BPU0lUSU9OLklOU0lERTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ291dHNpZGUnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9QT1NJVElPTi5PVVRTSURFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBMSVNUX1NUWUxFX1RZUEU7XHJcbiAgICAoZnVuY3Rpb24gKExJU1RfU1RZTEVfVFlQRSkge1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJOT05FXCJdID0gLTFdID0gXCJOT05FXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkRJU0NcIl0gPSAwXSA9IFwiRElTQ1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJDSVJDTEVcIl0gPSAxXSA9IFwiQ0lSQ0xFXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlNRVUFSRVwiXSA9IDJdID0gXCJTUVVBUkVcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiREVDSU1BTFwiXSA9IDNdID0gXCJERUNJTUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkNKS19ERUNJTUFMXCJdID0gNF0gPSBcIkNKS19ERUNJTUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkRFQ0lNQUxfTEVBRElOR19aRVJPXCJdID0gNV0gPSBcIkRFQ0lNQUxfTEVBRElOR19aRVJPXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkxPV0VSX1JPTUFOXCJdID0gNl0gPSBcIkxPV0VSX1JPTUFOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlVQUEVSX1JPTUFOXCJdID0gN10gPSBcIlVQUEVSX1JPTUFOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkxPV0VSX0dSRUVLXCJdID0gOF0gPSBcIkxPV0VSX0dSRUVLXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkxPV0VSX0FMUEhBXCJdID0gOV0gPSBcIkxPV0VSX0FMUEhBXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlVQUEVSX0FMUEhBXCJdID0gMTBdID0gXCJVUFBFUl9BTFBIQVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJBUkFCSUNfSU5ESUNcIl0gPSAxMV0gPSBcIkFSQUJJQ19JTkRJQ1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJBUk1FTklBTlwiXSA9IDEyXSA9IFwiQVJNRU5JQU5cIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQkVOR0FMSVwiXSA9IDEzXSA9IFwiQkVOR0FMSVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJDQU1CT0RJQU5cIl0gPSAxNF0gPSBcIkNBTUJPRElBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJDSktfRUFSVEhMWV9CUkFOQ0hcIl0gPSAxNV0gPSBcIkNKS19FQVJUSExZX0JSQU5DSFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJDSktfSEVBVkVOTFlfU1RFTVwiXSA9IDE2XSA9IFwiQ0pLX0hFQVZFTkxZX1NURU1cIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0pLX0lERU9HUkFQSElDXCJdID0gMTddID0gXCJDSktfSURFT0dSQVBISUNcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiREVWQU5BR0FSSVwiXSA9IDE4XSA9IFwiREVWQU5BR0FSSVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJFVEhJT1BJQ19OVU1FUklDXCJdID0gMTldID0gXCJFVEhJT1BJQ19OVU1FUklDXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkdFT1JHSUFOXCJdID0gMjBdID0gXCJHRU9SR0lBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJHVUpBUkFUSVwiXSA9IDIxXSA9IFwiR1VKQVJBVElcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiR1VSTVVLSElcIl0gPSAyMl0gPSBcIkdVUk1VS0hJXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkhFQlJFV1wiXSA9IDIyXSA9IFwiSEVCUkVXXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkhJUkFHQU5BXCJdID0gMjNdID0gXCJISVJBR0FOQVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJISVJBR0FOQV9JUk9IQVwiXSA9IDI0XSA9IFwiSElSQUdBTkFfSVJPSEFcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiSkFQQU5FU0VfRk9STUFMXCJdID0gMjVdID0gXCJKQVBBTkVTRV9GT1JNQUxcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiSkFQQU5FU0VfSU5GT1JNQUxcIl0gPSAyNl0gPSBcIkpBUEFORVNFX0lORk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIktBTk5BREFcIl0gPSAyN10gPSBcIktBTk5BREFcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiS0FUQUtBTkFcIl0gPSAyOF0gPSBcIktBVEFLQU5BXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIktBVEFLQU5BX0lST0hBXCJdID0gMjldID0gXCJLQVRBS0FOQV9JUk9IQVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJLSE1FUlwiXSA9IDMwXSA9IFwiS0hNRVJcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiS09SRUFOX0hBTkdVTF9GT1JNQUxcIl0gPSAzMV0gPSBcIktPUkVBTl9IQU5HVUxfRk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIktPUkVBTl9IQU5KQV9GT1JNQUxcIl0gPSAzMl0gPSBcIktPUkVBTl9IQU5KQV9GT1JNQUxcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiS09SRUFOX0hBTkpBX0lORk9STUFMXCJdID0gMzNdID0gXCJLT1JFQU5fSEFOSkFfSU5GT1JNQUxcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiTEFPXCJdID0gMzRdID0gXCJMQU9cIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiTE9XRVJfQVJNRU5JQU5cIl0gPSAzNV0gPSBcIkxPV0VSX0FSTUVOSUFOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIk1BTEFZQUxBTVwiXSA9IDM2XSA9IFwiTUFMQVlBTEFNXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIk1PTkdPTElBTlwiXSA9IDM3XSA9IFwiTU9OR09MSUFOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIk1ZQU5NQVJcIl0gPSAzOF0gPSBcIk1ZQU5NQVJcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiT1JJWUFcIl0gPSAzOV0gPSBcIk9SSVlBXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlBFUlNJQU5cIl0gPSA0MF0gPSBcIlBFUlNJQU5cIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiU0lNUF9DSElORVNFX0ZPUk1BTFwiXSA9IDQxXSA9IFwiU0lNUF9DSElORVNFX0ZPUk1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJTSU1QX0NISU5FU0VfSU5GT1JNQUxcIl0gPSA0Ml0gPSBcIlNJTVBfQ0hJTkVTRV9JTkZPUk1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJUQU1JTFwiXSA9IDQzXSA9IFwiVEFNSUxcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiVEVMVUdVXCJdID0gNDRdID0gXCJURUxVR1VcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiVEhBSVwiXSA9IDQ1XSA9IFwiVEhBSVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJUSUJFVEFOXCJdID0gNDZdID0gXCJUSUJFVEFOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlRSQURfQ0hJTkVTRV9GT1JNQUxcIl0gPSA0N10gPSBcIlRSQURfQ0hJTkVTRV9GT1JNQUxcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiVFJBRF9DSElORVNFX0lORk9STUFMXCJdID0gNDhdID0gXCJUUkFEX0NISU5FU0VfSU5GT1JNQUxcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiVVBQRVJfQVJNRU5JQU5cIl0gPSA0OV0gPSBcIlVQUEVSX0FSTUVOSUFOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkRJU0NMT1NVUkVfT1BFTlwiXSA9IDUwXSA9IFwiRElTQ0xPU1VSRV9PUEVOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkRJU0NMT1NVUkVfQ0xPU0VEXCJdID0gNTFdID0gXCJESVNDTE9TVVJFX0NMT1NFRFwiO1xyXG4gICAgfSkoTElTVF9TVFlMRV9UWVBFIHx8IChMSVNUX1NUWUxFX1RZUEUgPSB7fSkpO1xyXG4gICAgdmFyIGxpc3RTdHlsZVR5cGUgPSB7XHJcbiAgICAgICAgbmFtZTogJ2xpc3Qtc3R5bGUtdHlwZScsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkaXNjJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRJU0M7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjaXJjbGUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0lSQ0xFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc3F1YXJlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlNRVUFSRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2RlY2ltYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Nqay1kZWNpbWFsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkNKS19ERUNJTUFMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGVjaW1hbC1sZWFkaW5nLXplcm8nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTF9MRUFESU5HX1pFUk87XHJcbiAgICAgICAgICAgICAgICBjYXNlICdsb3dlci1yb21hbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9ST01BTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3VwcGVyLXJvbWFuJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlVQUEVSX1JPTUFOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbG93ZXItZ3JlZWsnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfR1JFRUs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdsb3dlci1hbHBoYSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9BTFBIQTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3VwcGVyLWFscGhhJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlVQUEVSX0FMUEhBO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYXJhYmljLWluZGljJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkFSQUJJQ19JTkRJQztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FybWVuaWFuJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkFSTUVOSUFOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYmVuZ2FsaSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5CRU5HQUxJO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2FtYm9kaWFuJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkNBTUJPRElBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Nqay1lYXJ0aGx5LWJyYW5jaCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DSktfRUFSVEhMWV9CUkFOQ0g7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjamstaGVhdmVubHktc3RlbSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DSktfSEVBVkVOTFlfU1RFTTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Nqay1pZGVvZ3JhcGhpYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DSktfSURFT0dSQVBISUM7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkZXZhbmFnYXJpJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRFVkFOQUdBUkk7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdldGhpb3BpYy1udW1lcmljJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkVUSElPUElDX05VTUVSSUM7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdnZW9yZ2lhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5HRU9SR0lBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2d1amFyYXRpJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkdVSkFSQVRJO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ3VybXVraGknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuR1VSTVVLSEk7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdoZWJyZXcnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSEVCUkVXO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaGlyYWdhbmEnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSElSQUdBTkE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdoaXJhZ2FuYS1pcm9oYSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ISVJBR0FOQV9JUk9IQTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2phcGFuZXNlLWZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5KQVBBTkVTRV9GT1JNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdqYXBhbmVzZS1pbmZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5KQVBBTkVTRV9JTkZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2thbm5hZGEnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuS0FOTkFEQTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2thdGFrYW5hJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktBVEFLQU5BO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAna2F0YWthbmEtaXJvaGEnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuS0FUQUtBTkFfSVJPSEE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdraG1lcic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LSE1FUjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2tvcmVhbi1oYW5ndWwtZm9ybWFsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktPUkVBTl9IQU5HVUxfRk9STUFMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAna29yZWFuLWhhbmphLWZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOSkFfRk9STUFMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAna29yZWFuLWhhbmphLWluZm9ybWFsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktPUkVBTl9IQU5KQV9JTkZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xhbyc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5MQU87XHJcbiAgICAgICAgICAgICAgICBjYXNlICdsb3dlci1hcm1lbmlhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9BUk1FTklBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ21hbGF5YWxhbSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5NQUxBWUFMQU07XHJcbiAgICAgICAgICAgICAgICBjYXNlICdtb25nb2xpYW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTU9OR09MSUFOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbXlhbm1hcic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5NWUFOTUFSO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnb3JpeWEnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuT1JJWUE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwZXJzaWFuJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlBFUlNJQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzaW1wLWNoaW5lc2UtZm9ybWFsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlNJTVBfQ0hJTkVTRV9GT1JNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzaW1wLWNoaW5lc2UtaW5mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuU0lNUF9DSElORVNFX0lORk9STUFMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndGFtaWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVEFNSUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd0ZWx1Z3UnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVEVMVUdVO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndGhhaSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5USEFJO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndGliZXRhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5USUJFVEFOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndHJhZC1jaGluZXNlLWZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5UUkFEX0NISU5FU0VfRk9STUFMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndHJhZC1jaGluZXNlLWluZm9ybWFsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlRSQURfQ0hJTkVTRV9JTkZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3VwcGVyLWFybWVuaWFuJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlVQUEVSX0FSTUVOSUFOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGlzY2xvc3VyZS1vcGVuJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRJU0NMT1NVUkVfT1BFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2Nsb3N1cmUtY2xvc2VkJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRJU0NMT1NVUkVfQ0xPU0VEO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbm9uZSc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTk9ORTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgbWFyZ2luRm9yU2lkZSA9IGZ1bmN0aW9uIChzaWRlKSB7IHJldHVybiAoe1xyXG4gICAgICAgIG5hbWU6IFwibWFyZ2luLVwiICsgc2lkZSxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICcwJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRPS0VOX1ZBTFVFXHJcbiAgICB9KTsgfTtcclxuICAgIHZhciBtYXJnaW5Ub3AgPSBtYXJnaW5Gb3JTaWRlKCd0b3AnKTtcclxuICAgIHZhciBtYXJnaW5SaWdodCA9IG1hcmdpbkZvclNpZGUoJ3JpZ2h0Jyk7XHJcbiAgICB2YXIgbWFyZ2luQm90dG9tID0gbWFyZ2luRm9yU2lkZSgnYm90dG9tJyk7XHJcbiAgICB2YXIgbWFyZ2luTGVmdCA9IG1hcmdpbkZvclNpZGUoJ2xlZnQnKTtcblxuICAgIHZhciBPVkVSRkxPVztcclxuICAgIChmdW5jdGlvbiAoT1ZFUkZMT1cpIHtcclxuICAgICAgICBPVkVSRkxPV1tPVkVSRkxPV1tcIlZJU0lCTEVcIl0gPSAwXSA9IFwiVklTSUJMRVwiO1xyXG4gICAgICAgIE9WRVJGTE9XW09WRVJGTE9XW1wiSElEREVOXCJdID0gMV0gPSBcIkhJRERFTlwiO1xyXG4gICAgICAgIE9WRVJGTE9XW09WRVJGTE9XW1wiU0NST0xMXCJdID0gMl0gPSBcIlNDUk9MTFwiO1xyXG4gICAgICAgIE9WRVJGTE9XW09WRVJGTE9XW1wiQVVUT1wiXSA9IDNdID0gXCJBVVRPXCI7XHJcbiAgICB9KShPVkVSRkxPVyB8fCAoT1ZFUkZMT1cgPSB7fSkpO1xyXG4gICAgdmFyIG92ZXJmbG93ID0ge1xyXG4gICAgICAgIG5hbWU6ICdvdmVyZmxvdycsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAndmlzaWJsZScsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnMuZmlsdGVyKGlzSWRlbnRUb2tlbikubWFwKGZ1bmN0aW9uIChvdmVyZmxvdykge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChvdmVyZmxvdy52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2hpZGRlbic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPVkVSRkxPVy5ISURERU47XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2Nyb2xsJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9WRVJGTE9XLlNDUk9MTDtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdhdXRvJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9WRVJGTE9XLkFVVE87XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndmlzaWJsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9WRVJGTE9XLlZJU0lCTEU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgT1ZFUkZMT1dfV1JBUDtcclxuICAgIChmdW5jdGlvbiAoT1ZFUkZMT1dfV1JBUCkge1xyXG4gICAgICAgIE9WRVJGTE9XX1dSQVBbXCJOT1JNQUxcIl0gPSBcIm5vcm1hbFwiO1xyXG4gICAgICAgIE9WRVJGTE9XX1dSQVBbXCJCUkVBS19XT1JEXCJdID0gXCJicmVhay13b3JkXCI7XHJcbiAgICB9KShPVkVSRkxPV19XUkFQIHx8IChPVkVSRkxPV19XUkFQID0ge30pKTtcclxuICAgIHZhciBvdmVyZmxvd1dyYXAgPSB7XHJcbiAgICAgICAgbmFtZTogJ292ZXJmbG93LXdyYXAnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKG92ZXJmbG93KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3ZlcmZsb3cpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2JyZWFrLXdvcmQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPVkVSRkxPV19XUkFQLkJSRUFLX1dPUkQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1dfV1JBUC5OT1JNQUw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIHBhZGRpbmdGb3JTaWRlID0gZnVuY3Rpb24gKHNpZGUpIHsgcmV0dXJuICh7XHJcbiAgICAgICAgbmFtZTogXCJwYWRkaW5nLVwiICsgc2lkZSxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICcwJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRZUEVfVkFMVUUsXHJcbiAgICAgICAgZm9ybWF0OiAnbGVuZ3RoLXBlcmNlbnRhZ2UnXHJcbiAgICB9KTsgfTtcclxuICAgIHZhciBwYWRkaW5nVG9wID0gcGFkZGluZ0ZvclNpZGUoJ3RvcCcpO1xyXG4gICAgdmFyIHBhZGRpbmdSaWdodCA9IHBhZGRpbmdGb3JTaWRlKCdyaWdodCcpO1xyXG4gICAgdmFyIHBhZGRpbmdCb3R0b20gPSBwYWRkaW5nRm9yU2lkZSgnYm90dG9tJyk7XHJcbiAgICB2YXIgcGFkZGluZ0xlZnQgPSBwYWRkaW5nRm9yU2lkZSgnbGVmdCcpO1xuXG4gICAgdmFyIFRFWFRfQUxJR047XHJcbiAgICAoZnVuY3Rpb24gKFRFWFRfQUxJR04pIHtcclxuICAgICAgICBURVhUX0FMSUdOW1RFWFRfQUxJR05bXCJMRUZUXCJdID0gMF0gPSBcIkxFRlRcIjtcclxuICAgICAgICBURVhUX0FMSUdOW1RFWFRfQUxJR05bXCJDRU5URVJcIl0gPSAxXSA9IFwiQ0VOVEVSXCI7XHJcbiAgICAgICAgVEVYVF9BTElHTltURVhUX0FMSUdOW1wiUklHSFRcIl0gPSAyXSA9IFwiUklHSFRcIjtcclxuICAgIH0pKFRFWFRfQUxJR04gfHwgKFRFWFRfQUxJR04gPSB7fSkpO1xyXG4gICAgdmFyIHRleHRBbGlnbiA9IHtcclxuICAgICAgICBuYW1lOiAndGV4dC1hbGlnbicsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbGVmdCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRleHRBbGlnbikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRleHRBbGlnbikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBURVhUX0FMSUdOLlJJR0hUO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2p1c3RpZnknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBURVhUX0FMSUdOLkNFTlRFUjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9BTElHTi5MRUZUO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBQT1NJVElPTjtcclxuICAgIChmdW5jdGlvbiAoUE9TSVRJT04pIHtcclxuICAgICAgICBQT1NJVElPTltQT1NJVElPTltcIlNUQVRJQ1wiXSA9IDBdID0gXCJTVEFUSUNcIjtcclxuICAgICAgICBQT1NJVElPTltQT1NJVElPTltcIlJFTEFUSVZFXCJdID0gMV0gPSBcIlJFTEFUSVZFXCI7XHJcbiAgICAgICAgUE9TSVRJT05bUE9TSVRJT05bXCJBQlNPTFVURVwiXSA9IDJdID0gXCJBQlNPTFVURVwiO1xyXG4gICAgICAgIFBPU0lUSU9OW1BPU0lUSU9OW1wiRklYRURcIl0gPSAzXSA9IFwiRklYRURcIjtcclxuICAgICAgICBQT1NJVElPTltQT1NJVElPTltcIlNUSUNLWVwiXSA9IDRdID0gXCJTVElDS1lcIjtcclxuICAgIH0pKFBPU0lUSU9OIHx8IChQT1NJVElPTiA9IHt9KSk7XHJcbiAgICB2YXIgcG9zaXRpb24gPSB7XHJcbiAgICAgICAgbmFtZTogJ3Bvc2l0aW9uJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdzdGF0aWMnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyZWxhdGl2ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBPU0lUSU9OLlJFTEFUSVZFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYWJzb2x1dGUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQT1NJVElPTi5BQlNPTFVURTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpeGVkJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUE9TSVRJT04uRklYRUQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzdGlja3knOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQT1NJVElPTi5TVElDS1k7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFBPU0lUSU9OLlNUQVRJQztcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIHRleHRTaGFkb3cgPSB7XHJcbiAgICAgICAgbmFtZTogJ3RleHQtc2hhZG93JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDEgJiYgaXNJZGVudFdpdGhWYWx1ZSh0b2tlbnNbMF0sICdub25lJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5tYXAoZnVuY3Rpb24gKHZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNoYWRvdyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ09MT1JTLlRSQU5TUEFSRU5ULFxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFg6IFpFUk9fTEVOR1RILFxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFk6IFpFUk9fTEVOR1RILFxyXG4gICAgICAgICAgICAgICAgICAgIGJsdXI6IFpFUk9fTEVOR1RIXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSB2YWx1ZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGVuZ3RoKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Lm9mZnNldFggPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cub2Zmc2V0WSA9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93LmJsdXIgPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cuY29sb3IgPSBjb2xvci5wYXJzZSh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYWRvdztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBURVhUX1RSQU5TRk9STTtcclxuICAgIChmdW5jdGlvbiAoVEVYVF9UUkFOU0ZPUk0pIHtcclxuICAgICAgICBURVhUX1RSQU5TRk9STVtURVhUX1RSQU5TRk9STVtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xyXG4gICAgICAgIFRFWFRfVFJBTlNGT1JNW1RFWFRfVFJBTlNGT1JNW1wiTE9XRVJDQVNFXCJdID0gMV0gPSBcIkxPV0VSQ0FTRVwiO1xyXG4gICAgICAgIFRFWFRfVFJBTlNGT1JNW1RFWFRfVFJBTlNGT1JNW1wiVVBQRVJDQVNFXCJdID0gMl0gPSBcIlVQUEVSQ0FTRVwiO1xyXG4gICAgICAgIFRFWFRfVFJBTlNGT1JNW1RFWFRfVFJBTlNGT1JNW1wiQ0FQSVRBTElaRVwiXSA9IDNdID0gXCJDQVBJVEFMSVpFXCI7XHJcbiAgICB9KShURVhUX1RSQU5TRk9STSB8fCAoVEVYVF9UUkFOU0ZPUk0gPSB7fSkpO1xyXG4gICAgdmFyIHRleHRUcmFuc2Zvcm0gPSB7XHJcbiAgICAgICAgbmFtZTogJ3RleHQtdHJhbnNmb3JtJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodGV4dFRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRleHRUcmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3VwcGVyY2FzZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfVFJBTlNGT1JNLlVQUEVSQ0FTRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xvd2VyY2FzZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfVFJBTlNGT1JNLkxPV0VSQ0FTRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2NhcGl0YWxpemUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBURVhUX1RSQU5TRk9STS5DQVBJVEFMSVpFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBURVhUX1RSQU5TRk9STS5OT05FO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgdHJhbnNmb3JtID0ge1xyXG4gICAgICAgIG5hbWU6ICd0cmFuc2Zvcm0nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgdG9rZW4udmFsdWUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5GVU5DVElPTikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zZm9ybUZ1bmN0aW9uID0gU1VQUE9SVEVEX1RSQU5TRk9STV9GVU5DVElPTlNbdG9rZW4ubmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRyYW5zZm9ybUZ1bmN0aW9uID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gcGFyc2UgYW4gdW5zdXBwb3J0ZWQgdHJhbnNmb3JtIGZ1bmN0aW9uIFxcXCJcIiArIHRva2VuLm5hbWUgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtRnVuY3Rpb24odG9rZW4udmFsdWVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIG1hdHJpeCA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlcyA9IGFyZ3MuZmlsdGVyKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIGFyZy50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOOyB9KS5tYXAoZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gYXJnLm51bWJlcjsgfSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlcy5sZW5ndGggPT09IDYgPyB2YWx1ZXMgOiBudWxsO1xyXG4gICAgfTtcclxuICAgIC8vIGRvZXNuJ3Qgc3VwcG9ydCAzRCB0cmFuc2Zvcm1zIGF0IHRoZSBtb21lbnRcclxuICAgIHZhciBtYXRyaXgzZCA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlcyA9IGFyZ3MuZmlsdGVyKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIGFyZy50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOOyB9KS5tYXAoZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gYXJnLm51bWJlcjsgfSk7XHJcbiAgICAgICAgdmFyIGExID0gdmFsdWVzWzBdLCBiMSA9IHZhbHVlc1sxXSwgX2EgPSB2YWx1ZXNbMl0sIF9iID0gdmFsdWVzWzNdLCBhMiA9IHZhbHVlc1s0XSwgYjIgPSB2YWx1ZXNbNV0sIF9jID0gdmFsdWVzWzZdLCBfZCA9IHZhbHVlc1s3XSwgX2UgPSB2YWx1ZXNbOF0sIF9mID0gdmFsdWVzWzldLCBfZyA9IHZhbHVlc1sxMF0sIF9oID0gdmFsdWVzWzExXSwgYTQgPSB2YWx1ZXNbMTJdLCBiNCA9IHZhbHVlc1sxM10sIF9qID0gdmFsdWVzWzE0XSwgX2sgPSB2YWx1ZXNbMTVdO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID09PSAxNiA/IFthMSwgYjEsIGEyLCBiMiwgYTQsIGI0XSA6IG51bGw7XHJcbiAgICB9O1xyXG4gICAgdmFyIFNVUFBPUlRFRF9UUkFOU0ZPUk1fRlVOQ1RJT05TID0ge1xyXG4gICAgICAgIG1hdHJpeDogbWF0cml4LFxyXG4gICAgICAgIG1hdHJpeDNkOiBtYXRyaXgzZFxyXG4gICAgfTtcblxuICAgIHZhciBERUZBVUxUX1ZBTFVFID0ge1xyXG4gICAgICAgIHR5cGU6IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOLFxyXG4gICAgICAgIG51bWJlcjogNTAsXHJcbiAgICAgICAgZmxhZ3M6IEZMQUdfSU5URUdFUlxyXG4gICAgfTtcclxuICAgIHZhciBERUZBVUxUID0gW0RFRkFVTFRfVkFMVUUsIERFRkFVTFRfVkFMVUVdO1xyXG4gICAgdmFyIHRyYW5zZm9ybU9yaWdpbiA9IHtcclxuICAgICAgICBuYW1lOiAndHJhbnNmb3JtLW9yaWdpbicsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnNTAlIDUwJScsXHJcbiAgICAgICAgcHJlZml4OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgdmFyIG9yaWdpbnMgPSB0b2tlbnMuZmlsdGVyKGlzTGVuZ3RoUGVyY2VudGFnZSk7XHJcbiAgICAgICAgICAgIGlmIChvcmlnaW5zLmxlbmd0aCAhPT0gMikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIERFRkFVTFQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFtvcmlnaW5zWzBdLCBvcmlnaW5zWzFdXTtcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIFZJU0lCSUxJVFk7XHJcbiAgICAoZnVuY3Rpb24gKFZJU0lCSUxJVFkpIHtcclxuICAgICAgICBWSVNJQklMSVRZW1ZJU0lCSUxJVFlbXCJWSVNJQkxFXCJdID0gMF0gPSBcIlZJU0lCTEVcIjtcclxuICAgICAgICBWSVNJQklMSVRZW1ZJU0lCSUxJVFlbXCJISURERU5cIl0gPSAxXSA9IFwiSElEREVOXCI7XHJcbiAgICAgICAgVklTSUJJTElUWVtWSVNJQklMSVRZW1wiQ09MTEFQU0VcIl0gPSAyXSA9IFwiQ09MTEFQU0VcIjtcclxuICAgIH0pKFZJU0lCSUxJVFkgfHwgKFZJU0lCSUxJVFkgPSB7fSkpO1xyXG4gICAgdmFyIHZpc2liaWxpdHkgPSB7XHJcbiAgICAgICAgbmFtZTogJ3Zpc2libGUnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh2aXNpYmlsaXR5KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodmlzaWJpbGl0eSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaGlkZGVuJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVklTSUJJTElUWS5ISURERU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjb2xsYXBzZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZJU0lCSUxJVFkuQ09MTEFQU0U7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd2aXNpYmxlJzpcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFZJU0lCSUxJVFkuVklTSUJMRTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgV09SRF9CUkVBSztcclxuICAgIChmdW5jdGlvbiAoV09SRF9CUkVBSykge1xyXG4gICAgICAgIFdPUkRfQlJFQUtbXCJOT1JNQUxcIl0gPSBcIm5vcm1hbFwiO1xyXG4gICAgICAgIFdPUkRfQlJFQUtbXCJCUkVBS19BTExcIl0gPSBcImJyZWFrLWFsbFwiO1xyXG4gICAgICAgIFdPUkRfQlJFQUtbXCJLRUVQX0FMTFwiXSA9IFwia2VlcC1hbGxcIjtcclxuICAgIH0pKFdPUkRfQlJFQUsgfHwgKFdPUkRfQlJFQUsgPSB7fSkpO1xyXG4gICAgdmFyIHdvcmRCcmVhayA9IHtcclxuICAgICAgICBuYW1lOiAnd29yZC1icmVhaycsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9ybWFsJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAod29yZEJyZWFrKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAod29yZEJyZWFrKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdicmVhay1hbGwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXT1JEX0JSRUFLLkJSRUFLX0FMTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2tlZXAtYWxsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV09SRF9CUkVBSy5LRUVQX0FMTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXT1JEX0JSRUFLLk5PUk1BTDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgekluZGV4ID0ge1xyXG4gICAgICAgIG5hbWU6ICd6LWluZGV4JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdhdXRvJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgYXV0bzogdHJ1ZSwgb3JkZXI6IDAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXJUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGF1dG86IGZhbHNlLCBvcmRlcjogdG9rZW4ubnVtYmVyIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB6LWluZGV4IG51bWJlciBwYXJzZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBvcGFjaXR5ID0ge1xyXG4gICAgICAgIG5hbWU6ICdvcGFjaXR5JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICcxJyxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyVG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4ubnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgdGV4dERlY29yYXRpb25Db2xvciA9IHtcclxuICAgICAgICBuYW1lOiBcInRleHQtZGVjb3JhdGlvbi1jb2xvclwiLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRZUEVfVkFMVUUsXHJcbiAgICAgICAgZm9ybWF0OiAnY29sb3InXHJcbiAgICB9O1xuXG4gICAgdmFyIHRleHREZWNvcmF0aW9uTGluZSA9IHtcclxuICAgICAgICBuYW1lOiAndGV4dC1kZWNvcmF0aW9uLWxpbmUnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGlzSWRlbnRUb2tlbilcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndW5kZXJsaW5lJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogVU5ERVJMSU5FICovO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ292ZXJsaW5lJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDIgLyogT1ZFUkxJTkUgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGluZS10aHJvdWdoJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDMgLyogTElORV9USFJPVUdIICovO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gNCAvKiBCTElOSyAqLztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAwIC8qIE5PTkUgKi87XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChsaW5lKSB7IHJldHVybiBsaW5lICE9PSAwIC8qIE5PTkUgKi87IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgZm9udEZhbWlseSA9IHtcclxuICAgICAgICBuYW1lOiBcImZvbnQtZmFtaWx5XCIsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vucy5maWx0ZXIoaXNTdHJpbmdUb2tlbiQxKS5tYXAoZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiB0b2tlbi52YWx1ZTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBpc1N0cmluZ1Rva2VuJDEgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICByZXR1cm4gdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTiB8fCB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU47XHJcbiAgICB9O1xuXG4gICAgdmFyIGZvbnRTaXplID0ge1xyXG4gICAgICAgIG5hbWU6IFwiZm9udC1zaXplXCIsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxyXG4gICAgICAgIGZvcm1hdDogJ2xlbmd0aCdcclxuICAgIH07XG5cbiAgICB2YXIgZm9udFdlaWdodCA9IHtcclxuICAgICAgICBuYW1lOiAnZm9udC13ZWlnaHQnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVkFMVUUsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmIChpc051bWJlclRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuLm51bWJlcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvbGQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gNzAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQwMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gNDAwO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgZm9udFZhcmlhbnQgPSB7XHJcbiAgICAgICAgbmFtZTogJ2ZvbnQtdmFyaWFudCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnMuZmlsdGVyKGlzSWRlbnRUb2tlbikubWFwKGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gdG9rZW4udmFsdWU7IH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgRk9OVF9TVFlMRTtcclxuICAgIChmdW5jdGlvbiAoRk9OVF9TVFlMRSkge1xyXG4gICAgICAgIEZPTlRfU1RZTEVbXCJOT1JNQUxcIl0gPSBcIm5vcm1hbFwiO1xyXG4gICAgICAgIEZPTlRfU1RZTEVbXCJJVEFMSUNcIl0gPSBcIml0YWxpY1wiO1xyXG4gICAgICAgIEZPTlRfU1RZTEVbXCJPQkxJUVVFXCJdID0gXCJvYmxpcXVlXCI7XHJcbiAgICB9KShGT05UX1NUWUxFIHx8IChGT05UX1NUWUxFID0ge30pKTtcclxuICAgIHZhciBmb250U3R5bGUgPSB7XHJcbiAgICAgICAgbmFtZTogJ2ZvbnQtc3R5bGUnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKG92ZXJmbG93KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3ZlcmZsb3cpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ29ibGlxdWUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGT05UX1NUWUxFLk9CTElRVUU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdpdGFsaWMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGT05UX1NUWUxFLklUQUxJQztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGT05UX1NUWUxFLk5PUk1BTDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgY29udGFpbnMgPSBmdW5jdGlvbiAoYml0LCB2YWx1ZSkgeyByZXR1cm4gKGJpdCAmIHZhbHVlKSAhPT0gMDsgfTtcblxuICAgIHZhciBjb250ZW50ID0ge1xyXG4gICAgICAgIG5hbWU6ICdjb250ZW50JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZmlyc3QgPSB0b2tlbnNbMF07XHJcbiAgICAgICAgICAgIGlmIChmaXJzdC50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgZmlyc3QudmFsdWUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnM7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBjb3VudGVySW5jcmVtZW50ID0ge1xyXG4gICAgICAgIG5hbWU6ICdjb3VudGVyLWluY3JlbWVudCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgcHJlZml4OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IHRva2Vuc1swXTtcclxuICAgICAgICAgICAgaWYgKGZpcnN0LnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJiBmaXJzdC52YWx1ZSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaW5jcmVtZW50cyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSB0b2tlbnMuZmlsdGVyKG5vbldoaXRlU3BhY2UpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcmVkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IGZpbHRlcmVkW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBmaWx0ZXJlZFtpICsgMV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnRlci50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5jcmVtZW50ID0gbmV4dCAmJiBpc051bWJlclRva2VuKG5leHQpID8gbmV4dC5udW1iZXIgOiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudHMucHVzaCh7IGNvdW50ZXI6IGNvdW50ZXIudmFsdWUsIGluY3JlbWVudDogaW5jcmVtZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpbmNyZW1lbnRzO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgY291bnRlclJlc2V0ID0ge1xyXG4gICAgICAgIG5hbWU6ICdjb3VudGVyLXJlc2V0JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICBwcmVmaXg6IHRydWUsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByZXNldHMgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcmVkID0gdG9rZW5zLmZpbHRlcihub25XaGl0ZVNwYWNlKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJlZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBmaWx0ZXJlZFtpXTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gZmlsdGVyZWRbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbihjb3VudGVyKSAmJiBjb3VudGVyLnZhbHVlICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzZXQgPSBuZXh0ICYmIGlzTnVtYmVyVG9rZW4obmV4dCkgPyBuZXh0Lm51bWJlciA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRzLnB1c2goeyBjb3VudGVyOiBjb3VudGVyLnZhbHVlLCByZXNldDogcmVzZXQgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc2V0cztcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIHF1b3RlcyA9IHtcclxuICAgICAgICBuYW1lOiAncXVvdGVzJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICBwcmVmaXg6IHRydWUsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGZpcnN0ID0gdG9rZW5zWzBdO1xyXG4gICAgICAgICAgICBpZiAoZmlyc3QudHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmIGZpcnN0LnZhbHVlID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBxdW90ZXMgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcmVkID0gdG9rZW5zLmZpbHRlcihpc1N0cmluZ1Rva2VuKTtcclxuICAgICAgICAgICAgaWYgKGZpbHRlcmVkLmxlbmd0aCAlIDIgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVyZWQubGVuZ3RoOyBpICs9IDIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvcGVuXzEgPSBmaWx0ZXJlZFtpXS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9zZV8xID0gZmlsdGVyZWRbaSArIDFdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcXVvdGVzLnB1c2goeyBvcGVuOiBvcGVuXzEsIGNsb3NlOiBjbG9zZV8xIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBxdW90ZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBnZXRRdW90ZSA9IGZ1bmN0aW9uIChxdW90ZXMsIGRlcHRoLCBvcGVuKSB7XHJcbiAgICAgICAgaWYgKCFxdW90ZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcXVvdGUgPSBxdW90ZXNbTWF0aC5taW4oZGVwdGgsIHF1b3Rlcy5sZW5ndGggLSAxKV07XHJcbiAgICAgICAgaWYgKCFxdW90ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcGVuID8gcXVvdGUub3BlbiA6IHF1b3RlLmNsb3NlO1xyXG4gICAgfTtcblxuICAgIHZhciBib3hTaGFkb3cgPSB7XHJcbiAgICAgICAgbmFtZTogJ2JveC1zaGFkb3cnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMSAmJiBpc0lkZW50V2l0aFZhbHVlKHRva2Vuc1swXSwgJ25vbmUnKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZ1bmN0aW9uQXJncyh0b2tlbnMpLm1hcChmdW5jdGlvbiAodmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2hhZG93ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAweDAwMDAwMGZmLFxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFg6IFpFUk9fTEVOR1RILFxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFk6IFpFUk9fTEVOR1RILFxyXG4gICAgICAgICAgICAgICAgICAgIGJsdXI6IFpFUk9fTEVOR1RILFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcmVhZDogWkVST19MRU5HVEgsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5zZXQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSB2YWx1ZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRXaXRoVmFsdWUodG9rZW4sICdpbnNldCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5pbnNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzTGVuZ3RoKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Lm9mZnNldFggPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cub2Zmc2V0WSA9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5ibHVyID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cuc3ByZWFkID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93LmNvbG9yID0gY29sb3IucGFyc2UodG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzaGFkb3c7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XG5cbiAgICB2YXIgQ1NTUGFyc2VkRGVjbGFyYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ1NTUGFyc2VkRGVjbGFyYXRpb24oZGVjbGFyYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ2xpcCA9IHBhcnNlKGJhY2tncm91bmRDbGlwLCBkZWNsYXJhdGlvbi5iYWNrZ3JvdW5kQ2xpcCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gcGFyc2UoYmFja2dyb3VuZENvbG9yLCBkZWNsYXJhdGlvbi5iYWNrZ3JvdW5kQ29sb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZSA9IHBhcnNlKGJhY2tncm91bmRJbWFnZSwgZGVjbGFyYXRpb24uYmFja2dyb3VuZEltYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kT3JpZ2luID0gcGFyc2UoYmFja2dyb3VuZE9yaWdpbiwgZGVjbGFyYXRpb24uYmFja2dyb3VuZE9yaWdpbik7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFBvc2l0aW9uID0gcGFyc2UoYmFja2dyb3VuZFBvc2l0aW9uLCBkZWNsYXJhdGlvbi5iYWNrZ3JvdW5kUG9zaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRSZXBlYXQgPSBwYXJzZShiYWNrZ3JvdW5kUmVwZWF0LCBkZWNsYXJhdGlvbi5iYWNrZ3JvdW5kUmVwZWF0KTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kU2l6ZSA9IHBhcnNlKGJhY2tncm91bmRTaXplLCBkZWNsYXJhdGlvbi5iYWNrZ3JvdW5kU2l6ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyVG9wQ29sb3IgPSBwYXJzZShib3JkZXJUb3BDb2xvciwgZGVjbGFyYXRpb24uYm9yZGVyVG9wQ29sb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlclJpZ2h0Q29sb3IgPSBwYXJzZShib3JkZXJSaWdodENvbG9yLCBkZWNsYXJhdGlvbi5ib3JkZXJSaWdodENvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJCb3R0b21Db2xvciA9IHBhcnNlKGJvcmRlckJvdHRvbUNvbG9yLCBkZWNsYXJhdGlvbi5ib3JkZXJCb3R0b21Db2xvcik7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyTGVmdENvbG9yID0gcGFyc2UoYm9yZGVyTGVmdENvbG9yLCBkZWNsYXJhdGlvbi5ib3JkZXJMZWZ0Q29sb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlclRvcExlZnRSYWRpdXMgPSBwYXJzZShib3JkZXJUb3BMZWZ0UmFkaXVzLCBkZWNsYXJhdGlvbi5ib3JkZXJUb3BMZWZ0UmFkaXVzKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJUb3BSaWdodFJhZGl1cyA9IHBhcnNlKGJvcmRlclRvcFJpZ2h0UmFkaXVzLCBkZWNsYXJhdGlvbi5ib3JkZXJUb3BSaWdodFJhZGl1cyk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMgPSBwYXJzZShib3JkZXJCb3R0b21SaWdodFJhZGl1cywgZGVjbGFyYXRpb24uYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlckJvdHRvbUxlZnRSYWRpdXMgPSBwYXJzZShib3JkZXJCb3R0b21MZWZ0UmFkaXVzLCBkZWNsYXJhdGlvbi5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJUb3BTdHlsZSA9IHBhcnNlKGJvcmRlclRvcFN0eWxlLCBkZWNsYXJhdGlvbi5ib3JkZXJUb3BTdHlsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyUmlnaHRTdHlsZSA9IHBhcnNlKGJvcmRlclJpZ2h0U3R5bGUsIGRlY2xhcmF0aW9uLmJvcmRlclJpZ2h0U3R5bGUpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlckJvdHRvbVN0eWxlID0gcGFyc2UoYm9yZGVyQm90dG9tU3R5bGUsIGRlY2xhcmF0aW9uLmJvcmRlckJvdHRvbVN0eWxlKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJMZWZ0U3R5bGUgPSBwYXJzZShib3JkZXJMZWZ0U3R5bGUsIGRlY2xhcmF0aW9uLmJvcmRlckxlZnRTdHlsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyVG9wV2lkdGggPSBwYXJzZShib3JkZXJUb3BXaWR0aCwgZGVjbGFyYXRpb24uYm9yZGVyVG9wV2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlclJpZ2h0V2lkdGggPSBwYXJzZShib3JkZXJSaWdodFdpZHRoLCBkZWNsYXJhdGlvbi5ib3JkZXJSaWdodFdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJCb3R0b21XaWR0aCA9IHBhcnNlKGJvcmRlckJvdHRvbVdpZHRoLCBkZWNsYXJhdGlvbi5ib3JkZXJCb3R0b21XaWR0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyTGVmdFdpZHRoID0gcGFyc2UoYm9yZGVyTGVmdFdpZHRoLCBkZWNsYXJhdGlvbi5ib3JkZXJMZWZ0V2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLmJveFNoYWRvdyA9IHBhcnNlKGJveFNoYWRvdywgZGVjbGFyYXRpb24uYm94U2hhZG93KTtcclxuICAgICAgICAgICAgdGhpcy5jb2xvciA9IHBhcnNlKGNvbG9yJDEsIGRlY2xhcmF0aW9uLmNvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5ID0gcGFyc2UoZGlzcGxheSwgZGVjbGFyYXRpb24uZGlzcGxheSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmxvYXQgPSBwYXJzZShmbG9hdCwgZGVjbGFyYXRpb24uY3NzRmxvYXQpO1xyXG4gICAgICAgICAgICB0aGlzLmZvbnRGYW1pbHkgPSBwYXJzZShmb250RmFtaWx5LCBkZWNsYXJhdGlvbi5mb250RmFtaWx5KTtcclxuICAgICAgICAgICAgdGhpcy5mb250U2l6ZSA9IHBhcnNlKGZvbnRTaXplLCBkZWNsYXJhdGlvbi5mb250U2l6ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9udFN0eWxlID0gcGFyc2UoZm9udFN0eWxlLCBkZWNsYXJhdGlvbi5mb250U3R5bGUpO1xyXG4gICAgICAgICAgICB0aGlzLmZvbnRWYXJpYW50ID0gcGFyc2UoZm9udFZhcmlhbnQsIGRlY2xhcmF0aW9uLmZvbnRWYXJpYW50KTtcclxuICAgICAgICAgICAgdGhpcy5mb250V2VpZ2h0ID0gcGFyc2UoZm9udFdlaWdodCwgZGVjbGFyYXRpb24uZm9udFdlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMubGV0dGVyU3BhY2luZyA9IHBhcnNlKGxldHRlclNwYWNpbmcsIGRlY2xhcmF0aW9uLmxldHRlclNwYWNpbmcpO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmVCcmVhayA9IHBhcnNlKGxpbmVCcmVhaywgZGVjbGFyYXRpb24ubGluZUJyZWFrKTtcclxuICAgICAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gcGFyc2UobGluZUhlaWdodCwgZGVjbGFyYXRpb24ubGluZUhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdFN0eWxlSW1hZ2UgPSBwYXJzZShsaXN0U3R5bGVJbWFnZSwgZGVjbGFyYXRpb24ubGlzdFN0eWxlSW1hZ2UpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RTdHlsZVBvc2l0aW9uID0gcGFyc2UobGlzdFN0eWxlUG9zaXRpb24sIGRlY2xhcmF0aW9uLmxpc3RTdHlsZVBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0U3R5bGVUeXBlID0gcGFyc2UobGlzdFN0eWxlVHlwZSwgZGVjbGFyYXRpb24ubGlzdFN0eWxlVHlwZSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFyZ2luVG9wID0gcGFyc2UobWFyZ2luVG9wLCBkZWNsYXJhdGlvbi5tYXJnaW5Ub3ApO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmdpblJpZ2h0ID0gcGFyc2UobWFyZ2luUmlnaHQsIGRlY2xhcmF0aW9uLm1hcmdpblJpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5tYXJnaW5Cb3R0b20gPSBwYXJzZShtYXJnaW5Cb3R0b20sIGRlY2xhcmF0aW9uLm1hcmdpbkJvdHRvbSk7XHJcbiAgICAgICAgICAgIHRoaXMubWFyZ2luTGVmdCA9IHBhcnNlKG1hcmdpbkxlZnQsIGRlY2xhcmF0aW9uLm1hcmdpbkxlZnQpO1xyXG4gICAgICAgICAgICB0aGlzLm9wYWNpdHkgPSBwYXJzZShvcGFjaXR5LCBkZWNsYXJhdGlvbi5vcGFjaXR5KTtcclxuICAgICAgICAgICAgdmFyIG92ZXJmbG93VHVwbGUgPSBwYXJzZShvdmVyZmxvdywgZGVjbGFyYXRpb24ub3ZlcmZsb3cpO1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJmbG93WCA9IG92ZXJmbG93VHVwbGVbMF07XHJcbiAgICAgICAgICAgIHRoaXMub3ZlcmZsb3dZID0gb3ZlcmZsb3dUdXBsZVtvdmVyZmxvd1R1cGxlLmxlbmd0aCA+IDEgPyAxIDogMF07XHJcbiAgICAgICAgICAgIHRoaXMub3ZlcmZsb3dXcmFwID0gcGFyc2Uob3ZlcmZsb3dXcmFwLCBkZWNsYXJhdGlvbi5vdmVyZmxvd1dyYXApO1xyXG4gICAgICAgICAgICB0aGlzLnBhZGRpbmdUb3AgPSBwYXJzZShwYWRkaW5nVG9wLCBkZWNsYXJhdGlvbi5wYWRkaW5nVG9wKTtcclxuICAgICAgICAgICAgdGhpcy5wYWRkaW5nUmlnaHQgPSBwYXJzZShwYWRkaW5nUmlnaHQsIGRlY2xhcmF0aW9uLnBhZGRpbmdSaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFkZGluZ0JvdHRvbSA9IHBhcnNlKHBhZGRpbmdCb3R0b20sIGRlY2xhcmF0aW9uLnBhZGRpbmdCb3R0b20pO1xyXG4gICAgICAgICAgICB0aGlzLnBhZGRpbmdMZWZ0ID0gcGFyc2UocGFkZGluZ0xlZnQsIGRlY2xhcmF0aW9uLnBhZGRpbmdMZWZ0KTtcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBhcnNlKHBvc2l0aW9uLCBkZWNsYXJhdGlvbi5wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dEFsaWduID0gcGFyc2UodGV4dEFsaWduLCBkZWNsYXJhdGlvbi50ZXh0QWxpZ24pO1xyXG4gICAgICAgICAgICB0aGlzLnRleHREZWNvcmF0aW9uQ29sb3IgPSBwYXJzZSh0ZXh0RGVjb3JhdGlvbkNvbG9yLCBkZWNsYXJhdGlvbi50ZXh0RGVjb3JhdGlvbkNvbG9yIHx8IGRlY2xhcmF0aW9uLmNvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0RGVjb3JhdGlvbkxpbmUgPSBwYXJzZSh0ZXh0RGVjb3JhdGlvbkxpbmUsIGRlY2xhcmF0aW9uLnRleHREZWNvcmF0aW9uTGluZSk7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dFNoYWRvdyA9IHBhcnNlKHRleHRTaGFkb3csIGRlY2xhcmF0aW9uLnRleHRTaGFkb3cpO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRUcmFuc2Zvcm0gPSBwYXJzZSh0ZXh0VHJhbnNmb3JtLCBkZWNsYXJhdGlvbi50ZXh0VHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBwYXJzZSh0cmFuc2Zvcm0sIGRlY2xhcmF0aW9uLnRyYW5zZm9ybSk7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtT3JpZ2luID0gcGFyc2UodHJhbnNmb3JtT3JpZ2luLCBkZWNsYXJhdGlvbi50cmFuc2Zvcm1PcmlnaW4pO1xyXG4gICAgICAgICAgICB0aGlzLnZpc2liaWxpdHkgPSBwYXJzZSh2aXNpYmlsaXR5LCBkZWNsYXJhdGlvbi52aXNpYmlsaXR5KTtcclxuICAgICAgICAgICAgdGhpcy53b3JkQnJlYWsgPSBwYXJzZSh3b3JkQnJlYWssIGRlY2xhcmF0aW9uLndvcmRCcmVhayk7XHJcbiAgICAgICAgICAgIHRoaXMuekluZGV4ID0gcGFyc2UoekluZGV4LCBkZWNsYXJhdGlvbi56SW5kZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBDU1NQYXJzZWREZWNsYXJhdGlvbi5wcm90b3R5cGUuaXNWaXNpYmxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5ID4gMCAmJiB0aGlzLm9wYWNpdHkgPiAwICYmIHRoaXMudmlzaWJpbGl0eSA9PT0gVklTSUJJTElUWS5WSVNJQkxFO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ1NTUGFyc2VkRGVjbGFyYXRpb24ucHJvdG90eXBlLmlzVHJhbnNwYXJlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc1RyYW5zcGFyZW50KHRoaXMuYmFja2dyb3VuZENvbG9yKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc1RyYW5zZm9ybWVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0gIT09IG51bGw7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDU1NQYXJzZWREZWNsYXJhdGlvbi5wcm90b3R5cGUuaXNQb3NpdGlvbmVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbiAhPT0gUE9TSVRJT04uU1RBVElDO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ1NTUGFyc2VkRGVjbGFyYXRpb24ucHJvdG90eXBlLmlzUG9zaXRpb25lZFdpdGhaSW5kZXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzUG9zaXRpb25lZCgpICYmICF0aGlzLnpJbmRleC5hdXRvO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ1NTUGFyc2VkRGVjbGFyYXRpb24ucHJvdG90eXBlLmlzRmxvYXRpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZsb2F0ICE9PSBGTE9BVC5OT05FO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ1NTUGFyc2VkRGVjbGFyYXRpb24ucHJvdG90eXBlLmlzSW5saW5lTGV2ZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoY29udGFpbnModGhpcy5kaXNwbGF5LCA0IC8qIElOTElORSAqLykgfHxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5zKHRoaXMuZGlzcGxheSwgMzM1NTQ0MzIgLyogSU5MSU5FX0JMT0NLICovKSB8fFxyXG4gICAgICAgICAgICAgICAgY29udGFpbnModGhpcy5kaXNwbGF5LCAyNjg0MzU0NTYgLyogSU5MSU5FX0ZMRVggKi8pIHx8XHJcbiAgICAgICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIDUzNjg3MDkxMiAvKiBJTkxJTkVfR1JJRCAqLykgfHxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5zKHRoaXMuZGlzcGxheSwgNjcxMDg4NjQgLyogSU5MSU5FX0xJU1RfSVRFTSAqLykgfHxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5zKHRoaXMuZGlzcGxheSwgMTM0MjE3NzI4IC8qIElOTElORV9UQUJMRSAqLykpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENTU1BhcnNlZERlY2xhcmF0aW9uO1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBDU1NQYXJzZWRQc2V1ZG9EZWNsYXJhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBDU1NQYXJzZWRQc2V1ZG9EZWNsYXJhdGlvbihkZWNsYXJhdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSBwYXJzZShjb250ZW50LCBkZWNsYXJhdGlvbi5jb250ZW50KTtcclxuICAgICAgICAgICAgdGhpcy5xdW90ZXMgPSBwYXJzZShxdW90ZXMsIGRlY2xhcmF0aW9uLnF1b3Rlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBDU1NQYXJzZWRQc2V1ZG9EZWNsYXJhdGlvbjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgQ1NTUGFyc2VkQ291bnRlckRlY2xhcmF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIENTU1BhcnNlZENvdW50ZXJEZWNsYXJhdGlvbihkZWNsYXJhdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJJbmNyZW1lbnQgPSBwYXJzZShjb3VudGVySW5jcmVtZW50LCBkZWNsYXJhdGlvbi5jb3VudGVySW5jcmVtZW50KTtcclxuICAgICAgICAgICAgdGhpcy5jb3VudGVyUmVzZXQgPSBwYXJzZShjb3VudGVyUmVzZXQsIGRlY2xhcmF0aW9uLmNvdW50ZXJSZXNldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBDU1NQYXJzZWRDb3VudGVyRGVjbGFyYXRpb247XHJcbiAgICB9KCkpO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgIHZhciBwYXJzZSA9IGZ1bmN0aW9uIChkZXNjcmlwdG9yLCBzdHlsZSkge1xyXG4gICAgICAgIHZhciB0b2tlbml6ZXIgPSBuZXcgVG9rZW5pemVyKCk7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gc3R5bGUgIT09IG51bGwgJiYgdHlwZW9mIHN0eWxlICE9PSAndW5kZWZpbmVkJyA/IHN0eWxlLnRvU3RyaW5nKCkgOiBkZXNjcmlwdG9yLmluaXRpYWxWYWx1ZTtcclxuICAgICAgICB0b2tlbml6ZXIud3JpdGUodmFsdWUpO1xyXG4gICAgICAgIHZhciBwYXJzZXIgPSBuZXcgUGFyc2VyKHRva2VuaXplci5yZWFkKCkpO1xyXG4gICAgICAgIHN3aXRjaCAoZGVzY3JpcHRvci50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUU6XHJcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSBwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IucGFyc2UoaXNJZGVudFRva2VuKHRva2VuKSA/IHRva2VuLnZhbHVlIDogZGVzY3JpcHRvci5pbml0aWFsVmFsdWUpO1xyXG4gICAgICAgICAgICBjYXNlIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlZBTFVFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IucGFyc2UocGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKSk7XHJcbiAgICAgICAgICAgIGNhc2UgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlcygpKTtcclxuICAgICAgICAgICAgY2FzZSBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UT0tFTl9WQUxVRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZSgpO1xyXG4gICAgICAgICAgICBjYXNlIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRZUEVfVkFMVUU6XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlc2NyaXB0b3IuZm9ybWF0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYW5nbGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5nbGUucGFyc2UocGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29sb3InOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3IucGFyc2UocGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW1hZ2UnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2UucGFyc2UocGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGVuZ3RoJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aF8xID0gcGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzTGVuZ3RoKGxlbmd0aF8xKSA/IGxlbmd0aF8xIDogWkVST19MRU5HVEg7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGVuZ3RoLXBlcmNlbnRhZ2UnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVfMSA9IHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0xlbmd0aFBlcmNlbnRhZ2UodmFsdWVfMSkgPyB2YWx1ZV8xIDogWkVST19MRU5HVEg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gcGFyc2UgdW5zdXBwb3J0ZWQgY3NzIGZvcm1hdCB0eXBlIFwiICsgZGVzY3JpcHRvci5mb3JtYXQpO1xyXG4gICAgfTtcblxuICAgIHZhciBFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIEVsZW1lbnRDb250YWluZXIoZWxlbWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0eWxlcyA9IG5ldyBDU1NQYXJzZWREZWNsYXJhdGlvbih3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKSk7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dE5vZGVzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMgPSBbXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3R5bGVzLnRyYW5zZm9ybSAhPT0gbnVsbCAmJiBpc0hUTUxFbGVtZW50Tm9kZShlbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0IHRha2VzIHRyYW5zZm9ybXMgaW50byBhY2NvdW50XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcyA9IHBhcnNlQm91bmRzKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmZsYWdzID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEVsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KCkpO1xuXG4gICAgdmFyIFRleHRCb3VuZHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dEJvdW5kcyh0ZXh0LCBib3VuZHMpIHtcclxuICAgICAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuICAgICAgICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBUZXh0Qm91bmRzO1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBwYXJzZVRleHRCb3VuZHMgPSBmdW5jdGlvbiAodmFsdWUsIHN0eWxlcywgbm9kZSkge1xyXG4gICAgICAgIHZhciB0ZXh0TGlzdCA9IGJyZWFrVGV4dCh2YWx1ZSwgc3R5bGVzKTtcclxuICAgICAgICB2YXIgdGV4dEJvdW5kcyA9IFtdO1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xyXG4gICAgICAgIHRleHRMaXN0LmZvckVhY2goZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICAgICAgaWYgKHN0eWxlcy50ZXh0RGVjb3JhdGlvbkxpbmUubGVuZ3RoIHx8IHRleHQudHJpbSgpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChGRUFUVVJFUy5TVVBQT1JUX1JBTkdFX0JPVU5EUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRCb3VuZHMucHVzaChuZXcgVGV4dEJvdW5kcyh0ZXh0LCBnZXRSYW5nZUJvdW5kcyhub2RlLCBvZmZzZXQsIHRleHQubGVuZ3RoKSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcGxhY2VtZW50Tm9kZSA9IG5vZGUuc3BsaXRUZXh0KHRleHQubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0Qm91bmRzLnB1c2gobmV3IFRleHRCb3VuZHModGV4dCwgZ2V0V3JhcHBlckJvdW5kcyhub2RlKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSByZXBsYWNlbWVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIUZFQVRVUkVTLlNVUFBPUlRfUkFOR0VfQk9VTkRTKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5zcGxpdFRleHQodGV4dC5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9mZnNldCArPSB0ZXh0Lmxlbmd0aDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGV4dEJvdW5kcztcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0V3JhcHBlckJvdW5kcyA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQ7XHJcbiAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwyY2FudmFzd3JhcHBlcicpO1xyXG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKG5vZGUuY2xvbmVOb2RlKHRydWUpKTtcclxuICAgICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBub2RlKTtcclxuICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBwYXJzZUJvdW5kcyh3cmFwcGVyKTtcclxuICAgICAgICAgICAgICAgIGlmICh3cmFwcGVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLmZpcnN0Q2hpbGQsIHdyYXBwZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IEJvdW5kcygwLCAwLCAwLCAwKTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0UmFuZ2VCb3VuZHMgPSBmdW5jdGlvbiAobm9kZSwgb2Zmc2V0LCBsZW5ndGgpIHtcclxuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IG5vZGUub3duZXJEb2N1bWVudDtcclxuICAgICAgICBpZiAoIW93bmVyRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2RlIGhhcyBubyBvd25lciBkb2N1bWVudCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmFuZ2UgPSBvd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgb2Zmc2V0KTtcclxuICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgb2Zmc2V0ICsgbGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gQm91bmRzLmZyb21DbGllbnRSZWN0KHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcclxuICAgIH07XHJcbiAgICB2YXIgYnJlYWtUZXh0ID0gZnVuY3Rpb24gKHZhbHVlLCBzdHlsZXMpIHtcclxuICAgICAgICByZXR1cm4gc3R5bGVzLmxldHRlclNwYWNpbmcgIT09IDAgPyB0b0NvZGVQb2ludHModmFsdWUpLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gZnJvbUNvZGVQb2ludChpKTsgfSkgOiBicmVha1dvcmRzKHZhbHVlLCBzdHlsZXMpO1xyXG4gICAgfTtcclxuICAgIHZhciBicmVha1dvcmRzID0gZnVuY3Rpb24gKHN0ciwgc3R5bGVzKSB7XHJcbiAgICAgICAgdmFyIGJyZWFrZXIgPSBMaW5lQnJlYWtlcihzdHIsIHtcclxuICAgICAgICAgICAgbGluZUJyZWFrOiBzdHlsZXMubGluZUJyZWFrLFxyXG4gICAgICAgICAgICB3b3JkQnJlYWs6IHN0eWxlcy5vdmVyZmxvd1dyYXAgPT09IE9WRVJGTE9XX1dSQVAuQlJFQUtfV09SRCA/ICdicmVhay13b3JkJyA6IHN0eWxlcy53b3JkQnJlYWtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgd29yZHMgPSBbXTtcclxuICAgICAgICB2YXIgYms7XHJcbiAgICAgICAgd2hpbGUgKCEoYmsgPSBicmVha2VyLm5leHQoKSkuZG9uZSkge1xyXG4gICAgICAgICAgICBpZiAoYmsudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goYmsudmFsdWUuc2xpY2UoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdvcmRzO1xyXG4gICAgfTtcblxuICAgIHZhciBUZXh0Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFRleHRDb250YWluZXIobm9kZSwgc3R5bGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dCA9IHRyYW5zZm9ybSQxKG5vZGUuZGF0YSwgc3R5bGVzLnRleHRUcmFuc2Zvcm0pO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRCb3VuZHMgPSBwYXJzZVRleHRCb3VuZHModGhpcy50ZXh0LCBzdHlsZXMsIG5vZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gVGV4dENvbnRhaW5lcjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgdHJhbnNmb3JtJDEgPSBmdW5jdGlvbiAodGV4dCwgdHJhbnNmb3JtKSB7XHJcbiAgICAgICAgc3dpdGNoICh0cmFuc2Zvcm0pIHtcclxuICAgICAgICAgICAgY2FzZSBURVhUX1RSQU5TRk9STS5MT1dFUkNBU0U6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBjYXNlIFRFWFRfVFJBTlNGT1JNLkNBUElUQUxJWkU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKENBUElUQUxJWkUsIGNhcGl0YWxpemUpO1xyXG4gICAgICAgICAgICBjYXNlIFRFWFRfVFJBTlNGT1JNLlVQUEVSQ0FTRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0LnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIENBUElUQUxJWkUgPSAvKF58XFxzfDp8LXxcXCh8XFwpKShbYS16XSkvZztcclxuICAgIHZhciBjYXBpdGFsaXplID0gZnVuY3Rpb24gKG0sIHAxLCBwMikge1xyXG4gICAgICAgIGlmIChtLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHAxICsgcDIudG9VcHBlckNhc2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG07XHJcbiAgICB9O1xuXG4gICAgdmFyIEltYWdlRWxlbWVudENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoSW1hZ2VFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEltYWdlRWxlbWVudENvbnRhaW5lcihpbWcpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaW1nKSB8fCB0aGlzO1xyXG4gICAgICAgICAgICBfdGhpcy5zcmMgPSBpbWcuY3VycmVudFNyYyB8fCBpbWcuc3JjO1xyXG4gICAgICAgICAgICBfdGhpcy5pbnRyaW5zaWNXaWR0aCA9IGltZy5uYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgICAgIF90aGlzLmludHJpbnNpY0hlaWdodCA9IGltZy5uYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgICAgICBDYWNoZVN0b3JhZ2UuZ2V0SW5zdGFuY2UoKS5hZGRJbWFnZShfdGhpcy5zcmMpO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBJbWFnZUVsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcblxuICAgIHZhciBDYW52YXNFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhDYW52YXNFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIENhbnZhc0VsZW1lbnRDb250YWluZXIoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNhbnZhcykgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgICAgICBfdGhpcy5pbnRyaW5zaWNXaWR0aCA9IGNhbnZhcy53aWR0aDtcclxuICAgICAgICAgICAgX3RoaXMuaW50cmluc2ljSGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ2FudmFzRWxlbWVudENvbnRhaW5lcjtcclxuICAgIH0oRWxlbWVudENvbnRhaW5lcikpO1xuXG4gICAgdmFyIFNWR0VsZW1lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNWR0VsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gU1ZHRWxlbWVudENvbnRhaW5lcihpbWcpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaW1nKSB8fCB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgcyA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XHJcbiAgICAgICAgICAgIF90aGlzLnN2ZyA9IFwiZGF0YTppbWFnZS9zdmcreG1sLFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHMuc2VyaWFsaXplVG9TdHJpbmcoaW1nKSk7XHJcbiAgICAgICAgICAgIF90aGlzLmludHJpbnNpY1dpZHRoID0gaW1nLndpZHRoLmJhc2VWYWwudmFsdWU7XHJcbiAgICAgICAgICAgIF90aGlzLmludHJpbnNpY0hlaWdodCA9IGltZy5oZWlnaHQuYmFzZVZhbC52YWx1ZTtcclxuICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLmdldEluc3RhbmNlKCkuYWRkSW1hZ2UoX3RoaXMuc3ZnKTtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gU1ZHRWxlbWVudENvbnRhaW5lcjtcclxuICAgIH0oRWxlbWVudENvbnRhaW5lcikpO1xuXG4gICAgdmFyIExJRWxlbWVudENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoTElFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIExJRWxlbWVudENvbnRhaW5lcihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVsZW1lbnQpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLnZhbHVlID0gZWxlbWVudC52YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTElFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XG5cbiAgICB2YXIgT0xFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhPTEVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gT0xFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMuc3RhcnQgPSBlbGVtZW50LnN0YXJ0O1xyXG4gICAgICAgICAgICBfdGhpcy5yZXZlcnNlZCA9IHR5cGVvZiBlbGVtZW50LnJldmVyc2VkID09PSAnYm9vbGVhbicgJiYgZWxlbWVudC5yZXZlcnNlZCA9PT0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT0xFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XG5cbiAgICB2YXIgQ0hFQ0tCT1hfQk9SREVSX1JBRElVUyA9IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHR5cGU6IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU4sXHJcbiAgICAgICAgICAgIGZsYWdzOiAwLFxyXG4gICAgICAgICAgICB1bml0OiAncHgnLFxyXG4gICAgICAgICAgICBudW1iZXI6IDNcclxuICAgICAgICB9XHJcbiAgICBdO1xyXG4gICAgdmFyIFJBRElPX0JPUkRFUl9SQURJVVMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTixcclxuICAgICAgICAgICAgZmxhZ3M6IDAsXHJcbiAgICAgICAgICAgIG51bWJlcjogNTBcclxuICAgICAgICB9XHJcbiAgICBdO1xyXG4gICAgdmFyIHJlZm9ybWF0SW5wdXRCb3VuZHMgPSBmdW5jdGlvbiAoYm91bmRzKSB7XHJcbiAgICAgICAgaWYgKGJvdW5kcy53aWR0aCA+IGJvdW5kcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHMoYm91bmRzLmxlZnQgKyAoYm91bmRzLndpZHRoIC0gYm91bmRzLmhlaWdodCkgLyAyLCBib3VuZHMudG9wLCBib3VuZHMuaGVpZ2h0LCBib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYm91bmRzLndpZHRoIDwgYm91bmRzLmhlaWdodCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEJvdW5kcyhib3VuZHMubGVmdCwgYm91bmRzLnRvcCArIChib3VuZHMuaGVpZ2h0IC0gYm91bmRzLndpZHRoKSAvIDIsIGJvdW5kcy53aWR0aCwgYm91bmRzLndpZHRoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJvdW5kcztcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0SW5wdXRWYWx1ZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gbm9kZS50eXBlID09PSBQQVNTV09SRCA/IG5ldyBBcnJheShub2RlLnZhbHVlLmxlbmd0aCArIDEpLmpvaW4oJ1xcdTIwMjInKSA6IG5vZGUudmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA9PT0gMCA/IG5vZGUucGxhY2Vob2xkZXIgfHwgJycgOiB2YWx1ZTtcclxuICAgIH07XHJcbiAgICB2YXIgQ0hFQ0tCT1ggPSAnY2hlY2tib3gnO1xyXG4gICAgdmFyIFJBRElPID0gJ3JhZGlvJztcclxuICAgIHZhciBQQVNTV09SRCA9ICdwYXNzd29yZCc7XHJcbiAgICB2YXIgSU5QVVRfQ09MT1IgPSAweDJhMmEyYWZmO1xyXG4gICAgdmFyIElucHV0RWxlbWVudENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoSW5wdXRFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIElucHV0RWxlbWVudENvbnRhaW5lcihpbnB1dCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBpbnB1dCkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMudHlwZSA9IGlucHV0LnR5cGUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgX3RoaXMuY2hlY2tlZCA9IGlucHV0LmNoZWNrZWQ7XHJcbiAgICAgICAgICAgIF90aGlzLnZhbHVlID0gZ2V0SW5wdXRWYWx1ZShpbnB1dCk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy50eXBlID09PSBDSEVDS0JPWCB8fCBfdGhpcy50eXBlID09PSBSQURJTykge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvciA9IDB4ZGVkZWRlZmY7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zdHlsZXMuYm9yZGVyVG9wQ29sb3IgPSBfdGhpcy5zdHlsZXMuYm9yZGVyUmlnaHRDb2xvciA9IF90aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21Db2xvciA9IF90aGlzLnN0eWxlcy5ib3JkZXJMZWZ0Q29sb3IgPSAweGE1YTVhNWZmO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc3R5bGVzLmJvcmRlclRvcFdpZHRoID0gX3RoaXMuc3R5bGVzLmJvcmRlclJpZ2h0V2lkdGggPSBfdGhpcy5zdHlsZXMuYm9yZGVyQm90dG9tV2lkdGggPSBfdGhpcy5zdHlsZXMuYm9yZGVyTGVmdFdpZHRoID0gMTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN0eWxlcy5ib3JkZXJUb3BTdHlsZSA9IF90aGlzLnN0eWxlcy5ib3JkZXJSaWdodFN0eWxlID0gX3RoaXMuc3R5bGVzLmJvcmRlckJvdHRvbVN0eWxlID0gX3RoaXMuc3R5bGVzLmJvcmRlckxlZnRTdHlsZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgQk9SREVSX1NUWUxFLlNPTElEO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc3R5bGVzLmJhY2tncm91bmRDbGlwID0gW0JBQ0tHUk9VTkRfQ0xJUC5CT1JERVJfQk9YXTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN0eWxlcy5iYWNrZ3JvdW5kT3JpZ2luID0gWzAgLyogQk9SREVSX0JPWCAqL107XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5ib3VuZHMgPSByZWZvcm1hdElucHV0Qm91bmRzKF90aGlzLmJvdW5kcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3dpdGNoIChfdGhpcy50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENIRUNLQk9YOlxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0eWxlcy5ib3JkZXJUb3BSaWdodFJhZGl1cyA9IF90aGlzLnN0eWxlcy5ib3JkZXJUb3BMZWZ0UmFkaXVzID0gX3RoaXMuc3R5bGVzLmJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzID0gX3RoaXMuc3R5bGVzLmJvcmRlckJvdHRvbUxlZnRSYWRpdXMgPSBDSEVDS0JPWF9CT1JERVJfUkFESVVTO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBSQURJTzpcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdHlsZXMuYm9yZGVyVG9wUmlnaHRSYWRpdXMgPSBfdGhpcy5zdHlsZXMuYm9yZGVyVG9wTGVmdFJhZGl1cyA9IF90aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21SaWdodFJhZGl1cyA9IF90aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzID0gUkFESU9fQk9SREVSX1JBRElVUztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBJbnB1dEVsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcblxuICAgIHZhciBTZWxlY3RFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhTZWxlY3RFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFNlbGVjdEVsZW1lbnRDb250YWluZXIoZWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBlbGVtZW50KSB8fCB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgb3B0aW9uID0gZWxlbWVudC5vcHRpb25zW2VsZW1lbnQuc2VsZWN0ZWRJbmRleCB8fCAwXTtcclxuICAgICAgICAgICAgX3RoaXMudmFsdWUgPSBvcHRpb24gPyBvcHRpb24udGV4dCB8fCAnJyA6ICcnO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBTZWxlY3RFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XG5cbiAgICB2YXIgVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhUZXh0YXJlYUVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMudmFsdWUgPSBlbGVtZW50LnZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBUZXh0YXJlYUVsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcblxuICAgIHZhciBwYXJzZUNvbG9yID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBjb2xvci5wYXJzZShQYXJzZXIuY3JlYXRlKHZhbHVlKS5wYXJzZUNvbXBvbmVudFZhbHVlKCkpOyB9O1xyXG4gICAgdmFyIElGcmFtZUVsZW1lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKElGcmFtZUVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gSUZyYW1lRWxlbWVudENvbnRhaW5lcihpZnJhbWUpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaWZyYW1lKSB8fCB0aGlzO1xyXG4gICAgICAgICAgICBfdGhpcy5zcmMgPSBpZnJhbWUuc3JjO1xyXG4gICAgICAgICAgICBfdGhpcy53aWR0aCA9IHBhcnNlSW50KGlmcmFtZS53aWR0aCwgMTApIHx8IDA7XHJcbiAgICAgICAgICAgIF90aGlzLmhlaWdodCA9IHBhcnNlSW50KGlmcmFtZS5oZWlnaHQsIDEwKSB8fCAwO1xyXG4gICAgICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBfdGhpcy5zdHlsZXMuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlmcmFtZS5jb250ZW50V2luZG93ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQgJiZcclxuICAgICAgICAgICAgICAgICAgICBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmVlID0gcGFyc2VUcmVlKGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1iYWNrZ3JvdW5kLyNzcGVjaWFsLWJhY2tncm91bmRzXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvY3VtZW50QmFja2dyb3VuZENvbG9yID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyc2VDb2xvcihnZXRDb21wdXRlZFN0eWxlKGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5iYWNrZ3JvdW5kQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogQ09MT1JTLlRSQU5TUEFSRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBib2R5QmFja2dyb3VuZENvbG9yID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlQ29sb3IoZ2V0Q29tcHV0ZWRTdHlsZShpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5KS5iYWNrZ3JvdW5kQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogQ09MT1JTLlRSQU5TUEFSRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmJhY2tncm91bmRDb2xvciA9IGlzVHJhbnNwYXJlbnQoZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaXNUcmFuc3BhcmVudChib2R5QmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfdGhpcy5zdHlsZXMuYmFja2dyb3VuZENvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGJvZHlCYWNrZ3JvdW5kQ29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2N1bWVudEJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIElGcmFtZUVsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcblxuICAgIHZhciBMSVNUX09XTkVSUyA9IFsnT0wnLCAnVUwnLCAnTUVOVSddO1xyXG4gICAgdmFyIHBhcnNlTm9kZVRyZWUgPSBmdW5jdGlvbiAobm9kZSwgcGFyZW50LCByb290KSB7XHJcbiAgICAgICAgZm9yICh2YXIgY2hpbGROb2RlID0gbm9kZS5maXJzdENoaWxkLCBuZXh0Tm9kZSA9IHZvaWQgMDsgY2hpbGROb2RlOyBjaGlsZE5vZGUgPSBuZXh0Tm9kZSkge1xyXG4gICAgICAgICAgICBuZXh0Tm9kZSA9IGNoaWxkTm9kZS5uZXh0U2libGluZztcclxuICAgICAgICAgICAgaWYgKGlzVGV4dE5vZGUoY2hpbGROb2RlKSAmJiBjaGlsZE5vZGUuZGF0YS50cmltKCkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50LnRleHROb2Rlcy5wdXNoKG5ldyBUZXh0Q29udGFpbmVyKGNoaWxkTm9kZSwgcGFyZW50LnN0eWxlcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRWxlbWVudE5vZGUoY2hpbGROb2RlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNyZWF0ZUNvbnRhaW5lcihjaGlsZE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5zdHlsZXMuaXNWaXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlc1JlYWxTdGFja2luZ0NvbnRleHQoY2hpbGROb2RlLCBjb250YWluZXIsIHJvb3QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5mbGFncyB8PSA0IC8qIENSRUFURVNfUkVBTF9TVEFDS0lOR19DT05URVhUICovO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjcmVhdGVzU3RhY2tpbmdDb250ZXh0KGNvbnRhaW5lci5zdHlsZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5mbGFncyB8PSAyIC8qIENSRUFURVNfU1RBQ0tJTkdfQ09OVEVYVCAqLztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKExJU1RfT1dORVJTLmluZGV4T2YoY2hpbGROb2RlLnRhZ05hbWUpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuZmxhZ3MgfD0gOCAvKiBJU19MSVNUX09XTkVSICovO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQuZWxlbWVudHMucHVzaChjb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNUZXh0YXJlYUVsZW1lbnQoY2hpbGROb2RlKSAmJiAhaXNTVkdFbGVtZW50KGNoaWxkTm9kZSkgJiYgIWlzU2VsZWN0RWxlbWVudChjaGlsZE5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlTm9kZVRyZWUoY2hpbGROb2RlLCBjb250YWluZXIsIHJvb3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQ29udGFpbmVyID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoaXNJbWFnZUVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbWFnZUVsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0NhbnZhc0VsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYW52YXNFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNTVkdFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgU1ZHRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzTElFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTElFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNPTEVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBPTEVsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0lucHV0RWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IElucHV0RWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzU2VsZWN0RWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNlbGVjdEVsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1RleHRhcmVhRWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHRhcmVhRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzSUZyYW1lRWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IElGcmFtZUVsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgIH07XHJcbiAgICB2YXIgcGFyc2VUcmVlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gY3JlYXRlQ29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIGNvbnRhaW5lci5mbGFncyB8PSA0IC8qIENSRUFURVNfUkVBTF9TVEFDS0lOR19DT05URVhUICovO1xyXG4gICAgICAgIHBhcnNlTm9kZVRyZWUoZWxlbWVudCwgY29udGFpbmVyLCBjb250YWluZXIpO1xyXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZXNSZWFsU3RhY2tpbmdDb250ZXh0ID0gZnVuY3Rpb24gKG5vZGUsIGNvbnRhaW5lciwgcm9vdCkge1xyXG4gICAgICAgIHJldHVybiAoY29udGFpbmVyLnN0eWxlcy5pc1Bvc2l0aW9uZWRXaXRoWkluZGV4KCkgfHxcclxuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlcy5vcGFjaXR5IDwgMSB8fFxyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGVzLmlzVHJhbnNmb3JtZWQoKSB8fFxyXG4gICAgICAgICAgICAoaXNCb2R5RWxlbWVudChub2RlKSAmJiByb290LnN0eWxlcy5pc1RyYW5zcGFyZW50KCkpKTtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlc1N0YWNraW5nQ29udGV4dCA9IGZ1bmN0aW9uIChzdHlsZXMpIHsgcmV0dXJuIHN0eWxlcy5pc1Bvc2l0aW9uZWQoKSB8fCBzdHlsZXMuaXNGbG9hdGluZygpOyB9O1xyXG4gICAgdmFyIGlzVGV4dE5vZGUgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREU7IH07XHJcbiAgICB2YXIgaXNFbGVtZW50Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERTsgfTtcclxuICAgIHZhciBpc0hUTUxFbGVtZW50Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBub2RlLnN0eWxlICE9PSAndW5kZWZpbmVkJztcclxuICAgIH07XHJcbiAgICB2YXIgaXNMSUVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnTEknOyB9O1xyXG4gICAgdmFyIGlzT0xFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ09MJzsgfTtcclxuICAgIHZhciBpc0lucHV0RWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdJTlBVVCc7IH07XHJcbiAgICB2YXIgaXNIVE1MRWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdIVE1MJzsgfTtcclxuICAgIHZhciBpc1NWR0VsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnc3ZnJzsgfTtcclxuICAgIHZhciBpc0JvZHlFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ0JPRFknOyB9O1xyXG4gICAgdmFyIGlzQ2FudmFzRWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdDQU5WQVMnOyB9O1xyXG4gICAgdmFyIGlzSW1hZ2VFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ0lNRyc7IH07XHJcbiAgICB2YXIgaXNJRnJhbWVFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ0lGUkFNRSc7IH07XHJcbiAgICB2YXIgaXNTdHlsZUVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnU1RZTEUnOyB9O1xyXG4gICAgdmFyIGlzU2NyaXB0RWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdTQ1JJUFQnOyB9O1xyXG4gICAgdmFyIGlzVGV4dGFyZWFFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJzsgfTtcclxuICAgIHZhciBpc1NlbGVjdEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnU0VMRUNUJzsgfTtcblxuICAgIHZhciBDb3VudGVyU3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ291bnRlclN0YXRlKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIENvdW50ZXJTdGF0ZS5wcm90b3R5cGUuZ2V0Q291bnRlclZhbHVlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSB0aGlzLmNvdW50ZXJzW25hbWVdO1xyXG4gICAgICAgICAgICBpZiAoY291bnRlciAmJiBjb3VudGVyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50ZXJbY291bnRlci5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENvdW50ZXJTdGF0ZS5wcm90b3R5cGUuZ2V0Q291bnRlclZhbHVlcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBjb3VudGVyID0gdGhpcy5jb3VudGVyc1tuYW1lXTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvdW50ZXIgPyBjb3VudGVyIDogW107XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDb3VudGVyU3RhdGUucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIChjb3VudGVycykge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBjb3VudGVycy5mb3JFYWNoKGZ1bmN0aW9uIChjb3VudGVyKSB7IHJldHVybiBfdGhpcy5jb3VudGVyc1tjb3VudGVyXS5wb3AoKTsgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDb3VudGVyU3RhdGUucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHN0eWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBjb3VudGVySW5jcmVtZW50ID0gc3R5bGUuY291bnRlckluY3JlbWVudDtcclxuICAgICAgICAgICAgdmFyIGNvdW50ZXJSZXNldCA9IHN0eWxlLmNvdW50ZXJSZXNldDtcclxuICAgICAgICAgICAgdmFyIGNhblJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGNvdW50ZXJJbmNyZW1lbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvdW50ZXJJbmNyZW1lbnQuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IF90aGlzLmNvdW50ZXJzW2VudHJ5LmNvdW50ZXJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyICYmIGVudHJ5LmluY3JlbWVudCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5SZXNldCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudGVyW01hdGgubWF4KDAsIGNvdW50ZXIubGVuZ3RoIC0gMSldICs9IGVudHJ5LmluY3JlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY291bnRlck5hbWVzID0gW107XHJcbiAgICAgICAgICAgIGlmIChjYW5SZXNldCkge1xyXG4gICAgICAgICAgICAgICAgY291bnRlclJlc2V0LmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBfdGhpcy5jb3VudGVyc1tlbnRyeS5jb3VudGVyXTtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudGVyTmFtZXMucHVzaChlbnRyeS5jb3VudGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvdW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlciA9IF90aGlzLmNvdW50ZXJzW2VudHJ5LmNvdW50ZXJdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXIucHVzaChlbnRyeS5yZXNldCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY291bnRlck5hbWVzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENvdW50ZXJTdGF0ZTtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgUk9NQU5fVVBQRVIgPSB7XHJcbiAgICAgICAgaW50ZWdlcnM6IFsxMDAwLCA5MDAsIDUwMCwgNDAwLCAxMDAsIDkwLCA1MCwgNDAsIDEwLCA5LCA1LCA0LCAxXSxcclxuICAgICAgICB2YWx1ZXM6IFsnTScsICdDTScsICdEJywgJ0NEJywgJ0MnLCAnWEMnLCAnTCcsICdYTCcsICdYJywgJ0lYJywgJ1YnLCAnSVYnLCAnSSddXHJcbiAgICB9O1xyXG4gICAgdmFyIEFSTUVOSUFOID0ge1xyXG4gICAgICAgIGludGVnZXJzOiBbXHJcbiAgICAgICAgICAgIDkwMDAsXHJcbiAgICAgICAgICAgIDgwMDAsXHJcbiAgICAgICAgICAgIDcwMDAsXHJcbiAgICAgICAgICAgIDYwMDAsXHJcbiAgICAgICAgICAgIDUwMDAsXHJcbiAgICAgICAgICAgIDQwMDAsXHJcbiAgICAgICAgICAgIDMwMDAsXHJcbiAgICAgICAgICAgIDIwMDAsXHJcbiAgICAgICAgICAgIDEwMDAsXHJcbiAgICAgICAgICAgIDkwMCxcclxuICAgICAgICAgICAgODAwLFxyXG4gICAgICAgICAgICA3MDAsXHJcbiAgICAgICAgICAgIDYwMCxcclxuICAgICAgICAgICAgNTAwLFxyXG4gICAgICAgICAgICA0MDAsXHJcbiAgICAgICAgICAgIDMwMCxcclxuICAgICAgICAgICAgMjAwLFxyXG4gICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgIDkwLFxyXG4gICAgICAgICAgICA4MCxcclxuICAgICAgICAgICAgNzAsXHJcbiAgICAgICAgICAgIDYwLFxyXG4gICAgICAgICAgICA1MCxcclxuICAgICAgICAgICAgNDAsXHJcbiAgICAgICAgICAgIDMwLFxyXG4gICAgICAgICAgICAyMCxcclxuICAgICAgICAgICAgMTAsXHJcbiAgICAgICAgICAgIDksXHJcbiAgICAgICAgICAgIDgsXHJcbiAgICAgICAgICAgIDcsXHJcbiAgICAgICAgICAgIDYsXHJcbiAgICAgICAgICAgIDUsXHJcbiAgICAgICAgICAgIDQsXHJcbiAgICAgICAgICAgIDMsXHJcbiAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgIDFcclxuICAgICAgICBdLFxyXG4gICAgICAgIHZhbHVlczogW1xyXG4gICAgICAgICAgICAn1ZQnLFxyXG4gICAgICAgICAgICAn1ZMnLFxyXG4gICAgICAgICAgICAn1ZInLFxyXG4gICAgICAgICAgICAn1ZEnLFxyXG4gICAgICAgICAgICAn1ZAnLFxyXG4gICAgICAgICAgICAn1Y8nLFxyXG4gICAgICAgICAgICAn1Y4nLFxyXG4gICAgICAgICAgICAn1Y0nLFxyXG4gICAgICAgICAgICAn1YwnLFxyXG4gICAgICAgICAgICAn1YsnLFxyXG4gICAgICAgICAgICAn1YonLFxyXG4gICAgICAgICAgICAn1YknLFxyXG4gICAgICAgICAgICAn1YgnLFxyXG4gICAgICAgICAgICAn1YcnLFxyXG4gICAgICAgICAgICAn1YYnLFxyXG4gICAgICAgICAgICAn1YUnLFxyXG4gICAgICAgICAgICAn1YQnLFxyXG4gICAgICAgICAgICAn1YMnLFxyXG4gICAgICAgICAgICAn1YInLFxyXG4gICAgICAgICAgICAn1YEnLFxyXG4gICAgICAgICAgICAn1YAnLFxyXG4gICAgICAgICAgICAn1L8nLFxyXG4gICAgICAgICAgICAn1L4nLFxyXG4gICAgICAgICAgICAn1L0nLFxyXG4gICAgICAgICAgICAn1LwnLFxyXG4gICAgICAgICAgICAn1LsnLFxyXG4gICAgICAgICAgICAn1LonLFxyXG4gICAgICAgICAgICAn1LknLFxyXG4gICAgICAgICAgICAn1LgnLFxyXG4gICAgICAgICAgICAn1LcnLFxyXG4gICAgICAgICAgICAn1LYnLFxyXG4gICAgICAgICAgICAn1LUnLFxyXG4gICAgICAgICAgICAn1LQnLFxyXG4gICAgICAgICAgICAn1LMnLFxyXG4gICAgICAgICAgICAn1LInLFxyXG4gICAgICAgICAgICAn1LEnXHJcbiAgICAgICAgXVxyXG4gICAgfTtcclxuICAgIHZhciBIRUJSRVcgPSB7XHJcbiAgICAgICAgaW50ZWdlcnM6IFtcclxuICAgICAgICAgICAgMTAwMDAsXHJcbiAgICAgICAgICAgIDkwMDAsXHJcbiAgICAgICAgICAgIDgwMDAsXHJcbiAgICAgICAgICAgIDcwMDAsXHJcbiAgICAgICAgICAgIDYwMDAsXHJcbiAgICAgICAgICAgIDUwMDAsXHJcbiAgICAgICAgICAgIDQwMDAsXHJcbiAgICAgICAgICAgIDMwMDAsXHJcbiAgICAgICAgICAgIDIwMDAsXHJcbiAgICAgICAgICAgIDEwMDAsXHJcbiAgICAgICAgICAgIDQwMCxcclxuICAgICAgICAgICAgMzAwLFxyXG4gICAgICAgICAgICAyMDAsXHJcbiAgICAgICAgICAgIDEwMCxcclxuICAgICAgICAgICAgOTAsXHJcbiAgICAgICAgICAgIDgwLFxyXG4gICAgICAgICAgICA3MCxcclxuICAgICAgICAgICAgNjAsXHJcbiAgICAgICAgICAgIDUwLFxyXG4gICAgICAgICAgICA0MCxcclxuICAgICAgICAgICAgMzAsXHJcbiAgICAgICAgICAgIDIwLFxyXG4gICAgICAgICAgICAxOSxcclxuICAgICAgICAgICAgMTgsXHJcbiAgICAgICAgICAgIDE3LFxyXG4gICAgICAgICAgICAxNixcclxuICAgICAgICAgICAgMTUsXHJcbiAgICAgICAgICAgIDEwLFxyXG4gICAgICAgICAgICA5LFxyXG4gICAgICAgICAgICA4LFxyXG4gICAgICAgICAgICA3LFxyXG4gICAgICAgICAgICA2LFxyXG4gICAgICAgICAgICA1LFxyXG4gICAgICAgICAgICA0LFxyXG4gICAgICAgICAgICAzLFxyXG4gICAgICAgICAgICAyLFxyXG4gICAgICAgICAgICAxXHJcbiAgICAgICAgXSxcclxuICAgICAgICB2YWx1ZXM6IFtcclxuICAgICAgICAgICAgJ9eZ17MnLFxyXG4gICAgICAgICAgICAn15jXsycsXHJcbiAgICAgICAgICAgICfXl9ezJyxcclxuICAgICAgICAgICAgJ9eW17MnLFxyXG4gICAgICAgICAgICAn15XXsycsXHJcbiAgICAgICAgICAgICfXlNezJyxcclxuICAgICAgICAgICAgJ9eT17MnLFxyXG4gICAgICAgICAgICAn15LXsycsXHJcbiAgICAgICAgICAgICfXkdezJyxcclxuICAgICAgICAgICAgJ9eQ17MnLFxyXG4gICAgICAgICAgICAn16onLFxyXG4gICAgICAgICAgICAn16knLFxyXG4gICAgICAgICAgICAn16gnLFxyXG4gICAgICAgICAgICAn16cnLFxyXG4gICAgICAgICAgICAn16YnLFxyXG4gICAgICAgICAgICAn16QnLFxyXG4gICAgICAgICAgICAn16InLFxyXG4gICAgICAgICAgICAn16EnLFxyXG4gICAgICAgICAgICAn16AnLFxyXG4gICAgICAgICAgICAn154nLFxyXG4gICAgICAgICAgICAn15wnLFxyXG4gICAgICAgICAgICAn15snLFxyXG4gICAgICAgICAgICAn15nXmCcsXHJcbiAgICAgICAgICAgICfXmdeXJyxcclxuICAgICAgICAgICAgJ9eZ15YnLFxyXG4gICAgICAgICAgICAn15jXlicsXHJcbiAgICAgICAgICAgICfXmNeVJyxcclxuICAgICAgICAgICAgJ9eZJyxcclxuICAgICAgICAgICAgJ9eYJyxcclxuICAgICAgICAgICAgJ9eXJyxcclxuICAgICAgICAgICAgJ9eWJyxcclxuICAgICAgICAgICAgJ9eVJyxcclxuICAgICAgICAgICAgJ9eUJyxcclxuICAgICAgICAgICAgJ9eTJyxcclxuICAgICAgICAgICAgJ9eSJyxcclxuICAgICAgICAgICAgJ9eRJyxcclxuICAgICAgICAgICAgJ9eQJ1xyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICB2YXIgR0VPUkdJQU4gPSB7XHJcbiAgICAgICAgaW50ZWdlcnM6IFtcclxuICAgICAgICAgICAgMTAwMDAsXHJcbiAgICAgICAgICAgIDkwMDAsXHJcbiAgICAgICAgICAgIDgwMDAsXHJcbiAgICAgICAgICAgIDcwMDAsXHJcbiAgICAgICAgICAgIDYwMDAsXHJcbiAgICAgICAgICAgIDUwMDAsXHJcbiAgICAgICAgICAgIDQwMDAsXHJcbiAgICAgICAgICAgIDMwMDAsXHJcbiAgICAgICAgICAgIDIwMDAsXHJcbiAgICAgICAgICAgIDEwMDAsXHJcbiAgICAgICAgICAgIDkwMCxcclxuICAgICAgICAgICAgODAwLFxyXG4gICAgICAgICAgICA3MDAsXHJcbiAgICAgICAgICAgIDYwMCxcclxuICAgICAgICAgICAgNTAwLFxyXG4gICAgICAgICAgICA0MDAsXHJcbiAgICAgICAgICAgIDMwMCxcclxuICAgICAgICAgICAgMjAwLFxyXG4gICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgIDkwLFxyXG4gICAgICAgICAgICA4MCxcclxuICAgICAgICAgICAgNzAsXHJcbiAgICAgICAgICAgIDYwLFxyXG4gICAgICAgICAgICA1MCxcclxuICAgICAgICAgICAgNDAsXHJcbiAgICAgICAgICAgIDMwLFxyXG4gICAgICAgICAgICAyMCxcclxuICAgICAgICAgICAgMTAsXHJcbiAgICAgICAgICAgIDksXHJcbiAgICAgICAgICAgIDgsXHJcbiAgICAgICAgICAgIDcsXHJcbiAgICAgICAgICAgIDYsXHJcbiAgICAgICAgICAgIDUsXHJcbiAgICAgICAgICAgIDQsXHJcbiAgICAgICAgICAgIDMsXHJcbiAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgIDFcclxuICAgICAgICBdLFxyXG4gICAgICAgIHZhbHVlczogW1xyXG4gICAgICAgICAgICAn4YO1JyxcclxuICAgICAgICAgICAgJ+GDsCcsXHJcbiAgICAgICAgICAgICfhg68nLFxyXG4gICAgICAgICAgICAn4YO0JyxcclxuICAgICAgICAgICAgJ+GDricsXHJcbiAgICAgICAgICAgICfhg60nLFxyXG4gICAgICAgICAgICAn4YOsJyxcclxuICAgICAgICAgICAgJ+GDqycsXHJcbiAgICAgICAgICAgICfhg6onLFxyXG4gICAgICAgICAgICAn4YOpJyxcclxuICAgICAgICAgICAgJ+GDqCcsXHJcbiAgICAgICAgICAgICfhg6cnLFxyXG4gICAgICAgICAgICAn4YOmJyxcclxuICAgICAgICAgICAgJ+GDpScsXHJcbiAgICAgICAgICAgICfhg6QnLFxyXG4gICAgICAgICAgICAn4YOzJyxcclxuICAgICAgICAgICAgJ+GDoicsXHJcbiAgICAgICAgICAgICfhg6EnLFxyXG4gICAgICAgICAgICAn4YOgJyxcclxuICAgICAgICAgICAgJ+GDnycsXHJcbiAgICAgICAgICAgICfhg54nLFxyXG4gICAgICAgICAgICAn4YOdJyxcclxuICAgICAgICAgICAgJ+GDsicsXHJcbiAgICAgICAgICAgICfhg5wnLFxyXG4gICAgICAgICAgICAn4YObJyxcclxuICAgICAgICAgICAgJ+GDmicsXHJcbiAgICAgICAgICAgICfhg5knLFxyXG4gICAgICAgICAgICAn4YOYJyxcclxuICAgICAgICAgICAgJ+GDlycsXHJcbiAgICAgICAgICAgICfhg7EnLFxyXG4gICAgICAgICAgICAn4YOWJyxcclxuICAgICAgICAgICAgJ+GDlScsXHJcbiAgICAgICAgICAgICfhg5QnLFxyXG4gICAgICAgICAgICAn4YOTJyxcclxuICAgICAgICAgICAgJ+GDkicsXHJcbiAgICAgICAgICAgICfhg5EnLFxyXG4gICAgICAgICAgICAn4YOQJ1xyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQWRkaXRpdmVDb3VudGVyID0gZnVuY3Rpb24gKHZhbHVlLCBtaW4sIG1heCwgc3ltYm9scywgZmFsbGJhY2ssIHN1ZmZpeCkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IG1pbiB8fCB2YWx1ZSA+IG1heCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclRleHQodmFsdWUsIGZhbGxiYWNrLCBzdWZmaXgubGVuZ3RoID4gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoc3ltYm9scy5pbnRlZ2Vycy5yZWR1Y2UoZnVuY3Rpb24gKHN0cmluZywgaW50ZWdlciwgaW5kZXgpIHtcclxuICAgICAgICAgICAgd2hpbGUgKHZhbHVlID49IGludGVnZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlIC09IGludGVnZXI7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gc3ltYm9scy52YWx1ZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgfSwgJycpICsgc3VmZml4KTtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQ291bnRlclN0eWxlV2l0aFN5bWJvbFJlc29sdmVyID0gZnVuY3Rpb24gKHZhbHVlLCBjb2RlUG9pbnRSYW5nZUxlbmd0aCwgaXNOdW1lcmljLCByZXNvbHZlcikge1xyXG4gICAgICAgIHZhciBzdHJpbmcgPSAnJztcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIGlmICghaXNOdW1lcmljKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0cmluZyA9IHJlc29sdmVyKHZhbHVlKSArIHN0cmluZztcclxuICAgICAgICAgICAgdmFsdWUgLz0gY29kZVBvaW50UmFuZ2VMZW5ndGg7XHJcbiAgICAgICAgfSB3aGlsZSAodmFsdWUgKiBjb2RlUG9pbnRSYW5nZUxlbmd0aCA+PSBjb2RlUG9pbnRSYW5nZUxlbmd0aCk7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlID0gZnVuY3Rpb24gKHZhbHVlLCBjb2RlUG9pbnRSYW5nZVN0YXJ0LCBjb2RlUG9pbnRSYW5nZUVuZCwgaXNOdW1lcmljLCBzdWZmaXgpIHtcclxuICAgICAgICB2YXIgY29kZVBvaW50UmFuZ2VMZW5ndGggPSBjb2RlUG9pbnRSYW5nZUVuZCAtIGNvZGVQb2ludFJhbmdlU3RhcnQgKyAxO1xyXG4gICAgICAgIHJldHVybiAoKHZhbHVlIDwgMCA/ICctJyA6ICcnKSArXHJcbiAgICAgICAgICAgIChjcmVhdGVDb3VudGVyU3R5bGVXaXRoU3ltYm9sUmVzb2x2ZXIoTWF0aC5hYnModmFsdWUpLCBjb2RlUG9pbnRSYW5nZUxlbmd0aCwgaXNOdW1lcmljLCBmdW5jdGlvbiAoY29kZVBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbUNvZGVQb2ludChNYXRoLmZsb29yKGNvZGVQb2ludCAlIGNvZGVQb2ludFJhbmdlTGVuZ3RoKSArIGNvZGVQb2ludFJhbmdlU3RhcnQpO1xyXG4gICAgICAgICAgICB9KSArXHJcbiAgICAgICAgICAgICAgICBzdWZmaXgpKTtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQ291bnRlclN0eWxlRnJvbVN5bWJvbHMgPSBmdW5jdGlvbiAodmFsdWUsIHN5bWJvbHMsIHN1ZmZpeCkge1xyXG4gICAgICAgIGlmIChzdWZmaXggPT09IHZvaWQgMCkgeyBzdWZmaXggPSAnLiAnOyB9XHJcbiAgICAgICAgdmFyIGNvZGVQb2ludFJhbmdlTGVuZ3RoID0gc3ltYm9scy5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIChjcmVhdGVDb3VudGVyU3R5bGVXaXRoU3ltYm9sUmVzb2x2ZXIoTWF0aC5hYnModmFsdWUpLCBjb2RlUG9pbnRSYW5nZUxlbmd0aCwgZmFsc2UsIGZ1bmN0aW9uIChjb2RlUG9pbnQpIHsgcmV0dXJuIHN5bWJvbHNbTWF0aC5mbG9vcihjb2RlUG9pbnQgJSBjb2RlUG9pbnRSYW5nZUxlbmd0aCldOyB9KSArIHN1ZmZpeCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIENKS19aRVJPUyA9IDEgPDwgMDtcclxuICAgIHZhciBDSktfVEVOX0NPRUZGSUNJRU5UUyA9IDEgPDwgMTtcclxuICAgIHZhciBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTID0gMSA8PCAyO1xyXG4gICAgdmFyIENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyA9IDEgPDwgMztcclxuICAgIHZhciBjcmVhdGVDSktDb3VudGVyID0gZnVuY3Rpb24gKHZhbHVlLCBudW1iZXJzLCBtdWx0aXBsaWVycywgbmVnYXRpdmVTaWduLCBzdWZmaXgsIGZsYWdzKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgLTk5OTkgfHwgdmFsdWUgPiA5OTk5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyVGV4dCh2YWx1ZSwgTElTVF9TVFlMRV9UWVBFLkNKS19ERUNJTUFMLCBzdWZmaXgubGVuZ3RoID4gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0bXAgPSBNYXRoLmFicyh2YWx1ZSk7XHJcbiAgICAgICAgdmFyIHN0cmluZyA9IHN1ZmZpeDtcclxuICAgICAgICBpZiAodG1wID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudW1iZXJzWzBdICsgc3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBkaWdpdCA9IDA7IHRtcCA+IDAgJiYgZGlnaXQgPD0gNDsgZGlnaXQrKykge1xyXG4gICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSB0bXAgJSAxMDtcclxuICAgICAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwICYmIGNvbnRhaW5zKGZsYWdzLCBDSktfWkVST1MpICYmIHN0cmluZyAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHN0cmluZyA9IG51bWJlcnNbY29lZmZpY2llbnRdICsgc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZWZmaWNpZW50ID4gMSB8fFxyXG4gICAgICAgICAgICAgICAgKGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID09PSAwKSB8fFxyXG4gICAgICAgICAgICAgICAgKGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID09PSAxICYmIGNvbnRhaW5zKGZsYWdzLCBDSktfVEVOX0NPRUZGSUNJRU5UUykpIHx8XHJcbiAgICAgICAgICAgICAgICAoY29lZmZpY2llbnQgPT09IDEgJiYgZGlnaXQgPT09IDEgJiYgY29udGFpbnMoZmxhZ3MsIENKS19URU5fSElHSF9DT0VGRklDSUVOVFMpICYmIHZhbHVlID4gMTAwKSB8fFxyXG4gICAgICAgICAgICAgICAgKGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID4gMSAmJiBjb250YWlucyhmbGFncywgQ0pLX0hVTkRSRURfQ09FRkZJQ0lFTlRTKSkpIHtcclxuICAgICAgICAgICAgICAgIHN0cmluZyA9IG51bWJlcnNbY29lZmZpY2llbnRdICsgKGRpZ2l0ID4gMCA/IG11bHRpcGxpZXJzW2RpZ2l0IC0gMV0gOiAnJykgKyBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY29lZmZpY2llbnQgPT09IDEgJiYgZGlnaXQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBtdWx0aXBsaWVyc1tkaWdpdCAtIDFdICsgc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRtcCA9IE1hdGguZmxvb3IodG1wIC8gMTApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHZhbHVlIDwgMCA/IG5lZ2F0aXZlU2lnbiA6ICcnKSArIHN0cmluZztcclxuICAgIH07XHJcbiAgICB2YXIgQ0hJTkVTRV9JTkZPUk1BTF9NVUxUSVBMSUVSUyA9ICfljYHnmb7ljYPokKwnO1xyXG4gICAgdmFyIENISU5FU0VfRk9STUFMX01VTFRJUExJRVJTID0gJ+aLvuS9sOS7n+iQrCc7XHJcbiAgICB2YXIgSkFQQU5FU0VfTkVHQVRJVkUgPSAn44Oe44Kk44OK44K5JztcclxuICAgIHZhciBLT1JFQU5fTkVHQVRJVkUgPSAn66eI7J2064SI7IqkJztcclxuICAgIHZhciBjcmVhdGVDb3VudGVyVGV4dCA9IGZ1bmN0aW9uICh2YWx1ZSwgdHlwZSwgYXBwZW5kU3VmZml4KSB7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRTdWZmaXggPSBhcHBlbmRTdWZmaXggPyAnLiAnIDogJyc7XHJcbiAgICAgICAgdmFyIGNqa1N1ZmZpeCA9IGFwcGVuZFN1ZmZpeCA/ICfjgIEnIDogJyc7XHJcbiAgICAgICAgdmFyIGtvcmVhblN1ZmZpeCA9IGFwcGVuZFN1ZmZpeCA/ICcsICcgOiAnJztcclxuICAgICAgICB2YXIgc3BhY2VTdWZmaXggPSBhcHBlbmRTdWZmaXggPyAnICcgOiAnJztcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuRElTQzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAn4oCiJyArIHNwYWNlU3VmZml4O1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DSVJDTEU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ+KXpicgKyBzcGFjZVN1ZmZpeDtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuU1FVQVJFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICfil74nICsgc3BhY2VTdWZmaXg7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUxfTEVBRElOR19aRVJPOlxyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZyA9IGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNDgsIDU3LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmcubGVuZ3RoIDwgNCA/IFwiMFwiICsgc3RyaW5nIDogc3RyaW5nO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DSktfREVDSU1BTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+OAh+S4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsIGNqa1N1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkxPV0VSX1JPTUFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFkZGl0aXZlQ291bnRlcih2YWx1ZSwgMSwgMzk5OSwgUk9NQU5fVVBQRVIsIExJU1RfU1RZTEVfVFlQRS5ERUNJTUFMLCBkZWZhdWx0U3VmZml4KS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9ST01BTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIodmFsdWUsIDEsIDM5OTksIFJPTUFOX1VQUEVSLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkxPV0VSX0dSRUVLOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgOTQ1LCA5NjksIGZhbHNlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQUxQSEE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCA5NywgMTIyLCBmYWxzZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlVQUEVSX0FMUEhBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNjUsIDkwLCBmYWxzZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkFSQUJJQ19JTkRJQzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDE2MzIsIDE2NDEsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5BUk1FTklBTjpcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuVVBQRVJfQVJNRU5JQU46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCA5OTk5LCBBUk1FTklBTiwgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUwsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9BUk1FTklBTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIodmFsdWUsIDEsIDk5OTksIEFSTUVOSUFOLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQkVOR0FMSTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDI1MzQsIDI1NDMsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DQU1CT0RJQU46XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktITUVSOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNjExMiwgNjEyMSwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkNKS19FQVJUSExZX0JSQU5DSDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+WtkOS4keWvheWNr+i+sOW3s+WNiOacqueUs+mFieaIjOS6pScsIGNqa1N1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkNKS19IRUFWRU5MWV9TVEVNOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn55Sy5LmZ5LiZ5LiB5oiK5bex5bqa6L6b5aOs55m4JywgY2prU3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQ0pLX0lERU9HUkFQSElDOlxyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5UUkFEX0NISU5FU0VfSU5GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuS4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsIENISU5FU0VfSU5GT1JNQUxfTVVMVElQTElFUlMsICfosqAnLCBjamtTdWZmaXgsIENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyB8IENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlRSQURfQ0hJTkVTRV9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjueiys+WPg+iChuS8jemZuOafkuaNjOeOlicsIENISU5FU0VfRk9STUFMX01VTFRJUExJRVJTLCAn6LKgJywgY2prU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMgfCBDSktfSFVORFJFRF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5TSU1QX0NISU5FU0VfSU5GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuS4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsIENISU5FU0VfSU5GT1JNQUxfTVVMVElQTElFUlMsICfotJ8nLCBjamtTdWZmaXgsIENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyB8IENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlNJTVBfQ0hJTkVTRV9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjuei0sOWPgeiChuS8jemZhuafkuaNjOeOlicsIENISU5FU0VfRk9STUFMX01VTFRJUExJRVJTLCAn6LSfJywgY2prU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMgfCBDSktfSFVORFJFRF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5KQVBBTkVTRV9JTkZPUk1BTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDSktDb3VudGVyKHZhbHVlLCAn44CH5LiA5LqM5LiJ5Zub5LqU5YWt5LiD5YWr5LmdJywgJ+WNgeeZvuWNg+S4hycsIEpBUEFORVNFX05FR0FUSVZFLCBjamtTdWZmaXgsIDApO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5KQVBBTkVTRV9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjseW8kOWPguWbm+S8jeWFreS4g+WFq+S5nScsICfmi77nmb7ljYPkuIcnLCBKQVBBTkVTRV9ORUdBVElWRSwgY2prU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOR1VMX0ZPUk1BTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDSktDb3VudGVyKHZhbHVlLCAn7JiB7J287J207IK87IKs7Jik7Jyh7Lmg7YyU6rWsJywgJ+yLreuwseyynOunjCcsIEtPUkVBTl9ORUdBVElWRSwga29yZWFuU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOSkFfSU5GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuS4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsICfljYHnmb7ljYPokKwnLCBLT1JFQU5fTkVHQVRJVkUsIGtvcmVhblN1ZmZpeCwgMCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktPUkVBTl9IQU5KQV9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjueiys+WPg+Wbm+S6lOWFreS4g+WFq+S5nScsICfmi77nmb7ljYMnLCBLT1JFQU5fTkVHQVRJVkUsIGtvcmVhblN1ZmZpeCwgQ0pLX1pFUk9TIHwgQ0pLX1RFTl9DT0VGRklDSUVOVFMgfCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTKTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuREVWQU5BR0FSSTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4OTY2LCAweDk2ZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkdFT1JHSUFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFkZGl0aXZlQ291bnRlcih2YWx1ZSwgMSwgMTk5OTksIEdFT1JHSUFOLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkdVSkFSQVRJOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhhZTYsIDB4YWVmLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuR1VSTVVLSEk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGE2NiwgMHhhNmYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5IRUJSRVc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCAxMDk5OSwgSEVCUkVXLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkhJUkFHQU5BOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn44GC44GE44GG44GI44GK44GL44GN44GP44GR44GT44GV44GX44GZ44Gb44Gd44Gf44Gh44Gk44Gm44Go44Gq44Gr44Gs44Gt44Gu44Gv44Gy44G144G444G744G+44G/44KA44KB44KC44KE44KG44KI44KJ44KK44KL44KM44KN44KP44KQ44KR44KS44KTJyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkhJUkFHQU5BX0lST0hBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn44GE44KN44Gv44Gr44G744G444Go44Gh44KK44Gs44KL44KS44KP44GL44KI44Gf44KM44Gd44Gk44Gt44Gq44KJ44KA44GG44KQ44Gu44GK44GP44KE44G+44GR44G144GT44GI44Gm44GC44GV44GN44KG44KB44G/44GX44KR44Gy44KC44Gb44GZJyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktBTk5BREE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGNlNiwgMHhjZWYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LQVRBS0FOQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+OCouOCpOOCpuOCqOOCquOCq+OCreOCr+OCseOCs+OCteOCt+OCueOCu+OCveOCv+ODgeODhOODhuODiOODiuODi+ODjOODjeODjuODj+ODkuODleODmOODm+ODnuODn+ODoOODoeODouODpOODpuODqOODqeODquODq+ODrOODreODr+ODsOODseODsuODsycsIGNqa1N1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktBVEFLQU5BX0lST0hBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn44Kk44Ot44OP44OL44Ob44OY44OI44OB44Oq44OM44Or44Oy44Ov44Kr44Oo44K/44Os44K944OE44ON44OK44Op44Og44Km44Ow44OO44Kq44Kv44Ok44Oe44Kx44OV44Kz44Ko44OG44Ki44K144Kt44Om44Oh44Of44K344Ox44OS44Oi44K744K5JywgY2prU3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTEFPOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhlZDAsIDB4ZWQ5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTU9OR09MSUFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHgxODEwLCAweDE4MTksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5NWUFOTUFSOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHgxMDQwLCAweDEwNDksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5PUklZQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YjY2LCAweGI2ZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlBFUlNJQU46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweDZmMCwgMHg2ZjksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5UQU1JTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YmU2LCAweGJlZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlRFTFVHVTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YzY2LCAweGM2ZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlRIQUk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGU1MCwgMHhlNTksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5USUJFVEFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhmMjAsIDB4ZjI5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTDpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDQ4LCA1NywgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBJR05PUkVfQVRUUklCVVRFID0gJ2RhdGEtaHRtbDJjYW52YXMtaWdub3JlJztcclxuICAgIHZhciBEb2N1bWVudENsb25lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBEb2N1bWVudENsb25lcihlbGVtZW50LCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsZWRFbGVtZW50cyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnJlZmVyZW5jZUVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzID0gbmV3IENvdW50ZXJTdGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnF1b3RlRGVwdGggPSAwO1xyXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQub3duZXJEb2N1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbG9uZWQgZWxlbWVudCBkb2VzIG5vdCBoYXZlIGFuIG93bmVyIGRvY3VtZW50Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kb2N1bWVudEVsZW1lbnQgPSB0aGlzLmNsb25lTm9kZShlbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRG9jdW1lbnRDbG9uZXIucHJvdG90eXBlLnRvSUZyYW1lID0gZnVuY3Rpb24gKG93bmVyRG9jdW1lbnQsIHdpbmRvd1NpemUpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIGlmcmFtZSA9IGNyZWF0ZUlGcmFtZUNvbnRhaW5lcihvd25lckRvY3VtZW50LCB3aW5kb3dTaXplKTtcclxuICAgICAgICAgICAgaWYgKCFpZnJhbWUuY29udGVudFdpbmRvdykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiVW5hYmxlIHRvIGZpbmQgaWZyYW1lIHdpbmRvd1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsWCA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVhPZmZzZXQ7XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxZID0gb3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWU9mZnNldDtcclxuICAgICAgICAgICAgdmFyIGNsb25lV2luZG93ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3c7XHJcbiAgICAgICAgICAgIHZhciBkb2N1bWVudENsb25lID0gY2xvbmVXaW5kb3cuZG9jdW1lbnQ7XHJcbiAgICAgICAgICAgIC8qIENocm9tZSBkb2Vzbid0IGRldGVjdCByZWxhdGl2ZSBiYWNrZ3JvdW5kLWltYWdlcyBhc3NpZ25lZCBpbiBpbmxpbmUgPHN0eWxlPiBzaGVldHMgd2hlbiBmZXRjaGVkIHRocm91Z2ggZ2V0Q29tcHV0ZWRTdHlsZVxyXG4gICAgICAgICAgICAgaWYgd2luZG93IHVybCBpcyBhYm91dDpibGFuaywgd2UgY2FuIGFzc2lnbiB0aGUgdXJsIHRvIGN1cnJlbnQgYnkgd3JpdGluZyBvbnRvIHRoZSBkb2N1bWVudFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdmFyIGlmcmFtZUxvYWQgPSBpZnJhbWVMb2FkZXIoaWZyYW1lKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvbmNsb25lO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlZEVsZW1lbnRzLmZvckVhY2gocmVzdG9yZU5vZGVTY3JvbGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsb25lV2luZG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVXaW5kb3cuc2Nyb2xsVG8od2luZG93U2l6ZS5sZWZ0LCB3aW5kb3dTaXplLnRvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC8oaVBhZHxpUGhvbmV8aVBvZCkvZy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbG9uZVdpbmRvdy5zY3JvbGxZICE9PSB3aW5kb3dTaXplLnRvcCB8fCBjbG9uZVdpbmRvdy5zY3JvbGxYICE9PSB3aW5kb3dTaXplLmxlZnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Q2xvbmUuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnRvcCA9IC13aW5kb3dTaXplLnRvcCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Q2xvbmUuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmxlZnQgPSAtd2luZG93U2l6ZS5sZWZ0ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRDbG9uZS5kb2N1bWVudEVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xvbmUgPSB0aGlzLm9wdGlvbnMub25jbG9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jbG9uZWRSZWZlcmVuY2VFbGVtZW50ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlamVjdChcIkVycm9yIGZpbmRpbmcgdGhlIFwiICsgdGhpcy5yZWZlcmVuY2VFbGVtZW50Lm5vZGVOYW1lICsgXCIgaW4gdGhlIGNsb25lZCBkb2N1bWVudFwiKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShkb2N1bWVudENsb25lLmZvbnRzICYmIGRvY3VtZW50Q2xvbmUuZm9udHMucmVhZHkpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRvY3VtZW50Q2xvbmUuZm9udHMucmVhZHldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25jbG9uZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlc29sdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gb25jbG9uZShkb2N1bWVudENsb25lKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlmcmFtZTsgfSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGlmcmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pOyB9KTtcclxuICAgICAgICAgICAgZG9jdW1lbnRDbG9uZS5vcGVuKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50Q2xvbmUud3JpdGUoc2VyaWFsaXplRG9jdHlwZShkb2N1bWVudC5kb2N0eXBlKSArIFwiPGh0bWw+PC9odG1sPlwiKTtcclxuICAgICAgICAgICAgLy8gQ2hyb21lIHNjcm9sbHMgdGhlIHBhcmVudCBkb2N1bWVudCBmb3Igc29tZSByZWFzb24gYWZ0ZXIgdGhlIHdyaXRlIHRvIHRoZSBjbG9uZWQgd2luZG93Pz8/XHJcbiAgICAgICAgICAgIHJlc3RvcmVPd25lclNjcm9sbCh0aGlzLnJlZmVyZW5jZUVsZW1lbnQub3duZXJEb2N1bWVudCwgc2Nyb2xsWCwgc2Nyb2xsWSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50Q2xvbmUucmVwbGFjZUNoaWxkKGRvY3VtZW50Q2xvbmUuYWRvcHROb2RlKHRoaXMuZG9jdW1lbnRFbGVtZW50KSwgZG9jdW1lbnRDbG9uZS5kb2N1bWVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICBkb2N1bWVudENsb25lLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpZnJhbWVMb2FkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRG9jdW1lbnRDbG9uZXIucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRDbG9uZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0NhbnZhc0VsZW1lbnQobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNhbnZhc0Nsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgIGlmIChpc0lGcmFtZUVsZW1lbnQobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUlGcmFtZUNsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAqL1xyXG4gICAgICAgICAgICBpZiAoaXNTdHlsZUVsZW1lbnQobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVN0eWxlQ2xvbmUobm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERvY3VtZW50Q2xvbmVyLnByb3RvdHlwZS5jcmVhdGVTdHlsZUNsb25lID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBzaGVldCA9IG5vZGUuc2hlZXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hlZXQgJiYgc2hlZXQuY3NzUnVsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3NzID0gW10uc2xpY2UuY2FsbChzaGVldC5jc3NSdWxlcywgMCkucmVkdWNlKGZ1bmN0aW9uIChjc3MsIHJ1bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUgJiYgdHlwZW9mIHJ1bGUuY3NzVGV4dCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3MgKyBydWxlLmNzc1RleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNzcztcclxuICAgICAgICAgICAgICAgICAgICB9LCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gY3NzO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gYWNjZXNzaW5nIG5vZGUuc2hlZXQuY3NzUnVsZXMgdGhyb3dzIGEgRE9NRXhjZXB0aW9uXHJcbiAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5vcHRpb25zLmlkKS5lcnJvcignVW5hYmxlIHRvIGFjY2VzcyBjc3NSdWxlcyBwcm9wZXJ0eScsIGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZSAhPT0gJ1NlY3VyaXR5RXJyb3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRG9jdW1lbnRDbG9uZXIucHJvdG90eXBlLmNyZWF0ZUNhbnZhc0Nsb25lID0gZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlubGluZUltYWdlcyAmJiBjYW52YXMub3duZXJEb2N1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IGNhbnZhcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbWc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZSh0aGlzLm9wdGlvbnMuaWQpLmluZm8oXCJVbmFibGUgdG8gY2xvbmUgY2FudmFzIGNvbnRlbnRzLCBjYW52YXMgaXMgdGFpbnRlZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY2xvbmVkQ2FudmFzID0gY2FudmFzLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjbG9uZWRDYW52YXMud2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjbG9uZWRDYW52YXMuaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9uZWRDdHggPSBjbG9uZWRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjbG9uZWRDdHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZEN0eC5wdXRJbWFnZURhdGEoY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZEN0eC5kcmF3SW1hZ2UoY2FudmFzLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmVkQ2FudmFzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cclxuICAgICAgICAgICAgcmV0dXJuIGNsb25lZENhbnZhcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgY3JlYXRlSUZyYW1lQ2xvbmUoaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCkge1xyXG4gICAgICAgICAgICBjb25zdCB0ZW1wSWZyYW1lID0gPEhUTUxJRnJhbWVFbGVtZW50PmlmcmFtZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICBjb25zdCBpZnJhbWVLZXkgPSBnZW5lcmF0ZUlmcmFtZUtleSgpO1xyXG4gICAgICAgICAgICB0ZW1wSWZyYW1lLnNldEF0dHJpYnV0ZSgnZGF0YS1odG1sMmNhbnZhcy1pbnRlcm5hbC1pZnJhbWUta2V5JywgaWZyYW1lS2V5KTtcclxuXG4gICAgICAgICAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBwYXJzZUJvdW5kcyhpZnJhbWUpO1xyXG5cbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2VMb2FkZXIuY2FjaGVbaWZyYW1lS2V5XSA9IGdldElmcmFtZURvY3VtZW50RWxlbWVudChpZnJhbWUsIHRoaXMub3B0aW9ucylcclxuICAgICAgICAgICAgICAgIC50aGVuKGRvY3VtZW50RWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50RWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dUYWludDogdGhpcy5vcHRpb25zLmFsbG93VGFpbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhczogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVGltZW91dDogdGhpcy5vcHRpb25zLmltYWdlVGltZW91dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmc6IHRoaXMub3B0aW9ucy5sb2dnaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJveHk6IHRoaXMub3B0aW9ucy5wcm94eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNvbnRhaW5lcjogdGhpcy5vcHRpb25zLnJlbW92ZUNvbnRhaW5lcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLm9wdGlvbnMuc2NhbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JlaWduT2JqZWN0UmVuZGVyaW5nOiB0aGlzLm9wdGlvbnMuZm9yZWlnbk9iamVjdFJlbmRlcmluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNPUlM6IHRoaXMub3B0aW9ucy51c2VDT1JTLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBuZXcgQ2FudmFzUmVuZGVyZXIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dXaWR0aDogZG9jdW1lbnRFbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuaW5uZXJXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodDogZG9jdW1lbnRFbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuaW5uZXJIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxYOiBkb2N1bWVudEVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWE9mZnNldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFk6IGRvY3VtZW50RWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAudGhlbihcclxuICAgICAgICAgICAgICAgICAgICAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWZyYW1lQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVDYW52YXMub25sb2FkID0gKCkgPT4gcmVzb2x2ZShjYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzLm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFbXB0eSBpZnJhbWVzIG1heSByZXN1bHQgaW4gZW1wdHkgXCJkYXRhOixcIiBVUkxzLCB3aGljaCBhcmUgaW52YWxpZCBmcm9tIHRoZSA8aW1nPidzIHBvaW50IG9mIHZpZXdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgaW5zdGVhZCBvZiBgb25sb2FkYCBjYXVzZSBgb25lcnJvcmAgYW5kIHVuaGFuZGxlZCByZWplY3Rpb24gd2FybmluZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbmlrbGFzdmgvaHRtbDJjYW52YXMvaXNzdWVzLzE1MDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVDYW52YXMuc3JjID09ICdkYXRhOiwnID8gcmVzb2x2ZShjYW52YXMpIDogcmVqZWN0KGV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVDYW52YXMuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBJZnJhbWUucGFyZW50Tm9kZSAmJiBpZnJhbWUub3duZXJEb2N1bWVudCAmJiBpZnJhbWUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBJZnJhbWUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlDU1NTdHlsZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGlmcmFtZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVDYW52YXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcElmcmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICByZXR1cm4gdGVtcElmcmFtZTtcclxuICAgICAgICB9XHJcbiAgICAqL1xyXG4gICAgICAgIERvY3VtZW50Q2xvbmVyLnByb3RvdHlwZS5jbG9uZU5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICBpZiAoaXNUZXh0Tm9kZShub2RlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUuZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFub2RlLm93bmVyRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHdpbmRvdyA9IG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcclxuICAgICAgICAgICAgaWYgKGlzSFRNTEVsZW1lbnROb2RlKG5vZGUpICYmIHdpbmRvdykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNsb25lID0gdGhpcy5jcmVhdGVFbGVtZW50Q2xvbmUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZUJlZm9yZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUsICc6YmVmb3JlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVBZnRlciA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUsICc6YWZ0ZXInKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlZmVyZW5jZUVsZW1lbnQgPT09IG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb25lZFJlZmVyZW5jZUVsZW1lbnQgPSBjbG9uZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc0JvZHlFbGVtZW50KGNsb25lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVBzZXVkb0hpZGVTdHlsZXMoY2xvbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJzID0gdGhpcy5jb3VudGVycy5wYXJzZShuZXcgQ1NTUGFyc2VkQ291bnRlckRlY2xhcmF0aW9uKHN0eWxlKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmVmb3JlID0gdGhpcy5yZXNvbHZlUHNldWRvQ29udGVudChub2RlLCBjbG9uZSwgc3R5bGVCZWZvcmUsIFBzZXVkb0VsZW1lbnRUeXBlLkJFRk9SRSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRWxlbWVudE5vZGUoY2hpbGQpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICghaXNTY3JpcHRFbGVtZW50KGNoaWxkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWNoaWxkLmhhc0F0dHJpYnV0ZShJR05PUkVfQVRUUklCVVRFKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiB0aGlzLm9wdGlvbnMuaWdub3JlRWxlbWVudHMgIT09ICdmdW5jdGlvbicgfHwgIXRoaXMub3B0aW9ucy5pZ25vcmVFbGVtZW50cyhjaGlsZCkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5jb3B5U3R5bGVzIHx8ICFpc0VsZW1lbnROb2RlKGNoaWxkKSB8fCAhaXNTdHlsZUVsZW1lbnQoY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZS5hcHBlbmRDaGlsZCh0aGlzLmNsb25lTm9kZShjaGlsZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGJlZm9yZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lLmluc2VydEJlZm9yZShiZWZvcmUsIGNsb25lLmZpcnN0Q2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGFmdGVyID0gdGhpcy5yZXNvbHZlUHNldWRvQ29udGVudChub2RlLCBjbG9uZSwgc3R5bGVBZnRlciwgUHNldWRvRWxlbWVudFR5cGUuQUZURVIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFmdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmUuYXBwZW5kQ2hpbGQoYWZ0ZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudGVycy5wb3AoY291bnRlcnMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlICYmIHRoaXMub3B0aW9ucy5jb3B5U3R5bGVzICYmICFpc0lGcmFtZUVsZW1lbnQobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3B5Q1NTU3R5bGVzKHN0eWxlLCBjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuaW5saW5lQWxsSW1hZ2VzKGNsb25lKTtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLnNjcm9sbFRvcCAhPT0gMCB8fCBub2RlLnNjcm9sbExlZnQgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbGVkRWxlbWVudHMucHVzaChbY2xvbmUsIG5vZGUuc2Nyb2xsTGVmdCwgbm9kZS5zY3JvbGxUb3BdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgoaXNUZXh0YXJlYUVsZW1lbnQobm9kZSkgfHwgaXNTZWxlY3RFbGVtZW50KG5vZGUpKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIChpc1RleHRhcmVhRWxlbWVudChjbG9uZSkgfHwgaXNTZWxlY3RFbGVtZW50KGNsb25lKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbG9uZS52YWx1ZSA9IG5vZGUudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERvY3VtZW50Q2xvbmVyLnByb3RvdHlwZS5yZXNvbHZlUHNldWRvQ29udGVudCA9IGZ1bmN0aW9uIChub2RlLCBjbG9uZSwgc3R5bGUsIHBzZXVkb0VsdCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAoIXN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gc3R5bGUuY29udGVudDtcclxuICAgICAgICAgICAgdmFyIGRvY3VtZW50ID0gY2xvbmUub3duZXJEb2N1bWVudDtcclxuICAgICAgICAgICAgaWYgKCFkb2N1bWVudCB8fCAhdmFsdWUgfHwgdmFsdWUgPT09ICdub25lJyB8fCB2YWx1ZSA9PT0gJy1tb3otYWx0LWNvbnRlbnQnIHx8IHN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY291bnRlcnMucGFyc2UobmV3IENTU1BhcnNlZENvdW50ZXJEZWNsYXJhdGlvbihzdHlsZSkpO1xyXG4gICAgICAgICAgICB2YXIgZGVjbGFyYXRpb24gPSBuZXcgQ1NTUGFyc2VkUHNldWRvRGVjbGFyYXRpb24oc3R5bGUpO1xyXG4gICAgICAgICAgICB2YXIgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHRtbDJjYW52YXNwc2V1ZG9lbGVtZW50Jyk7XHJcbiAgICAgICAgICAgIGNvcHlDU1NTdHlsZXMoc3R5bGUsIGFub255bW91c1JlcGxhY2VkRWxlbWVudCk7XHJcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uLmNvbnRlbnQuZm9yRWFjaChmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuU1RSSU5HX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRva2VuLnZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuVVJMX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSB0b2tlbi52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpbWcuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgICAgICAgICAgICAgICAgICBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoaW1nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5GVU5DVElPTikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2tlbi5uYW1lID09PSAnYXR0cicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHIgPSB0b2tlbi52YWx1ZXMuZmlsdGVyKGlzSWRlbnRUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJbMF0udmFsdWUpIHx8ICcnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4ubmFtZSA9PT0gJ2NvdW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSA9IHRva2VuLnZhbHVlcy5maWx0ZXIobm9uRnVuY3Rpb25BcmdTZXBhcmF0b3IpLCBjb3VudGVyID0gX2FbMF0sIGNvdW50ZXJTdHlsZSA9IF9hWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlciAmJiBpc0lkZW50VG9rZW4oY291bnRlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudGVyU3RhdGUgPSBfdGhpcy5jb3VudGVycy5nZXRDb3VudGVyVmFsdWUoY291bnRlci52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlclR5cGUgPSBjb3VudGVyU3R5bGUgJiYgaXNJZGVudFRva2VuKGNvdW50ZXJTdHlsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGxpc3RTdHlsZVR5cGUucGFyc2UoY291bnRlclN0eWxlLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3JlYXRlQ291bnRlclRleHQoY291bnRlclN0YXRlLCBjb3VudGVyVHlwZSwgZmFsc2UpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4ubmFtZSA9PT0gJ2NvdW50ZXJzJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IgPSB0b2tlbi52YWx1ZXMuZmlsdGVyKG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yKSwgY291bnRlciA9IF9iWzBdLCBkZWxpbSA9IF9iWzFdLCBjb3VudGVyU3R5bGUgPSBfYlsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIgJiYgaXNJZGVudFRva2VuKGNvdW50ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlclN0YXRlcyA9IF90aGlzLmNvdW50ZXJzLmdldENvdW50ZXJWYWx1ZXMoY291bnRlci52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlclR5cGVfMSA9IGNvdW50ZXJTdHlsZSAmJiBpc0lkZW50VG9rZW4oY291bnRlclN0eWxlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbGlzdFN0eWxlVHlwZS5wYXJzZShjb3VudGVyU3R5bGUudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZXBhcmF0b3IgPSBkZWxpbSAmJiBkZWxpbS50eXBlID09PSBUb2tlblR5cGUuU1RSSU5HX1RPS0VOID8gZGVsaW0udmFsdWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gY291bnRlclN0YXRlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBjcmVhdGVDb3VudGVyVGV4dCh2YWx1ZSwgY291bnRlclR5cGVfMSwgZmFsc2UpOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5qb2luKHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdvcGVuLXF1b3RlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFub255bW91c1JlcGxhY2VkRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShnZXRRdW90ZShkZWNsYXJhdGlvbi5xdW90ZXMsIF90aGlzLnF1b3RlRGVwdGgrKywgdHJ1ZSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjbG9zZS1xdW90ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZ2V0UXVvdGUoZGVjbGFyYXRpb24ucXVvdGVzLCAtLV90aGlzLnF1b3RlRGVwdGgsIGZhbHNlKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzYWZhcmkgZG9lc24ndCBwYXJzZSBzdHJpbmcgdG9rZW5zIGNvcnJlY3RseSBiZWNhdXNlIG9mIGxhY2sgb2YgcXVvdGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodG9rZW4udmFsdWUpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQuY2xhc3NOYW1lID0gUFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19CRUZPUkUgKyBcIiBcIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQUZURVI7XHJcbiAgICAgICAgICAgIGNsb25lLmNsYXNzTmFtZSArPVxyXG4gICAgICAgICAgICAgICAgcHNldWRvRWx0ID09PSBQc2V1ZG9FbGVtZW50VHlwZS5CRUZPUkVcclxuICAgICAgICAgICAgICAgICAgICA/IFwiIFwiICsgUFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19CRUZPUkVcclxuICAgICAgICAgICAgICAgICAgICA6IFwiIFwiICsgUFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19BRlRFUjtcclxuICAgICAgICAgICAgcmV0dXJuIGFub255bW91c1JlcGxhY2VkRWxlbWVudDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERvY3VtZW50Q2xvbmVyLmRlc3Ryb3kgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIGlmIChjb250YWluZXIucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBEb2N1bWVudENsb25lcjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgUHNldWRvRWxlbWVudFR5cGU7XHJcbiAgICAoZnVuY3Rpb24gKFBzZXVkb0VsZW1lbnRUeXBlKSB7XHJcbiAgICAgICAgUHNldWRvRWxlbWVudFR5cGVbUHNldWRvRWxlbWVudFR5cGVbXCJCRUZPUkVcIl0gPSAwXSA9IFwiQkVGT1JFXCI7XHJcbiAgICAgICAgUHNldWRvRWxlbWVudFR5cGVbUHNldWRvRWxlbWVudFR5cGVbXCJBRlRFUlwiXSA9IDFdID0gXCJBRlRFUlwiO1xyXG4gICAgfSkoUHNldWRvRWxlbWVudFR5cGUgfHwgKFBzZXVkb0VsZW1lbnRUeXBlID0ge30pKTtcclxuICAgIHZhciBjcmVhdGVJRnJhbWVDb250YWluZXIgPSBmdW5jdGlvbiAob3duZXJEb2N1bWVudCwgYm91bmRzKSB7XHJcbiAgICAgICAgdmFyIGNsb25lSWZyYW1lQ29udGFpbmVyID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5jbGFzc05hbWUgPSAnaHRtbDJjYW52YXMtY29udGFpbmVyJztcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xyXG4gICAgICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLnN0eWxlLmxlZnQgPSAnLTEwMDAwcHgnO1xyXG4gICAgICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLnN0eWxlLnRvcCA9ICcwcHgnO1xyXG4gICAgICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLnN0eWxlLmJvcmRlciA9ICcwJztcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci53aWR0aCA9IGJvdW5kcy53aWR0aC50b1N0cmluZygpO1xyXG4gICAgICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLmhlaWdodCA9IGJvdW5kcy5oZWlnaHQudG9TdHJpbmcoKTtcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zY3JvbGxpbmcgPSAnbm8nOyAvLyBpb3Mgd29uJ3Qgc2Nyb2xsIHdpdGhvdXQgaXRcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoSUdOT1JFX0FUVFJJQlVURSwgJ3RydWUnKTtcclxuICAgICAgICBvd25lckRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2xvbmVJZnJhbWVDb250YWluZXIpO1xyXG4gICAgICAgIHJldHVybiBjbG9uZUlmcmFtZUNvbnRhaW5lcjtcclxuICAgIH07XHJcbiAgICB2YXIgaWZyYW1lTG9hZGVyID0gZnVuY3Rpb24gKGlmcmFtZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZVdpbmRvdyA9IGlmcmFtZS5jb250ZW50V2luZG93O1xyXG4gICAgICAgICAgICBpZiAoIWNsb25lV2luZG93KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KFwiTm8gd2luZG93IGFzc2lnbmVkIGZvciBpZnJhbWVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGRvY3VtZW50Q2xvbmUgPSBjbG9uZVdpbmRvdy5kb2N1bWVudDtcclxuICAgICAgICAgICAgY2xvbmVXaW5kb3cub25sb2FkID0gaWZyYW1lLm9ubG9hZCA9IGRvY3VtZW50Q2xvbmUub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2xvbmVXaW5kb3cub25sb2FkID0gaWZyYW1lLm9ubG9hZCA9IGRvY3VtZW50Q2xvbmUub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHZhciBpbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnRDbG9uZS5ib2R5LmNoaWxkTm9kZXMubGVuZ3RoID4gMCAmJiBkb2N1bWVudENsb25lLnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaWZyYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNvcHlDU1NTdHlsZXMgPSBmdW5jdGlvbiAoc3R5bGUsIHRhcmdldCkge1xyXG4gICAgICAgIC8vIEVkZ2UgZG9lcyBub3QgcHJvdmlkZSB2YWx1ZSBmb3IgY3NzVGV4dFxyXG4gICAgICAgIGZvciAodmFyIGkgPSBzdHlsZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBzdHlsZS5pdGVtKGkpO1xyXG4gICAgICAgICAgICAvLyBTYWZhcmkgc2hvd3MgcHNldWRvZWxlbWVudHMgaWYgY29udGVudCBpcyBzZXRcclxuICAgICAgICAgICAgaWYgKHByb3BlcnR5ICE9PSAnY29udGVudCcpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9O1xyXG4gICAgdmFyIHNlcmlhbGl6ZURvY3R5cGUgPSBmdW5jdGlvbiAoZG9jdHlwZSkge1xyXG4gICAgICAgIHZhciBzdHIgPSAnJztcclxuICAgICAgICBpZiAoZG9jdHlwZSkge1xyXG4gICAgICAgICAgICBzdHIgKz0gJzwhRE9DVFlQRSAnO1xyXG4gICAgICAgICAgICBpZiAoZG9jdHlwZS5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBzdHIgKz0gZG9jdHlwZS5uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkb2N0eXBlLmludGVybmFsU3Vic2V0KSB7XHJcbiAgICAgICAgICAgICAgICBzdHIgKz0gZG9jdHlwZS5pbnRlcm5hbFN1YnNldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9jdHlwZS5wdWJsaWNJZCkge1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IFwiXFxcIlwiICsgZG9jdHlwZS5wdWJsaWNJZCArIFwiXFxcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkb2N0eXBlLnN5c3RlbUlkKSB7XHJcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCJcXFwiXCIgKyBkb2N0eXBlLnN5c3RlbUlkICsgXCJcXFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3RyICs9ICc+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH07XHJcbiAgICB2YXIgcmVzdG9yZU93bmVyU2Nyb2xsID0gZnVuY3Rpb24gKG93bmVyRG9jdW1lbnQsIHgsIHkpIHtcclxuICAgICAgICBpZiAob3duZXJEb2N1bWVudCAmJlxyXG4gICAgICAgICAgICBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3ICYmXHJcbiAgICAgICAgICAgICh4ICE9PSBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VYT2Zmc2V0IHx8IHkgIT09IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVlPZmZzZXQpKSB7XHJcbiAgICAgICAgICAgIG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuc2Nyb2xsVG8oeCwgeSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciByZXN0b3JlTm9kZVNjcm9sbCA9IGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgIHZhciBlbGVtZW50ID0gX2FbMF0sIHggPSBfYVsxXSwgeSA9IF9hWzJdO1xyXG4gICAgICAgIGVsZW1lbnQuc2Nyb2xsTGVmdCA9IHg7XHJcbiAgICAgICAgZWxlbWVudC5zY3JvbGxUb3AgPSB5O1xyXG4gICAgfTtcclxuICAgIHZhciBQU0VVRE9fQkVGT1JFID0gJzpiZWZvcmUnO1xyXG4gICAgdmFyIFBTRVVET19BRlRFUiA9ICc6YWZ0ZXInO1xyXG4gICAgdmFyIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQkVGT1JFID0gJ19fX2h0bWwyY2FudmFzX19fcHNldWRvZWxlbWVudF9iZWZvcmUnO1xyXG4gICAgdmFyIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQUZURVIgPSAnX19faHRtbDJjYW52YXNfX19wc2V1ZG9lbGVtZW50X2FmdGVyJztcclxuICAgIHZhciBQU0VVRE9fSElERV9FTEVNRU5UX1NUWUxFID0gXCJ7XFxuICAgIGNvbnRlbnQ6IFxcXCJcXFwiICFpbXBvcnRhbnQ7XFxuICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcXG59XCI7XHJcbiAgICB2YXIgY3JlYXRlUHNldWRvSGlkZVN0eWxlcyA9IGZ1bmN0aW9uIChib2R5KSB7XHJcbiAgICAgICAgY3JlYXRlU3R5bGVzKGJvZHksIFwiLlwiICsgUFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19CRUZPUkUgKyBQU0VVRE9fQkVGT1JFICsgUFNFVURPX0hJREVfRUxFTUVOVF9TVFlMRSArIFwiXFxuICAgICAgICAgLlwiICsgUFNFVURPX0hJREVfRUxFTUVOVF9DTEFTU19BRlRFUiArIFBTRVVET19BRlRFUiArIFBTRVVET19ISURFX0VMRU1FTlRfU1RZTEUpO1xyXG4gICAgfTtcclxuICAgIHZhciBjcmVhdGVTdHlsZXMgPSBmdW5jdGlvbiAoYm9keSwgc3R5bGVzKSB7XHJcbiAgICAgICAgdmFyIGRvY3VtZW50ID0gYm9keS5vd25lckRvY3VtZW50O1xyXG4gICAgICAgIGlmIChkb2N1bWVudCkge1xyXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG4gICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcclxuICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChzdHlsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBQYXRoVHlwZTtcclxuICAgIChmdW5jdGlvbiAoUGF0aFR5cGUpIHtcclxuICAgICAgICBQYXRoVHlwZVtQYXRoVHlwZVtcIlZFQ1RPUlwiXSA9IDBdID0gXCJWRUNUT1JcIjtcclxuICAgICAgICBQYXRoVHlwZVtQYXRoVHlwZVtcIkJFWklFUl9DVVJWRVwiXSA9IDFdID0gXCJCRVpJRVJfQ1VSVkVcIjtcclxuICAgIH0pKFBhdGhUeXBlIHx8IChQYXRoVHlwZSA9IHt9KSk7XHJcbiAgICB2YXIgZXF1YWxQYXRoID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICBpZiAoYS5sZW5ndGggPT09IGIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhLnNvbWUoZnVuY3Rpb24gKHYsIGkpIHsgcmV0dXJuIHYgPT09IGJbaV07IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgdmFyIHRyYW5zZm9ybVBhdGggPSBmdW5jdGlvbiAocGF0aCwgZGVsdGFYLCBkZWx0YVksIGRlbHRhVywgZGVsdGFIKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhdGgubWFwKGZ1bmN0aW9uIChwb2ludCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludC5hZGQoZGVsdGFYLCBkZWx0YVkpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludC5hZGQoZGVsdGFYICsgZGVsdGFXLCBkZWx0YVkpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludC5hZGQoZGVsdGFYICsgZGVsdGFXLCBkZWx0YVkgKyBkZWx0YUgpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludC5hZGQoZGVsdGFYLCBkZWx0YVkgKyBkZWx0YUgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwb2ludDtcclxuICAgICAgICB9KTtcclxuICAgIH07XG5cbiAgICB2YXIgVmVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFZlY3Rvcih4LCB5KSB7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFBhdGhUeXBlLlZFQ1RPUjtcclxuICAgICAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB9XHJcbiAgICAgICAgVmVjdG9yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGVsdGFYLCBkZWx0YVkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54ICsgZGVsdGFYLCB0aGlzLnkgKyBkZWx0YVkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFZlY3RvcjtcclxuICAgIH0oKSk7XG5cbiAgICB2YXIgbGVycCA9IGZ1bmN0aW9uIChhLCBiLCB0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoYS54ICsgKGIueCAtIGEueCkgKiB0LCBhLnkgKyAoYi55IC0gYS55KSAqIHQpO1xyXG4gICAgfTtcclxuICAgIHZhciBCZXppZXJDdXJ2ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBCZXppZXJDdXJ2ZShzdGFydCwgc3RhcnRDb250cm9sLCBlbmRDb250cm9sLCBlbmQpIHtcclxuICAgICAgICAgICAgdGhpcy50eXBlID0gUGF0aFR5cGUuQkVaSUVSX0NVUlZFO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRDb250cm9sID0gc3RhcnRDb250cm9sO1xyXG4gICAgICAgICAgICB0aGlzLmVuZENvbnRyb2wgPSBlbmRDb250cm9sO1xyXG4gICAgICAgICAgICB0aGlzLmVuZCA9IGVuZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgQmV6aWVyQ3VydmUucHJvdG90eXBlLnN1YmRpdmlkZSA9IGZ1bmN0aW9uICh0LCBmaXJzdEhhbGYpIHtcclxuICAgICAgICAgICAgdmFyIGFiID0gbGVycCh0aGlzLnN0YXJ0LCB0aGlzLnN0YXJ0Q29udHJvbCwgdCk7XHJcbiAgICAgICAgICAgIHZhciBiYyA9IGxlcnAodGhpcy5zdGFydENvbnRyb2wsIHRoaXMuZW5kQ29udHJvbCwgdCk7XHJcbiAgICAgICAgICAgIHZhciBjZCA9IGxlcnAodGhpcy5lbmRDb250cm9sLCB0aGlzLmVuZCwgdCk7XHJcbiAgICAgICAgICAgIHZhciBhYmJjID0gbGVycChhYiwgYmMsIHQpO1xyXG4gICAgICAgICAgICB2YXIgYmNjZCA9IGxlcnAoYmMsIGNkLCB0KTtcclxuICAgICAgICAgICAgdmFyIGRlc3QgPSBsZXJwKGFiYmMsIGJjY2QsIHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmlyc3RIYWxmID8gbmV3IEJlemllckN1cnZlKHRoaXMuc3RhcnQsIGFiLCBhYmJjLCBkZXN0KSA6IG5ldyBCZXppZXJDdXJ2ZShkZXN0LCBiY2NkLCBjZCwgdGhpcy5lbmQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQmV6aWVyQ3VydmUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChkZWx0YVgsIGRlbHRhWSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEJlemllckN1cnZlKHRoaXMuc3RhcnQuYWRkKGRlbHRhWCwgZGVsdGFZKSwgdGhpcy5zdGFydENvbnRyb2wuYWRkKGRlbHRhWCwgZGVsdGFZKSwgdGhpcy5lbmRDb250cm9sLmFkZChkZWx0YVgsIGRlbHRhWSksIHRoaXMuZW5kLmFkZChkZWx0YVgsIGRlbHRhWSkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQmV6aWVyQ3VydmUucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmV6aWVyQ3VydmUodGhpcy5lbmQsIHRoaXMuZW5kQ29udHJvbCwgdGhpcy5zdGFydENvbnRyb2wsIHRoaXMuc3RhcnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEJlemllckN1cnZlO1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBpc0JlemllckN1cnZlID0gZnVuY3Rpb24gKHBhdGgpIHsgcmV0dXJuIHBhdGgudHlwZSA9PT0gUGF0aFR5cGUuQkVaSUVSX0NVUlZFOyB9O1xuXG4gICAgdmFyIEJvdW5kQ3VydmVzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIEJvdW5kQ3VydmVzKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHN0eWxlcyA9IGVsZW1lbnQuc3R5bGVzO1xyXG4gICAgICAgICAgICB2YXIgYm91bmRzID0gZWxlbWVudC5ib3VuZHM7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IGdldEFic29sdXRlVmFsdWVGb3JUdXBsZShzdHlsZXMuYm9yZGVyVG9wTGVmdFJhZGl1cywgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KSwgdGxoID0gX2FbMF0sIHRsdiA9IF9hWzFdO1xyXG4gICAgICAgICAgICB2YXIgX2IgPSBnZXRBYnNvbHV0ZVZhbHVlRm9yVHVwbGUoc3R5bGVzLmJvcmRlclRvcFJpZ2h0UmFkaXVzLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpLCB0cmggPSBfYlswXSwgdHJ2ID0gX2JbMV07XHJcbiAgICAgICAgICAgIHZhciBfYyA9IGdldEFic29sdXRlVmFsdWVGb3JUdXBsZShzdHlsZXMuYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCksIGJyaCA9IF9jWzBdLCBicnYgPSBfY1sxXTtcclxuICAgICAgICAgICAgdmFyIF9kID0gZ2V0QWJzb2x1dGVWYWx1ZUZvclR1cGxlKHN0eWxlcy5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpLCBibGggPSBfZFswXSwgYmx2ID0gX2RbMV07XHJcbiAgICAgICAgICAgIHZhciBmYWN0b3JzID0gW107XHJcbiAgICAgICAgICAgIGZhY3RvcnMucHVzaCgodGxoICsgdHJoKSAvIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgICAgIGZhY3RvcnMucHVzaCgoYmxoICsgYnJoKSAvIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgICAgIGZhY3RvcnMucHVzaCgodGx2ICsgYmx2KSAvIGJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICBmYWN0b3JzLnB1c2goKHRydiArIGJydikgLyBib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdmFyIG1heEZhY3RvciA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIGZhY3RvcnMpO1xyXG4gICAgICAgICAgICBpZiAobWF4RmFjdG9yID4gMSkge1xyXG4gICAgICAgICAgICAgICAgdGxoIC89IG1heEZhY3RvcjtcclxuICAgICAgICAgICAgICAgIHRsdiAvPSBtYXhGYWN0b3I7XHJcbiAgICAgICAgICAgICAgICB0cmggLz0gbWF4RmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgdHJ2IC89IG1heEZhY3RvcjtcclxuICAgICAgICAgICAgICAgIGJyaCAvPSBtYXhGYWN0b3I7XHJcbiAgICAgICAgICAgICAgICBicnYgLz0gbWF4RmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgYmxoIC89IG1heEZhY3RvcjtcclxuICAgICAgICAgICAgICAgIGJsdiAvPSBtYXhGYWN0b3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHRvcFdpZHRoID0gYm91bmRzLndpZHRoIC0gdHJoO1xyXG4gICAgICAgICAgICB2YXIgcmlnaHRIZWlnaHQgPSBib3VuZHMuaGVpZ2h0IC0gYnJ2O1xyXG4gICAgICAgICAgICB2YXIgYm90dG9tV2lkdGggPSBib3VuZHMud2lkdGggLSBicmg7XHJcbiAgICAgICAgICAgIHZhciBsZWZ0SGVpZ2h0ID0gYm91bmRzLmhlaWdodCAtIGJsdjtcclxuICAgICAgICAgICAgdmFyIGJvcmRlclRvcFdpZHRoID0gc3R5bGVzLmJvcmRlclRvcFdpZHRoO1xyXG4gICAgICAgICAgICB2YXIgYm9yZGVyUmlnaHRXaWR0aCA9IHN0eWxlcy5ib3JkZXJSaWdodFdpZHRoO1xyXG4gICAgICAgICAgICB2YXIgYm9yZGVyQm90dG9tV2lkdGggPSBzdHlsZXMuYm9yZGVyQm90dG9tV2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBib3JkZXJMZWZ0V2lkdGggPSBzdHlsZXMuYm9yZGVyTGVmdFdpZHRoO1xyXG4gICAgICAgICAgICB2YXIgcGFkZGluZ1RvcCA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdUb3AsIGVsZW1lbnQuYm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgdmFyIHBhZGRpbmdSaWdodCA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdSaWdodCwgZWxlbWVudC5ib3VuZHMud2lkdGgpO1xyXG4gICAgICAgICAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdCb3R0b20sIGVsZW1lbnQuYm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgdmFyIHBhZGRpbmdMZWZ0ID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ0xlZnQsIGVsZW1lbnQuYm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy50b3BMZWZ0Qm9yZGVyQm94ID1cclxuICAgICAgICAgICAgICAgIHRsaCA+IDAgfHwgdGx2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AsIHRsaCwgdGx2LCBDT1JORVIuVE9QX0xFRlQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wKTtcclxuICAgICAgICAgICAgdGhpcy50b3BSaWdodEJvcmRlckJveCA9XHJcbiAgICAgICAgICAgICAgICB0cmggPiAwIHx8IHRydiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgdG9wV2lkdGgsIGJvdW5kcy50b3AsIHRyaCwgdHJ2LCBDT1JORVIuVE9QX1JJR0hUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCwgYm91bmRzLnRvcCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dG9tUmlnaHRCb3JkZXJCb3ggPVxyXG4gICAgICAgICAgICAgICAgYnJoID4gMCB8fCBicnYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIGJvdHRvbVdpZHRoLCBib3VuZHMudG9wICsgcmlnaHRIZWlnaHQsIGJyaCwgYnJ2LCBDT1JORVIuQk9UVE9NX1JJR0hUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRvbUxlZnRCb3JkZXJCb3ggPVxyXG4gICAgICAgICAgICAgICAgYmxoID4gMCB8fCBibHYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCwgYm91bmRzLnRvcCArIGxlZnRIZWlnaHQsIGJsaCwgYmx2LCBDT1JORVIuQk9UVE9NX0xFRlQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMudG9wTGVmdFBhZGRpbmdCb3ggPVxyXG4gICAgICAgICAgICAgICAgdGxoID4gMCB8fCB0bHYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoLCBNYXRoLm1heCgwLCB0bGggLSBib3JkZXJMZWZ0V2lkdGgpLCBNYXRoLm1heCgwLCB0bHYgLSBib3JkZXJUb3BXaWR0aCksIENPUk5FUi5UT1BfTEVGVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3JkZXJMZWZ0V2lkdGgsIGJvdW5kcy50b3AgKyBib3JkZXJUb3BXaWR0aCk7XHJcbiAgICAgICAgICAgIHRoaXMudG9wUmlnaHRQYWRkaW5nQm94ID1cclxuICAgICAgICAgICAgICAgIHRyaCA+IDAgfHwgdHJ2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBNYXRoLm1pbih0b3BXaWR0aCwgYm91bmRzLndpZHRoICsgYm9yZGVyTGVmdFdpZHRoKSwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoLCB0b3BXaWR0aCA+IGJvdW5kcy53aWR0aCArIGJvcmRlckxlZnRXaWR0aCA/IDAgOiB0cmggLSBib3JkZXJMZWZ0V2lkdGgsIHRydiAtIGJvcmRlclRvcFdpZHRoLCBDT1JORVIuVE9QX1JJR0hUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCAtIGJvcmRlclJpZ2h0V2lkdGgsIGJvdW5kcy50b3AgKyBib3JkZXJUb3BXaWR0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dG9tUmlnaHRQYWRkaW5nQm94ID1cclxuICAgICAgICAgICAgICAgIGJyaCA+IDAgfHwgYnJ2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBNYXRoLm1pbihib3R0b21XaWR0aCwgYm91bmRzLndpZHRoIC0gYm9yZGVyTGVmdFdpZHRoKSwgYm91bmRzLnRvcCArIE1hdGgubWluKHJpZ2h0SGVpZ2h0LCBib3VuZHMuaGVpZ2h0ICsgYm9yZGVyVG9wV2lkdGgpLCBNYXRoLm1heCgwLCBicmggLSBib3JkZXJSaWdodFdpZHRoKSwgYnJ2IC0gYm9yZGVyQm90dG9tV2lkdGgsIENPUk5FUi5CT1RUT01fUklHSFQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoIC0gYm9yZGVyUmlnaHRXaWR0aCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQgLSBib3JkZXJCb3R0b21XaWR0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dG9tTGVmdFBhZGRpbmdCb3ggPVxyXG4gICAgICAgICAgICAgICAgYmxoID4gMCB8fCBibHYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCwgYm91bmRzLnRvcCArIGxlZnRIZWlnaHQsIE1hdGgubWF4KDAsIGJsaCAtIGJvcmRlckxlZnRXaWR0aCksIGJsdiAtIGJvcmRlckJvdHRvbVdpZHRoLCBDT1JORVIuQk9UVE9NX0xFRlQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoLCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCAtIGJvcmRlckJvdHRvbVdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy50b3BMZWZ0Q29udGVudEJveCA9XHJcbiAgICAgICAgICAgICAgICB0bGggPiAwIHx8IHRsdiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQsIGJvdW5kcy50b3AgKyBib3JkZXJUb3BXaWR0aCArIHBhZGRpbmdUb3AsIE1hdGgubWF4KDAsIHRsaCAtIChib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCkpLCBNYXRoLm1heCgwLCB0bHYgLSAoYm9yZGVyVG9wV2lkdGggKyBwYWRkaW5nVG9wKSksIENPUk5FUi5UT1BfTEVGVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCk7XHJcbiAgICAgICAgICAgIHRoaXMudG9wUmlnaHRDb250ZW50Qm94ID1cclxuICAgICAgICAgICAgICAgIHRyaCA+IDAgfHwgdHJ2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBNYXRoLm1pbih0b3BXaWR0aCwgYm91bmRzLndpZHRoICsgYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQpLCBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGggKyBwYWRkaW5nVG9wLCB0b3BXaWR0aCA+IGJvdW5kcy53aWR0aCArIGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0ID8gMCA6IHRyaCAtIGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0LCB0cnYgLSAoYm9yZGVyVG9wV2lkdGggKyBwYWRkaW5nVG9wKSwgQ09STkVSLlRPUF9SSUdIVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGggLSAoYm9yZGVyUmlnaHRXaWR0aCArIHBhZGRpbmdSaWdodCksIGJvdW5kcy50b3AgKyBib3JkZXJUb3BXaWR0aCArIHBhZGRpbmdUb3ApO1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRvbVJpZ2h0Q29udGVudEJveCA9XHJcbiAgICAgICAgICAgICAgICBicmggPiAwIHx8IGJydiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgTWF0aC5taW4oYm90dG9tV2lkdGgsIGJvdW5kcy53aWR0aCAtIChib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCkpLCBib3VuZHMudG9wICsgTWF0aC5taW4ocmlnaHRIZWlnaHQsIGJvdW5kcy5oZWlnaHQgKyBib3JkZXJUb3BXaWR0aCArIHBhZGRpbmdUb3ApLCBNYXRoLm1heCgwLCBicmggLSAoYm9yZGVyUmlnaHRXaWR0aCArIHBhZGRpbmdSaWdodCkpLCBicnYgLSAoYm9yZGVyQm90dG9tV2lkdGggKyBwYWRkaW5nQm90dG9tKSwgQ09STkVSLkJPVFRPTV9SSUdIVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGggLSAoYm9yZGVyUmlnaHRXaWR0aCArIHBhZGRpbmdSaWdodCksIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0IC0gKGJvcmRlckJvdHRvbVdpZHRoICsgcGFkZGluZ0JvdHRvbSkpO1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRvbUxlZnRDb250ZW50Qm94ID1cclxuICAgICAgICAgICAgICAgIGJsaCA+IDAgfHwgYmx2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCwgYm91bmRzLnRvcCArIGxlZnRIZWlnaHQsIE1hdGgubWF4KDAsIGJsaCAtIChib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCkpLCBibHYgLSAoYm9yZGVyQm90dG9tV2lkdGggKyBwYWRkaW5nQm90dG9tKSwgQ09STkVSLkJPVFRPTV9MRUZUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0LCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCAtIChib3JkZXJCb3R0b21XaWR0aCArIHBhZGRpbmdCb3R0b20pKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEJvdW5kQ3VydmVzO1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBDT1JORVI7XHJcbiAgICAoZnVuY3Rpb24gKENPUk5FUikge1xyXG4gICAgICAgIENPUk5FUltDT1JORVJbXCJUT1BfTEVGVFwiXSA9IDBdID0gXCJUT1BfTEVGVFwiO1xyXG4gICAgICAgIENPUk5FUltDT1JORVJbXCJUT1BfUklHSFRcIl0gPSAxXSA9IFwiVE9QX1JJR0hUXCI7XHJcbiAgICAgICAgQ09STkVSW0NPUk5FUltcIkJPVFRPTV9SSUdIVFwiXSA9IDJdID0gXCJCT1RUT01fUklHSFRcIjtcclxuICAgICAgICBDT1JORVJbQ09STkVSW1wiQk9UVE9NX0xFRlRcIl0gPSAzXSA9IFwiQk9UVE9NX0xFRlRcIjtcclxuICAgIH0pKENPUk5FUiB8fCAoQ09STkVSID0ge30pKTtcclxuICAgIHZhciBnZXRDdXJ2ZVBvaW50cyA9IGZ1bmN0aW9uICh4LCB5LCByMSwgcjIsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIGthcHBhID0gNCAqICgoTWF0aC5zcXJ0KDIpIC0gMSkgLyAzKTtcclxuICAgICAgICB2YXIgb3ggPSByMSAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCBob3Jpem9udGFsXHJcbiAgICAgICAgdmFyIG95ID0gcjIgKiBrYXBwYTsgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgdmVydGljYWxcclxuICAgICAgICB2YXIgeG0gPSB4ICsgcjE7IC8vIHgtbWlkZGxlXHJcbiAgICAgICAgdmFyIHltID0geSArIHIyOyAvLyB5LW1pZGRsZVxyXG4gICAgICAgIHN3aXRjaCAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBDT1JORVIuVE9QX0xFRlQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJlemllckN1cnZlKG5ldyBWZWN0b3IoeCwgeW0pLCBuZXcgVmVjdG9yKHgsIHltIC0gb3kpLCBuZXcgVmVjdG9yKHhtIC0gb3gsIHkpLCBuZXcgVmVjdG9yKHhtLCB5KSk7XHJcbiAgICAgICAgICAgIGNhc2UgQ09STkVSLlRPUF9SSUdIVDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmV6aWVyQ3VydmUobmV3IFZlY3Rvcih4LCB5KSwgbmV3IFZlY3Rvcih4ICsgb3gsIHkpLCBuZXcgVmVjdG9yKHhtLCB5bSAtIG95KSwgbmV3IFZlY3Rvcih4bSwgeW0pKTtcclxuICAgICAgICAgICAgY2FzZSBDT1JORVIuQk9UVE9NX1JJR0hUOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCZXppZXJDdXJ2ZShuZXcgVmVjdG9yKHhtLCB5KSwgbmV3IFZlY3Rvcih4bSwgeSArIG95KSwgbmV3IFZlY3Rvcih4ICsgb3gsIHltKSwgbmV3IFZlY3Rvcih4LCB5bSkpO1xyXG4gICAgICAgICAgICBjYXNlIENPUk5FUi5CT1RUT01fTEVGVDpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmV6aWVyQ3VydmUobmV3IFZlY3Rvcih4bSwgeW0pLCBuZXcgVmVjdG9yKHhtIC0gb3gsIHltKSwgbmV3IFZlY3Rvcih4LCB5ICsgb3kpLCBuZXcgVmVjdG9yKHgsIHkpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZUJvcmRlckJveFBhdGggPSBmdW5jdGlvbiAoY3VydmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIFtjdXJ2ZXMudG9wTGVmdEJvcmRlckJveCwgY3VydmVzLnRvcFJpZ2h0Qm9yZGVyQm94LCBjdXJ2ZXMuYm90dG9tUmlnaHRCb3JkZXJCb3gsIGN1cnZlcy5ib3R0b21MZWZ0Qm9yZGVyQm94XTtcclxuICAgIH07XHJcbiAgICB2YXIgY2FsY3VsYXRlQ29udGVudEJveFBhdGggPSBmdW5jdGlvbiAoY3VydmVzKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgY3VydmVzLnRvcExlZnRDb250ZW50Qm94LFxyXG4gICAgICAgICAgICBjdXJ2ZXMudG9wUmlnaHRDb250ZW50Qm94LFxyXG4gICAgICAgICAgICBjdXJ2ZXMuYm90dG9tUmlnaHRDb250ZW50Qm94LFxyXG4gICAgICAgICAgICBjdXJ2ZXMuYm90dG9tTGVmdENvbnRlbnRCb3hcclxuICAgICAgICBdO1xyXG4gICAgfTtcclxuICAgIHZhciBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aCA9IGZ1bmN0aW9uIChjdXJ2ZXMpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBjdXJ2ZXMudG9wTGVmdFBhZGRpbmdCb3gsXHJcbiAgICAgICAgICAgIGN1cnZlcy50b3BSaWdodFBhZGRpbmdCb3gsXHJcbiAgICAgICAgICAgIGN1cnZlcy5ib3R0b21SaWdodFBhZGRpbmdCb3gsXHJcbiAgICAgICAgICAgIGN1cnZlcy5ib3R0b21MZWZ0UGFkZGluZ0JveFxyXG4gICAgICAgIF07XHJcbiAgICB9O1xuXG4gICAgdmFyIFRyYW5zZm9ybUVmZmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBUcmFuc2Zvcm1FZmZlY3Qob2Zmc2V0WCwgb2Zmc2V0WSwgbWF0cml4KSB7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IDAgLyogVFJBTlNGT1JNICovO1xyXG4gICAgICAgICAgICB0aGlzLm9mZnNldFggPSBvZmZzZXRYO1xyXG4gICAgICAgICAgICB0aGlzLm9mZnNldFkgPSBvZmZzZXRZO1xyXG4gICAgICAgICAgICB0aGlzLm1hdHJpeCA9IG1hdHJpeDtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSAyIC8qIEJBQ0tHUk9VTkRfQk9SREVSUyAqLyB8IDQgLyogQ09OVEVOVCAqLztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFRyYW5zZm9ybUVmZmVjdDtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgQ2xpcEVmZmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBDbGlwRWZmZWN0KHBhdGgsIHRhcmdldCkge1xyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAxIC8qIENMSVAgKi87XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ2xpcEVmZmVjdDtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgaXNUcmFuc2Zvcm1FZmZlY3QgPSBmdW5jdGlvbiAoZWZmZWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIGVmZmVjdC50eXBlID09PSAwIC8qIFRSQU5TRk9STSAqLztcclxuICAgIH07XHJcbiAgICB2YXIgaXNDbGlwRWZmZWN0ID0gZnVuY3Rpb24gKGVmZmVjdCkgeyByZXR1cm4gZWZmZWN0LnR5cGUgPT09IDEgLyogQ0xJUCAqLzsgfTtcblxuICAgIHZhciBTdGFja2luZ0NvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gU3RhY2tpbmdDb250ZXh0KGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBjb250YWluZXI7XHJcbiAgICAgICAgICAgIHRoaXMuaW5saW5lTGV2ZWwgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5ub25JbmxpbmVMZXZlbCA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLm5lZ2F0aXZlWkluZGV4ID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuemVyb09yQXV0b1pJbmRleE9yVHJhbnNmb3JtZWRPck9wYWNpdHkgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5wb3NpdGl2ZVpJbmRleCA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLm5vblBvc2l0aW9uZWRGbG9hdHMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5ub25Qb3NpdGlvbmVkSW5saW5lTGV2ZWwgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFN0YWNraW5nQ29udGV4dDtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgRWxlbWVudFBhaW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIEVsZW1lbnRQYWludChlbGVtZW50LCBwYXJlbnRTdGFjaykge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHRoaXMuZWZmZWN0cyA9IHBhcmVudFN0YWNrLnNsaWNlKDApO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnZlcyA9IG5ldyBCb3VuZEN1cnZlcyhlbGVtZW50KTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3R5bGVzLnRyYW5zZm9ybSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldFggPSBlbGVtZW50LmJvdW5kcy5sZWZ0ICsgZWxlbWVudC5zdHlsZXMudHJhbnNmb3JtT3JpZ2luWzBdLm51bWJlcjtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRZID0gZWxlbWVudC5ib3VuZHMudG9wICsgZWxlbWVudC5zdHlsZXMudHJhbnNmb3JtT3JpZ2luWzFdLm51bWJlcjtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRyaXggPSBlbGVtZW50LnN0eWxlcy50cmFuc2Zvcm07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVmZmVjdHMucHVzaChuZXcgVHJhbnNmb3JtRWZmZWN0KG9mZnNldFgsIG9mZnNldFksIG1hdHJpeCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnN0eWxlcy5vdmVyZmxvd1ggIT09IE9WRVJGTE9XLlZJU0lCTEUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBib3JkZXJCb3ggPSBjYWxjdWxhdGVCb3JkZXJCb3hQYXRoKHRoaXMuY3VydmVzKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYWRkaW5nQm94ID0gY2FsY3VsYXRlUGFkZGluZ0JveFBhdGgodGhpcy5jdXJ2ZXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVxdWFsUGF0aChib3JkZXJCb3gsIHBhZGRpbmdCb3gpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZmZlY3RzLnB1c2gobmV3IENsaXBFZmZlY3QoYm9yZGVyQm94LCAyIC8qIEJBQ0tHUk9VTkRfQk9SREVSUyAqLyB8IDQgLyogQ09OVEVOVCAqLykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZmZlY3RzLnB1c2gobmV3IENsaXBFZmZlY3QoYm9yZGVyQm94LCAyIC8qIEJBQ0tHUk9VTkRfQk9SREVSUyAqLykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KHBhZGRpbmdCb3gsIDQgLyogQ09OVEVOVCAqLykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEVsZW1lbnRQYWludC5wcm90b3R5cGUuZ2V0UGFyZW50RWZmZWN0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGVmZmVjdHMgPSB0aGlzLmVmZmVjdHMuc2xpY2UoMCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRhaW5lci5zdHlsZXMub3ZlcmZsb3dYICE9PSBPVkVSRkxPVy5WSVNJQkxFKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm9yZGVyQm94ID0gY2FsY3VsYXRlQm9yZGVyQm94UGF0aCh0aGlzLmN1cnZlcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFkZGluZ0JveCA9IGNhbGN1bGF0ZVBhZGRpbmdCb3hQYXRoKHRoaXMuY3VydmVzKTtcclxuICAgICAgICAgICAgICAgIGlmICghZXF1YWxQYXRoKGJvcmRlckJveCwgcGFkZGluZ0JveCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnB1c2gobmV3IENsaXBFZmZlY3QocGFkZGluZ0JveCwgMiAvKiBCQUNLR1JPVU5EX0JPUkRFUlMgKi8gfCA0IC8qIENPTlRFTlQgKi8pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZWZmZWN0cztcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBFbGVtZW50UGFpbnQ7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIHBhcnNlU3RhY2tUcmVlID0gZnVuY3Rpb24gKHBhcmVudCwgc3RhY2tpbmdDb250ZXh0LCByZWFsU3RhY2tpbmdDb250ZXh0LCBsaXN0SXRlbXMpIHtcclxuICAgICAgICBwYXJlbnQuY29udGFpbmVyLmVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHZhciB0cmVhdEFzUmVhbFN0YWNraW5nQ29udGV4dCA9IGNvbnRhaW5zKGNoaWxkLmZsYWdzLCA0IC8qIENSRUFURVNfUkVBTF9TVEFDS0lOR19DT05URVhUICovKTtcclxuICAgICAgICAgICAgdmFyIGNyZWF0ZXNTdGFja2luZ0NvbnRleHQgPSBjb250YWlucyhjaGlsZC5mbGFncywgMiAvKiBDUkVBVEVTX1NUQUNLSU5HX0NPTlRFWFQgKi8pO1xyXG4gICAgICAgICAgICB2YXIgcGFpbnRDb250YWluZXIgPSBuZXcgRWxlbWVudFBhaW50KGNoaWxkLCBwYXJlbnQuZ2V0UGFyZW50RWZmZWN0cygpKTtcclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5zKGNoaWxkLnN0eWxlcy5kaXNwbGF5LCAyMDQ4IC8qIExJU1RfSVRFTSAqLykpIHtcclxuICAgICAgICAgICAgICAgIGxpc3RJdGVtcy5wdXNoKHBhaW50Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGlzdE93bmVySXRlbXMgPSBjb250YWlucyhjaGlsZC5mbGFncywgOCAvKiBJU19MSVNUX09XTkVSICovKSA/IFtdIDogbGlzdEl0ZW1zO1xyXG4gICAgICAgICAgICBpZiAodHJlYXRBc1JlYWxTdGFja2luZ0NvbnRleHQgfHwgY3JlYXRlc1N0YWNraW5nQ29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFN0YWNrID0gdHJlYXRBc1JlYWxTdGFja2luZ0NvbnRleHQgfHwgY2hpbGQuc3R5bGVzLmlzUG9zaXRpb25lZCgpID8gcmVhbFN0YWNraW5nQ29udGV4dCA6IHN0YWNraW5nQ29udGV4dDtcclxuICAgICAgICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFja2luZ0NvbnRleHQocGFpbnRDb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnN0eWxlcy5pc1Bvc2l0aW9uZWQoKSB8fCBjaGlsZC5zdHlsZXMub3BhY2l0eSA8IDEgfHwgY2hpbGQuc3R5bGVzLmlzVHJhbnNmb3JtZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvcmRlcl8xID0gY2hpbGQuc3R5bGVzLnpJbmRleC5vcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJfMSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4XzEgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGFjay5uZWdhdGl2ZVpJbmRleC5zb21lKGZ1bmN0aW9uIChjdXJyZW50LCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJfMSA+IGN1cnJlbnQuZWxlbWVudC5jb250YWluZXIuc3R5bGVzLnpJbmRleC5vcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4XzEgPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZGV4XzEgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGFjay5uZWdhdGl2ZVpJbmRleC5zcGxpY2UoaW5kZXhfMSwgMCwgc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvcmRlcl8xID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhfMiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFN0YWNrLnBvc2l0aXZlWkluZGV4LnNvbWUoZnVuY3Rpb24gKGN1cnJlbnQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmRlcl8xID4gY3VycmVudC5lbGVtZW50LmNvbnRhaW5lci5zdHlsZXMuekluZGV4Lm9yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhfMiA9IGkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGluZGV4XzIgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGFjay5wb3NpdGl2ZVpJbmRleC5zcGxpY2UoaW5kZXhfMiwgMCwgc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2suemVyb09yQXV0b1pJbmRleE9yVHJhbnNmb3JtZWRPck9wYWNpdHkucHVzaChzdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnN0eWxlcy5pc0Zsb2F0aW5nKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2subm9uUG9zaXRpb25lZEZsb2F0cy5wdXNoKHN0YWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFN0YWNrLm5vblBvc2l0aW9uZWRJbmxpbmVMZXZlbC5wdXNoKHN0YWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXJzZVN0YWNrVHJlZShwYWludENvbnRhaW5lciwgc3RhY2ssIHRyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0ID8gc3RhY2sgOiByZWFsU3RhY2tpbmdDb250ZXh0LCBsaXN0T3duZXJJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuc3R5bGVzLmlzSW5saW5lTGV2ZWwoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWNraW5nQ29udGV4dC5pbmxpbmVMZXZlbC5wdXNoKHBhaW50Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWNraW5nQ29udGV4dC5ub25JbmxpbmVMZXZlbC5wdXNoKHBhaW50Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBhcnNlU3RhY2tUcmVlKHBhaW50Q29udGFpbmVyLCBzdGFja2luZ0NvbnRleHQsIHJlYWxTdGFja2luZ0NvbnRleHQsIGxpc3RPd25lckl0ZW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29udGFpbnMoY2hpbGQuZmxhZ3MsIDggLyogSVNfTElTVF9PV05FUiAqLykpIHtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NMaXN0SXRlbXMoY2hpbGQsIGxpc3RPd25lckl0ZW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZhciBwcm9jZXNzTGlzdEl0ZW1zID0gZnVuY3Rpb24gKG93bmVyLCBlbGVtZW50cykge1xyXG4gICAgICAgIHZhciBudW1iZXJpbmcgPSBvd25lciBpbnN0YW5jZW9mIE9MRWxlbWVudENvbnRhaW5lciA/IG93bmVyLnN0YXJ0IDogMTtcclxuICAgICAgICB2YXIgcmV2ZXJzZWQgPSBvd25lciBpbnN0YW5jZW9mIE9MRWxlbWVudENvbnRhaW5lciA/IG93bmVyLnJldmVyc2VkIDogZmFsc2U7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5jb250YWluZXIgaW5zdGFuY2VvZiBMSUVsZW1lbnRDb250YWluZXIgJiZcclxuICAgICAgICAgICAgICAgIHR5cGVvZiBpdGVtLmNvbnRhaW5lci52YWx1ZSA9PT0gJ251bWJlcicgJiZcclxuICAgICAgICAgICAgICAgIGl0ZW0uY29udGFpbmVyLnZhbHVlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBudW1iZXJpbmcgPSBpdGVtLmNvbnRhaW5lci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpdGVtLmxpc3RWYWx1ZSA9IGNyZWF0ZUNvdW50ZXJUZXh0KG51bWJlcmluZywgaXRlbS5jb250YWluZXIuc3R5bGVzLmxpc3RTdHlsZVR5cGUsIHRydWUpO1xyXG4gICAgICAgICAgICBudW1iZXJpbmcgKz0gcmV2ZXJzZWQgPyAtMSA6IDE7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZVN0YWNraW5nQ29udGV4dHMgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgdmFyIHBhaW50Q29udGFpbmVyID0gbmV3IEVsZW1lbnRQYWludChjb250YWluZXIsIFtdKTtcclxuICAgICAgICB2YXIgcm9vdCA9IG5ldyBTdGFja2luZ0NvbnRleHQocGFpbnRDb250YWluZXIpO1xyXG4gICAgICAgIHZhciBsaXN0SXRlbXMgPSBbXTtcclxuICAgICAgICBwYXJzZVN0YWNrVHJlZShwYWludENvbnRhaW5lciwgcm9vdCwgcm9vdCwgbGlzdEl0ZW1zKTtcclxuICAgICAgICBwcm9jZXNzTGlzdEl0ZW1zKHBhaW50Q29udGFpbmVyLmNvbnRhaW5lciwgbGlzdEl0ZW1zKTtcclxuICAgICAgICByZXR1cm4gcm9vdDtcclxuICAgIH07XG5cbiAgICB2YXIgcGFyc2VQYXRoRm9yQm9yZGVyID0gZnVuY3Rpb24gKGN1cnZlcywgYm9yZGVyU2lkZSkge1xyXG4gICAgICAgIHN3aXRjaCAoYm9yZGVyU2lkZSkge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUGF0aEZyb21DdXJ2ZXMoY3VydmVzLnRvcExlZnRCb3JkZXJCb3gsIGN1cnZlcy50b3BMZWZ0UGFkZGluZ0JveCwgY3VydmVzLnRvcFJpZ2h0Qm9yZGVyQm94LCBjdXJ2ZXMudG9wUmlnaHRQYWRkaW5nQm94KTtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVBhdGhGcm9tQ3VydmVzKGN1cnZlcy50b3BSaWdodEJvcmRlckJveCwgY3VydmVzLnRvcFJpZ2h0UGFkZGluZ0JveCwgY3VydmVzLmJvdHRvbVJpZ2h0Qm9yZGVyQm94LCBjdXJ2ZXMuYm90dG9tUmlnaHRQYWRkaW5nQm94KTtcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVBhdGhGcm9tQ3VydmVzKGN1cnZlcy5ib3R0b21SaWdodEJvcmRlckJveCwgY3VydmVzLmJvdHRvbVJpZ2h0UGFkZGluZ0JveCwgY3VydmVzLmJvdHRvbUxlZnRCb3JkZXJCb3gsIGN1cnZlcy5ib3R0b21MZWZ0UGFkZGluZ0JveCk7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVQYXRoRnJvbUN1cnZlcyhjdXJ2ZXMuYm90dG9tTGVmdEJvcmRlckJveCwgY3VydmVzLmJvdHRvbUxlZnRQYWRkaW5nQm94LCBjdXJ2ZXMudG9wTGVmdEJvcmRlckJveCwgY3VydmVzLnRvcExlZnRQYWRkaW5nQm94KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZVBhdGhGcm9tQ3VydmVzID0gZnVuY3Rpb24gKG91dGVyMSwgaW5uZXIxLCBvdXRlcjIsIGlubmVyMikge1xyXG4gICAgICAgIHZhciBwYXRoID0gW107XHJcbiAgICAgICAgaWYgKGlzQmV6aWVyQ3VydmUob3V0ZXIxKSkge1xyXG4gICAgICAgICAgICBwYXRoLnB1c2gob3V0ZXIxLnN1YmRpdmlkZSgwLjUsIGZhbHNlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRoLnB1c2gob3V0ZXIxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzQmV6aWVyQ3VydmUob3V0ZXIyKSkge1xyXG4gICAgICAgICAgICBwYXRoLnB1c2gob3V0ZXIyLnN1YmRpdmlkZSgwLjUsIHRydWUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChvdXRlcjIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNCZXppZXJDdXJ2ZShpbm5lcjIpKSB7XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChpbm5lcjIuc3ViZGl2aWRlKDAuNSwgdHJ1ZSkucmV2ZXJzZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChpbm5lcjIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNCZXppZXJDdXJ2ZShpbm5lcjEpKSB7XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChpbm5lcjEuc3ViZGl2aWRlKDAuNSwgZmFsc2UpLnJldmVyc2UoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRoLnB1c2goaW5uZXIxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhdGg7XHJcbiAgICB9O1xuXG4gICAgdmFyIHBhZGRpbmdCb3ggPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBib3VuZHMgPSBlbGVtZW50LmJvdW5kcztcclxuICAgICAgICB2YXIgc3R5bGVzID0gZWxlbWVudC5zdHlsZXM7XHJcbiAgICAgICAgcmV0dXJuIGJvdW5kcy5hZGQoc3R5bGVzLmJvcmRlckxlZnRXaWR0aCwgc3R5bGVzLmJvcmRlclRvcFdpZHRoLCAtKHN0eWxlcy5ib3JkZXJSaWdodFdpZHRoICsgc3R5bGVzLmJvcmRlckxlZnRXaWR0aCksIC0oc3R5bGVzLmJvcmRlclRvcFdpZHRoICsgc3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoKSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNvbnRlbnRCb3ggPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBzdHlsZXMgPSBlbGVtZW50LnN0eWxlcztcclxuICAgICAgICB2YXIgYm91bmRzID0gZWxlbWVudC5ib3VuZHM7XHJcbiAgICAgICAgdmFyIHBhZGRpbmdMZWZ0ID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ0xlZnQsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHBhZGRpbmdSaWdodCA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdSaWdodCwgYm91bmRzLndpZHRoKTtcclxuICAgICAgICB2YXIgcGFkZGluZ1RvcCA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdUb3AsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHBhZGRpbmdCb3R0b20gPSBnZXRBYnNvbHV0ZVZhbHVlKHN0eWxlcy5wYWRkaW5nQm90dG9tLCBib3VuZHMud2lkdGgpO1xyXG4gICAgICAgIHJldHVybiBib3VuZHMuYWRkKHBhZGRpbmdMZWZ0ICsgc3R5bGVzLmJvcmRlckxlZnRXaWR0aCwgcGFkZGluZ1RvcCArIHN0eWxlcy5ib3JkZXJUb3BXaWR0aCwgLShzdHlsZXMuYm9yZGVyUmlnaHRXaWR0aCArIHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCArIHBhZGRpbmdSaWdodCksIC0oc3R5bGVzLmJvcmRlclRvcFdpZHRoICsgc3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoICsgcGFkZGluZ1RvcCArIHBhZGRpbmdCb3R0b20pKTtcclxuICAgIH07XG5cbiAgICB2YXIgY2FsY3VsYXRlQmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSA9IGZ1bmN0aW9uIChiYWNrZ3JvdW5kT3JpZ2luLCBlbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKGJhY2tncm91bmRPcmlnaW4gPT09IDAgLyogQk9SREVSX0JPWCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5ib3VuZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kT3JpZ2luID09PSAyIC8qIENPTlRFTlRfQk9YICovKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250ZW50Qm94KGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFkZGluZ0JveChlbGVtZW50KTtcclxuICAgIH07XHJcbiAgICB2YXIgY2FsY3VsYXRlQmFja2dyb3VuZFBhaW50aW5nQXJlYSA9IGZ1bmN0aW9uIChiYWNrZ3JvdW5kQ2xpcCwgZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kQ2xpcCA9PT0gQkFDS0dST1VORF9DTElQLkJPUkRFUl9CT1gpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuYm91bmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYmFja2dyb3VuZENsaXAgPT09IEJBQ0tHUk9VTkRfQ0xJUC5DT05URU5UX0JPWCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGVudEJveChlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhZGRpbmdCb3goZWxlbWVudCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZUJhY2tncm91bmRSZW5kZXJpbmcgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBpbmRleCwgaW50cmluc2ljU2l6ZSkge1xyXG4gICAgICAgIHZhciBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhID0gY2FsY3VsYXRlQmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYShnZXRCYWNrZ3JvdW5kVmFsdWVGb3JJbmRleChjb250YWluZXIuc3R5bGVzLmJhY2tncm91bmRPcmlnaW4sIGluZGV4KSwgY29udGFpbmVyKTtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZFBhaW50aW5nQXJlYSA9IGNhbGN1bGF0ZUJhY2tncm91bmRQYWludGluZ0FyZWEoZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXgoY29udGFpbmVyLnN0eWxlcy5iYWNrZ3JvdW5kQ2xpcCwgaW5kZXgpLCBjb250YWluZXIpO1xyXG4gICAgICAgIHZhciBiYWNrZ3JvdW5kSW1hZ2VTaXplID0gY2FsY3VsYXRlQmFja2dyb3VuZFNpemUoZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXgoY29udGFpbmVyLnN0eWxlcy5iYWNrZ3JvdW5kU2l6ZSwgaW5kZXgpLCBpbnRyaW5zaWNTaXplLCBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhKTtcclxuICAgICAgICB2YXIgc2l6ZVdpZHRoID0gYmFja2dyb3VuZEltYWdlU2l6ZVswXSwgc2l6ZUhlaWdodCA9IGJhY2tncm91bmRJbWFnZVNpemVbMV07XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gZ2V0QWJzb2x1dGVWYWx1ZUZvclR1cGxlKGdldEJhY2tncm91bmRWYWx1ZUZvckluZGV4KGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZFBvc2l0aW9uLCBpbmRleCksIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEud2lkdGggLSBzaXplV2lkdGgsIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEuaGVpZ2h0IC0gc2l6ZUhlaWdodCk7XHJcbiAgICAgICAgdmFyIHBhdGggPSBjYWxjdWxhdGVCYWNrZ3JvdW5kUmVwZWF0UGF0aChnZXRCYWNrZ3JvdW5kVmFsdWVGb3JJbmRleChjb250YWluZXIuc3R5bGVzLmJhY2tncm91bmRSZXBlYXQsIGluZGV4KSwgcG9zaXRpb24sIGJhY2tncm91bmRJbWFnZVNpemUsIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEsIGJhY2tncm91bmRQYWludGluZ0FyZWEpO1xyXG4gICAgICAgIHZhciBvZmZzZXRYID0gTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyBwb3NpdGlvblswXSk7XHJcbiAgICAgICAgdmFyIG9mZnNldFkgPSBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgcG9zaXRpb25bMV0pO1xyXG4gICAgICAgIHJldHVybiBbcGF0aCwgb2Zmc2V0WCwgb2Zmc2V0WSwgc2l6ZVdpZHRoLCBzaXplSGVpZ2h0XTtcclxuICAgIH07XHJcbiAgICB2YXIgaXNBdXRvID0gZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiBpc0lkZW50VG9rZW4odG9rZW4pICYmIHRva2VuLnZhbHVlID09PSBCQUNLR1JPVU5EX1NJWkUuQVVUTzsgfTtcclxuICAgIHZhciBoYXNJbnRyaW5zaWNWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJzsgfTtcclxuICAgIHZhciBjYWxjdWxhdGVCYWNrZ3JvdW5kU2l6ZSA9IGZ1bmN0aW9uIChzaXplLCBfYSwgYm91bmRzKSB7XHJcbiAgICAgICAgdmFyIGludHJpbnNpY1dpZHRoID0gX2FbMF0sIGludHJpbnNpY0hlaWdodCA9IF9hWzFdLCBpbnRyaW5zaWNQcm9wb3J0aW9uID0gX2FbMl07XHJcbiAgICAgICAgdmFyIGZpcnN0ID0gc2l6ZVswXSwgc2Vjb25kID0gc2l6ZVsxXTtcclxuICAgICAgICBpZiAoaXNMZW5ndGhQZXJjZW50YWdlKGZpcnN0KSAmJiBzZWNvbmQgJiYgaXNMZW5ndGhQZXJjZW50YWdlKHNlY29uZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtnZXRBYnNvbHV0ZVZhbHVlKGZpcnN0LCBib3VuZHMud2lkdGgpLCBnZXRBYnNvbHV0ZVZhbHVlKHNlY29uZCwgYm91bmRzLmhlaWdodCldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaGFzSW50cmluc2ljUHJvcG9ydGlvbiA9IGhhc0ludHJpbnNpY1ZhbHVlKGludHJpbnNpY1Byb3BvcnRpb24pO1xyXG4gICAgICAgIGlmIChpc0lkZW50VG9rZW4oZmlyc3QpICYmIChmaXJzdC52YWx1ZSA9PT0gQkFDS0dST1VORF9TSVpFLkNPTlRBSU4gfHwgZmlyc3QudmFsdWUgPT09IEJBQ0tHUk9VTkRfU0laRS5DT1ZFUikpIHtcclxuICAgICAgICAgICAgaWYgKGhhc0ludHJpbnNpY1ZhbHVlKGludHJpbnNpY1Byb3BvcnRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0UmF0aW8gPSBib3VuZHMud2lkdGggLyBib3VuZHMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFJhdGlvIDwgaW50cmluc2ljUHJvcG9ydGlvbiAhPT0gKGZpcnN0LnZhbHVlID09PSBCQUNLR1JPVU5EX1NJWkUuQ09WRVIpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBbYm91bmRzLndpZHRoLCBib3VuZHMud2lkdGggLyBpbnRyaW5zaWNQcm9wb3J0aW9uXVxyXG4gICAgICAgICAgICAgICAgICAgIDogW2JvdW5kcy5oZWlnaHQgKiBpbnRyaW5zaWNQcm9wb3J0aW9uLCBib3VuZHMuaGVpZ2h0XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gW2JvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBoYXNJbnRyaW5zaWNXaWR0aCA9IGhhc0ludHJpbnNpY1ZhbHVlKGludHJpbnNpY1dpZHRoKTtcclxuICAgICAgICB2YXIgaGFzSW50cmluc2ljSGVpZ2h0ID0gaGFzSW50cmluc2ljVmFsdWUoaW50cmluc2ljSGVpZ2h0KTtcclxuICAgICAgICB2YXIgaGFzSW50cmluc2ljRGltZW5zaW9ucyA9IGhhc0ludHJpbnNpY1dpZHRoIHx8IGhhc0ludHJpbnNpY0hlaWdodDtcclxuICAgICAgICAvLyBJZiB0aGUgYmFja2dyb3VuZC1zaXplIGlzIGF1dG8gb3IgYXV0byBhdXRvOlxyXG4gICAgICAgIGlmIChpc0F1dG8oZmlyc3QpICYmICghc2Vjb25kIHx8IGlzQXV0byhzZWNvbmQpKSkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaGFzIGJvdGggaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgaW50cmluc2ljIGRpbWVuc2lvbnMsIGl0J3MgcmVuZGVyZWQgYXQgdGhhdCBzaXplLlxyXG4gICAgICAgICAgICBpZiAoaGFzSW50cmluc2ljV2lkdGggJiYgaGFzSW50cmluc2ljSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW2ludHJpbnNpY1dpZHRoLCBpbnRyaW5zaWNIZWlnaHRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbWFnZSBoYXMgbm8gaW50cmluc2ljIGRpbWVuc2lvbnMgYW5kIGhhcyBubyBpbnRyaW5zaWMgcHJvcG9ydGlvbnMsXHJcbiAgICAgICAgICAgIC8vIGl0J3MgcmVuZGVyZWQgYXQgdGhlIHNpemUgb2YgdGhlIGJhY2tncm91bmQgcG9zaXRpb25pbmcgYXJlYS5cclxuICAgICAgICAgICAgaWYgKCFoYXNJbnRyaW5zaWNQcm9wb3J0aW9uICYmICFoYXNJbnRyaW5zaWNEaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW2JvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVE9ETyBJZiB0aGUgaW1hZ2UgaGFzIG5vIGludHJpbnNpYyBkaW1lbnNpb25zIGJ1dCBoYXMgaW50cmluc2ljIHByb3BvcnRpb25zLCBpdCdzIHJlbmRlcmVkIGFzIGlmIGNvbnRhaW4gaGFkIGJlZW4gc3BlY2lmaWVkIGluc3RlYWQuXHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbWFnZSBoYXMgb25seSBvbmUgaW50cmluc2ljIGRpbWVuc2lvbiBhbmQgaGFzIGludHJpbnNpYyBwcm9wb3J0aW9ucywgaXQncyByZW5kZXJlZCBhdCB0aGUgc2l6ZSBjb3JyZXNwb25kaW5nIHRvIHRoYXQgb25lIGRpbWVuc2lvbi5cclxuICAgICAgICAgICAgLy8gVGhlIG90aGVyIGRpbWVuc2lvbiBpcyBjb21wdXRlZCB1c2luZyB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbiBhbmQgdGhlIGludHJpbnNpYyBwcm9wb3J0aW9ucy5cclxuICAgICAgICAgICAgaWYgKGhhc0ludHJpbnNpY0RpbWVuc2lvbnMgJiYgaGFzSW50cmluc2ljUHJvcG9ydGlvbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoXzEgPSBoYXNJbnRyaW5zaWNXaWR0aFxyXG4gICAgICAgICAgICAgICAgICAgID8gaW50cmluc2ljV2lkdGhcclxuICAgICAgICAgICAgICAgICAgICA6IGludHJpbnNpY0hlaWdodCAqIGludHJpbnNpY1Byb3BvcnRpb247XHJcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0XzEgPSBoYXNJbnRyaW5zaWNIZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICA/IGludHJpbnNpY0hlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgIDogaW50cmluc2ljV2lkdGggLyBpbnRyaW5zaWNQcm9wb3J0aW9uO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFt3aWR0aF8xLCBoZWlnaHRfMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGhhcyBvbmx5IG9uZSBpbnRyaW5zaWMgZGltZW5zaW9uIGJ1dCBoYXMgbm8gaW50cmluc2ljIHByb3BvcnRpb25zLFxyXG4gICAgICAgICAgICAvLyBpdCdzIHJlbmRlcmVkIHVzaW5nIHRoZSBzcGVjaWZpZWQgZGltZW5zaW9uIGFuZCB0aGUgb3RoZXIgZGltZW5zaW9uIG9mIHRoZSBiYWNrZ3JvdW5kIHBvc2l0aW9uaW5nIGFyZWEuXHJcbiAgICAgICAgICAgIHZhciB3aWR0aF8yID0gaGFzSW50cmluc2ljV2lkdGggPyBpbnRyaW5zaWNXaWR0aCA6IGJvdW5kcy53aWR0aDtcclxuICAgICAgICAgICAgdmFyIGhlaWdodF8yID0gaGFzSW50cmluc2ljSGVpZ2h0ID8gaW50cmluc2ljSGVpZ2h0IDogYm91bmRzLmhlaWdodDtcclxuICAgICAgICAgICAgcmV0dXJuIFt3aWR0aF8yLCBoZWlnaHRfMl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIHRoZSBpbWFnZSBoYXMgaW50cmluc2ljIHByb3BvcnRpb25zLCBpdCdzIHN0cmV0Y2hlZCB0byB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbi5cclxuICAgICAgICAvLyBUaGUgdW5zcGVjaWZpZWQgZGltZW5zaW9uIGlzIGNvbXB1dGVkIHVzaW5nIHRoZSBzcGVjaWZpZWQgZGltZW5zaW9uIGFuZCB0aGUgaW50cmluc2ljIHByb3BvcnRpb25zLlxyXG4gICAgICAgIGlmIChoYXNJbnRyaW5zaWNQcm9wb3J0aW9uKSB7XHJcbiAgICAgICAgICAgIHZhciB3aWR0aF8zID0gMDtcclxuICAgICAgICAgICAgdmFyIGhlaWdodF8zID0gMDtcclxuICAgICAgICAgICAgaWYgKGlzTGVuZ3RoUGVyY2VudGFnZShmaXJzdCkpIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoXzMgPSBnZXRBYnNvbHV0ZVZhbHVlKGZpcnN0LCBib3VuZHMud2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzTGVuZ3RoUGVyY2VudGFnZShzZWNvbmQpKSB7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHRfMyA9IGdldEFic29sdXRlVmFsdWUoc2Vjb25kLCBib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNBdXRvKGZpcnN0KSkge1xyXG4gICAgICAgICAgICAgICAgd2lkdGhfMyA9IGhlaWdodF8zICogaW50cmluc2ljUHJvcG9ydGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICghc2Vjb25kIHx8IGlzQXV0byhzZWNvbmQpKSB7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHRfMyA9IHdpZHRoXzMgLyBpbnRyaW5zaWNQcm9wb3J0aW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBbd2lkdGhfMywgaGVpZ2h0XzNdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaGFzIG5vIGludHJpbnNpYyBwcm9wb3J0aW9ucywgaXQncyBzdHJldGNoZWQgdG8gdGhlIHNwZWNpZmllZCBkaW1lbnNpb24uXHJcbiAgICAgICAgLy8gVGhlIHVuc3BlY2lmaWVkIGRpbWVuc2lvbiBpcyBjb21wdXRlZCB1c2luZyB0aGUgaW1hZ2UncyBjb3JyZXNwb25kaW5nIGludHJpbnNpYyBkaW1lbnNpb24sXHJcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25lLiBJZiB0aGVyZSBpcyBubyBzdWNoIGludHJpbnNpYyBkaW1lbnNpb24sXHJcbiAgICAgICAgLy8gaXQgYmVjb21lcyB0aGUgY29ycmVzcG9uZGluZyBkaW1lbnNpb24gb2YgdGhlIGJhY2tncm91bmQgcG9zaXRpb25pbmcgYXJlYS5cclxuICAgICAgICB2YXIgd2lkdGggPSBudWxsO1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSBudWxsO1xyXG4gICAgICAgIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2UoZmlyc3QpKSB7XHJcbiAgICAgICAgICAgIHdpZHRoID0gZ2V0QWJzb2x1dGVWYWx1ZShmaXJzdCwgYm91bmRzLndpZHRoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoc2Vjb25kICYmIGlzTGVuZ3RoUGVyY2VudGFnZShzZWNvbmQpKSB7XHJcbiAgICAgICAgICAgIGhlaWdodCA9IGdldEFic29sdXRlVmFsdWUoc2Vjb25kLCBib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHdpZHRoICE9PSBudWxsICYmICghc2Vjb25kIHx8IGlzQXV0byhzZWNvbmQpKSkge1xyXG4gICAgICAgICAgICBoZWlnaHQgPVxyXG4gICAgICAgICAgICAgICAgaGFzSW50cmluc2ljV2lkdGggJiYgaGFzSW50cmluc2ljSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgPyAod2lkdGggLyBpbnRyaW5zaWNXaWR0aCkgKiBpbnRyaW5zaWNIZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICA6IGJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChoZWlnaHQgIT09IG51bGwgJiYgaXNBdXRvKGZpcnN0KSkge1xyXG4gICAgICAgICAgICB3aWR0aCA9XHJcbiAgICAgICAgICAgICAgICBoYXNJbnRyaW5zaWNXaWR0aCAmJiBoYXNJbnRyaW5zaWNIZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICA/IChoZWlnaHQgLyBpbnRyaW5zaWNIZWlnaHQpICogaW50cmluc2ljV2lkdGhcclxuICAgICAgICAgICAgICAgICAgICA6IGJvdW5kcy53aWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHdpZHRoICE9PSBudWxsICYmIGhlaWdodCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gY2FsY3VsYXRlIGJhY2tncm91bmQtc2l6ZSBmb3IgZWxlbWVudFwiKTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXggPSBmdW5jdGlvbiAodmFsdWVzLCBpbmRleCkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlc1tpbmRleF07XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1swXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfTtcclxuICAgIHZhciBjYWxjdWxhdGVCYWNrZ3JvdW5kUmVwZWF0UGF0aCA9IGZ1bmN0aW9uIChyZXBlYXQsIF9hLCBfYiwgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSwgYmFja2dyb3VuZFBhaW50aW5nQXJlYSkge1xyXG4gICAgICAgIHZhciB4ID0gX2FbMF0sIHkgPSBfYVsxXTtcclxuICAgICAgICB2YXIgd2lkdGggPSBfYlswXSwgaGVpZ2h0ID0gX2JbMV07XHJcbiAgICAgICAgc3dpdGNoIChyZXBlYXQpIHtcclxuICAgICAgICAgICAgY2FzZSBCQUNLR1JPVU5EX1JFUEVBVC5SRVBFQVRfWDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEud2lkdGgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgeSkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLndpZHRoKSwgTWF0aC5yb3VuZChoZWlnaHQgKyBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHkpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0KSwgTWF0aC5yb3VuZChoZWlnaHQgKyBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHkpKVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgY2FzZSBCQUNLR1JPVU5EX1JFUEVBVC5SRVBFQVRfWTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHggKyB3aWR0aCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3ApKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgeCArIHdpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmhlaWdodCArIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEuaGVpZ2h0ICsgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3ApKVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgY2FzZSBCQUNLR1JPVU5EX1JFUEVBVC5OT19SRVBFQVQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4KSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHkpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgeCArIHdpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHkpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgeCArIHdpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHkgKyBoZWlnaHQpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgeCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5ICsgaGVpZ2h0KSlcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmxlZnQpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQYWludGluZ0FyZWEudG9wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQYWludGluZ0FyZWEubGVmdCArIGJhY2tncm91bmRQYWludGluZ0FyZWEud2lkdGgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQYWludGluZ0FyZWEudG9wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQYWludGluZ0FyZWEubGVmdCArIGJhY2tncm91bmRQYWludGluZ0FyZWEud2lkdGgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQYWludGluZ0FyZWEuaGVpZ2h0ICsgYmFja2dyb3VuZFBhaW50aW5nQXJlYS50b3ApKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBhaW50aW5nQXJlYS5sZWZ0KSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmhlaWdodCArIGJhY2tncm91bmRQYWludGluZ0FyZWEudG9wKSlcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcblxuICAgIHZhciBTTUFMTF9JTUFHRSA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTcnO1xuXG4gICAgdmFyIFNBTVBMRV9URVhUID0gJ0hpZGRlbiBUZXh0JztcclxuICAgIHZhciBGb250TWV0cmljcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBGb250TWV0cmljcyhkb2N1bWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuX2RvY3VtZW50ID0gZG9jdW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEZvbnRNZXRyaWNzLnByb3RvdHlwZS5wYXJzZU1ldHJpY3MgPSBmdW5jdGlvbiAoZm9udEZhbWlseSwgZm9udFNpemUpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gdGhpcy5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgICAgIHZhciBzcGFuID0gdGhpcy5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgICAgICB2YXIgYm9keSA9IHRoaXMuX2RvY3VtZW50LmJvZHk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5mb250RmFtaWx5ID0gZm9udEZhbWlseTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXJnaW4gPSAnMCc7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5wYWRkaW5nID0gJzAnO1xyXG4gICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGltZy5zcmMgPSBTTUFMTF9JTUFHRTtcclxuICAgICAgICAgICAgaW1nLndpZHRoID0gMTtcclxuICAgICAgICAgICAgaW1nLmhlaWdodCA9IDE7XHJcbiAgICAgICAgICAgIGltZy5zdHlsZS5tYXJnaW4gPSAnMCc7XHJcbiAgICAgICAgICAgIGltZy5zdHlsZS5wYWRkaW5nID0gJzAnO1xyXG4gICAgICAgICAgICBpbWcuc3R5bGUudmVydGljYWxBbGlnbiA9ICdiYXNlbGluZSc7XHJcbiAgICAgICAgICAgIHNwYW4uc3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XHJcbiAgICAgICAgICAgIHNwYW4uc3R5bGUuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW4gPSAnMCc7XHJcbiAgICAgICAgICAgIHNwYW4uc3R5bGUucGFkZGluZyA9ICcwJztcclxuICAgICAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZCh0aGlzLl9kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTQU1QTEVfVEVYVCkpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3Bhbik7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbWcpO1xyXG4gICAgICAgICAgICB2YXIgYmFzZWxpbmUgPSBpbWcub2Zmc2V0VG9wIC0gc3Bhbi5vZmZzZXRUb3AgKyAyO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoc3Bhbik7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTQU1QTEVfVEVYVCkpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9ICdub3JtYWwnO1xyXG4gICAgICAgICAgICBpbWcuc3R5bGUudmVydGljYWxBbGlnbiA9ICdzdXBlcic7XHJcbiAgICAgICAgICAgIHZhciBtaWRkbGUgPSBpbWcub2Zmc2V0VG9wIC0gY29udGFpbmVyLm9mZnNldFRvcCArIDI7XHJcbiAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgYmFzZWxpbmU6IGJhc2VsaW5lLCBtaWRkbGU6IG1pZGRsZSB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRm9udE1ldHJpY3MucHJvdG90eXBlLmdldE1ldHJpY3MgPSBmdW5jdGlvbiAoZm9udEZhbWlseSwgZm9udFNpemUpIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IGZvbnRGYW1pbHkgKyBcIiBcIiArIGZvbnRTaXplO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2RhdGFba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFba2V5XSA9IHRoaXMucGFyc2VNZXRyaWNzKGZvbnRGYW1pbHksIGZvbnRTaXplKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtrZXldO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEZvbnRNZXRyaWNzO1xyXG4gICAgfSgpKTtcblxuICAgIHZhciBNQVNLX09GRlNFVCA9IDEwMDAwO1xyXG4gICAgdmFyIENhbnZhc1JlbmRlcmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIENhbnZhc1JlbmRlcmVyKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fYWN0aXZlRWZmZWN0cyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IG9wdGlvbnMuY2FudmFzID8gb3B0aW9ucy5jYW52YXMgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuY2FudmFzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Iob3B0aW9ucy53aWR0aCAqIG9wdGlvbnMuc2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5mbG9vcihvcHRpb25zLmhlaWdodCAqIG9wdGlvbnMuc2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSBvcHRpb25zLndpZHRoICsgXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5mb250TWV0cmljcyA9IG5ldyBGb250TWV0cmljcyhkb2N1bWVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnNjYWxlKHRoaXMub3B0aW9ucy5zY2FsZSwgdGhpcy5vcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKC1vcHRpb25zLnggKyBvcHRpb25zLnNjcm9sbFgsIC1vcHRpb25zLnkgKyBvcHRpb25zLnNjcm9sbFkpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnYm90dG9tJztcclxuICAgICAgICAgICAgdGhpcy5fYWN0aXZlRWZmZWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2Uob3B0aW9ucy5pZCkuZGVidWcoXCJDYW52YXMgcmVuZGVyZXIgaW5pdGlhbGl6ZWQgKFwiICsgb3B0aW9ucy53aWR0aCArIFwieFwiICsgb3B0aW9ucy5oZWlnaHQgKyBcIiBhdCBcIiArIG9wdGlvbnMueCArIFwiLFwiICsgb3B0aW9ucy55ICsgXCIpIHdpdGggc2NhbGUgXCIgKyBvcHRpb25zLnNjYWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmFwcGx5RWZmZWN0cyA9IGZ1bmN0aW9uIChlZmZlY3RzLCB0YXJnZXQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuX2FjdGl2ZUVmZmVjdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcEVmZmVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVmZmVjdHMuZmlsdGVyKGZ1bmN0aW9uIChlZmZlY3QpIHsgcmV0dXJuIGNvbnRhaW5zKGVmZmVjdC50YXJnZXQsIHRhcmdldCk7IH0pLmZvckVhY2goZnVuY3Rpb24gKGVmZmVjdCkgeyByZXR1cm4gX3RoaXMuYXBwbHlFZmZlY3QoZWZmZWN0KTsgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuYXBwbHlFZmZlY3QgPSBmdW5jdGlvbiAoZWZmZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgaWYgKGlzVHJhbnNmb3JtRWZmZWN0KGVmZmVjdCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShlZmZlY3Qub2Zmc2V0WCwgZWZmZWN0Lm9mZnNldFkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHgudHJhbnNmb3JtKGVmZmVjdC5tYXRyaXhbMF0sIGVmZmVjdC5tYXRyaXhbMV0sIGVmZmVjdC5tYXRyaXhbMl0sIGVmZmVjdC5tYXRyaXhbM10sIGVmZmVjdC5tYXRyaXhbNF0sIGVmZmVjdC5tYXRyaXhbNV0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKC1lZmZlY3Qub2Zmc2V0WCwgLWVmZmVjdC5vZmZzZXRZKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNDbGlwRWZmZWN0KGVmZmVjdCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGF0aChlZmZlY3QucGF0aCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5jbGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fYWN0aXZlRWZmZWN0cy5wdXNoKGVmZmVjdCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucG9wRWZmZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVFZmZlY3RzLnBvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyU3RhY2sgPSBmdW5jdGlvbiAoc3RhY2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcyA9IHN0YWNrLmVsZW1lbnQuY29udGFpbmVyLnN0eWxlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3R5bGVzLmlzVmlzaWJsZSgpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4Lmdsb2JhbEFscGhhID0gc3R5bGVzLm9wYWNpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlclN0YWNrQ29udGVudChzdGFjayldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJOb2RlID0gZnVuY3Rpb24gKHBhaW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFpbnQuY29udGFpbmVyLnN0eWxlcy5pc1Zpc2libGUoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlck5vZGVCYWNrZ3JvdW5kQW5kQm9yZGVycyhwYWludCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlck5vZGVDb250ZW50KHBhaW50KV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlclRleHRXaXRoTGV0dGVyU3BhY2luZyA9IGZ1bmN0aW9uICh0ZXh0LCBsZXR0ZXJTcGFjaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmIChsZXR0ZXJTcGFjaW5nID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsVGV4dCh0ZXh0LnRleHQsIHRleHQuYm91bmRzLmxlZnQsIHRleHQuYm91bmRzLnRvcCArIHRleHQuYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGV0dGVycyA9IHRvQ29kZVBvaW50cyh0ZXh0LnRleHQpLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gZnJvbUNvZGVQb2ludChpKTsgfSk7XHJcbiAgICAgICAgICAgICAgICBsZXR0ZXJzLnJlZHVjZShmdW5jdGlvbiAobGVmdCwgbGV0dGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxUZXh0KGxldHRlciwgbGVmdCwgdGV4dC5ib3VuZHMudG9wICsgdGV4dC5ib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGVmdCArIF90aGlzLmN0eC5tZWFzdXJlVGV4dChsZXR0ZXIpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgfSwgdGV4dC5ib3VuZHMubGVmdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVGb250U3R5bGUgPSBmdW5jdGlvbiAoc3R5bGVzKSB7XHJcbiAgICAgICAgICAgIHZhciBmb250VmFyaWFudCA9IHN0eWxlcy5mb250VmFyaWFudFxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAodmFyaWFudCkgeyByZXR1cm4gdmFyaWFudCA9PT0gJ25vcm1hbCcgfHwgdmFyaWFudCA9PT0gJ3NtYWxsLWNhcHMnOyB9KVxyXG4gICAgICAgICAgICAgICAgLmpvaW4oJycpO1xyXG4gICAgICAgICAgICB2YXIgZm9udEZhbWlseSA9IHN0eWxlcy5mb250RmFtaWx5LmpvaW4oJywgJyk7XHJcbiAgICAgICAgICAgIHZhciBmb250U2l6ZSA9IGlzRGltZW5zaW9uVG9rZW4oc3R5bGVzLmZvbnRTaXplKVxyXG4gICAgICAgICAgICAgICAgPyBcIlwiICsgc3R5bGVzLmZvbnRTaXplLm51bWJlciArIHN0eWxlcy5mb250U2l6ZS51bml0XHJcbiAgICAgICAgICAgICAgICA6IHN0eWxlcy5mb250U2l6ZS5udW1iZXIgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICBbc3R5bGVzLmZvbnRTdHlsZSwgZm9udFZhcmlhbnQsIHN0eWxlcy5mb250V2VpZ2h0LCBmb250U2l6ZSwgZm9udEZhbWlseV0uam9pbignICcpLFxyXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyVGV4dE5vZGUgPSBmdW5jdGlvbiAodGV4dCwgc3R5bGVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfYSwgZm9udCwgZm9udEZhbWlseSwgZm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgICAgIF9hID0gdGhpcy5jcmVhdGVGb250U3R5bGUoc3R5bGVzKSwgZm9udCA9IF9hWzBdLCBmb250RmFtaWx5ID0gX2FbMV0sIGZvbnRTaXplID0gX2FbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZm9udCA9IGZvbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC50ZXh0Qm91bmRzLmZvckVhY2goZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHN0eWxlcy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlbmRlclRleHRXaXRoTGV0dGVyU3BhY2luZyh0ZXh0LCBzdHlsZXMubGV0dGVyU3BhY2luZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0U2hhZG93cyA9IHN0eWxlcy50ZXh0U2hhZG93O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dFNoYWRvd3MubGVuZ3RoICYmIHRleHQudGV4dC50cmltKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U2hhZG93c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZSgwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXZlcnNlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAodGV4dFNoYWRvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dDb2xvciA9IGFzU3RyaW5nKHRleHRTaGFkb3cuY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dPZmZzZXRYID0gdGV4dFNoYWRvdy5vZmZzZXRYLm51bWJlciAqIF90aGlzLm9wdGlvbnMuc2NhbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd09mZnNldFkgPSB0ZXh0U2hhZG93Lm9mZnNldFkubnVtYmVyICogX3RoaXMub3B0aW9ucy5zY2FsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguc2hhZG93Qmx1ciA9IHRleHRTaGFkb3cuYmx1ci5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxUZXh0KHRleHQudGV4dCwgdGV4dC5ib3VuZHMubGVmdCwgdGV4dC5ib3VuZHMudG9wICsgdGV4dC5ib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd0NvbG9yID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguc2hhZG93T2Zmc2V0WCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguc2hhZG93T2Zmc2V0WSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguc2hhZG93Qmx1ciA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlcy50ZXh0RGVjb3JhdGlvbkxpbmUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcoc3R5bGVzLnRleHREZWNvcmF0aW9uQ29sb3IgfHwgc3R5bGVzLmNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcy50ZXh0RGVjb3JhdGlvbkxpbmUuZm9yRWFjaChmdW5jdGlvbiAodGV4dERlY29yYXRpb25MaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0ZXh0RGVjb3JhdGlvbkxpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxIC8qIFVOREVSTElORSAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERyYXdzIGEgbGluZSBhdCB0aGUgYmFzZWxpbmUgb2YgdGhlIGZvbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gQXMgc29tZSBicm93c2VycyBkaXNwbGF5IHRoZSBsaW5lIGFzIG1vcmUgdGhhbiAxcHggaWYgdGhlIGZvbnQtc2l6ZSBpcyBiaWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIHRha2UgdGhhdCBpbnRvIGFjY291bnQgYm90aCBpbiBwb3NpdGlvbiBhbmQgc2l6ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VsaW5lID0gX3RoaXMuZm9udE1ldHJpY3MuZ2V0TWV0cmljcyhmb250RmFtaWx5LCBmb250U2l6ZSkuYmFzZWxpbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguZmlsbFJlY3QodGV4dC5ib3VuZHMubGVmdCwgTWF0aC5yb3VuZCh0ZXh0LmJvdW5kcy50b3AgKyBiYXNlbGluZSksIHRleHQuYm91bmRzLndpZHRoLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIgLyogT1ZFUkxJTkUgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguZmlsbFJlY3QodGV4dC5ib3VuZHMubGVmdCwgTWF0aC5yb3VuZCh0ZXh0LmJvdW5kcy50b3ApLCB0ZXh0LmJvdW5kcy53aWR0aCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzIC8qIExJTkVfVEhST1VHSCAqLzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gdHJ5IGFuZCBmaW5kIGV4YWN0IHBvc2l0aW9uIGZvciBsaW5lLXRocm91Z2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaWRkbGUgPSBfdGhpcy5mb250TWV0cmljcy5nZXRNZXRyaWNzKGZvbnRGYW1pbHksIGZvbnRTaXplKS5taWRkbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguZmlsbFJlY3QodGV4dC5ib3VuZHMubGVmdCwgTWF0aC5jZWlsKHRleHQuYm91bmRzLnRvcCArIG1pZGRsZSksIHRleHQuYm91bmRzLndpZHRoLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlclJlcGxhY2VkRWxlbWVudCA9IGZ1bmN0aW9uIChjb250YWluZXIsIGN1cnZlcywgaW1hZ2UpIHtcclxuICAgICAgICAgICAgaWYgKGltYWdlICYmIGNvbnRhaW5lci5pbnRyaW5zaWNXaWR0aCA+IDAgJiYgY29udGFpbmVyLmludHJpbnNpY0hlaWdodCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBib3ggPSBjb250ZW50Qm94KGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGF0aCA9IGNhbGN1bGF0ZVBhZGRpbmdCb3hQYXRoKGN1cnZlcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGgocGF0aCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5jbGlwKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGNvbnRhaW5lci5pbnRyaW5zaWNXaWR0aCwgY29udGFpbmVyLmludHJpbnNpY0hlaWdodCwgYm94LmxlZnQsIGJveC50b3AsIGJveC53aWR0aCwgYm94LmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJOb2RlQ29udGVudCA9IGZ1bmN0aW9uIChwYWludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyLCBjdXJ2ZXMsIHN0eWxlcywgX2ksIF9hLCBjaGlsZCwgaW1hZ2UsIGVfMSwgaW1hZ2UsIGVfMiwgaWZyYW1lUmVuZGVyZXIsIGNhbnZhcywgc2l6ZSwgYm91bmRzLCB4LCB0ZXh0Qm91bmRzLCBpbWcsIGltYWdlLCB1cmwsIGVfMywgYm91bmRzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUVmZmVjdHMocGFpbnQuZWZmZWN0cywgNCAvKiBDT05URU5UICovKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHBhaW50LmNvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlcyA9IHBhaW50LmN1cnZlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcyA9IGNvbnRhaW5lci5zdHlsZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaSA9IDAsIF9hID0gY29udGFpbmVyLnRleHROb2RlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2kgPCBfYS5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJUZXh0Tm9kZShjaGlsZCwgc3R5bGVzKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2krKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShjb250YWluZXIgaW5zdGFuY2VvZiBJbWFnZUVsZW1lbnRDb250YWluZXIpKSByZXR1cm4gWzMgLypicmVhayovLCA4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFs1LCA3LCAsIDhdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMub3B0aW9ucy5jYWNoZS5tYXRjaChjb250YWluZXIuc3JjKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJSZXBsYWNlZEVsZW1lbnQoY29udGFpbmVyLCBjdXJ2ZXMsIGltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5vcHRpb25zLmlkKS5lcnJvcihcIkVycm9yIGxvYWRpbmcgaW1hZ2UgXCIgKyBjb250YWluZXIuc3JjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgQ2FudmFzRWxlbWVudENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUmVwbGFjZWRFbGVtZW50KGNvbnRhaW5lciwgY3VydmVzLCBjb250YWluZXIuY2FudmFzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGNvbnRhaW5lciBpbnN0YW5jZW9mIFNWR0VsZW1lbnRDb250YWluZXIpKSByZXR1cm4gWzMgLypicmVhayovLCAxMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbOSwgMTEsICwgMTJdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMub3B0aW9ucy5jYWNoZS5tYXRjaChjb250YWluZXIuc3ZnKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUmVwbGFjZWRFbGVtZW50KGNvbnRhaW5lciwgY3VydmVzLCBpbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlXzIgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5vcHRpb25zLmlkKS5lcnJvcihcIkVycm9yIGxvYWRpbmcgc3ZnIFwiICsgY29udGFpbmVyLnN2Zy5zdWJzdHJpbmcoMCwgMjU1KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShjb250YWluZXIgaW5zdGFuY2VvZiBJRnJhbWVFbGVtZW50Q29udGFpbmVyICYmIGNvbnRhaW5lci50cmVlKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lUmVuZGVyZXIgPSBuZXcgQ2FudmFzUmVuZGVyZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLm9wdGlvbnMuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHRoaXMub3B0aW9ucy5zY2FsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbnRhaW5lci5iYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogdGhpcy5vcHRpb25zLmNhY2hlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1dpZHRoOiBjb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93SGVpZ2h0OiBjb250YWluZXIuaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGlmcmFtZVJlbmRlcmVyLnJlbmRlcihjb250YWluZXIudHJlZSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci53aWR0aCAmJiBjb250YWluZXIuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKGNhbnZhcywgMCwgMCwgY29udGFpbmVyLndpZHRoLCBjb250YWluZXIuaGVpZ2h0LCBjb250YWluZXIuYm91bmRzLmxlZnQsIGNvbnRhaW5lci5ib3VuZHMudG9wLCBjb250YWluZXIuYm91bmRzLndpZHRoLCBjb250YWluZXIuYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIElucHV0RWxlbWVudENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBNYXRoLm1pbihjb250YWluZXIuYm91bmRzLndpZHRoLCBjb250YWluZXIuYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci50eXBlID09PSBDSEVDS0JPWCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC4zOTM2MywgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC43OSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC4xNiwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC41NTQ5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjI3MzQ3LCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjQ0MDcxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjM5Njk0LCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjU2NDkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuNzI5ODMsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuMjMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuODQsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuMzQwODUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuMzkzNjMsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuNzkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKElOUFVUX0NPTE9SKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjb250YWluZXIudHlwZSA9PT0gUkFESU8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmFyYyhjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplIC8gMiwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplIC8gMiwgc2l6ZSAvIDQsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKElOUFVUX0NPTE9SKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1RleHRJbnB1dEVsZW1lbnQoY29udGFpbmVyKSAmJiBjb250YWluZXIudmFsdWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZm9udCA9IHRoaXMuY3JlYXRlRm9udFN0eWxlKHN0eWxlcylbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcoc3R5bGVzLmNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC50ZXh0QWxpZ24gPSBjYW52YXNUZXh0QWxpZ24oY29udGFpbmVyLnN0eWxlcy50ZXh0QWxpZ24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kcyA9IGNvbnRlbnRCb3goY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNvbnRhaW5lci5zdHlsZXMudGV4dEFsaWduKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVEVYVF9BTElHTi5DRU5URVI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ICs9IGJvdW5kcy53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBURVhUX0FMSUdOLlJJR0hUOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCArPSBib3VuZHMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEJvdW5kcyA9IGJvdW5kcy5hZGQoeCwgMCwgMCwgLWJvdW5kcy5oZWlnaHQgLyAyICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoYm91bmRzLmxlZnQsIGJvdW5kcy50b3ApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoLCBib3VuZHMudG9wKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5jbGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJUZXh0V2l0aExldHRlclNwYWNpbmcobmV3IFRleHRCb3VuZHMoY29udGFpbmVyLnZhbHVlLCB0ZXh0Qm91bmRzKSwgc3R5bGVzLmxldHRlclNwYWNpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnYm90dG9tJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC50ZXh0QWxpZ24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5zKGNvbnRhaW5lci5zdHlsZXMuZGlzcGxheSwgMjA0OCAvKiBMSVNUX0lURU0gKi8pKSByZXR1cm4gWzMgLypicmVhayovLCAyMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShjb250YWluZXIuc3R5bGVzLmxpc3RTdHlsZUltYWdlICE9PSBudWxsKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nID0gY29udGFpbmVyLnN0eWxlcy5saXN0U3R5bGVJbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGltZy50eXBlID09PSBDU1NJbWFnZVR5cGUuVVJMKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMThdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBpbWcudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMTUsIDE3LCAsIDE4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLm9wdGlvbnMuY2FjaGUubWF0Y2godXJsKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZShpbWFnZSwgY29udGFpbmVyLmJvdW5kcy5sZWZ0IC0gKGltYWdlLndpZHRoICsgMTApLCBjb250YWluZXIuYm91bmRzLnRvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxOF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlXzMgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5vcHRpb25zLmlkKS5lcnJvcihcIkVycm9yIGxvYWRpbmcgbGlzdC1zdHlsZS1pbWFnZSBcIiArIHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxOF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTg6IHJldHVybiBbMyAvKmJyZWFrKi8sIDIwXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWludC5saXN0VmFsdWUgJiYgY29udGFpbmVyLnN0eWxlcy5saXN0U3R5bGVUeXBlICE9PSBMSVNUX1NUWUxFX1RZUEUuTk9ORSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZvbnQgPSB0aGlzLmNyZWF0ZUZvbnRTdHlsZShzdHlsZXMpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHN0eWxlcy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMgPSBuZXcgQm91bmRzKGNvbnRhaW5lci5ib3VuZHMubGVmdCwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBnZXRBYnNvbHV0ZVZhbHVlKGNvbnRhaW5lci5zdHlsZXMucGFkZGluZ1RvcCwgY29udGFpbmVyLmJvdW5kcy53aWR0aCksIGNvbnRhaW5lci5ib3VuZHMud2lkdGgsIGNvbXB1dGVMaW5lSGVpZ2h0KHN0eWxlcy5saW5lSGVpZ2h0LCBzdHlsZXMuZm9udFNpemUubnVtYmVyKSAvIDIgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclRleHRXaXRoTGV0dGVyU3BhY2luZyhuZXcgVGV4dEJvdW5kcyhwYWludC5saXN0VmFsdWUsIGJvdW5kcyksIHN0eWxlcy5sZXR0ZXJTcGFjaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC50ZXh0QmFzZWxpbmUgPSAnYm90dG9tJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC50ZXh0QWxpZ24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDIwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIwOiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlclN0YWNrQ29udGVudCA9IGZ1bmN0aW9uIChzdGFjaykge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2ksIF9hLCBjaGlsZCwgX2IsIF9jLCBjaGlsZCwgX2QsIF9lLCBjaGlsZCwgX2YsIF9nLCBjaGlsZCwgX2gsIF9qLCBjaGlsZCwgX2ssIF9sLCBjaGlsZCwgX20sIF9vLCBjaGlsZDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX3ApIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9wLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDogXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MtcG9zaXRpb24tMy8jcGFpbnRpbmctb3JkZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMS4gdGhlIGJhY2tncm91bmQgYW5kIGJvcmRlcnMgb2YgdGhlIGVsZW1lbnQgZm9ybWluZyB0aGUgc3RhY2tpbmcgY29udGV4dC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJOb2RlQmFja2dyb3VuZEFuZEJvcmRlcnMoc3RhY2suZWxlbWVudCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXBvc2l0aW9uLTMvI3BhaW50aW5nLW9yZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxLiB0aGUgYmFja2dyb3VuZCBhbmQgYm9yZGVycyBvZiB0aGUgZWxlbWVudCBmb3JtaW5nIHRoZSBzdGFja2luZyBjb250ZXh0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Auc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCBfYSA9IHN0YWNrLm5lZ2F0aXZlWkluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfaSA8IF9hLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlclN0YWNrKGNoaWxkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2krKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAzLiBGb3IgYWxsIGl0cyBpbi1mbG93LCBub24tcG9zaXRpb25lZCwgYmxvY2stbGV2ZWwgZGVzY2VuZGFudHMgaW4gdHJlZSBvcmRlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJOb2RlQ29udGVudChzdGFjay5lbGVtZW50KV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDMuIEZvciBhbGwgaXRzIGluLWZsb3csIG5vbi1wb3NpdGlvbmVkLCBibG9jay1sZXZlbCBkZXNjZW5kYW50cyBpbiB0cmVlIG9yZGVyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Auc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IgPSAwLCBfYyA9IHN0YWNrLm5vbklubGluZUxldmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSA3O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfYiA8IF9jLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDEwXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gX2NbX2JdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJOb2RlKGNoaWxkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gOTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2QgPSAwLCBfZSA9IHN0YWNrLm5vblBvc2l0aW9uZWRGbG9hdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2QgPCBfZS5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAxNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9lW19kXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyU3RhY2soY2hpbGQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMTM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2YgPSAwLCBfZyA9IHN0YWNrLm5vblBvc2l0aW9uZWRJbmxpbmVMZXZlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMTU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfZiA8IF9nLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDE4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gX2dbX2ZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJTdGFjayhjaGlsZCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Auc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAxNztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxNV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaCA9IDAsIF9qID0gc3RhY2suaW5saW5lTGV2ZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDE5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE5OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2ggPCBfai5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAyMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9qW19oXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyTm9kZShjaGlsZCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Auc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAyMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxOV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfayA9IDAsIF9sID0gc3RhY2suemVyb09yQXV0b1pJbmRleE9yVHJhbnNmb3JtZWRPck9wYWNpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDIzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2sgPCBfbC5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAyNl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9sW19rXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyU3RhY2soY2hpbGQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMjU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaysrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMjNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX20gPSAwLCBfbyA9IHN0YWNrLnBvc2l0aXZlWkluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAyNztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9tIDwgX28ubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfb1tfbV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlclN0YWNrKGNoaWxkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDI5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI5OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX20rKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDI3XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMDogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5tYXNrID0gZnVuY3Rpb24gKHBhdGhzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5tb3ZlVG8oMCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyh0aGlzLmNhbnZhcy53aWR0aCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbyh0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubGluZVRvKDAsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbygwLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5mb3JtYXRQYXRoKHBhdGhzLnNsaWNlKDApLnJldmVyc2UoKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnBhdGggPSBmdW5jdGlvbiAocGF0aHMpIHtcclxuICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0UGF0aChwYXRocyk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmZvcm1hdFBhdGggPSBmdW5jdGlvbiAocGF0aHMpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgcGF0aHMuZm9yRWFjaChmdW5jdGlvbiAocG9pbnQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBpc0JlemllckN1cnZlKHBvaW50KSA/IHBvaW50LnN0YXJ0IDogcG9pbnQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHgubW92ZVRvKHN0YXJ0LngsIHN0YXJ0LnkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmxpbmVUbyhzdGFydC54LCBzdGFydC55KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc0JlemllckN1cnZlKHBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5iZXppZXJDdXJ2ZVRvKHBvaW50LnN0YXJ0Q29udHJvbC54LCBwb2ludC5zdGFydENvbnRyb2wueSwgcG9pbnQuZW5kQ29udHJvbC54LCBwb2ludC5lbmRDb250cm9sLnksIHBvaW50LmVuZC54LCBwb2ludC5lbmQueSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlclJlcGVhdCA9IGZ1bmN0aW9uIChwYXRoLCBwYXR0ZXJuLCBvZmZzZXRYLCBvZmZzZXRZKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGF0aChwYXRoKTtcclxuICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gcGF0dGVybjtcclxuICAgICAgICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKG9mZnNldFgsIG9mZnNldFkpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSgtb2Zmc2V0WCwgLW9mZnNldFkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlc2l6ZUltYWdlID0gZnVuY3Rpb24gKGltYWdlLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIGlmIChpbWFnZS53aWR0aCA9PT0gd2lkdGggJiYgaW1hZ2UuaGVpZ2h0ID09PSBoZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgaW1hZ2Uud2lkdGgsIGltYWdlLmhlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIHJldHVybiBjYW52YXM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyQmFja2dyb3VuZEltYWdlID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXgsIF9sb29wXzEsIHRoaXNfMSwgX2ksIF9hLCBiYWNrZ3JvdW5kSW1hZ2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZEltYWdlLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9vcF8xID0gZnVuY3Rpb24gKGJhY2tncm91bmRJbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZSwgdXJsLCBlXzQsIF9hLCBwYXRoLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBwYXR0ZXJuLCBfYiwgcGF0aCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgX2MsIGxpbmVMZW5ndGgsIHgwLCB4MSwgeTAsIHkxLCBjYW52YXMsIGN0eCwgZ3JhZGllbnRfMSwgcGF0dGVybiwgX2QsIHBhdGgsIGxlZnQsIHRvcF8xLCB3aWR0aCwgaGVpZ2h0LCBwb3NpdGlvbiwgeCwgeSwgX2UsIHJ4LCByeSwgcmFkaWFsR3JhZGllbnRfMSwgbWlkWCwgbWlkWSwgZiwgaW52RjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9mKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2YubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShiYWNrZ3JvdW5kSW1hZ2UudHlwZSA9PT0gQ1NTSW1hZ2VUeXBlLlVSTCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IGJhY2tncm91bmRJbWFnZS51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2YubGFiZWwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpc18xLm9wdGlvbnMuY2FjaGUubWF0Y2godXJsKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBfZi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZV80ID0gX2Yuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZSh0aGlzXzEub3B0aW9ucy5pZCkuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGJhY2tncm91bmQtaW1hZ2UgXCIgKyB1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYSA9IGNhbGN1bGF0ZUJhY2tncm91bmRSZW5kZXJpbmcoY29udGFpbmVyLCBpbmRleCwgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS53aWR0aCAvIGltYWdlLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSwgcGF0aCA9IF9hWzBdLCB4ID0gX2FbMV0sIHkgPSBfYVsyXSwgd2lkdGggPSBfYVszXSwgaGVpZ2h0ID0gX2FbNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSB0aGlzXzEuY3R4LmNyZWF0ZVBhdHRlcm4odGhpc18xLnJlc2l6ZUltYWdlKGltYWdlLCB3aWR0aCwgaGVpZ2h0KSwgJ3JlcGVhdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEucmVuZGVyUmVwZWF0KHBhdGgsIHBhdHRlcm4sIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA2XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNMaW5lYXJHcmFkaWVudChiYWNrZ3JvdW5kSW1hZ2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gY2FsY3VsYXRlQmFja2dyb3VuZFJlbmRlcmluZyhjb250YWluZXIsIGluZGV4LCBbbnVsbCwgbnVsbCwgbnVsbF0pLCBwYXRoID0gX2JbMF0sIHggPSBfYlsxXSwgeSA9IF9iWzJdLCB3aWR0aCA9IF9iWzNdLCBoZWlnaHQgPSBfYls0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MgPSBjYWxjdWxhdGVHcmFkaWVudERpcmVjdGlvbihiYWNrZ3JvdW5kSW1hZ2UuYW5nbGUsIHdpZHRoLCBoZWlnaHQpLCBsaW5lTGVuZ3RoID0gX2NbMF0sIHgwID0gX2NbMV0sIHgxID0gX2NbMl0sIHkwID0gX2NbM10sIHkxID0gX2NbNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYWRpZW50XzEgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoeDAsIHkwLCB4MSwgeTEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQ29sb3JTdG9wcyhiYWNrZ3JvdW5kSW1hZ2Uuc3RvcHMsIGxpbmVMZW5ndGgpLmZvckVhY2goZnVuY3Rpb24gKGNvbG9yU3RvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdyYWRpZW50XzEuYWRkQ29sb3JTdG9wKGNvbG9yU3RvcC5zdG9wLCBhc1N0cmluZyhjb2xvclN0b3AuY29sb3IpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkaWVudF8xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiA9IHRoaXNfMS5jdHguY3JlYXRlUGF0dGVybihjYW52YXMsICdyZXBlYXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5yZW5kZXJSZXBlYXQocGF0aCwgcGF0dGVybiwgeCwgeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNSYWRpYWxHcmFkaWVudChiYWNrZ3JvdW5kSW1hZ2UpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kID0gY2FsY3VsYXRlQmFja2dyb3VuZFJlbmRlcmluZyhjb250YWluZXIsIGluZGV4LCBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksIHBhdGggPSBfZFswXSwgbGVmdCA9IF9kWzFdLCB0b3BfMSA9IF9kWzJdLCB3aWR0aCA9IF9kWzNdLCBoZWlnaHQgPSBfZFs0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBiYWNrZ3JvdW5kSW1hZ2UucG9zaXRpb24ubGVuZ3RoID09PSAwID8gW0ZJRlRZX1BFUkNFTlRdIDogYmFja2dyb3VuZEltYWdlLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID0gZ2V0QWJzb2x1dGVWYWx1ZShwb3NpdGlvblswXSwgd2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gZ2V0QWJzb2x1dGVWYWx1ZShwb3NpdGlvbltwb3NpdGlvbi5sZW5ndGggLSAxXSwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2UgPSBjYWxjdWxhdGVSYWRpdXMoYmFja2dyb3VuZEltYWdlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KSwgcnggPSBfZVswXSwgcnkgPSBfZVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ4ID4gMCAmJiByeCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGlhbEdyYWRpZW50XzEgPSB0aGlzXzEuY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGxlZnQgKyB4LCB0b3BfMSArIHksIDAsIGxlZnQgKyB4LCB0b3BfMSArIHksIHJ4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NDb2xvclN0b3BzKGJhY2tncm91bmRJbWFnZS5zdG9wcywgcnggKiAyKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2xvclN0b3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmFkaWFsR3JhZGllbnRfMS5hZGRDb2xvclN0b3AoY29sb3JTdG9wLnN0b3AsIGFzU3RyaW5nKGNvbG9yU3RvcC5jb2xvcikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEucGF0aChwYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHguZmlsbFN0eWxlID0gcmFkaWFsR3JhZGllbnRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyeCAhPT0gcnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWRYID0gY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgMC41ICogY29udGFpbmVyLmJvdW5kcy53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWRZID0gY29udGFpbmVyLmJvdW5kcy50b3AgKyAwLjUgKiBjb250YWluZXIuYm91bmRzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmID0gcnkgLyByeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZGID0gMSAvIGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmN0eC50cmFuc2xhdGUobWlkWCwgbWlkWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmN0eC50cmFuc2Zvcm0oMSwgMCwgMCwgZiwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmN0eC50cmFuc2xhdGUoLW1pZFgsIC1taWRZKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEuY3R4LmZpbGxSZWN0KGxlZnQsIGludkYgKiAodG9wXzEgLSBtaWRZKSArIG1pZFksIHdpZHRoLCBoZWlnaHQgKiBpbnZGKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEuY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHguZmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mLmxhYmVsID0gNjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleC0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaSA9IDAsIF9hID0gY29udGFpbmVyLnN0eWxlcy5iYWNrZ3JvdW5kSW1hZ2Uuc2xpY2UoMCkucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfaSA8IF9hLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlID0gX2FbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs1IC8qeWllbGQqKi8sIF9sb29wXzEoYmFja2dyb3VuZEltYWdlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2krKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyQm9yZGVyID0gZnVuY3Rpb24gKGNvbG9yLCBzaWRlLCBjdXJ2ZVBvaW50cykge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXRoKHBhcnNlUGF0aEZvckJvcmRlcihjdXJ2ZVBvaW50cywgc2lkZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKGNvbG9yKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlck5vZGVCYWNrZ3JvdW5kQW5kQm9yZGVycyA9IGZ1bmN0aW9uIChwYWludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVzLCBoYXNCYWNrZ3JvdW5kLCBib3JkZXJzLCBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLCBzaWRlLCBfaSwgYm9yZGVyc18xLCBib3JkZXI7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUVmZmVjdHMocGFpbnQuZWZmZWN0cywgMiAvKiBCQUNLR1JPVU5EX0JPUkRFUlMgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzID0gcGFpbnQuY29udGFpbmVyLnN0eWxlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0JhY2tncm91bmQgPSAhaXNUcmFuc3BhcmVudChzdHlsZXMuYmFja2dyb3VuZENvbG9yKSB8fCBzdHlsZXMuYmFja2dyb3VuZEltYWdlLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcnMgPSBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogc3R5bGVzLmJvcmRlclRvcFN0eWxlLCBjb2xvcjogc3R5bGVzLmJvcmRlclRvcENvbG9yIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdHlsZTogc3R5bGVzLmJvcmRlclJpZ2h0U3R5bGUsIGNvbG9yOiBzdHlsZXMuYm9yZGVyUmlnaHRDb2xvciB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy5ib3JkZXJCb3R0b21TdHlsZSwgY29sb3I6IHN0eWxlcy5ib3JkZXJCb3R0b21Db2xvciB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy5ib3JkZXJMZWZ0U3R5bGUsIGNvbG9yOiBzdHlsZXMuYm9yZGVyTGVmdENvbG9yIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhID0gY2FsY3VsYXRlQmFja2dyb3VuZEN1cnZlZFBhaW50aW5nQXJlYShnZXRCYWNrZ3JvdW5kVmFsdWVGb3JJbmRleChzdHlsZXMuYmFja2dyb3VuZENsaXAsIDApLCBwYWludC5jdXJ2ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaGFzQmFja2dyb3VuZCB8fCBzdHlsZXMuYm94U2hhZG93Lmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXRoKGJhY2tncm91bmRQYWludGluZ0FyZWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1RyYW5zcGFyZW50KHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcoc3R5bGVzLmJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJCYWNrZ3JvdW5kSW1hZ2UocGFpbnQuY29udGFpbmVyKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcy5ib3hTaGFkb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmV2ZXJzZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHNoYWRvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJvcmRlckJveEFyZWEgPSBjYWxjdWxhdGVCb3JkZXJCb3hQYXRoKHBhaW50LmN1cnZlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hc2tPZmZzZXQgPSBzaGFkb3cuaW5zZXQgPyAwIDogTUFTS19PRkZTRVQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoYWRvd1BhaW50aW5nQXJlYSA9IHRyYW5zZm9ybVBhdGgoYm9yZGVyQm94QXJlYSwgLW1hc2tPZmZzZXQgKyAoc2hhZG93Lmluc2V0ID8gMSA6IC0xKSAqIHNoYWRvdy5zcHJlYWQubnVtYmVyLCAoc2hhZG93Lmluc2V0ID8gMSA6IC0xKSAqIHNoYWRvdy5zcHJlYWQubnVtYmVyLCBzaGFkb3cuc3ByZWFkLm51bWJlciAqIChzaGFkb3cuaW5zZXQgPyAtMiA6IDIpLCBzaGFkb3cuc3ByZWFkLm51bWJlciAqIChzaGFkb3cuaW5zZXQgPyAtMiA6IDIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93Lmluc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBhdGgoYm9yZGVyQm94QXJlYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5jbGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1hc2soc2hhZG93UGFpbnRpbmdBcmVhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1hc2soYm9yZGVyQm94QXJlYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5jbGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBhdGgoc2hhZG93UGFpbnRpbmdBcmVhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd09mZnNldFggPSBzaGFkb3cub2Zmc2V0WC5udW1iZXIgKyBtYXNrT2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dPZmZzZXRZID0gc2hhZG93Lm9mZnNldFkubnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dDb2xvciA9IGFzU3RyaW5nKHNoYWRvdy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd0JsdXIgPSBzaGFkb3cuYmx1ci5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxTdHlsZSA9IHNoYWRvdy5pbnNldCA/IGFzU3RyaW5nKHNoYWRvdy5jb2xvcikgOiAncmdiYSgwLDAsMCwxKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCBib3JkZXJzXzEgPSBib3JkZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfaSA8IGJvcmRlcnNfMS5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCA3XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlciA9IGJvcmRlcnNfMVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShib3JkZXIuc3R5bGUgIT09IEJPUkRFUl9TVFlMRS5OT05FICYmICFpc1RyYW5zcGFyZW50KGJvcmRlci5jb2xvcikpKSByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyQm9yZGVyKGJvcmRlci5jb2xvciwgc2lkZSwgcGFpbnQuY3VydmVzKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhY2s7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KHRoaXMub3B0aW9ucy54IC0gdGhpcy5vcHRpb25zLnNjcm9sbFgsIHRoaXMub3B0aW9ucy55IC0gdGhpcy5vcHRpb25zLnNjcm9sbFksIHRoaXMub3B0aW9ucy53aWR0aCwgdGhpcy5vcHRpb25zLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjayA9IHBhcnNlU3RhY2tpbmdDb250ZXh0cyhlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyU3RhY2soc3RhY2spXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUVmZmVjdHMoW10sIDIgLyogQkFDS0dST1VORF9CT1JERVJTICovKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLmNhbnZhc107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENhbnZhc1JlbmRlcmVyO1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBpc1RleHRJbnB1dEVsZW1lbnQgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIFRleHRhcmVhRWxlbWVudENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgU2VsZWN0RWxlbWVudENvbnRhaW5lcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgSW5wdXRFbGVtZW50Q29udGFpbmVyICYmIGNvbnRhaW5lci50eXBlICE9PSBSQURJTyAmJiBjb250YWluZXIudHlwZSAhPT0gQ0hFQ0tCT1gpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICB2YXIgY2FsY3VsYXRlQmFja2dyb3VuZEN1cnZlZFBhaW50aW5nQXJlYSA9IGZ1bmN0aW9uIChjbGlwLCBjdXJ2ZXMpIHtcclxuICAgICAgICBzd2l0Y2ggKGNsaXApIHtcclxuICAgICAgICAgICAgY2FzZSBCQUNLR1JPVU5EX0NMSVAuQk9SREVSX0JPWDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVCb3JkZXJCb3hQYXRoKGN1cnZlcyk7XHJcbiAgICAgICAgICAgIGNhc2UgQkFDS0dST1VORF9DTElQLkNPTlRFTlRfQk9YOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZUNvbnRlbnRCb3hQYXRoKGN1cnZlcyk7XHJcbiAgICAgICAgICAgIGNhc2UgQkFDS0dST1VORF9DTElQLlBBRERJTkdfQk9YOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZVBhZGRpbmdCb3hQYXRoKGN1cnZlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBjYW52YXNUZXh0QWxpZ24gPSBmdW5jdGlvbiAodGV4dEFsaWduKSB7XHJcbiAgICAgICAgc3dpdGNoICh0ZXh0QWxpZ24pIHtcclxuICAgICAgICAgICAgY2FzZSBURVhUX0FMSUdOLkNFTlRFUjpcclxuICAgICAgICAgICAgICAgIHJldHVybiAnY2VudGVyJztcclxuICAgICAgICAgICAgY2FzZSBURVhUX0FMSUdOLlJJR0hUOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdyaWdodCc7XHJcbiAgICAgICAgICAgIGNhc2UgVEVYVF9BTElHTi5MRUZUOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdsZWZ0JztcclxuICAgICAgICB9XHJcbiAgICB9O1xuXG4gICAgdmFyIEZvcmVpZ25PYmplY3RSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBGb3JlaWduT2JqZWN0UmVuZGVyZXIob3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IG9wdGlvbnMuY2FudmFzID8gb3B0aW9ucy5jYW52YXMgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Iob3B0aW9ucy53aWR0aCAqIG9wdGlvbnMuc2NhbGUpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKG9wdGlvbnMuaGVpZ2h0ICogb3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gb3B0aW9ucy53aWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnNjYWxlKHRoaXMub3B0aW9ucy5zY2FsZSwgdGhpcy5vcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKC1vcHRpb25zLnggKyBvcHRpb25zLnNjcm9sbFgsIC1vcHRpb25zLnkgKyBvcHRpb25zLnNjcm9sbFkpO1xyXG4gICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2Uob3B0aW9ucy5pZCkuZGVidWcoXCJFWFBFUklNRU5UQUwgRm9yZWlnbk9iamVjdCByZW5kZXJlciBpbml0aWFsaXplZCAoXCIgKyBvcHRpb25zLndpZHRoICsgXCJ4XCIgKyBvcHRpb25zLmhlaWdodCArIFwiIGF0IFwiICsgb3B0aW9ucy54ICsgXCIsXCIgKyBvcHRpb25zLnkgKyBcIikgd2l0aCBzY2FsZSBcIiArIG9wdGlvbnMuc2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGb3JlaWduT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdmcsIGltZztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN2ZyA9IGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcoTWF0aC5tYXgodGhpcy5vcHRpb25zLndpbmRvd1dpZHRoLCB0aGlzLm9wdGlvbnMud2lkdGgpICogdGhpcy5vcHRpb25zLnNjYWxlLCBNYXRoLm1heCh0aGlzLm9wdGlvbnMud2luZG93SGVpZ2h0LCB0aGlzLm9wdGlvbnMuaGVpZ2h0KSAqIHRoaXMub3B0aW9ucy5zY2FsZSwgdGhpcy5vcHRpb25zLnNjcm9sbFggKiB0aGlzLm9wdGlvbnMuc2NhbGUsIHRoaXMub3B0aW9ucy5zY3JvbGxZICogdGhpcy5vcHRpb25zLnNjYWxlLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGxvYWRTZXJpYWxpemVkU1ZHJDEoc3ZnKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcodGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5vcHRpb25zLndpZHRoICogdGhpcy5vcHRpb25zLnNjYWxlLCB0aGlzLm9wdGlvbnMuaGVpZ2h0ICogdGhpcy5vcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZShpbWcsIC10aGlzLm9wdGlvbnMueCAqIHRoaXMub3B0aW9ucy5zY2FsZSwgLXRoaXMub3B0aW9ucy55ICogdGhpcy5vcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLmNhbnZhc107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEZvcmVpZ25PYmplY3RSZW5kZXJlcjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgbG9hZFNlcmlhbGl6ZWRTVkckMSA9IGZ1bmN0aW9uIChzdmcpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGltZyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgICAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCxcIiArIGVuY29kZVVSSUNvbXBvbmVudChuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKHN2ZykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcblxuICAgIHZhciBfdGhpcyA9IHVuZGVmaW5lZDtcclxuICAgIHZhciBwYXJzZUNvbG9yJDEgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGNvbG9yLnBhcnNlKFBhcnNlci5jcmVhdGUodmFsdWUpLnBhcnNlQ29tcG9uZW50VmFsdWUoKSk7IH07XHJcbiAgICB2YXIgaHRtbDJjYW52YXMgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlckVsZW1lbnQoZWxlbWVudCwgb3B0aW9ucyk7XHJcbiAgICB9O1xyXG4gICAgQ2FjaGVTdG9yYWdlLnNldENvbnRleHQod2luZG93KTtcclxuICAgIHZhciByZW5kZXJFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdHMpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCwgZGVmYXVsdFZpZXcsIGluc3RhbmNlTmFtZSwgX2EsIHdpZHRoLCBoZWlnaHQsIGxlZnQsIHRvcCwgZGVmYXVsdFJlc291cmNlT3B0aW9ucywgcmVzb3VyY2VPcHRpb25zLCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucywgd2luZG93Qm91bmRzLCBkb2N1bWVudENsb25lciwgY2xvbmVkRWxlbWVudCwgY29udGFpbmVyLCBkb2N1bWVudEJhY2tncm91bmRDb2xvciwgYm9keUJhY2tncm91bmRDb2xvciwgYmdDb2xvciwgZGVmYXVsdEJhY2tncm91bmRDb2xvciwgYmFja2dyb3VuZENvbG9yLCByZW5kZXJPcHRpb25zLCBjYW52YXMsIHJlbmRlcmVyLCByb290LCByZW5kZXJlcjtcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICBvd25lckRvY3VtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghb3duZXJEb2N1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbGVtZW50IGlzIG5vdCBhdHRhY2hlZCB0byBhIERvY3VtZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmlldyA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkZWZhdWx0Vmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBpcyBub3QgYXR0YWNoZWQgdG8gYSBXaW5kb3dcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlTmFtZSA9IChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMDAwKSArIERhdGUubm93KCkpLnRvU3RyaW5nKDE2KTtcclxuICAgICAgICAgICAgICAgICAgICBfYSA9IGlzQm9keUVsZW1lbnQoZWxlbWVudCkgfHwgaXNIVE1MRWxlbWVudChlbGVtZW50KSA/IHBhcnNlRG9jdW1lbnRTaXplKG93bmVyRG9jdW1lbnQpIDogcGFyc2VCb3VuZHMoZWxlbWVudCksIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodCwgbGVmdCA9IF9hLmxlZnQsIHRvcCA9IF9hLnRvcDtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UmVzb3VyY2VPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxvd1RhaW50OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VUaW1lb3V0OiAxNTAwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHk6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlQ09SUzogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlT3B0aW9ucyA9IF9fYXNzaWduKHt9LCBkZWZhdWx0UmVzb3VyY2VPcHRpb25zLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBvcHRzLmNhY2hlID8gb3B0cy5jYWNoZSA6IENhY2hlU3RvcmFnZS5jcmVhdGUoaW5zdGFuY2VOYW1lLCByZXNvdXJjZU9wdGlvbnMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDb250YWluZXI6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVpZ25PYmplY3RSZW5kZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogZGVmYXVsdFZpZXcuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dXaWR0aDogZGVmYXVsdFZpZXcuaW5uZXJXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93SGVpZ2h0OiBkZWZhdWx0Vmlldy5pbm5lckhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWDogZGVmYXVsdFZpZXcucGFnZVhPZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFk6IGRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBsZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiB0b3AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLmNlaWwod2lkdGgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IE1hdGguY2VpbChoZWlnaHQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaW5zdGFuY2VOYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gX19hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCByZXNvdXJjZU9wdGlvbnMsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd0JvdW5kcyA9IG5ldyBCb3VuZHMob3B0aW9ucy5zY3JvbGxYLCBvcHRpb25zLnNjcm9sbFksIG9wdGlvbnMud2luZG93V2lkdGgsIG9wdGlvbnMud2luZG93SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBMb2dnZXIuY3JlYXRlKHsgaWQ6IGluc3RhbmNlTmFtZSwgZW5hYmxlZDogb3B0aW9ucy5sb2dnaW5nIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZShpbnN0YW5jZU5hbWUpLmRlYnVnKFwiU3RhcnRpbmcgZG9jdW1lbnQgY2xvbmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRDbG9uZXIgPSBuZXcgRG9jdW1lbnRDbG9uZXIoZWxlbWVudCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaW5zdGFuY2VOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNsb25lOiBvcHRpb25zLm9uY2xvbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZUVsZW1lbnRzOiBvcHRpb25zLmlnbm9yZUVsZW1lbnRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVJbWFnZXM6IG9wdGlvbnMuZm9yZWlnbk9iamVjdFJlbmRlcmluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29weVN0eWxlczogb3B0aW9ucy5mb3JlaWduT2JqZWN0UmVuZGVyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmVkRWxlbWVudCA9IGRvY3VtZW50Q2xvbmVyLmNsb25lZFJlZmVyZW5jZUVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjbG9uZWRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBQcm9taXNlLnJlamVjdChcIlVuYWJsZSB0byBmaW5kIGVsZW1lbnQgaW4gY2xvbmVkIGlmcmFtZVwiKV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRvY3VtZW50Q2xvbmVyLnRvSUZyYW1lKG93bmVyRG9jdW1lbnQsIHdpbmRvd0JvdW5kcyldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEJhY2tncm91bmRDb2xvciA9IG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcGFyc2VDb2xvciQxKGdldENvbXB1dGVkU3R5bGUob3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBDT0xPUlMuVFJBTlNQQVJFTlQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9keUJhY2tncm91bmRDb2xvciA9IG93bmVyRG9jdW1lbnQuYm9keVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlQ29sb3IkMShnZXRDb21wdXRlZFN0eWxlKG93bmVyRG9jdW1lbnQuYm9keSkuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IENPTE9SUy5UUkFOU1BBUkVOVDtcclxuICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yID0gb3B0cy5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEJhY2tncm91bmRDb2xvciA9IHR5cGVvZiBiZ0NvbG9yID09PSAnc3RyaW5nJyA/IHBhcnNlQ29sb3IkMShiZ0NvbG9yKSA6IGJnQ29sb3IgPT09IG51bGwgPyBDT0xPUlMuVFJBTlNQQVJFTlQgOiAweGZmZmZmZmZmO1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvciA9IGVsZW1lbnQgPT09IG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaXNUcmFuc3BhcmVudChkb2N1bWVudEJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaXNUcmFuc3BhcmVudChib2R5QmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZGVmYXVsdEJhY2tncm91bmRDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYm9keUJhY2tncm91bmRDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb2N1bWVudEJhY2tncm91bmRDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGRlZmF1bHRCYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGluc3RhbmNlTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IG9wdGlvbnMuY2FjaGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhczogb3B0aW9ucy5jYW52YXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogb3B0aW9ucy5zY2FsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogb3B0aW9ucy54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBvcHRpb25zLnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFg6IG9wdGlvbnMuc2Nyb2xsWCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWTogb3B0aW9ucy5zY3JvbGxZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93V2lkdGg6IG9wdGlvbnMud2luZG93V2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodDogb3B0aW9ucy53aW5kb3dIZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5mb3JlaWduT2JqZWN0UmVuZGVyaW5nKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VOYW1lKS5kZWJ1ZyhcIkRvY3VtZW50IGNsb25lZCwgdXNpbmcgZm9yZWlnbiBvYmplY3QgcmVuZGVyaW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyID0gbmV3IEZvcmVpZ25PYmplY3RSZW5kZXJlcihyZW5kZXJPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZW5kZXJlci5yZW5kZXIoY2xvbmVkRWxlbWVudCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcyA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VOYW1lKS5kZWJ1ZyhcIkRvY3VtZW50IGNsb25lZCwgdXNpbmcgY29tcHV0ZWQgcmVuZGVyaW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIENhY2hlU3RvcmFnZS5hdHRhY2hJbnN0YW5jZShvcHRpb25zLmNhY2hlKTtcclxuICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VOYW1lKS5kZWJ1ZyhcIlN0YXJ0aW5nIERPTSBwYXJzaW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBwYXJzZVRyZWUoY2xvbmVkRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLmRldGFjaEluc3RhbmNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhY2tncm91bmRDb2xvciA9PT0gcm9vdC5zdHlsZXMuYmFja2dyb3VuZENvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3Quc3R5bGVzLmJhY2tncm91bmRDb2xvciA9IENPTE9SUy5UUkFOU1BBUkVOVDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZGVidWcoXCJTdGFydGluZyByZW5kZXJlclwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlciA9IG5ldyBDYW52YXNSZW5kZXJlcihyZW5kZXJPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZW5kZXJlci5yZW5kZXIocm9vdCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcyA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVtb3ZlQ29udGFpbmVyID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghRG9jdW1lbnRDbG9uZXIuZGVzdHJveShjb250YWluZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VOYW1lKS5lcnJvcihcIkNhbm5vdCBkZXRhY2ggY2xvbmVkIGlmcmFtZSBhcyBpdCBpcyBub3QgaW4gdGhlIERPTSBhbnltb3JlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZShpbnN0YW5jZU5hbWUpLmRlYnVnKFwiRmluaXNoZWQgcmVuZGVyaW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIExvZ2dlci5kZXN0cm95KGluc3RhbmNlTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLmRlc3Ryb3koaW5zdGFuY2VOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY2FudmFzXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7IH07XG5cbiAgICByZXR1cm4gaHRtbDJjYW52YXM7XG5cbn0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0bWwyY2FudmFzLmpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLyogZ2xvYmFscyBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXyAqL1xubW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfYW1kX29wdGlvbnNfXztcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3JpZ2luYWxNb2R1bGUpIHtcblx0aWYgKCFvcmlnaW5hbE1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHR2YXIgbW9kdWxlID0gT2JqZWN0LmNyZWF0ZShvcmlnaW5hbE1vZHVsZSk7XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiZXhwb3J0c1wiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJpbXBvcnQge01pbnRlcm1zfSBmcm9tIFwiLi4vTG9naWMvTWludGVybXNcIjtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIG9iamVjdCBtYW5hZ2VzIHRoZSBwcmFjdGljZSBnZW5lcmF0b3Igc2VjdGlvbi5cclxuICogQHBhcmFtIG1haW5cclxuICogQHBhcmFtIGVsZW1lbnRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgR2VuZXJhdG9yID0gZnVuY3Rpb24obWFpbiwgZWxlbWVudCkge1xyXG5cclxuXHRsZXQgbWludGVybXNTcGFuO1xyXG5cclxuXHRjb25zdCBvcHRpb25zID0gbWFpbi5vcHRpb25zO1xyXG5cclxuXHRjb25zdCBpbml0aWFsaXplID0gKCkgPT4ge1xyXG5cdFx0Y29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRkaXYuY2xhc3NMaXN0LmFkZCgna21hcC1jbC1nZW5lcmF0b3InKTtcclxuXHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoZGl2KTtcclxuXHJcblx0XHQvLyBIZWFkaW5nXHJcblx0XHRjb25zdCBoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcblx0XHRoMy5pbm5lclRleHQgPSBvcHRpb25zLmZpeGVkID8gJ01pbnRlcm1zJyA6ICdNaW50ZXJtIEdlbmVyYXRvcic7XHJcblx0XHRkaXYuYXBwZW5kQ2hpbGQoaDMpO1xyXG5cclxuXHRcdGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XHJcblx0XHRkaXYuYXBwZW5kQ2hpbGQoZm9ybSk7XHJcblxyXG5cdFx0Y29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuXHRcdHAuaW5uZXJUZXh0ID0gJ1NpemU6ICc7XHJcblx0XHRkaXYuYXBwZW5kQ2hpbGQocCk7XHJcblxyXG5cdFx0aWYob3B0aW9ucy5maXhlZCkge1xyXG5cdFx0XHRwLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnICsgb3B0aW9ucy5zaXplICsgJyBNaW50ZXJtczogJykpO1xyXG5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vXHJcblx0XHRcdC8vIFRoZSBzaXplIHNlbGVjdCBjb250cm9sXHJcblx0XHRcdC8vXHJcblx0XHRcdGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG5cdFx0XHRwLmFwcGVuZENoaWxkKHNlbGVjdCk7XHJcblxyXG5cdFx0XHRsZXQgb3B0aW9uczEgPSAnJztcclxuXHRcdFx0bGV0IG9wdGlvbnMyID0gJyc7XHJcblx0XHRcdGZvcihsZXQgcz0yOyBzPD00OyBzKyspIHtcclxuXHRcdFx0XHRpZihzID09PSArbWFpbi5vcHRpb25zLnNpemUpIHtcclxuXHRcdFx0XHRcdGlmKG1haW4ub3B0aW9ucy5nZW5Eb250Q2FyZSkge1xyXG5cdFx0XHRcdFx0XHRvcHRpb25zMSArPSAnPG9wdGlvbiB2YWx1ZT1cIicgKyBzICsgJ1wiPicgKyBzICsgJzwvb3B0aW9uPic7XHJcblx0XHRcdFx0XHRcdGlmKG1haW4ub3B0aW9ucy5nZW5Eb250Q2FyZU9wdGlvbikge1xyXG5cdFx0XHRcdFx0XHRcdG9wdGlvbnMyICs9ICc8b3B0aW9uIHZhbHVlPVwiJyArIHMgKyAnZFwiIHNlbGVjdGVkPicgKyBzICsgXCIgdy9kb24ndCBjYXJlczwvb3B0aW9uPlwiO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRvcHRpb25zMSArPSAnPG9wdGlvbiB2YWx1ZT1cIicgKyBzICsgJ1wiIHNlbGVjdGVkPicgKyBzICsgJzwvb3B0aW9uPic7XHJcblx0XHRcdFx0XHRcdGlmKG1haW4ub3B0aW9ucy5nZW5Eb250Q2FyZU9wdGlvbikge1xyXG5cdFx0XHRcdFx0XHRcdG9wdGlvbnMyICs9ICc8b3B0aW9uIHZhbHVlPVwiJyArIHMgKyAnZFwiPicgKyBzICsgXCIgdy9kb24ndCBjYXJlczwvb3B0aW9uPlwiO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRvcHRpb25zMSArPSAnPG9wdGlvbiB2YWx1ZT1cIicgKyBzICsgJ1wiPicgKyBzICsgJzwvb3B0aW9uPic7XHJcblx0XHRcdFx0XHRpZihtYWluLm9wdGlvbnMuZ2VuRG9udENhcmVPcHRpb24pIHtcclxuXHRcdFx0XHRcdFx0b3B0aW9uczIgKz0gJzxvcHRpb24gdmFsdWU9XCInICsgcyArICdkXCI+JyArIHMgKyBcIiA8c3Bhbj53L2Rvbid0IGNhcmVzPC9zcGFuPjwvb3B0aW9uPlwiO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2VsZWN0LmlubmVySFRNTCA9IG9wdGlvbnMxICsgb3B0aW9uczI7XHJcblxyXG5cdFx0XHRzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRsZXQgdmFsID0gc2VsZWN0LnZhbHVlO1xyXG5cdFx0XHRcdHZhciBuZXdTaXplID0gcGFyc2VJbnQodmFsKTtcclxuXHRcdFx0XHRtYWluLm9wdGlvbnMuZ2VuRG9udENhcmUgPSB2YWwubWF0Y2goL2QkLykgIT09IG51bGw7XHJcblx0XHRcdFx0bWFpbi5uZXdTaXplKG5ld1NpemUpO1xyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0Ly9cclxuXHRcdFx0Ly8gVGhlIEdlbmVyYXRlIGJ1dHRvblxyXG5cdFx0XHQvL1xyXG5cdFx0XHRwLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgJykpO1xyXG5cclxuXHRcdFx0Y29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0XHRcdGJ1dHRvbi5pbm5lclRleHQgPSAnR2VuZXJhdGUnO1xyXG5cdFx0XHRwLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcblxyXG5cdFx0XHRwLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgJykpO1xyXG5cclxuXHRcdFx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRtYWluLmdlbmVyYXRlKCk7XHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblxyXG5cdFx0bWludGVybXNTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG5cdFx0cC5hcHBlbmRDaGlsZChtaW50ZXJtc1NwYW4pO1xyXG5cclxuXHRcdHRoaXMucmVmcmVzaCgpO1xyXG5cdH1cclxuXHJcblx0dGhpcy5yZWZyZXNoID0gZnVuY3Rpb24oKSB7XHJcbiAgICBcdGlmKG1haW4ubWludGVybXMuZG9udGNhcmUubGVuZ3RoID4gMCkge1xyXG5cdFx0ICAgIG1pbnRlcm1zU3Bhbi5pbm5lckhUTUwgPSBtYWluLm1pbnRlcm1zLmxpc3QodHJ1ZSkgK1xyXG5cdFx0ICAgICBcdFwiPGJyPlg9XCIgKyBtYWluLm1pbnRlcm1zLmxpc3RfZG9udGNhcmUodHJ1ZSk7XHJcblx0ICAgIH0gZWxzZSB7XHJcblx0XHQgICAgbWludGVybXNTcGFuLmlubmVySFRNTCA9IG1haW4ubWludGVybXMubGlzdCh0cnVlKTtcclxuXHQgICAgfVxyXG5cdH1cclxuXHJcblx0aW5pdGlhbGl6ZSgpO1xyXG59XHJcblxyXG4iLCIvKipcclxuICogQSBzaW5nbGUgZ3JvdXBcclxuICogQHBhcmFtIGdyb3VwcyBLbWFwLkdyb3VwIG9iamVjdFxyXG4gKiBAcGFyYW0gbGlzdCBMaXN0IHRvIGFkZCB0aGlzIGl0ZW0gdG9cclxuICogQHBhcmFtIHNlbGVjdGVkIE1pbnRlcm1zIHRoYXQgYXJlIHNlbGVjdGVkXHJcbiAqIEBwYXJhbSBjb2xvciBDb2xvciB0byBkcmF3IGl0ZW1cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgR3JvdXAgPSBmdW5jdGlvbihncm91cHMsIGxpc3QsIHNlbGVjdGVkLCBjb2xvcikge1xyXG4gICAgdGhpcy5ncm91cHMgPSBncm91cHM7XHJcbiAgICB0aGlzLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XHJcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICBpZihsaXN0ID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBsc3QgPSAnJztcclxuICAgIHZhciBmaXJzdCA9IHRydWU7XHJcbiAgICBmb3IodmFyIGk9MDsgaTxzZWxlY3RlZC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmKCFmaXJzdCkge1xyXG4gICAgICAgICAgICBsc3QgKz0gJywnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihpID09PSA4KSB7XHJcbiAgICAgICAgICAgIGxzdCArPSAnPGJyLz4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbHN0ICs9IHNlbGVjdGVkW2ldO1xyXG4gICAgfVxyXG5cclxuXHQvLyB2YXIgZGl2ID0gJCgnPGRpdiBjbGFzcz1cImdyb3VwXCI+JyArIGxzdCArICc8L2Rpdj4nKTtcclxuICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdncm91cCcpO1xyXG4gICAgZGl2LmlubmVySFRNTCA9IGxzdDtcclxuXHJcblx0Ly8gdmFyIHNwYW4gPSAkKCc8c3Bhbj48L3NwYW4+Jyk7XHJcblx0Ly8gZGl2LmFwcGVuZChzcGFuKTtcclxuXHRsZXQgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuXHRkaXYuYXBwZW5kQ2hpbGQoc3Bhbik7XHJcblxyXG5cdC8vIHZhciBhID0gJCgnPGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiPjwvYT4nKTtcclxuXHQvLyBzcGFuLmFwcGVuZChhKTtcclxuXHRsZXQgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuXHRzcGFuLmFwcGVuZENoaWxkKGEpO1xyXG5cclxuICAgIGxpc3QuYXBwZW5kQ2hpbGQoZGl2KTtcclxuXHJcbiAgICBhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICBcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgXHRsaXN0LnJlbW92ZUNoaWxkKGRpdik7XHJcbiAgICBcdGdyb3Vwcy5yZW1vdmUodGhpcyk7XHJcbiAgICB9KTtcclxuXHJcblx0ZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xyXG4gICAvLyBkaXYuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCBjb2xvcik7XHJcbn1cclxuXHJcbkdyb3VwLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oY3R4LCB3aWQsIGhpdCwgaW5zZXREZXB0aCkge1xyXG4gICAgbGV0IGluc2V0ID0gMTU7XHJcbiAgICBsZXQgc3BhY2luZyA9IDEwO1xyXG5cclxuICAgIGxldCBjb2xzLCByb3dzLCBtYXBSLCBtYXBDLCBtYXg7XHJcbiAgICBzd2l0Y2godGhpcy5ncm91cHMubWFpbi5vcHRpb25zLnNpemUpIHtcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIGNvbHMgPSAyO1xyXG4gICAgICAgICAgICByb3dzID0gMjtcclxuICAgICAgICAgICAgbWFwUiA9IFswLCAxLCAwLCAxXTtcclxuICAgICAgICAgICAgbWFwQyA9IFswLCAwLCAxLCAxXTtcclxuICAgICAgICAgICAgbWF4ID0gNDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgY29scyA9IDQ7XHJcbiAgICAgICAgICAgIHJvd3MgPSAyO1xyXG4gICAgICAgICAgICBtYXBSID0gWzAsIDEsIDAsIDEsIDAsIDEsIDAsIDFdO1xyXG4gICAgICAgICAgICBtYXBDID0gWzAsIDAsIDEsIDEsIDMsIDMsIDIsIDJdO1xyXG4gICAgICAgICAgICBtYXggPSA4O1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICBjb2xzID0gNDtcclxuICAgICAgICAgICAgcm93cyA9IDQ7XHJcbiAgICAgICAgICAgIG1hcFIgPSBbMCwgMSwgMywgMiwgMCwgMSwgMywgMiwgMCwgMSwgMywgMiwgMCwgMSwgMywgMl07XHJcbiAgICAgICAgICAgIG1hcEMgPSBbMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMywgMywgMywgMywgMiwgMiwgMiwgMl07XHJcbiAgICAgICAgICAgIG1heCA9IDE2O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY250ID0gdGhpcy5zZWxlY3RlZC5sZW5ndGg7XHJcbiAgICBpZihjbnQgPT09IG1heCkge1xyXG4gICAgICAgIC8vIFdlIGFyZSB3cmFwcGluZyB0aGUgd2hvbGUgdGhpbmdcclxuICAgICAgICB0aGlzLmRyYXdHcm91cChjdHgsIDAsIDAsIHdpZCwgaGl0LCBpbnNldCArIHNwYWNpbmcgKiBpbnNldERlcHRoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYoY250ID09PSAxKSB7XHJcbiAgICAgICAgdmFyIGMxID0gbWFwQ1t0aGlzLnNlbGVjdGVkWzBdXTtcclxuICAgICAgICB2YXIgcjEgPSBtYXBSW3RoaXMuc2VsZWN0ZWRbMF1dO1xyXG4gICAgICAgIHRoaXMuZHJhd0dyb3VwKGN0eCwgYzEgKiB3aWQgLyBjb2xzLCByMSAqIGhpdCAvIHJvd3MsXHJcbiAgICAgICAgICAgIHdpZCAvIGNvbHMsIGhpdCAvIHJvd3MsIGluc2V0ICsgc3BhY2luZyAqIGluc2V0RGVwdGgpO1xyXG4gICAgfSBlbHNlIGlmKGNudCA9PSAyKSB7XHJcbiAgICAgICAgdmFyIGMxID0gbWFwQ1t0aGlzLnNlbGVjdGVkWzBdXTtcclxuICAgICAgICB2YXIgcjEgPSBtYXBSW3RoaXMuc2VsZWN0ZWRbMF1dO1xyXG4gICAgICAgIHZhciBjMiA9IG1hcENbdGhpcy5zZWxlY3RlZFsxXV07XHJcbiAgICAgICAgdmFyIHIyID0gbWFwUlt0aGlzLnNlbGVjdGVkWzFdXTtcclxuXHJcbiAgICAgICAgaWYocjEgPT0gcjIpIHtcclxuICAgICAgICAgICAgLy8gSG9yaXpvbnRhbFxyXG4gICAgICAgICAgICBpZihjMiA8IGMxKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdCA9IGMxOyBjMSA9IGMyOyBjMiA9IHQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKChjMiAtIGMxKSA+IDEpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vdCBhZGphY2VudCFcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0dyb3VwKGN0eCwgYzIgKiB3aWQgLyBjb2xzLCByMSAqIGhpdCAvIHJvd3MsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkICogMiAvIGNvbHMsIGhpdCAvIHJvd3MsIGluc2V0ICsgc3BhY2luZyAqIGluc2V0RGVwdGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3R3JvdXAoY3R4LCAoYzEgLSAxKSAqIHdpZCAvIGNvbHMsIHIxICogaGl0IC8gcm93cyxcclxuICAgICAgICAgICAgICAgICAgICB3aWQgKiAyIC8gY29scywgaGl0IC8gcm93cywgaW5zZXQgKyBzcGFjaW5nICogaW5zZXREZXB0aCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdHcm91cChjdHgsIGMxICogd2lkIC8gY29scywgcjEgKiBoaXQgLyByb3dzLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZCAqIDIgLyBjb2xzLCBoaXQgLyByb3dzLCBpbnNldCArIHNwYWNpbmcgKiBpbnNldERlcHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFZlcnRpY2FsXHJcbiAgICAgICAgICAgIGlmKHIyIDwgcjEpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ID0gcjE7IHIxID0gcjI7IHIyID0gdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoKHIyIC0gcjEpID4gMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gTm90IGFkamFjZW50XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdHcm91cChjdHgsIGMxICogd2lkIC8gY29scywgcjIgKiBoaXQgLyByb3dzLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZCAvIGNvbHMsIGhpdCAqIDIgLyByb3dzLCBpbnNldCArIHNwYWNpbmcgKiBpbnNldERlcHRoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0dyb3VwKGN0eCwgYzEgKiB3aWQgLyBjb2xzLCAocjEtMSkgKiBoaXQgLyByb3dzLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZCAvIGNvbHMsIGhpdCAqIDIgLyByb3dzLCBpbnNldCArIHNwYWNpbmcgKiBpbnNldERlcHRoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0dyb3VwKGN0eCwgYzEgKiB3aWQgLyBjb2xzLCByMSAqIGhpdCAvIHJvd3MsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkIC8gY29scywgaGl0ICogMiAvIHJvd3MsIGluc2V0ICsgc3BhY2luZyAqIGluc2V0RGVwdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gZWxzZSBpZihjbnQgPT0gNCkge1xyXG4gICAgICAgIHZhciBjMSA9IG1hcENbdGhpcy5zZWxlY3RlZFswXV07XHJcbiAgICAgICAgdmFyIHIxID0gbWFwUlt0aGlzLnNlbGVjdGVkWzBdXTtcclxuICAgICAgICB2YXIgYzIgPSBtYXBDW3RoaXMuc2VsZWN0ZWRbMV1dO1xyXG4gICAgICAgIHZhciByMiA9IG1hcFJbdGhpcy5zZWxlY3RlZFsxXV07XHJcbiAgICAgICAgdmFyIGMzID0gbWFwQ1t0aGlzLnNlbGVjdGVkWzJdXTtcclxuICAgICAgICB2YXIgcjMgPSBtYXBSW3RoaXMuc2VsZWN0ZWRbMl1dO1xyXG4gICAgICAgIHZhciBjNCA9IG1hcENbdGhpcy5zZWxlY3RlZFszXV07XHJcbiAgICAgICAgdmFyIHI0ID0gbWFwUlt0aGlzLnNlbGVjdGVkWzNdXTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBcmUgYWxsIGluIHNhbWUgcm93P1xyXG4gICAgICAgIGlmKHIxID09IHIyICYmIHIyID09IHIzICYmIHIzID09IHI0KSB7XHJcbiAgICAgICAgICAgIC8vIFNpemUgNCBjb3ZlciBpbiB0aGUgc2FtZSByb3dcclxuICAgICAgICAgICAgdGhpcy5kcmF3R3JvdXAoY3R4LCBjMSAqIHdpZCAvIGNvbHMsIHIxICogaGl0IC8gcm93cyxcclxuICAgICAgICAgICAgICAgIHdpZCAqIDQgLyBjb2xzLCBoaXQgLyByb3dzLCBpbnNldCArIHNwYWNpbmcgKiBpbnNldERlcHRoKTtcclxuICAgICAgICB9IGVsc2UgaWYoYzEgPT0gYzIgJiYgYzIgPT0gYzMgJiYgYzMgPT0gYzQpIHtcclxuICAgICAgICAgICAgLy8gU2l6ZSA0IGNvdmVyIGluIHRoZSBzYW1lIGNvbHVtblxyXG4gICAgICAgICAgICB0aGlzLmRyYXdHcm91cChjdHgsIGMxICogd2lkIC8gY29scywgcjEgKiBoaXQgLyByb3dzLFxyXG4gICAgICAgICAgICAgICAgd2lkIC8gY29scywgaGl0ICogNCAvIHJvd3MsIGluc2V0ICsgc3BhY2luZyAqIGluc2V0RGVwdGgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgbXVzdCBiZSBzcXVhcmVcclxuICAgICAgICAgICAgdmFyIHdpZDQgPSB3aWQgKiAyIC8gY29scztcclxuICAgICAgICAgICAgdmFyIGhpdDQgPSBoaXQgKiAyIC8gcm93cztcclxuXHJcbiAgICAgICAgICAgIGlmKGMxID09IDAgJiYgYzIgPT0gMCAmJiBjMyA9PSAzICYmIGM0ID09IDMpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBsZWZ0L3JpZ2h0IHNpZGUgc3BsaXRcclxuICAgICAgICAgICAgICAgIGlmKHIxID09IDAgJiYgcjIgPT0gMyAmJiByMyA9PSAwICYmIHI0ID09IDMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBGb3VyIGNvcm5lciBzcGxpdFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0dyb3VwKGN0eCwgKC0xKSAqIHdpZCAvIGNvbHMsICgtMSkgKiBoaXQgLyByb3dzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWQ0LCBoaXQ0LCBpbnNldCArIHNwYWNpbmcgKiBpbnNldERlcHRoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdHcm91cChjdHgsICgtMSkgKiB3aWQgLyBjb2xzLCAoMykgKiBoaXQgLyByb3dzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWQ0LCBoaXQ0LCBpbnNldCArIHNwYWNpbmcgKiBpbnNldERlcHRoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdHcm91cChjdHgsICgzKSAqIHdpZCAvIGNvbHMsICgtMSkgKiBoaXQgLyByb3dzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWQ0LCBoaXQ0LCBpbnNldCArIHNwYWNpbmcgKiBpbnNldERlcHRoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdHcm91cChjdHgsICgzKSAqIHdpZCAvIGNvbHMsICgzKSAqIGhpdCAvIHJvd3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZDQsIGhpdDQsIGluc2V0ICsgc3BhY2luZyAqIGluc2V0RGVwdGgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihyMSA+IHIyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gcjE7IHIxID0gcjI7IHIyID0gdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0dyb3VwKGN0eCwgKC0xKSAqIHdpZCAvIGNvbHMsIHIxICogaGl0IC8gcm93cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkNCwgaGl0NCwgaW5zZXQgKyBzcGFjaW5nICogaW5zZXREZXB0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3R3JvdXAoY3R4LCAoMykgKiB3aWQgLyBjb2xzLCByMSAqIGhpdCAvIHJvd3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZDQsIGhpdDQsIGluc2V0ICsgc3BhY2luZyAqIGluc2V0RGVwdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYocjEgPT0gMCAmJiByMiA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICBpZihjMSA+IGMzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBjMTsgYzEgPSBjMzsgYzMgPSB0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIHRvcC1ib3R0b20gc3BsaXRcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0dyb3VwKGN0eCwgYzEgKiB3aWQgLyBjb2xzLCAoLTEpICogaGl0IC8gcm93cyxcclxuICAgICAgICAgICAgICAgICAgICB3aWQ0LCBoaXQ0LCBpbnNldCArIHNwYWNpbmcgKiBpbnNldERlcHRoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0dyb3VwKGN0eCwgYzEgKiB3aWQgLyBjb2xzLCAoMykgKiBoaXQgLyByb3dzLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZDQsIGhpdDQsIGluc2V0ICsgc3BhY2luZyAqIGluc2V0RGVwdGgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gU2ltcGxlIHNxdWFyZSFcclxuICAgICAgICAgICAgICAgIGlmKGMxID4gYzMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGMxOyBjMSA9IGMzOyBjMyA9IHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihyMSA+IHIyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSByMTsgcjEgPSByMjsgcjIgPSB0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0dyb3VwKGN0eCwgYzEgKiB3aWQgLyBjb2xzLCByMSAqIGhpdCAvIHJvd3MsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkNCwgaGl0NCwgaW5zZXQgKyBzcGFjaW5nICogaW5zZXREZXB0aCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZihjbnQgPT0gOCkge1xyXG4gICAgICAgIHZhciBjMSA9IG1hcENbdGhpcy5zZWxlY3RlZFswXV07XHJcbiAgICAgICAgdmFyIHIxID0gbWFwUlt0aGlzLnNlbGVjdGVkWzBdXTtcclxuICAgICAgICB2YXIgYzIgPSBtYXBDW3RoaXMuc2VsZWN0ZWRbMV1dO1xyXG4gICAgICAgIHZhciByMiA9IG1hcFJbdGhpcy5zZWxlY3RlZFsxXV07XHJcbiAgICAgICAgdmFyIGMzID0gbWFwQ1t0aGlzLnNlbGVjdGVkWzJdXTtcclxuICAgICAgICB2YXIgcjMgPSBtYXBSW3RoaXMuc2VsZWN0ZWRbMl1dO1xyXG4gICAgICAgIHZhciBjNCA9IG1hcENbdGhpcy5zZWxlY3RlZFszXV07XHJcbiAgICAgICAgdmFyIHI0ID0gbWFwUlt0aGlzLnNlbGVjdGVkWzNdXTtcclxuICAgICAgICB2YXIgYzUgPSBtYXBDW3RoaXMuc2VsZWN0ZWRbNF1dO1xyXG4gICAgICAgIHZhciByNSA9IG1hcFJbdGhpcy5zZWxlY3RlZFs0XV07XHJcblxyXG4gICAgICAgIGlmKGMxID09IGMyICYmIGMyID09IGMzICYmIGMzID09IGM0KSB7XHJcbiAgICAgICAgICAgIHZhciB3aWQ4ID0gd2lkICogMiAvIGNvbHM7XHJcbiAgICAgICAgICAgIHZhciBoaXQ4ID0gaGl0ICogNCAvIHJvd3M7XHJcblxyXG4gICAgICAgICAgICAvLyBWZXJ0aWNhbCBsYXlvdXRcclxuICAgICAgICAgICAgaWYoYzEgPT0gMCAmJiBjNSA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMZWZ0L3JpZ2h0IHNwbGl0XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdHcm91cChjdHgsICgtMSkgKiB3aWQgLyBjb2xzLCAoMCkgKiBoaXQgLyByb3dzLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZDgsIGhpdDgsIGluc2V0ICsgc3BhY2luZyAqIGluc2V0RGVwdGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3R3JvdXAoY3R4LCAoMykgKiB3aWQgLyBjb2xzLCAoMCkgKiBoaXQgLyByb3dzLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZDgsIGhpdDgsIGluc2V0ICsgc3BhY2luZyAqIGluc2V0RGVwdGgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYoYzEgPiBjNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGMxID0gYzU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3R3JvdXAoY3R4LCBjMSAqIHdpZCAvIGNvbHMsICgwKSAqIGhpdCAvIHJvd3MsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkOCwgaGl0OCwgaW5zZXQgKyBzcGFjaW5nICogaW5zZXREZXB0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL0hvcml6b250YWwgbGF5b3V0XHJcbiAgICAgICAgICAgIHZhciB3aWQ4ID0gd2lkICogNCAvIGNvbHM7XHJcbiAgICAgICAgICAgIHZhciBoaXQ4ID0gaGl0ICogMiAvIHJvd3M7XHJcblxyXG4gICAgICAgICAgICBpZigocjIgLSByMSkgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTcGxpdFxyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3R3JvdXAoY3R4LCAwICogd2lkIC8gY29scywgKC0xKSAqIGhpdCAvIHJvd3MsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkOCwgaGl0OCwgaW5zZXQgKyBzcGFjaW5nICogaW5zZXREZXB0aCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdHcm91cChjdHgsIDAgKiB3aWQgLyBjb2xzLCAoMykgKiBoaXQgLyByb3dzLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZDgsIGhpdDgsIGluc2V0ICsgc3BhY2luZyAqIGluc2V0RGVwdGgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYocjEgPiByMikge1xyXG4gICAgICAgICAgICAgICAgICAgIHIxID0gcjI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3R3JvdXAoY3R4LCAwICogd2lkIC8gY29scywgKHIxKSAqIGhpdCAvIHJvd3MsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkOCwgaGl0OCwgaW5zZXQgKyBzcGFjaW5nICogaW5zZXREZXB0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbkdyb3VwLnByb3RvdHlwZS5kcmF3R3JvdXAgPSBmdW5jdGlvbihjdHgsIHgxLCB5MSwgd2lkLCBoaXQsIGluc2V0KSB7XHJcbiAgICB2YXIgeCA9IHgxICsgaW5zZXQ7XHJcbiAgICB2YXIgeSA9IHkxICsgaW5zZXQ7XHJcbiAgICB2YXIgd2lkdGggPSB3aWQgLSBpbnNldCAqIDIgLSAxO1xyXG4gICAgdmFyIGhlaWdodCA9IGhpdCAtIGluc2V0ICogMiAtIDE7XHJcbiAgICB2YXIgcmFkaXVzID0gMzA7XHJcbiAgICBjdHgubGluZVdpZHRoID0gNztcclxuICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XHJcblxyXG4gICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgY3R4Lm1vdmVUbyh4LHkrcmFkaXVzKTtcclxuICAgIGN0eC5saW5lVG8oeCx5K2hlaWdodC1yYWRpdXMpO1xyXG4gICAgY3R4LmFyY1RvKHgseStoZWlnaHQseCtyYWRpdXMseStoZWlnaHQscmFkaXVzKTtcclxuICAgIGN0eC5saW5lVG8oeCt3aWR0aC1yYWRpdXMseStoZWlnaHQpO1xyXG4gICAgY3R4LmFyY1RvKHgrd2lkdGgseStoZWlnaHQseCt3aWR0aCx5K2hlaWdodC1yYWRpdXMscmFkaXVzKTtcclxuICAgIGN0eC5saW5lVG8oeCt3aWR0aCx5K3JhZGl1cyk7XHJcbiAgICBjdHguYXJjVG8oeCt3aWR0aCx5LHgrd2lkdGgtcmFkaXVzLHkscmFkaXVzKTtcclxuICAgIGN0eC5saW5lVG8oeCtyYWRpdXMseSk7XHJcbiAgICBjdHguYXJjVG8oeCx5LHgseStyYWRpdXMscmFkaXVzKTtcclxuICAgIGN0eC5zdHJva2UoKTtcclxufSIsImltcG9ydCB7TWVzc2FnZURpYWxvZ30gZnJvbSAnLi9NZXNzYWdlRGlhbG9nJztcclxuaW1wb3J0IHtHcm91cH0gZnJvbSBcIi4vR3JvdXBcIjtcclxuXHJcbi8qKlxyXG4gKiBUaGUgZ3JvdXBzIGFyZWEgb2YgdGhlIGVkaXRvclxyXG4gKi9cclxuXHJcbmV4cG9ydCBjb25zdCBHcm91cHMgPSBmdW5jdGlvbihtYWluLCBzZWwpIHtcclxuXHR2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG5cdHRoaXMubWFpbiA9IG1haW47XHJcblxyXG5cdGxldCBsaXN0O1xyXG5cclxuXHRjb25zdCBpbml0aWFsaXplID0gKCkgPT4ge1xyXG5cdFx0bGV0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG5cdFx0c2VsLmFwcGVuZENoaWxkKGJ1dHRvbik7XHJcblx0XHRidXR0b24uaW5uZXJUZXh0ID0gJ0NvdmVyJztcclxuXHJcblx0XHRsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRsaXN0LmNsYXNzTGlzdC5hZGQoJ2xpc3QnKTtcclxuXHRcdHNlbC5hcHBlbmRDaGlsZChsaXN0KTtcclxuXHJcblx0XHR0aGlzLmdyb3VwcyA9IFtdO1xyXG5cdFx0dGhpcy5jb2xvck4gPSAwO1xyXG5cclxuXHRcdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG5cdFx0ICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRsZXQgc2VsZWN0ZWQgPSBtYWluLndvcmsubWFwLnNlbGVjdGVkO1xyXG4gICAgICAgICAgICBcclxuXHRcdFx0aWYobWFpbi5vcHRpb25zLnN0cmljdCkge1xyXG5cdFx0XHRcdC8vIERldGVybWluZSBob3cgbWFueSBjb21tb24gYml0cyB0aGVyZSBhcmVcclxuXHRcdFx0XHRsZXQgYW5kMSA9IE1hdGgucG93KDIsIG1haW4ub3B0aW9ucy5zaXplKSAtIDE7XHJcblx0XHRcdFx0bGV0IGFuZDIgPSBhbmQxO1xyXG5cclxuXHRcdFx0XHRmb3IobGV0IGk9MDsgaTxzZWxlY3RlZC5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0bGV0IHNlbCA9IHNlbGVjdGVkW2ldO1xyXG5cdFx0XHRcdFx0YW5kMSAmPSBzZWw7XHJcblx0XHRcdFx0XHRhbmQyICY9IH5zZWw7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRsZXQgb3IgPSBhbmQxIHwgYW5kMjtcclxuXHRcdFx0XHRsZXQgYml0cyA9IDA7XHJcblx0XHRcdFx0bGV0IHNpemUgPSBtYWluLm9wdGlvbnMuc2l6ZTtcclxuXHJcblx0XHRcdFx0Zm9yKGxldCBpPTA7IGk8c2l6ZTsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZigob3IgJiAxKSA9PT0gMSkge1xyXG5cdFx0XHRcdFx0XHRiaXRzKys7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0b3IgPj49IDE7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBUZXN0IGZvciB2YWxpZFxyXG5cdFx0XHRcdHZhciB2YWxpZCA9IHRydWU7XHJcblx0XHRcdFx0c3dpdGNoKHNlbGVjdGVkLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0Y2FzZSAxOlxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRjYXNlIDI6XHJcblx0XHRcdFx0XHRcdHZhbGlkID0gYml0cyA9PSBzaXplIC0gMTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0Y2FzZSA0OlxyXG5cdFx0XHRcdFx0XHR2YWxpZCA9IGJpdHMgPT0gc2l6ZSAtIDI7XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRcdGNhc2UgODpcclxuXHRcdFx0XHRcdFx0dmFsaWQgPSBiaXRzID09IHNpemUgLSAzO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRjYXNlIDE2OlxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHJcblx0XHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0XHRsZXQgaHRtbCA9ICc8cD5Hcm91cGluZyBtdXN0IGJlIG9mIHNvbWUgcG93ZXIgb2YgdHdvIG1pbnRlcm1zLjwvcD48cD5UaGUgb25seSAnICtcclxuXHRcdFx0XHRcdFx0XHQnZ3JvdXBpbmdzIHBvc3NpYmxlIGFyZSAxLCAyLCA0LCA4LCBvciAxNiwgZGVwZW5kaW5nIG9uIHRoZSBzaXplIG9mIHRoZSAnICtcclxuXHRcdFx0XHRcdFx0XHQnS2FybmF1Z2ggbWFwLjwvcD4nO1xyXG5cdFx0XHRcdFx0XHRsZXQgZGxnID0gbmV3IE1lc3NhZ2VEaWFsb2cobWFpbiwgXCJZb3UgY2FuJ3QgZG8gdGhhdFwiLCBodG1sKTtcclxuXHRcdFx0XHRcdFx0ZGxnLm9wZW4oKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYoIXZhbGlkKSB7XHJcblx0XHRcdFx0XHRsZXQgaHRtbCA9ICc8cD5Zb3VyIG1pbnRlcm0gZ3JvdXBpbmcgaXMgaW52YWxpZC48L3A+PHA+R3JvdXBpbmdzIG11c3QgYmUgc3VjaCAnICtcclxuXHRcdFx0XHRcdFx0J3RoYXQgdGhlcmUgYXJlIGJpdHMgaW4gY29tbW9uLiBUaGlzIG1lYW5zIHRoZSBncm91cGluZ3MgbXVzdCBiZSBhIHJlY3RhbmdsZSAnICtcclxuXHRcdFx0XHRcdFx0J29uIHRoZSBLYXJuYXVnaCBtYXAuIFRoaXMgY2FuIGJlIGEgMSBieSA0IHJlY3RhbmdsZSBvciBhIDIgYnkgMiByZWN0YW5nbGUgZm9yICcgK1xyXG5cdFx0XHRcdFx0XHQnYSBncm91cGluZyBvZiA0LCBmb3IgZXhhbXBsZS4gTm90ZSB0aGF0IHRoZSBtYXAgZG9lcyA8ZW0+d3JhcCBhcm91bmQ8L2VtPiBhdCcgK1xyXG5cdFx0XHRcdFx0XHQnIHRoZSBlZGdlcywgc28gdGhlIHJpZ2h0IHNpZGUgaXMgYWRqYWNlbnQgdG8gdGhlIGxlZnQgc2lkZSwgZm9yIGV4YW1wbGUuPC9wPic7XHJcblx0XHRcdFx0XHRsZXQgZGxnID0gbmV3IE1lc3NhZ2VEaWFsb2cobWFpbiwgXCJZb3UgY2FuJ3QgZG8gdGhhdFwiLCBodG1sKTtcclxuXHRcdFx0XHRcdGRsZy5vcGVuKCk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvL1xyXG5cdFx0XHRcdC8vIEVuc3VyZSB0aGlzIGdyb3VwIGRvZXMgbm90IGFscmVhZHkgZXhpc3RcclxuXHRcdFx0XHQvL1xyXG5cdFx0XHRcdGZvcihsZXQgaT0wOyBpPHRoYXQuZ3JvdXBzLmxlbmd0aCAmJiB2YWxpZDsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZih0aGF0Lmdyb3Vwc1tpXS5zZWxlY3RlZC5sZW5ndGggPT09IHNlbGVjdGVkLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRsZXQgb2sgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0Zm9yKGxldCBqPTA7IGo8dGhhdC5ncm91cHNbaV0uc2VsZWN0ZWQubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRcdFx0XHRpZih0aGF0Lmdyb3Vwc1tpXS5zZWxlY3RlZFtqXSAhPT0gc2VsZWN0ZWRbal0pIHtcclxuXHRcdFx0XHRcdFx0XHRcdG9rID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0aWYoIW9rKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFsaWQgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHRsZXQgaHRtbCA9ICc8cD5UaGlzIGNvdmVyIGFscmVhZHkgZXhpc3RzLjwvcD4nO1xyXG5cdFx0XHRcdFx0XHRcdGxldCBkbGcgPSBuZXcgTWVzc2FnZURpYWxvZyhtYWluLCBcIllvdSBjYW4ndCBkbyB0aGF0XCIsIGh0bWwpO1xyXG5cdFx0XHRcdFx0XHRcdGRsZy5vcGVuKCk7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLmFkZF9ncm91cChzZWxlY3RlZCk7XHJcblx0XHRcdHRoaXMuZHJhd0dyb3VwcygpO1xyXG5cclxuXHRcdFx0bWFpbi53b3JrLm1hcC5jbGVhcigpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFkZCBhIG5ldyBncm91cCAoY292ZXIpXHJcblx0ICogQHBhcmFtIG1pbnRlcm1zIEFycmF5IG9mIG1pbnRlcm1zIGluIHRoZSBncm91cFxyXG5cdCAqL1xyXG5cdHRoaXMuYWRkX2dyb3VwID0gZnVuY3Rpb24obWludGVybXMpIHtcclxuXHRcdGxldCBncm91cCA9IG5ldyBHcm91cCh0aGlzLCBsaXN0LCBtaW50ZXJtcywgdGhpcy5jb2xvcnNbdGhpcy5jb2xvck5dKTtcclxuXHRcdHRoaXMuY29sb3JOID0gKHRoaXMuY29sb3JOICsgMSkgJSB0aGlzLmNvbG9ycy5sZW5ndGg7XHJcblx0XHR0aGlzLmdyb3Vwcy5wdXNoKGdyb3VwKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIERyYXcgYWxsIG9mIHRoZSBncm91cHMgb24gdGhlIGNhbnZhc1xyXG5cdCAqL1xyXG5cdHRoaXMuZHJhd0dyb3VwcyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0Y29uc3QgY2FudmFzID0gbWFpbi53b3JrLm1hcC5nZXRfY2FudmFzKCk7XHJcblx0XHR2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcblx0XHR2YXIgd2lkID0gY2FudmFzLndpZHRoO1xyXG5cdFx0dmFyIGhpdCA9IGNhbnZhcy5oZWlnaHQ7XHJcblxyXG5cdFx0Y3R4LmNsZWFyUmVjdCgwLCAwLCB3aWQsIGhpdCk7XHJcblxyXG5cdFx0dmFyIHNpemUgPSBtYWluLm9wdGlvbnMuc2l6ZTtcclxuXHRcdHZhciBjb3VudGVyID0gW107XHJcblx0XHRmb3IodmFyIGk9MDsgaTxNYXRoLnBvdygyLCBzaXplKTsgIGkrKykge1xyXG5cdFx0XHRjb3VudGVyLnB1c2goMCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yKHZhciBpPTA7IGk8dGhpcy5ncm91cHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGdyb3VwID0gdGhpcy5ncm91cHNbaV07XHJcblxyXG5cdFx0XHR2YXIgbWF4ID0gMTtcclxuXHRcdFx0Zm9yKHZhciBqPTA7IGo8Z3JvdXAuc2VsZWN0ZWQubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRjb3VudGVyW2dyb3VwLnNlbGVjdGVkW2pdXSsrO1xyXG5cdFx0XHRcdGlmKGNvdW50ZXJbZ3JvdXAuc2VsZWN0ZWRbal1dID4gbWF4KSB7XHJcblx0XHRcdFx0XHRtYXggPSBjb3VudGVyW2dyb3VwLnNlbGVjdGVkW2pdXTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblx0XHRcdGdyb3VwLmRyYXcoY3R4LCB3aWQsIGhpdCwgbWF4KTtcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHR0aGlzLmNsZWFyID0gZnVuY3Rpb24oKSB7XHJcblx0XHRsaXN0LmlubmVySFRNTCA9ICcnO1xyXG5cdFx0dGhpcy5jb2xvck4gPSAwO1xyXG5cdFx0dGhpcy5ncm91cHMgPSBbXTtcclxuXHRcdHRoaXMuZHJhd0dyb3VwcygpO1xyXG5cdH1cclxuXHJcblx0dGhpcy5yZW1vdmUgPSBmdW5jdGlvbihncm91cCkge1xyXG5cdFx0Zm9yKGxldCBpPTA7IGk8dGhpcy5ncm91cHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYodGhpcy5ncm91cHNbaV0gPT09IGdyb3VwKSB7XHJcblx0XHRcdFx0dGhpcy5ncm91cHMuc3BsaWNlKGksIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5kcmF3R3JvdXBzKCk7XHJcblx0fVxyXG5cclxuXHRpbml0aWFsaXplKCk7XHJcblxyXG4gICAgLypcclxuICAgICAnPGJ1dHRvbj5Hcm91cDwvYnV0dG9uPicgK1xyXG4gICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGlzdFwiPicgK1xyXG4gICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXBcIj4nICtcclxuICAgICAnICAgICAgICAgICAgMCwxLDIsMyw0LDUsNiw3LDgsIDksMTAsMTEsMTIsMTMsMTQsMTUnICtcclxuICAgICAnICAgICAgICA8c3Bhbj48YSBocmVmPVwiamF2YXNjcmlwdDo7XCI+PC9hPjxpbWcgc3JjPVwiaW1hZ2VzL3gucG5nXCI+PC9hPjwvc3Bhbj4nICtcclxuICAgICAnICAgICAgICAgICAgPC9kaXY+JyArXHJcbiAgICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cFwiPicgK1xyXG4gICAgICcgICAgICAgICAgICAwLDEsMiwzLDQsNSw2LDcsOCwgOSwxMCwxMSwxMiwxMywxNCwxNScgK1xyXG4gICAgICcgICAgICAgIDxzcGFuPjxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj48L2E+PGltZyBzcmM9XCJpbWFnZXMveC5wbmdcIj48L2E+PC9zcGFuPicgK1xyXG4gICAgICcgICAgICAgICAgICA8L2Rpdj4nICtcclxuICAgICAnICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyb3VwXCI+JyArXHJcbiAgICAgJyAgICAgICAgICAgIDAsMSwyLDMsNCw1LDYsNyw4LCA5LDEwLDExLDEyLDEzLDE0LDE1JyArXHJcbiAgICAgJyAgICAgICAgPHNwYW4+PGEgaHJlZj1cImphdmFzY3JpcHQ6O1wiPjwvYT48aW1nIHNyYz1cImltYWdlcy94LnBuZ1wiPjwvYT48L3NwYW4+JyArXHJcbiAgICAgJyAgICAgICAgICAgIDwvZGl2PicgK1xyXG4gICAgICcgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JvdXBcIj4nICtcclxuICAgICAnICAgICAgICAgICAgMCwxLDIsMyw0LDUsNiw3LDgsIDksMTAsMTEsMTIsMTMsMTQsMTUnICtcclxuICAgICAnICAgICAgICA8c3Bhbj48YSBocmVmPVwiamF2YXNjcmlwdDo7XCI+PC9hPjxpbWcgc3JjPVwiaW1hZ2VzL3gucG5nXCI+PC9hPjwvc3Bhbj4gJyArXHJcbiAgICAgJyAgICAgICAgICAgPC9kaXY+JyArXHJcbiAgICAgJyAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncm91cFwiPicgK1xyXG4gICAgICcgICAgICAgICAgICAwLDEsMiwzLDQsNSw2LDcsOCwgOSwxMCwxMSwxMiwxMywxNCwxNScgK1xyXG4gICAgICcgICAgICAgIDxzcGFuPjxhIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj48L2E+PGltZyBzcmM9XCJpbWFnZXMveC5wbmdcIj48L2E+PC9zcGFuPicgK1xyXG4gICAgICcgICAgICAgICAgICA8L2Rpdj4nICtcclxuICAgICAnICAgICAgICAgICAgPC9kaXY+JyArXHJcblxyXG4gICAgICovXHJcbn1cclxuXHJcbkdyb3Vwcy5wcm90b3R5cGUuY29sb3JzID0gW1wiIzAwMDBGRlwiLCBcIiM4MDgwODhcIiwgXCIjRkY4ODAwXCIsIFwiIzAwODA4MFwiLCBcIiNCREI3NkJcIixcclxuICAgIFwiIzgwMDAwMFwiLCBcIiMwMEZGODhcIiwgXCIjNzc4ODk5XCIsIFwiI0ZGQTUwMFwiLCBcIiM5QUNEMzJcIiwgXCIjNDY4MkI0XCJdO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiIsImltcG9ydCB7T3B0aW9uc30gZnJvbSAnLi9PcHRpb25zJztcclxuaW1wb3J0IHtSZWFkeX0gZnJvbSAnLi9VdGlsaXR5L1JlYWR5JztcclxuaW1wb3J0IHtNYWlufSBmcm9tICcuL01haW4nO1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBLbWFwIEthcm5hdWdoIE1hcC5cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgS21hcCA9IGZ1bmN0aW9uKHNlbCwgb3B0aW9ucykge1xyXG5cdC8vXHJcblx0Ly8gTWFzdGVyIHNldCBvZiB0aGUgdmVyc2lvblxyXG5cdC8vXHJcblx0bGV0IFBBQ0tBR0UgPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKTtcclxuXHR0aGlzLnZlcnNpb24gPSBQQUNLQUdFLnZlcnNpb247XHJcblxyXG5cdC8vIFRoZSBPcHRpb25zIG9iamVjdCB0aGF0IG1hbmFnZXMgdXNlciBvcHRpb25zXHJcblx0dGhpcy5vcHRpb25zID0gbmV3IE9wdGlvbnMob3B0aW9ucyk7XHJcblxyXG5cdC8vIEEgY29sbGVjdGlvbiBvZiBNYWluIG9iamVjdHMuXHJcblx0Y29uc3QgbWFpbnMgPSBbXTtcclxuXHJcblx0dGhpcy5zdGFydCA9ICgpID0+IHtcclxuXHRcdFJlYWR5LmdvKCgpID0+IHtcclxuXHRcdFx0dGhpcy5zdGFydE5vdygpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdGFydCBLbWFwIHJ1bm5pbmcgbm93LiBEb2VzIG5vdCB3YWl0IGZvciBkb2N1bWVudCByZWFkeS5cclxuXHQgKi9cclxuXHR0aGlzLnN0YXJ0Tm93ID0gKCkgPT4ge1xyXG5cdFx0aWYoc2VsIGluc3RhbmNlb2YgRWxlbWVudCkge1xyXG5cdFx0XHRjb25zdCBtYWluID0gbmV3IE1haW4odGhpcywgc2VsKTtcclxuXHRcdFx0bWFpbnMucHVzaChtYWluKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWwpO1xyXG5cdFx0XHRmb3IobGV0IGk9MDsgaTxlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcclxuXHRcdFx0XHRjb25zdCBtYWluID0gbmV3IE1haW4odGhpcywgZWxlbWVudCk7XHJcblx0XHRcdFx0bWFpbnMucHVzaChtYWluKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmKG1haW5zLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0XHRyZXR1cm4gbWFpbnNbMF07XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG59XHJcbiIsImltcG9ydCB7V29ya30gZnJvbSAnLi9Xb3JrJztcclxuaW1wb3J0IHtHZW5lcmF0b3J9IGZyb20gJy4vR2VuZXJhdG9yJztcclxuaW1wb3J0IHtTb2x1dGlvbn0gZnJvbSBcIi4vU29sdXRpb25cIjtcclxuaW1wb3J0IHtNYW51YWx9IGZyb20gXCIuL01hbnVhbFwiO1xyXG5pbXBvcnQge01pbnRlcm1zfSBmcm9tIFwiLi4vTG9naWMvTWludGVybXNcIjtcclxuXHJcbi8qKlxyXG4gKiBNYWluIHdpbmRvdyBtYW5hZ2VtZW50IG9iamVjdFxyXG4gKiBAcGFyYW0ga21hcCBLbWFwIG9iamVjdCAocGFyZW50KVxyXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgRE9NIGVsZW1lbnQgdG8gdXNlXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IE1haW4gPSBmdW5jdGlvbihrbWFwLCBlbGVtZW50KSB7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSBrbWFwLm9wdGlvbnM7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG5cclxuICAgIC8vIEVuc3VyZSBlbXB0eSBhbmQgYWRkIHRoZSBrbWFwLWNsIGNsYXNzXHJcbiAgICBlbGVtZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdrbWFwLWNsJyk7XHJcblxyXG4gICAgLy8gVGhlIGN1cnJlbnQgbWludGVybXNcclxuXHR0aGlzLm1pbnRlcm1zID0gbmV3IE1pbnRlcm1zKCk7XHJcblxyXG5cdHRoaXMud29yayA9IG51bGw7XHJcbiAgICB0aGlzLmdlbmVyYXRvciA9IG51bGw7XHJcbiAgICB0aGlzLnNvbHV0aW9uID0gbnVsbDtcclxuICAgIHRoaXMubWFudWFsID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmluaXRpYWxpemUgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYodGhpcy5vcHRpb25zLmdlbmVyYXRvcikge1xyXG5cdCAgICAgICAgdGhpcy5nZW5lcmF0b3IgPSBuZXcgR2VuZXJhdG9yKHRoaXMsIGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5vcHRpb25zLm1hbnVhbCkge1xyXG4gICAgICAgIFx0dGhpcy5tYW51YWwgPSBuZXcgTWFudWFsKHRoaXMsIGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5vcHRpb25zLm1hcCkge1xyXG5cdCAgICAgICAgdGhpcy53b3JrID0gbmV3IFdvcmsodGhpcywgZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHRcdHRoaXMuc29sdXRpb24gPSBuZXcgU29sdXRpb24odGhpcywgZWxlbWVudCk7XHJcblxyXG5cdCAgICAvLyBHZW5lcmF0ZSBpbml0aWFsIG1pbnRlcm1zXHJcblx0ICAgIGlmKHRoaXMub3B0aW9ucy5taW50ZXJtcy5sZW5ndGggPT09IDApIHtcclxuXHRcdCAgICB0aGlzLmdlbmVyYXRlKCk7XHJcblx0ICAgIH0gZWxzZSB7XHJcblx0XHQgICAgdGhpcy5zZXQodGhpcy5vcHRpb25zLm1pbnRlcm1zLCB0aGlzLm9wdGlvbnMuZG9udGNhcmUpO1xyXG5cdCAgICB9XHJcblxyXG5cdCAgICBpZih0aGlzLm9wdGlvbnMuc29sdmVkKSB7XHJcblx0ICAgIFx0dGhpcy5zb2x1dGlvbi5zb2x2ZSgpO1xyXG5cdFx0fVxyXG4gICAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBHZW5lcmF0ZSBhIG5ldyBzZXQgb2YgbWludGVybXMgd2l0aCBvcHRpb25hbCBkb24ndCBjYXJlc1xyXG5cdCAqL1xyXG5cdHRoaXMuZ2VuZXJhdGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHRoaXMubWludGVybXMuc2l6ZSA9IHRoaXMub3B0aW9ucy5zaXplO1xyXG5cdFx0aWYodGhpcy5vcHRpb25zLmdlbkRvbnRDYXJlKSB7XHJcblx0XHRcdHZhciBkY01heCA9IDg7XHJcblx0XHRcdHN3aXRjaCh0aGlzLm9wdGlvbnMuc2l6ZSkge1xyXG5cdFx0XHRcdGNhc2UgMjpcclxuXHRcdFx0XHRcdGRjTWF4ID0gMjtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0XHRjYXNlIDM6XHJcblx0XHRcdFx0XHRkY01heCA9IDQ7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLm1pbnRlcm1zLmdlbmVyYXRlX2JvdW5kZWQoMC41LCAxLCBNYXRoLnBvdygyLCB0aGlzLm9wdGlvbnMuc2l6ZSktMSxcclxuXHRcdFx0XHQwLjIsIDEsIGRjTWF4KTtcclxuXHJcblx0XHRcdG5ld01pbnRlcm1zKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLm1pbnRlcm1zLmdlbmVyYXRlX2JvdW5kZWQoMC41LCAxLCBNYXRoLnBvdygyLCB0aGlzLm9wdGlvbnMuc2l6ZSktMSk7XHJcblx0XHRcdG5ld01pbnRlcm1zKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR0aGlzLnNldCA9IGZ1bmN0aW9uKG1pbnRlcm1zLCBkb250Y2FyZSkge1xyXG5cdFx0dGhpcy5taW50ZXJtcy5zZXRfZnJvbShtaW50ZXJtcywgZG9udGNhcmUpO1xyXG5cdFx0bmV3TWludGVybXMoKTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IG5ld01pbnRlcm1zID0gKCkgPT4ge1xyXG5cdFx0aWYodGhpcy5zb2x1dGlvbiAhPT0gbnVsbCkge1xyXG5cdFx0XHR0aGlzLnNvbHV0aW9uLmNsZWFyKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5vcHRpb25zLm1pbnRlcm1zID0gdGhpcy5taW50ZXJtcy5taW50ZXJtcy5zbGljZSgpO1xyXG5cdFx0dGhpcy5vcHRpb25zLmRvbnRjYXJlID0gdGhpcy5taW50ZXJtcy5kb250Y2FyZS5zbGljZSgpO1xyXG5cclxuXHRcdGlmKHRoaXMud29yayAhPT0gbnVsbCkge1xyXG5cdFx0XHR0aGlzLndvcmsucmVuZGVyKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYodGhpcy5nZW5lcmF0b3IgIT09IG51bGwpIHtcclxuXHRcdFx0dGhpcy5nZW5lcmF0b3IucmVmcmVzaCgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblxyXG5cdHRoaXMubmV3U2l6ZSA9IGZ1bmN0aW9uKHNpemUpIHtcclxuXHRcdHRoaXMub3B0aW9ucy5zaXplID0gc2l6ZTtcclxuXHRcdHRoaXMuZ2VuZXJhdGUoKTtcclxuXHR9XHJcblxyXG4gICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbn1cclxuIiwiLyoqXHJcbiAqIE1hbnVhbCBlbnRyeSBvZiBtaW50ZXJtcyBhbmQgZG9uJ3QgY2FyZXMgc3VwcG9ydFxyXG4gKiBAcGFyYW0gbWFpbiBNYWluIG9iamVjdFxyXG4gKiBAcGFyYW0gZWxlbWVudCBFbGVtZW50IHdlIGFyZSBhZGRpbmcgdGhpcyBjb21wb25lbnQgdG9cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgTWFudWFsID0gZnVuY3Rpb24obWFpbiwgZWxlbWVudCkge1xyXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgIGNvbnN0IGxhYmVscyA9IG1haW4ub3B0aW9ucy5sYWJlbHM7XHJcblxyXG4gICAgbGV0IG1hbnVhbE1pbnRlcm1zLCBtYW51YWxEb250Q2FyZXMsIG1hbnVhbFZhcmlhYmxlcztcclxuXHJcbiAgICBjb25zdCBpbml0aWFsaXplID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKCdrbWFwLWNsLW1hbnVhbCcpO1xyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZGl2KTtcclxuXHJcbiAgICAgICAgY29uc3QgaDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xyXG4gICAgICAgIGgzLmlubmVySFRNTCA9ICdNYW51YWwgRW50cnknO1xyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChoMyk7XHJcblxyXG5cdCAgICAvLyB2YXIgZm9ybSA9ICc8Zm9ybT48ZGl2IGNsYXNzPVwibGVmdFwiPicgK1xyXG5cdFx0Ly8gICAgICc8cD48bGFiZWwgZm9yPVwibWFudWFsLW1pbnRlcm1zXCI+TWludGVybXM6IDwvbGFiZWw+PGJyPjxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwibWFudWFsLW1pbnRlcm1zXCIgc3BlbGxjaGVjaz1cImZhbHNlXCI+PC9wPicgK1xyXG5cdFx0Ly8gICAgICc8cD48bGFiZWwgZm9yPVwibWFudWFsLWRvbnRjYXJlc1wiPkRvblxcJ3QgY2FyZXM6IDwvbGFiZWw+PGJyPjxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwibWFudWFsLWRvbnRjYXJlc1wiIHNwZWxsY2hlY2s9XCJmYWxzZVwiPjwvcD4nICtcclxuXHRcdC8vICAgICAnPHA+PGJ1dHRvbj5UYWtlPC9idXR0b24+PC9wPicgK1xyXG5cdFx0Ly8gICAgICc8L2Rpdj48ZGl2IGNsYXNzPVwicmlnaHRcIj4nICtcclxuXHRcdC8vICAgICAnPHA+PGxhYmVsIGZvcj1cIm1hbnVhbC12YXJpYWJsZXNcIj5MYWJlbHM6IDwvbGFiZWw+PGJyPjxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwibWFudWFsLXZhcmlhYmxlc1wiIHZhbHVlPVwiJyArXHJcblx0XHQvLyAgICAgbGFiZWxzICsgJ1wiIHNwZWxsY2hlY2s9XCJmYWxzZVwiPjwvcD4nICtcclxuXHRcdC8vICAgICAnPC9kaXY+PC9mb3JtPic7XHJcblxyXG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGZvcm0pO1xyXG5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIExlZnQgZGl2XHJcbiAgICAgICAgLy9cclxuXHJcbiAgICAgICAgY29uc3QgbGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQobGVmdCk7XHJcblxyXG5cdCAgICAvLyA8cD48bGFiZWwgZm9yPVwibWFudWFsLW1pbnRlcm1zXCI+TWludGVybXM6IDwvbGFiZWw+PGJyPjxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwibWFudWFsLW1pbnRlcm1zXCIgc3BlbGxjaGVjaz1cImZhbHNlXCI+PC9wPlxyXG4gICAgICAgIGxldCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgICAgIGxlZnQuYXBwZW5kQ2hpbGQocCk7XHJcblxyXG4gICAgICAgIGxldCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcbiAgICAgICAgcC5hcHBlbmRDaGlsZChsYWJlbCk7XHJcblxyXG4gICAgICAgIGxhYmVsLmlubmVyVGV4dCA9ICdNaW50ZXJtczogJztcclxuICAgICAgICBsYWJlbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpKTtcclxuXHJcbiAgICAgICAgbWFudWFsTWludGVybXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgICAgIG1hbnVhbE1pbnRlcm1zLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XHJcbiAgICAgICAgbWFudWFsTWludGVybXMuc2V0QXR0cmlidXRlKCdzcGVsbGNoZWNrJywgJ2ZhbHNlJyk7XHJcbiAgICAgICAgbGFiZWwuYXBwZW5kQ2hpbGQobWFudWFsTWludGVybXMpO1xyXG5cclxuICAgICAgICAvLyA8cD48bGFiZWwgZm9yPVwibWFudWFsLWRvbnRjYXJlc1wiPkRvblxcJ3QgY2FyZXM6IDwvbGFiZWw+PGJyPjxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwibWFudWFsLWRvbnRjYXJlc1wiIHNwZWxsY2hlY2s9XCJmYWxzZVwiPjwvcD5cclxuXHQgICAgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuXHQgICAgbGVmdC5hcHBlbmRDaGlsZChwKTtcclxuXHJcblx0ICAgIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcclxuXHQgICAgcC5hcHBlbmRDaGlsZChsYWJlbCk7XHJcblxyXG5cdCAgICBsYWJlbC5pbm5lclRleHQgPSAnRG9uXFwndCBjYXJlczogJztcclxuXHQgICAgbGFiZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKSk7XHJcblxyXG5cdCAgICBtYW51YWxEb250Q2FyZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG5cdCAgICBtYW51YWxEb250Q2FyZXMuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcclxuXHQgICAgbWFudWFsRG9udENhcmVzLnNldEF0dHJpYnV0ZSgnc3BlbGxjaGVjaycsICdmYWxzZScpO1xyXG5cdCAgICBsYWJlbC5hcHBlbmRDaGlsZChtYW51YWxEb250Q2FyZXMpO1xyXG5cclxuXHQgICAgLy8gPHA+PGJ1dHRvbj5UYWtlPC9idXR0b24+PC9wPlxyXG5cdCAgICBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG5cdCAgICBsZWZ0LmFwcGVuZENoaWxkKHApO1xyXG5cclxuICAgICAgICBjb25zdCB0YWtlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgcC5hcHBlbmRDaGlsZCh0YWtlKTtcclxuICAgICAgICB0YWtlLmlubmVyVGV4dCA9ICdUYWtlJztcclxuXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBSaWdodCBkaXZcclxuICAgICAgICAvL1xyXG5cclxuICAgICAgICBjb25zdCByaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQocmlnaHQpO1xyXG5cclxuICAgICAgICAvLyA8cD48bGFiZWwgZm9yPVwibWFudWFsLXZhcmlhYmxlc1wiPkxhYmVsczogPC9sYWJlbD48YnI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJtYW51YWwtdmFyaWFibGVzXCIgdmFsdWU9XCInICtcclxuXHQgICAgLy8gbGFiZWxzICsgJ1wiIHNwZWxsY2hlY2s9XCJmYWxzZVwiPjwvcD5cclxuXHQgICAgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuXHQgICAgcmlnaHQuYXBwZW5kQ2hpbGQocCk7XHJcblxyXG5cdCAgICBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcblx0ICAgIHAuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG5cclxuXHQgICAgbGFiZWwuaW5uZXJUZXh0ID0gJ0xhYmVsczogJztcclxuXHQgICAgbGFiZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKSk7XHJcblxyXG5cdCAgICBtYW51YWxWYXJpYWJsZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG5cdCAgICBtYW51YWxWYXJpYWJsZXMuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcclxuXHQgICAgbWFudWFsVmFyaWFibGVzLnNldEF0dHJpYnV0ZSgnc3BlbGxjaGVjaycsICdmYWxzZScpO1xyXG5cdCAgICBsYWJlbC5hcHBlbmRDaGlsZChtYW51YWxWYXJpYWJsZXMpO1xyXG5cdCAgICBtYW51YWxWYXJpYWJsZXMudmFsdWUgPSBsYWJlbHM7XHJcblxyXG5cdCAgICB0YWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcblx0XHQgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdCAgICBjb25zdCBtaW50ZXJtc2xpc3QgPSBwYXJzZShtYW51YWxNaW50ZXJtcy52YWx1ZSk7XHJcblx0XHQgICAgY29uc3QgZG9udGNhcmVsaXN0ID0gcGFyc2UobWFudWFsRG9udENhcmVzLnZhbHVlKTtcclxuXHJcblx0XHQgICAgLy8gR2V0IHRoZSBsYWJlbHMsIHN0cmlwcGluZyBhbnkgSFRNTCB0YWdzIGp1c3QgaW4gY2FzZVxyXG5cdFx0ICAgIGNvbnN0IGxhYmVscyA9IG1hbnVhbFZhcmlhYmxlcy52YWx1ZS5yZXBsYWNlKC8oPChbXj5dKyk+KS9pZyxcIlwiKTtcclxuXHJcblx0XHQgICAgbWFpbi5vcHRpb25zLmxhYmVscyA9IGxhYmVscy5zcGxpdChcIixcIik7XHJcblx0XHQgICAgbWFpbi5zZXQobWludGVybXNsaXN0LCBkb250Y2FyZWxpc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHRmdW5jdGlvbiBwYXJzZShpbnB1dCkge1xyXG5cdFx0dmFyIHJlTSA9IC9tL2c7XHJcblx0XHR2YXIgcmUgPSAvWywgXSsvZztcclxuXHRcdHZhciBpdGVtcyA9IGlucHV0LnJlcGxhY2UocmVNLCAnJykuc3BsaXQocmUpO1xyXG5cdFx0dmFyIHJldCA9IFtdO1xyXG5cdFx0aXRlbXMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XHJcblx0XHRcdGlmKGl0ZW0gIT09ICBcIlwiKSB7XHJcblx0XHRcdFx0cmV0LnB1c2gocGFyc2VJbnQoaXRlbSkpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gcmV0O1xyXG5cdH1cclxuXHJcbiAgICBpbml0aWFsaXplKCk7XHJcbn1cclxuIiwiaW1wb3J0IHtNZXNzYWdlRGlhbG9nfSBmcm9tICcuL01lc3NhZ2VEaWFsb2cnO1xyXG5cclxuLyoqXHJcbiAqIFRoZSBhY3R1YWwgS2FybmF1Z2ggTWFwXHJcbiAqIEBwYXJhbSBtYWluXHJcbiAqIEBwYXJhbSBlbGVtZW50XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IE1hcCA9IGZ1bmN0aW9uKG1haW4sIGVsZW1lbnQpIHtcclxuICAgIHRoaXMubWFpbiA9IG1haW47XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xyXG4gICAgdGhpcy5zZWxlY3RlZCA9IFtdO1xyXG5cclxuICAgIGxldCB0b3BMZWZ0LCBib3RSaWdodCwgY2FudmFzO1xyXG5cclxuICAgIGNvbnN0IGluaXRpYWxpemUgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcclxuICAgICAgICB0YWJsZS5jbGFzc0xpc3QuYWRkKCdrbWFwLWNsJyk7XHJcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZCh0YWJsZSk7XHJcblxyXG4gICAgICAgIC8vIE1ha2UgYSBsb2NhbCBjb3B5IG9mIHRoZSBsYWJlbHMsIGNvbnZlcnRpbmdcclxuXHQgICAgLy8gXzEgdG8gPHN1Yj4xPC9zdWI+XHJcblx0ICAgIGNvbnN0IGxhYmVscyA9IFtdO1xyXG5cdCAgICBmb3IoY29uc3QgbGFiZWwgb2YgbWFpbi5vcHRpb25zLmxhYmVscykge1xyXG5cdFx0XHRsYWJlbHMucHVzaChsYWJlbC5yZXBsYWNlKC9fKFthLXpBLVowLTldKSovZywgJzxzdWI+JDE8L3N1Yj4nKSk7XHJcblx0ICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGxlZnQsIHJpZ2h0LCByZXN0LCBjb2xoZWFkcztcclxuICAgICAgICBpZigrbWFpbi5vcHRpb25zLnNpemUgPT09IDIpIHtcclxuICAgICAgICAgICAgbGV0IEEgPSBsYWJlbHNbMF07XHJcblx0ICAgICAgICBsZXQgQiA9IGxhYmVsc1sxXTtcclxuICAgICAgICAgICAgbGVmdD1CO1xyXG4gICAgICAgICAgICByaWdodD1BO1xyXG4gICAgICAgICAgICByZXN0ID0gXCI8dGg+XCIgKyBBICsgXCInPC90aD48dGg+XCIgKyBBICsgXCI8L3RoPlwiO1xyXG4gICAgICAgICAgICBjb2xoZWFkcyA9IFtCICsgXCInXCIsIEJdO1xyXG4gICAgICAgIH0gZWxzZSBpZigrbWFpbi5vcHRpb25zLnNpemUgPT09IDMpIHtcclxuXHQgICAgICAgIGxldCBBID0gbGFiZWxzWzBdO1xyXG5cdCAgICAgICAgbGV0IEIgPSBsYWJlbHNbMV07XHJcblx0ICAgICAgICBsZXQgQyA9IGxhYmVsc1syXTtcclxuICAgICAgICAgICAgbGVmdD1DO1xyXG4gICAgICAgICAgICByaWdodD1BICsgQjtcclxuICAgICAgICAgICAgcmVzdCA9IFwiPHRoPlwiICsgQSArIFwiJ1wiICsgQiArIFwiJzwvdGg+PHRoPlwiICsgQSArIFwiJ1wiICsgQiArXHJcbiAgICAgICAgICAgICAgICBcIjwvdGg+PHRoPlwiICsgQSArIEIgKyBcIjwvdGg+PHRoPlwiICsgQSAgKyBCICsgXCInPC90aD5cIjtcclxuICAgICAgICAgICAgY29saGVhZHMgPSBbQyArIFwiJ1wiLCBDXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgbGV0IEEgPSBsYWJlbHNbMF07XHJcblx0ICAgICAgICBsZXQgQiA9IGxhYmVsc1sxXTtcclxuXHQgICAgICAgIGxldCBDID0gbGFiZWxzWzJdO1xyXG5cdCAgICAgICAgbGV0IEQgPSBsYWJlbHNbM107XHJcbiAgICAgICAgICAgIGxlZnQ9QyArIEQ7XHJcbiAgICAgICAgICAgIHJpZ2h0PUEgKyBCO1xyXG4gICAgICAgICAgICByZXN0ID0gXCI8dGg+XCIgKyBBICsgXCInXCIgKyBCICsgXCInPC90aD48dGg+XCIgKyBBICsgXCInXCIgKyBCICsgXCI8L3RoPjx0aD5cIiArXHJcbiAgICAgICAgICAgICAgICBBICsgQiArIFwiPC90aD48dGg+XCIgKyBBICsgQiArIFwiJzwvdGg+XCI7XHJcbiAgICAgICAgICAgIGNvbGhlYWRzID0gW0MgKyBcIidcIiArIEQgKyBcIidcIiwgQyArIFwiJ1wiICsgRCwgQyArIEQsIEMgKyBEICsgXCInXCJdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBUb3Agcm93IGZpcnN0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbGV0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgICB0ci5pbm5lckhUTUwgPSAnPHRoPjxkaXYgY2xhc3M9XCJrbWFwLWNsLWxlZnRcIj4nICsgbGVmdCArXHJcbiAgICAgICAgICAgICc8L2Rpdj48ZGl2IGNsYXNzPVwia21hcC1jbC1saW5lXCI+PC9kaXY+PGRpdiBjbGFzcz1cImttYXAtY2wtcmlnaHRcIj4nICsgcmlnaHQgKyAnPC9kaXY+PC90aD4nICtcclxuICAgICAgICAgICAgcmVzdDtcclxuICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogUmVzdCBvZiB0aGUgdGFibGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBsZXQgcm93cyA9ICttYWluLm9wdGlvbnMuc2l6ZSA9PT0gNCA/IDQgOiAyO1xyXG4gICAgICAgIGxldCBjb2xzID0gK21haW4ub3B0aW9ucy5zaXplID09PSAyID8gMiA6IDQ7XHJcblxyXG5cclxuICAgICAgICBmb3IobGV0IHI9MTsgcjw9cm93czsgcisrKSB7XHJcbiAgICAgICAgXHR0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICAgICAgXHR0ci5pbm5lckhUTUwgPSAnPHRoPicgKyBjb2xoZWFkc1tyLTFdICsgJzwvdGg+JztcclxuXHJcbiAgICAgICAgICAgIGZvcihsZXQgYz0xOyBjPD1jb2xzOyBjKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRkID0gbWFrZV9jZWxsKGMsIHIpO1xyXG4gICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHIgPT09IDEgJiYgYyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcExlZnQgPSB0ZDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZihyID09PSByb3dzICYmIGMgPT09IGNvbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBib3RSaWdodCA9IHRkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZCh0cik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsICcxMDAwJyk7XHJcbiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgJzEwMDAnKTtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuXHJcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuXHQgICAgICAgIHNldF9jYW52YXMoKTtcclxuICAgICAgICB9LCAwKTtcclxuXHJcblxyXG5cdCAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc2V0X2NhbnZhcyk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5nZXRfY2FudmFzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgXHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc2V0X2NhbnZhcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0X2NhbnZhcygpIHtcclxuXHQgICAgY29uc3QgdGwgPSB7bGVmdDogdG9wTGVmdC5vZmZzZXRMZWZ0LCB0b3A6IHRvcExlZnQub2Zmc2V0VG9wfTtcclxuXHQgICAgY29uc3QgYnIgPSB7bGVmdDogYm90UmlnaHQub2Zmc2V0TGVmdCwgdG9wOiBib3RSaWdodC5vZmZzZXRUb3B9O1xyXG5cdCAgICBjYW52YXMuc3R5bGUudG9wID0gdGwudG9wICsgJ3B4JztcclxuXHQgICAgY2FudmFzLnN0eWxlLmxlZnQgPSB0bC5sZWZ0ICsgJ3B4JztcclxuXHQgICAgY2FudmFzLnN0eWxlLndpZHRoID0gKGJyLmxlZnQgLSB0bC5sZWZ0ICsgYm90UmlnaHQub2Zmc2V0V2lkdGgpICsgJ3B4JztcclxuXHQgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IChici50b3AgLSB0bC50b3AgKyBib3RSaWdodC5vZmZzZXRIZWlnaHQpICsgJ3B4JztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtYWtlX2NlbGwgPSAoYywgcikgPT4ge1xyXG4gICAgXHRsZXQgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cclxuICAgICAgICBsZXQgbWludGVybSA9IHRvX21pbnRlcm0oYywgcik7XHJcbiAgICAgICAgbGV0IGJpdCA9ICcwJztcclxuICAgICAgICBmb3IodmFyIGk9MDsgaTxtYWluLm9wdGlvbnMubWludGVybXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYobWludGVybSA9PT0gK21haW4ub3B0aW9ucy5taW50ZXJtc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgYml0ID0gJzEnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcihpPTA7IGk8bWFpbi5vcHRpb25zLmRvbnRjYXJlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmKG1pbnRlcm0gPT09ICttYWluLm9wdGlvbnMuZG9udGNhcmVbaV0pIHtcclxuICAgICAgICAgICAgICAgIGJpdCA9ICdYJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihtYWluLm9wdGlvbnMubGFiZWxNaW50ZXJtcykge1xyXG4gICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJtaW50ZXJtXCI+bScgKyBtaW50ZXJtICsgJzwvc3Bhbj4nICsgYml0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRkLmlubmVySFRNTCA9IGJpdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgXHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5tYWluLm9wdGlvbnMuc3RyaWN0ICYmIGJpdCA9PT0gJzAnKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaHRtbCA9ICc8cD5Zb3UgYXJlIG9ubHkgYWxsb3dlZCB0byBzZWxlY3QgY2VsbHMgdGhhdCBhcmUgZWl0aGVyIHRydWUgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ29yIHNldCB0byBkb25cXCd0IGNhcmUuPC9wPjxwPldlIGFyZSBncm91cGluZyBtaW50ZXJtcyB0aGF0IGFsbCBhcmUgdHJ1ZSAnICtcclxuICAgICAgICAgICAgICAgICAgICAnc28gd2UgY2FuIG1pbmltaXplIHRoZSBjaXJjdWl0LiBTbywgb25seSB0cnVlIGNlbGxzIGNhbiBiZSBncm91cGVkLjwvcD4nO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGxnID0gbmV3IE1lc3NhZ2VEaWFsb2cobWFpbiwgXCJZb3UgY2FuJ3QgZG8gdGhhdFwiLCBodG1sKTtcclxuICAgICAgICAgICAgICAgIGRsZy5vcGVuKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHRkLmNsYXNzTGlzdC5jb250YWlucyhcImttYXAtY2wtc2VsZWN0ZWRcIikpIHtcclxuICAgICAgICAgICAgICAgIHRkLmNsYXNzTGlzdC5yZW1vdmUoXCJrbWFwLWNsLXNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG4gPSB0aGlzLnNlbGVjdGVkLmluZGV4T2YobWludGVybSk7XHJcbiAgICAgICAgICAgICAgICBpZihuID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLnNwbGljZShuLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRkLmNsYXNzTGlzdC5hZGQoXCJrbWFwLWNsLXNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYoIWlzX3NlbGVjdGVkKG1pbnRlcm0pKSB7XHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQucHVzaChtaW50ZXJtKTtcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgLSBiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGQ7XHJcbiAgICB9XHJcblxyXG5cdGNvbnN0IHRvX21pbnRlcm0gPSAoYywgcikgPT4ge1xyXG5cdFx0bGV0IG1hcDtcclxuXHJcblx0XHRpZigrdGhpcy5tYWluLm9wdGlvbnMuc2l6ZSA9PT0gMikge1xyXG5cdFx0XHRtYXAgPSBbWzAsIDJdLCBbMSwgM11dO1xyXG5cdFx0fSBlbHNlIGlmKCt0aGlzLm1haW4ub3B0aW9ucy5zaXplID09PSAzKSB7XHJcblx0XHRcdG1hcCA9IFtbMCwgMiwgNiwgNF0sIFsxLCAzLCA3LCA1XV07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRtYXAgPSBbWzAsIDQsIDEyLCA4XSwgWzEsIDUsIDEzLCA5XSwgWzMsIDcsIDE1LCAxMV0sIFsyLCA2LCAxNCwgMTBdXTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbWFwW3ItMV1bYy0xXTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGlzX3NlbGVjdGVkID0gKG1pbnRlcm0pID0+IHtcclxuXHRcdHJldHVybiB0aGlzLnNlbGVjdGVkLmluZGV4T2YobWludGVybSkgPiAtMTsgLy9cclxuXHR9XHJcblxyXG4gICAgdGhpcy5jbGVhciA9IGZ1bmN0aW9uKCkge1xyXG5cdCAgICB0aGlzLnNlbGVjdGVkID0gW107XHJcblx0ICAgIGNvbnN0IHRkcyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0ZCcpO1xyXG5cdCAgICBmb3IobGV0IHRkIG9mIHRkcykge1xyXG5cdCAgICBcdHRkLmNsYXNzTGlzdC5yZW1vdmUoJ2ttYXAtY2wtc2VsZWN0ZWQnKTtcclxuXHQgICAgfVxyXG4gICAgfVxyXG5cclxuXHRpbml0aWFsaXplKCk7XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoZSBzdGFuZGFyZCBNZXNzYWdlIGRpYWxvZyBib3guXHJcbiAqXHJcbiAqIFByZXR0eSBtaW5pbWFsaXN0IGRpYWxvZyBib3hcclxuICpcclxuICogQHBhcmFtIG1haW4gVGhlIE1haW4gb2JqZWN0XHJcbiAqIEBwYXJhbSB0aXRsZSBUaXRsZSBmb3IgdGhlIGRpYWxvZyBib3hcclxuICogQHBhcmFtIGJvZHkgQm9keSBIVE1MIHRvIHB1dCBpbiB0aGUgZGlhbG9nIGJveFxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmV4cG9ydCBjb25zdCBNZXNzYWdlRGlhbG9nID0gZnVuY3Rpb24obWFpbiwgdGl0bGUsIGJvZHkpIHtcclxuICAgIGxldCBkaXYgPSBudWxsO1xyXG5cclxuICAgIHRoaXMub3BlbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIFRoZSB0b3AgbGV2ZWwgZGlhbG9nIGVsZW1lbnRcclxuICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZCgna21hcC1jbC1kbGcnKTtcclxuICAgICAgICBtYWluLmVsZW1lbnQuYXBwZW5kQ2hpbGQoZGl2KTtcclxuXHJcbiAgICAgICAgLy8gVGhlIG1hc2tcclxuICAgICAgICBsZXQgbWFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChtYXNrKTtcclxuXHJcbiAgICAgICAgLy8gVGhlIGRpYWxvZyBib3ggaXRzZWxmXHJcbiAgICAgICAgbGV0IGRsZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZChkbGcpO1xyXG5cclxuICAgICAgICAvLyBUaXRsZSBiYXJcclxuICAgICAgICBsZXQgdGIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkbGcuYXBwZW5kQ2hpbGQodGIpO1xyXG4gICAgICAgIHRiLmlubmVyVGV4dCA9IHRpdGxlO1xyXG5cclxuICAgICAgICAvLyBCb2R5XHJcbiAgICAgICAgbGV0IGRiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGxnLmFwcGVuZENoaWxkKGRiKTtcclxuXHQgICAgZGIuaW5uZXJIVE1MID0gYm9keTtcclxuXHJcblx0ICAgIC8vIENvbnRyb2xzXHJcbiAgICAgICAgbGV0IGNvbnRyb2xzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZGxnLmFwcGVuZENoaWxkKGNvbnRyb2xzKTtcclxuXHJcbiAgICAgICAgbGV0IG9rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgY29udHJvbHMuYXBwZW5kQ2hpbGQob2spO1xyXG4gICAgICAgIG9rLmlubmVyVGV4dCA9ICdPayc7XHJcblxyXG4gICAgICAgIG9rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICBpZihkaXYgIT09IG51bGwpIHtcclxuXHQgICAgICAgICAgIG1haW4uZWxlbWVudC5yZW1vdmVDaGlsZChkaXYpO1xyXG5cdCAgICAgICAgICAgZGl2ID0gbnVsbDtcclxuICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBVc2VyIGludGVyZmFjZSBvcHRpb25zLlxyXG4gKlxyXG4gKiBPcHRpb25zIGNhbiBiZSBwYXNzZWQgYXMgYSBKYXZhc2NyaXB0IE9iamVjdCwgSlNPTiwgb3IgYmFzZTY0LWVuY29kZWQgSlNPTlxyXG4gKlxyXG4gKiBAcGFyYW0gb3B0aW9ucyBVc2VyIHByb3ZpZGVkIG9wdGlvbnMgdGhhdCBvdmVycmlkZSB0aGUgZGVmYXVsdCB2YWx1ZXMuXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcclxuXHJcblx0aWYgKG9wdGlvbnMgIT09IE9iamVjdChvcHRpb25zKSkge1xyXG5cdFx0aWYgKG9wdGlvbnMuc3Vic3RyKDAsIDEpID09PSAneycpIHtcclxuXHRcdFx0b3B0aW9ucyA9IEpTT04ucGFyc2Uob3B0aW9ucyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBOb3QgSlNPTiwgbXVzdCBiZSBiYXNlNjQgZW5jb2RlZFxyXG5cdFx0XHRvcHRpb25zID0gSlNPTi5wYXJzZShhdG9iKG9wdGlvbnMpKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG4gICAgLy8vIFRoZSBpbnB1dCBzaXplOiAyLCAzLCBvciA0XHJcblx0dGhpcy5zaXplID0gNDtcclxuXHJcblx0Ly8vIFRoZSBtaW50ZXJtcy4gU2V0IHRvIGludGVnZXJzIHN0YXJ0aW5nIGF0IDBcclxuXHR0aGlzLm1pbnRlcm1zID0gW107IC8vIFsxLCAyLCA3LCA4LCA5LCAxNF07XHJcblxyXG5cdC8vLyBUaGUgZG9uJ3QgY2FyZSBtaW50ZXJtc1xyXG5cdHRoaXMuZG9udGNhcmUgPSBbXTtcclxuXHJcblx0Ly8vIExhYmVscyBmb3IgdGhlIHZhcmlhYmxlcy5cclxuXHR0aGlzLmxhYmVscyA9IFsnQScsICdCJywgJ0MnLCAnRCddO1xyXG5cclxuXHQvLy8gR2VuZXJhdGUgZG9uJ3QgY2FyZSBtYXBzXHJcblx0dGhpcy5nZW5Eb250Q2FyZSA9IGZhbHNlO1xyXG5cclxuXHQvLy8gQXJlIGRvbid0IGNhcmVzIGFuIG9wdGlvbiBmb3IgdGhlIGdlbmVyYXRvcj9cclxuXHR0aGlzLmdlbkRvbnRDYXJlT3B0aW9uID0gdHJ1ZTtcclxuXHJcblx0Ly9cclxuXHQvLyBVc2VyIGludGVyZmFjZSBzZWN0aW9uc1xyXG5cdC8vXHJcblxyXG5cdC8vLyBJbmNsdWRlIHRoZSBnZW5lcmF0b3I/XHJcblx0dGhpcy5nZW5lcmF0b3IgPSB0cnVlO1xyXG5cclxuXHQvLy8gSW5jbHVkZSB0aGUgbWFudWFsIGRhdGEgZW50cnkgc2VjdGlvbj9cclxuXHR0aGlzLm1hbnVhbCA9IGZhbHNlO1xyXG5cclxuXHQvLy8gSW5jbHVkZSB0aGUgbWFwP1xyXG5cdHRoaXMubWFwID0gdHJ1ZTtcclxuXHJcblx0Ly8vIEluY2x1ZGUgdGhlIHNvbHV0aW9uIHNlY3Rpb24/XHJcblx0dGhpcy5zb2x1dGlvbiA9IHRydWU7XHJcblxyXG5cdC8vLyBJbmNsdWRlIHRoZSBUbyBQTkcgYnV0dG9uXHJcblx0dGhpcy50b1BORyA9IGZhbHNlO1xyXG5cclxuXHQvLy8gSWYgc2V0IHRydWUsIHByYWN0aWNlIGdlbmVyYXRlIGZlYXR1cmVzIGFyZSBkaXNhYmxlZFxyXG5cdHRoaXMuZml4ZWQgPSBmYWxzZTtcclxuXHJcblx0Ly8vIFZlcmJvc2UgYW5zd2VycyBvbiBtaXN0YWtlc1xyXG5cdHRoaXMudmVyYm9zZSA9IHRydWU7XHJcblxyXG5cdC8vLyBJZiB0cnVlLCB0aGUgbWludGVybSBuYW1lIGFwcGVhcnMgaW4gZWFjaCBjZWxsLlxyXG5cdHRoaXMubGFiZWxNaW50ZXJtcyA9IHRydWU7XHJcblxyXG5cdC8vLyBJZiBzZXQgdHJ1ZSwgdXNlciBpbnB1dCBpcyBjaGVja2VkIGZvciBzZWxlY3RpbmcgaW52YWxpZCBjZWxsc1xyXG5cdC8vLyBzdWNoIGFzIHplcm9zLlxyXG5cdHRoaXMuc3RyaWN0ID0gdHJ1ZTtcclxuXHJcblxyXG5cclxuXHQvLy8gSWYgdHJ1ZSwgdGhlIGhlYWRlciBLYXJuYXVnaCBNYXAgaXMgaW5jbHVkZWQgd2l0aCBhbiBvcHRpb24gdG8gaGlkZSB0aGUgbWFwXHJcblx0dGhpcy5tYXBIZWFkaW5nID0gdHJ1ZTtcclxuXHJcblx0Ly8vIEEgcmVzdWx0cyBzZWxlY3Rvci4gU2VsZWN0b3IgdGhhdCB3aWxsIGJlIHNldCB0byB0aGUgc3VjY2VzcyB2YWx1ZVxyXG5cdC8vLyBpZiB0aGUgZXhwcmVzc2lvbiBzdWNjZXNzZnVsbHkgY2hlY2tzXHJcblx0dGhpcy5yZXN1bHRTZWwgPSBudWxsO1xyXG5cclxuXHQvLy8gVmFsdWUgcmVzdWx0c1NlbCB3aWxsIGJlIHNldCB0byBpZiBjaGVjayBpcyBzdWNjZXNzZnVsICgnZmFpbCcgb3RoZXJ3aXNlKVxyXG5cdHRoaXMuc3VjY2VzcyA9ICdzdWNjZXNzJztcclxuXHJcblx0Ly8vIFNlbGVjdG9yIHRoYXQgd2lsbCBiZSBzZXQgdG8gdGhlIGV4cHJlc3Npb24gZWFjaCB0aW1lIGNoZWNrIGlzIHByZXNzZWQuXHJcblx0dGhpcy5leHByZXNzaW9uU2VsID0gbnVsbDtcclxuXHJcblx0Ly8vIElzIHRoZSBzb2x2ZSBidXR0b24gcHJvdmlkZWQ/XHJcblx0dGhpcy5zb2x2ZSA9IGZhbHNlO1xyXG5cclxuXHQvLy8gSXMgdGhlIHByb2JsZW0gc29sdmVkP1xyXG5cdHRoaXMuc29sdmVkID0gZmFsc2U7XHJcblxyXG4gICAgZm9yKHZhciBwcm9wZXJ0eSBpbiBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgaWYoIXRoaXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIG9wdGlvbiBcIiArIHByb3BlcnR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IG9wdGlvbnNbcHJvcGVydHldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQge0V4cHJlc3Npb259IGZyb20gXCIuLi9Mb2dpYy9FeHByZXNzaW9uXCI7XHJcbmltcG9ydCB7UXVpbmVNY0NsdXNrZXlTb2x2ZXJ9IGZyb20gXCIuLi9Mb2dpYy9RdWluZU1jQ2x1c2tleVNvbHZlclwiO1xyXG5cclxuaW1wb3J0ICcuLi9WZW5kb3IvQmxvYi5qcyc7XHJcbmltcG9ydCBzYXZlQXMgZnJvbSAnLi4vVmVuZG9yL0ZpbGVTYXZlci5qcyc7XHJcblxyXG5pbXBvcnQgaHRtbDJjYW52YXMgZnJvbSAnaHRtbDJjYW52YXMnO1xyXG5cclxuLyoqXHJcbiAqIFByYWN0aWNlIHBhZ2Ugc29sdXRpb24gZm9ybVxyXG4gKiBAcGFyYW0gbWFpbiBNYWluIG9iamVjdFxyXG4gKiBAcGFyYW0gZWxlbWVudCBQYXJlbnQgZWxlbWVudFxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmV4cG9ydCBjb25zdCBTb2x1dGlvbiA9IGZ1bmN0aW9uKG1haW4sIGVsZW1lbnQpIHtcclxuICAgIHRoaXMubWFpbiA9IG1haW47XHJcblxyXG4gICAgLy8gVGhlIHZhcmlvdXMgc2VjdGlvbiBlbGVtZW50c1xyXG4gICAgbGV0IGRpdj1udWxsLCBleHByZXNzaW9uSW5wdXQ9bnVsbCwgcmVzdWx0PW51bGw7XHJcblxyXG4gICAgY29uc3QgaW5pdGlhbGl6ZSA9ICgpID0+IHtcclxuICAgIFx0Ly8gV2Ugb25seSBjcmVhdGUgdGhlIGRpdiBpcyB0aGUgdXNlciB3YW50cyB0aGUgc29sdXRpb25cclxuXHRcdC8vIGludGVyZmFjZSBvciBpcyBhIHNvbHV0aW9uIGlzIHByZXNlbnRlZC5cclxuICAgIFx0aWYobWFpbi5vcHRpb25zLnNvbHV0aW9uIHx8IG1haW4ub3B0aW9ucy5zb2x2ZWQpIHtcclxuXHRcdFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRcdGRpdi5jbGFzc0xpc3QuYWRkKCdrbWFwLWNsLXNvbHV0aW9uJyk7XHJcblx0XHRcdGVsZW1lbnQuYXBwZW5kKGRpdik7XHJcblxyXG5cdFx0XHQvLyBJZiBhIHNvbHV0aW9uIGlzIHByZXNlbnRlZCwgd2UgZG9uJ3QgbmVlZCB0aGUgaW50ZXJmYWNlXHJcblx0XHRcdGlmKG1haW4ub3B0aW9ucy5zb2x1dGlvbiAmJiAhbWFpbi5vcHRpb25zLnNvbHZlZCkge1xyXG5cdFx0XHRcdGFkZERpdigpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBSZXN1bHRzIGRpdlxyXG5cdFx0XHRyZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdFx0ZGl2LmFwcGVuZENoaWxkKHJlc3VsdCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBBZGQgdGhlIDxkaXY+IHRvIG1haW5cclxuXHRjb25zdCBhZGREaXYgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gSGVhZGluZ1xyXG4gICAgICAgIGxldCBoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbiAgICAgICAgaDMuaW5uZXJUZXh0ID0gJ1NvbHV0aW9uJztcclxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaDMpO1xyXG5cclxuICAgICAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoZm9ybSk7XHJcblxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gRW50ZXIgZXhwcmVzc2lvblxyXG5cdCAgICAvLyAnPHA+PGxhYmVsPkVudGVyIEV4cHJlc3Npb248YnI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgc3BlbGxjaGVjaz1cImZhbHNlXCIgY2xhc3M9XCJleHByZXNzaW9uXCI+PC9sYWJlbD48L3A+J1xyXG5cdCAgICAvL1xyXG5cdCAgICBsZXQgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuXHQgICAgZm9ybS5hcHBlbmRDaGlsZChwKTtcclxuXHJcblx0ICAgIGxldCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XHJcblx0ICAgIHAuYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG5cdCAgICBsYWJlbC5pbm5lclRleHQgPSAnRW50ZXIgRXhwcmVzc2lvbic7XHJcblx0ICAgIGxhYmVsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJykpO1xyXG5cclxuXHQgICAgZXhwcmVzc2lvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuXHQgICAgZXhwcmVzc2lvbklucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XHJcblx0ICAgIGV4cHJlc3Npb25JbnB1dC5zZXRBdHRyaWJ1dGUoJ3NwZWxsY2hlY2snLCAnZmFsc2UnKTtcclxuXHQgICAgbGFiZWwuYXBwZW5kQ2hpbGQoZXhwcmVzc2lvbklucHV0KTtcclxuXHJcblx0ICAgIC8vXHJcblx0ICAgIC8vIENoZWNrIGJ1dHRvblxyXG5cdCAgICAvL1xyXG4gICAgICAgIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChwKTtcclxuXHJcbiAgICAgICAgbGV0IGNoZWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICAgY2hlY2suY2xhc3NMaXN0LmFkZCgnY2hlY2snKTtcclxuICAgICAgICBjaGVjay5pbm5lclRleHQgPSAnQ2hlY2snO1xyXG4gICAgICAgIHAuYXBwZW5kQ2hpbGQoY2hlY2spO1xyXG5cclxuICAgICAgICBjaGVjay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgdGhpcy5jaGVjaygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIENsZWFyIGJ1dHRvbiAoaW5wdXQpXHJcblx0ICAgIC8vXHJcblx0ICAgIHAuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJyAnKSk7XHJcblxyXG5cdCAgICBsZXQgY2xlYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblx0ICAgIGNsZWFyLmNsYXNzTGlzdC5hZGQoJ2NsZWFyJyk7XHJcblx0ICAgIHAuYXBwZW5kQ2hpbGQoY2xlYXIpO1xyXG5cclxuXHQgICAgY2xlYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0ICAgICAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cdCAgICAvL1xyXG5cdCAgICAvLyBPcHRpb25hbCBzb2x2ZSBidXR0b25cclxuXHQgICAgLy9cclxuXHQgICAgaWYobWFpbi5vcHRpb25zLnNvbHZlKSB7XHJcblx0XHQgICAgbGV0IHNvbHZlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcblx0XHQgICAgc29sdmUuY2xhc3NMaXN0LmFkZCgna21hcC1jbC1zb2x2ZScpO1xyXG5cdFx0ICAgIHNvbHZlLmlubmVySFRNTCA9ICdTb2x2ZSc7XHJcblx0XHQgICAgcC5hcHBlbmRDaGlsZChzb2x2ZSk7XHJcblxyXG5cdFx0ICAgIHNvbHZlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcblx0XHQgICAgXHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0ICAgIFx0dGhpcy5zb2x2ZSgpO1xyXG5cdFx0ICAgIH0pXHJcblx0ICAgIH1cclxuXHJcblx0ICAgIC8vXHJcblx0ICAgIC8vIE9wdGlvbmFsIFRvIFBORyBidXR0b25cclxuXHQgICAgLy9cclxuXHQgICAgaWYobWFpbi5vcHRpb25zLnRvUE5HKSB7XHJcblx0XHQgICAgY29uc3QgdG9QTkcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuXHRcdCAgICB0b1BORy5jbGFzc0xpc3QuYWRkKCdrbWFwLWNsLXRvcG5nJyk7XHJcblx0XHQgICAgdG9QTkcuaW5uZXJIVE1MID0gJ1RvIFBORyc7XHJcblx0XHQgICAgcC5hcHBlbmRDaGlsZCh0b1BORyk7XHJcblxyXG5cdFx0ICAgIHRvUE5HLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcblx0XHRcdCAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHQgICAgdGhpcy50b1BORygpO1xyXG5cdFx0ICAgIH0pXHJcblx0ICAgIH1cclxuICAgIH1cclxuXHJcblx0LyoqXHJcblx0ICogQ2xlYXIgdGhlIG1hcFxyXG5cdCAqL1xyXG5cdHRoaXMuY2xlYXIgPSBmdW5jdGlvbigpIHtcclxuICAgIFx0aWYoZXhwcmVzc2lvbklucHV0ICE9PSBudWxsKSB7XHJcblx0XHRcdGV4cHJlc3Npb25JbnB1dC52YWx1ZSA9ICcnO1xyXG5cdFx0fVxyXG5cclxuICAgIFx0aWYocmVzdWx0ICE9PSBudWxsKSB7XHJcblx0XHRcdHJlc3VsdC5pbm5lckhUTUwgPSAnJztcclxuXHRcdH1cclxuXHR9XHJcblxyXG4gICAgdGhpcy5jaGVjayA9IGZ1bmN0aW9uKCkge1xyXG5cdCAgICB2YXIgbXQgPSAnJztcclxuXHQgICAgdmFyIGZpcnN0PXRydWU7XHJcblx0ICAgIGZvcihsZXQgaSBpbiBtYWluLm9wdGlvbnMubWludGVybXMpIHtcclxuXHRcdCAgICBpZihmaXJzdCkge1xyXG5cdFx0XHQgICAgbXQgKz0gXCIsXCI7XHJcblx0XHQgICAgfSBlbHNlIHtcclxuXHRcdFx0ICAgIGZpcnN0ID0gZmFsc2U7XHJcblx0XHQgICAgfVxyXG5cclxuXHRcdCAgICBtdCArPSBtYWluLm9wdGlvbnMubWludGVybXNbaV07XHJcblx0ICAgIH1cclxuXHJcblx0ICAgIHJlc3VsdC5pbm5lckhUTUwgPSAnJztcclxuXHJcblx0ICAgIHZhciBleHByZXNzaW9uID0gbmV3IEV4cHJlc3Npb24oKTtcclxuXHQgICAgZXhwcmVzc2lvbi5sYWJlbHMgPSBtYWluLm9wdGlvbnMubGFiZWxzO1xyXG5cdCAgICBleHByZXNzaW9uLnNldF9zaXplKG1haW4ub3B0aW9ucy5zaXplKTtcclxuXHJcblx0ICAgIGxldCBzdHIgPSBleHByZXNzaW9uSW5wdXQudmFsdWU7XHJcblxyXG5cdCAgICBpZihtYWluLm9wdGlvbnMuZXhwcmVzc2lvblNlbCAhPT0gbnVsbCkge1xyXG5cdFx0ICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChtYWluLm9wdGlvbnMuZXhwcmVzc2lvblNlbCk7XHJcblx0XHQgICAgZm9yKGxldCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XHJcblx0XHRcdCAgICBlbGVtZW50LnZhbHVlID0gc3RyLnJlcGxhY2UoLyg8KFtePl0rKT4pL2lnLFwiXCIpO1xyXG5cdFx0ICAgIH1cclxuXHQgICAgfVxyXG5cclxuXHQgICAgdHJ5IHtcclxuXHRcdCAgICBleHByZXNzaW9uLnBhcnNlKHN0cik7XHJcblx0ICAgIH0gY2F0Y2gobXNnKSB7XHJcblx0XHQgICAgZmFpbCgnPHA+WW91ciBleHByZXNzaW9uIGZhaWxlZCB0byBwYXJzZSBhbmQgbXVzdCBub3QgYmUgJyArXHJcblx0XHRcdCAgICAnaW4gdGhlIGNvcnJlY3QgZm9ybS48L3A+JyArXHJcblx0XHRcdCAgICAnPHA+JyArIG1zZyArICc8L3A+Jyk7XHJcblx0XHQgICAgcmV0dXJuO1xyXG5cdCAgICB9XHJcblxyXG5cclxuXHQgICAgLy8gSXMgdGhpcyByZXN1bHQgbWluaW1hbD9cclxuXHQgICAgdmFyIHFtID0gbmV3IFF1aW5lTWNDbHVza2V5U29sdmVyKCk7XHJcblx0ICAgIHFtLmxhYmVscyA9IG1haW4ub3B0aW9ucy5sYWJlbHM7XHJcblxyXG5cdCAgICBxbS5pbml0KG1haW4ub3B0aW9ucy5zaXplKTtcclxuXHQgICAgZm9yKHZhciBpIGluIG1haW4ub3B0aW9ucy5taW50ZXJtcykge1xyXG5cdFx0ICAgIHFtLnNldChtYWluLm9wdGlvbnMubWludGVybXNbaV0sIHRydWUpO1xyXG5cdCAgICB9XHJcblx0ICAgIGZvcihpIGluIG1haW4ub3B0aW9ucy5kb250Y2FyZSkge1xyXG5cdFx0ICAgIHFtLnNldChtYWluLm9wdGlvbnMuZG9udGNhcmVbaV0sIHVuZGVmaW5lZCk7XHJcblx0ICAgIH1cclxuXHQgICAgcW0uY29tcHV0ZSgpO1xyXG5cclxuXHQgICAgdmFyIHFtRXhwcmVzc2lvbiA9IG5ldyBFeHByZXNzaW9uKCk7XHJcblx0ICAgIHFtRXhwcmVzc2lvbi5sYWJlbHMgPSBtYWluLm9wdGlvbnMubGFiZWxzO1xyXG5cdCAgICBxbUV4cHJlc3Npb24uc2V0X3NpemUobWFpbi5vcHRpb25zLnNpemUpO1xyXG5cclxuXHQgICAgcW1FeHByZXNzaW9uLnBhcnNlKHFtLmV4cHJlc3Npb24oKSk7XHJcblxyXG5cdCAgICB2YXIgdmFsaWQgPSB0cnVlO1xyXG5cclxuXHQgICAgLy9cclxuXHQgICAgLy8gVGVzdCB0aGF0IGV2ZXJ5IG1pbnRlcm0gc3VwcGxpZWQgaXMgZWl0aGVyXHJcblx0ICAgIC8vIGEgdmFsaWQgbWludGVybSBvciBhIGRvbid0IGNhcmVcclxuXHQgICAgLy9cclxuXHQgICAgZm9yKHZhciBpIGluIGV4cHJlc3Npb24ubWludGVybXMubWludGVybXMpIHtcclxuXHRcdCAgICB2YXIgbSA9IGV4cHJlc3Npb24ubWludGVybXMubWludGVybXNbaV07XHJcblx0XHQgICAgdmFyIGlubGlzdCA9IGZhbHNlO1xyXG5cdFx0ICAgIGZvcih2YXIgaiBpbiBtYWluLm9wdGlvbnMubWludGVybXMpIHtcclxuXHRcdFx0ICAgIGlmKG1haW4ub3B0aW9ucy5taW50ZXJtc1tqXSA9PSBtKSB7XHJcblx0XHRcdFx0ICAgIGlubGlzdCA9IHRydWU7XHJcblx0XHRcdFx0ICAgIGJyZWFrO1xyXG5cdFx0XHQgICAgfVxyXG5cdFx0ICAgIH1cclxuXHJcblx0XHQgICAgZm9yKGogIGluIG1haW4ub3B0aW9ucy5kb250Y2FyZSkge1xyXG5cdFx0XHQgICAgaWYobWFpbi5vcHRpb25zLmRvbnRjYXJlW2pdID09IG0pIHtcclxuXHRcdFx0XHQgICAgaW5saXN0ID0gdHJ1ZTtcclxuXHRcdFx0XHQgICAgYnJlYWs7XHJcblx0XHRcdCAgICB9XHJcblx0XHQgICAgfVxyXG5cclxuXHRcdCAgICBpZighaW5saXN0KSB7XHJcblx0XHRcdCAgICAvLyBJZiB3ZSBnb3QgdG8gaGVyZSwgdGhpcyB0ZXJtIGlzIGV4dHJhbmVvdXMhXHJcblx0XHRcdCAgICB2YWxpZCA9IGZhbHNlO1xyXG5cdFx0XHQgICAgYnJlYWs7XHJcblx0XHQgICAgfVxyXG5cdCAgICB9XHJcblxyXG5cdCAgICAvL1xyXG5cdCAgICAvLyBUZXN0IHRoYXQgZXZlcnkgbWludGVybSByZXF1aXJlZCBpcyBpbiB0aGUgc3VwcGxpZWQgbGlzdFxyXG5cdCAgICAvL1xyXG5cdCAgICBmb3IoaSBpbiBtYWluLm9wdGlvbnMubWludGVybXMpIHtcclxuXHRcdCAgICBtID0gbWFpbi5vcHRpb25zLm1pbnRlcm1zW2ldO1xyXG5cdFx0ICAgIGlubGlzdCA9IGZhbHNlO1xyXG5cdFx0ICAgIGZvcih2YXIgaiBpbiBleHByZXNzaW9uLm1pbnRlcm1zLm1pbnRlcm1zKSB7XHJcblx0XHRcdCAgICBpZihleHByZXNzaW9uLm1pbnRlcm1zLm1pbnRlcm1zW2pdID09IG0pIHtcclxuXHRcdFx0XHQgICAgaW5saXN0ID0gdHJ1ZTtcclxuXHRcdFx0XHQgICAgYnJlYWs7XHJcblx0XHRcdCAgICB9XHJcblx0XHQgICAgfVxyXG5cclxuXHRcdCAgICBpZighaW5saXN0KSB7XHJcblx0XHRcdCAgICAvLyBJZiB3ZSBnb3QgdG8gaGVyZSwgdGhpcyB0ZXJtIGlzIGV4dHJhbmVvdXMhXHJcblx0XHRcdCAgICB2YWxpZCA9IGZhbHNlO1xyXG5cdFx0XHQgICAgYnJlYWs7XHJcblx0XHQgICAgfVxyXG5cdCAgICB9XHJcblxyXG5cdCAgICBpZighdmFsaWQpIHtcclxuXHRcdCAgICBpZihtYWluLm9wdGlvbnMudmVyYm9zZSkge1xyXG5cdFx0XHQgICAgdmFyIGh0bWwgPSAnPHA+WW91ciBleHByZXNzaW9uIGlzIG5vdCBhIHZhbGlkIHNvbHV0aW9uIGZvciB0aGlzICcgK1xyXG5cdFx0XHRcdCAgICAnc2V0IG9mIG1pbnRlcm1zLiBUaGUgbWludGVybXMgZm9yIHlvdXIgZXhwcmVzc2lvbiBoYXZlIGJlZW4gJyArXHJcblx0XHRcdFx0ICAgICdjb21wdXRlZCBhczogPC9wPic7XHJcblxyXG5cdFx0XHQgICAgaWYoZXhwcmVzc2lvbi5taW50ZXJtcy5taW50ZXJtcy5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0ICAgIGh0bWwgKz0gJzxwIGNsYXNzPVwiY2VudGVyIHNtYWxsXCI+JyArIGV4cHJlc3Npb24ubWludGVybXMubGlzdCgpICsgJzwvcD4nO1xyXG5cdFx0XHQgICAgfSBlbHNlIHtcclxuXHRcdFx0XHQgICAgaHRtbCArPSAnPHAgY2xhc3M9XCJjZW50ZXIgc21hbGxcIj5ub25lPC9wPic7XHJcblx0XHRcdCAgICB9XHJcblx0XHQgICAgfSBlbHNlIHtcclxuXHRcdFx0ICAgIHZhciBodG1sID0gJzxwPllvdXIgZXhwcmVzc2lvbiBpcyBub3QgYSB2YWxpZCBzb2x1dGlvbiBmb3IgdGhpcyAnICtcclxuXHRcdFx0XHQgICAgJ3NldCBvZiBtaW50ZXJtcy48L3A+JztcclxuXHRcdCAgICB9XHJcblxyXG5cdFx0ICAgIGZhaWwoaHRtbCk7XHJcblx0XHQgICAgcmV0dXJuO1xyXG5cdCAgICB9XHJcblxyXG5cdCAgICBpZighZXhwcmVzc2lvbi5hc19nb29kX2FzKHFtRXhwcmVzc2lvbikpIHtcclxuXHRcdCAgICBpZihtYWluLm9wdGlvbnMudmVyYm9zZSkge1xyXG5cdFx0XHQgICAgZmFpbCgnPHA+WW91ciBleHByZXNzaW9uIGlzIG5vdCBtaW5pbWFsLiBBIG1pbmltYWwgc29sdXRpb24gJyArXHJcblx0XHRcdFx0ICAgICdmb3IgdGhpcyBwcm9ibGVtIGlzOjwvcD4nICtcclxuXHRcdFx0XHQgICAgJzxwIGNsYXNzPVwic21hbGxcIj4nICsgcW0uZXhwcmVzc2lvbigpICsgJzwvcD4nKTtcclxuXHRcdCAgICB9IGVsc2Uge1xyXG5cdFx0XHQgICAgZmFpbCgnPHA+WW91ciBleHByZXNzaW9uIGlzIG5vdCBtaW5pbWFsLjwvcD4nKTtcclxuXHRcdCAgICB9XHJcblxyXG5cdFx0ICAgIHJldHVybjtcclxuXHQgICAgfVxyXG5cclxuXHQgICAgLy9cclxuXHQgICAgLy8gU3VjY2Vzc1xyXG5cdCAgICAvL1xyXG5cclxuXHQgICAgcmVzdWx0LmlubmVySFRNTCA9ICc8cD5Zb3VyIGV4cHJlc3Npb24gaXMgY29ycmVjdCBhbmQgbWluaW1hbC48L3A+JztcclxuXHJcblx0ICAgIGlmKG1haW4ub3B0aW9ucy5yZXN1bHRTZWwgIT09IG51bGwpIHtcclxuXHQgICAgXHRjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobWFpbi5vcHRpb25zLnJlc3VsdFNlbCk7XHJcblx0ICAgIFx0Zm9yKGxldCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XHJcblx0ICAgIFx0XHRlbGVtZW50LnZhbHVlID0gbWFpbi5vcHRpb25zLnN1Y2Nlc3M7XHJcblx0XHQgICAgfVxyXG5cdCAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zb2x2ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdCAgICBjb25zdCBxbSA9IHRoaXMubWluaW11bUV4cHJlc3Npb24oKTtcclxuXHQgICAgaWYocmVzdWx0ICE9PSBudWxsKSB7XHJcblx0XHRcdHJlc3VsdC5pbm5lckhUTUwgPSAnPHAgY2xhc3M9XCJjZW50ZXJcIj4nICsgcW0uZXhwcmVzc2lvbigpICsgXCI8L3A+XCI7XHJcblx0XHR9XHJcblxyXG5cdCAgICBtYWluLndvcmsubWFwLmNsZWFyKCk7XHJcblxyXG5cdCAgICB2YXIgZ3JvdXBzID0gbWFpbi53b3JrLmdyb3VwcztcclxuXHQgICAgZ3JvdXBzLmNsZWFyKCk7XHJcblxyXG5cdCAgICB2YXIgdGVybXMgPSBxbS5leHByZXNzaW9uKCkuc3BsaXQoJysnKTtcclxuXHQgICAgdmFyIGV4cCA9IG5ldyBFeHByZXNzaW9uKCk7XHJcblx0ICAgIGV4cC5sYWJlbHMgPSBtYWluLm9wdGlvbnMubGFiZWxzO1xyXG5cdCAgICBleHAuc2V0X3NpemUobWFpbi5vcHRpb25zLnNpemUpO1xyXG5cdCAgICBmb3IodmFyIGk9MDsgaTx0ZXJtcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0ICAgIHZhciB0ZXJtID0gdGVybXNbaV07XHJcblx0XHQgICAgZXhwLnBhcnNlKHRlcm0pO1xyXG5cdFx0ICAgIGdyb3Vwcy5hZGRfZ3JvdXAoZXhwLm1pbnRlcm1zLm1pbnRlcm1zKTtcclxuXHQgICAgfVxyXG5cclxuXHQgICAgZ3JvdXBzLmRyYXdHcm91cHMoKTtcclxuICAgIH1cclxuXHJcblx0Y29uc3QgZmFpbCA9IChtc2cpID0+IHtcclxuXHRcdHJlc3VsdC5pbm5lckhUTUwgPSBtc2c7XHJcblxyXG5cdFx0aWYobWFpbi5vcHRpb25zLnJlc3VsdFNlbCAhPT0gbnVsbCkge1xyXG5cdFx0XHRjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobWFpbi5vcHRpb25zLnJlc3VsdFNlbCk7XHJcblx0XHRcdGZvcihsZXQgZWxlbWVudCBvZiBlbGVtZW50cykge1xyXG5cdFx0XHRcdGVsZW1lbnQudmFsdWUgPSAnZmFpbCc7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cclxuXHR0aGlzLm1pbmltdW1FeHByZXNzaW9uID0gZnVuY3Rpb24oKSB7XHJcblx0XHQvLyBJcyB0aGlzIHJlc3VsdCBtaW5pbWFsP1xyXG5cdFx0dmFyIHFtID0gbmV3IFF1aW5lTWNDbHVza2V5U29sdmVyKCk7XHJcblx0XHRxbS5sYWJlbHMgPSB0aGlzLm1haW4ub3B0aW9ucy5sYWJlbHM7XHJcblxyXG5cdFx0cW0uaW5pdCh0aGlzLm1haW4ub3B0aW9ucy5zaXplKTtcclxuXHRcdGZvcih2YXIgaSBpbiB0aGlzLm1haW4ub3B0aW9ucy5taW50ZXJtcykge1xyXG5cdFx0XHRxbS5zZXQodGhpcy5tYWluLm9wdGlvbnMubWludGVybXNbaV0sIHRydWUpO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKGkgaW4gdGhpcy5tYWluLm9wdGlvbnMuZG9udGNhcmUpIHtcclxuXHRcdFx0cW0uc2V0KHRoaXMubWFpbi5vcHRpb25zLmRvbnRjYXJlW2ldLCB1bmRlZmluZWQpO1xyXG5cdFx0fVxyXG5cdFx0cW0uY29tcHV0ZSgpO1xyXG5cdFx0cmV0dXJuIHFtO1xyXG5cdH1cclxuXHJcblx0dGhpcy50b1BORyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0aHRtbDJjYW52YXMobWFpbi5lbGVtZW50KS50aGVuKGNhbnZhcyA9PiB7XHJcblx0XHRcdGNvbnN0IG9wdGlvbnMgPSB0aGlzLm1haW4ub3B0aW9ucztcclxuXHJcblx0XHRcdGxldCBmaWxlbmFtZSA9ICdrJyArIG9wdGlvbnMuc2l6ZTtcclxuXHRcdFx0aWYobWFpbi5taW50ZXJtcy5kb250Y2FyZS5sZW5ndGggPiAwKSB7XHJcblx0XHRcdFx0ZmlsZW5hbWUgKz0gJ3gnO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmaWxlbmFtZSArPSAnLSc7XHJcblx0XHRcdGZvcihsZXQgdGVybSBvZiBtYWluLm1pbnRlcm1zLm1pbnRlcm1zKSB7XHJcblx0XHRcdFx0ZmlsZW5hbWUgKz0gbmV3IE51bWJlcih0ZXJtKS50b1N0cmluZygxNik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKG1haW4ubWludGVybXMuZG9udGNhcmUubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRcdGZpbGVuYW1lICs9ICctJztcclxuXHRcdFx0XHRmb3IobGV0IHRlcm0gb2YgbWFpbi5taW50ZXJtcy5kb250Y2FyZSkge1xyXG5cdFx0XHRcdFx0ZmlsZW5hbWUgKz0gbmV3IE51bWJlcih0ZXJtKS50b1N0cmluZygxNik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmaWxlbmFtZSArPSAnLnBuZyc7XHJcblxyXG5cdFx0XHRjYW52YXMudG9CbG9iKChibG9iKSA9PiB7XHJcblx0XHRcdFx0c2F2ZUFzKGJsb2IsIGZpbGVuYW1lKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG4gICAgaW5pdGlhbGl6ZSgpO1xyXG59XHJcblxyXG4iLCIvKipcclxuICogU2ltcGxlIERvY3VtZW50IHJlYWR5IGZ1bmN0aW9uLCBlcXVpdmFsZW50IHRvIGpRdWVyeSdzIGRvY3VtZW50IHJlYWR5LlxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmV4cG9ydCBjb25zdCBSZWFkeSA9IGZ1bmN0aW9uKCkge1xyXG59XHJcblxyXG4vKipcclxuICogQ2FsbCBhIGZ1bmN0aW9uIHdoZW4gdGhlIGRvY3VtZW50IGlzIHJlYWRvbi5cclxuICogQHBhcmFtIGZuIEZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbiBkb2N1bWVudCByZWFkeVxyXG4gKi9cclxuUmVhZHkuZ28gPSBmdW5jdGlvbihmbikge1xyXG4gICAgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50ID8gZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIDogZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIpe1xyXG4gICAgICAgIGZuKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmbik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHtNYXB9IGZyb20gJy4vTWFwJztcclxuaW1wb3J0IHtHcm91cHN9IGZyb20gJy4vR3JvdXBzJztcclxuXHJcbi8qKlxyXG4gKiBUaGUgd29yayBhcmVhIGlzIHRoZSBLYXJuYXVnaCBtYXAgYW5kIHRoZSBncm91cGluZ3MgY29udHJvbHMuXHJcbiAqIEBwYXJhbSBtYWluXHJcbiAqIEBwYXJhbSBlbGVtZW50XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFdvcmsgPSBmdW5jdGlvbihtYWluLCBlbGVtZW50KSB7XHJcblxyXG5cdHRoaXMubWFwID0gbnVsbDtcclxuXHR0aGlzLmdyb3VwcyA9IG51bGw7XHJcblxyXG5cdGxldCBkaXYsIGxlZnQsIHJpZ2h0O1xyXG5cclxuXHR0aGlzLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcclxuXHRcdGlmKG1haW4ub3B0aW9ucy5tYXBIZWFkaW5nKSB7XHJcblx0XHRcdGxldCBoMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcblx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoaDMpO1xyXG5cclxuXHRcdFx0bGV0IGNoZWNrQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuXHRcdFx0Y2hlY2tCb3guc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XHJcblx0XHRcdGNoZWNrQm94LnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsICd0cnVlJyk7XHJcblx0XHRcdGgzLmFwcGVuZENoaWxkKGNoZWNrQm94KTtcclxuXHJcblx0XHRcdGgzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgS2FybmF1Z2ggTWFwJykpO1xyXG5cclxuXHRcdFx0Y2hlY2tCb3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGV2ZW50KSA9PiB7XHJcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdFx0aWYoY2hlY2tCb3guY2hlY2tlZCkge1xyXG5cdFx0XHRcdFx0ZGl2LnN0eWxlLmRpc3BsYXkgPSAndGFibGUnO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRkaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIHRoZSBtYWluIGRpdiB0aGF0IGNvbnRhaW5zIHRoZSB3b3JrIGFyZWFcclxuXHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cdFx0ZGl2LmNsYXNzTGlzdC5hZGQoJ2ttYXAtY2wtd29yaycpO1xyXG5cdFx0ZWxlbWVudC5hcHBlbmRDaGlsZChkaXYpO1xyXG5cdFx0dGhpcy5kaXYgPSBkaXY7XHJcblxyXG5cdFx0dGhpcy5yZW5kZXIoKTtcclxuXHR9XHJcblxyXG5cclxuXHJcblx0dGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdGRpdi5pbm5lckhUTUwgPSAnJztcclxuXHJcblx0XHRsZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblx0XHRkaXYuYXBwZW5kQ2hpbGQobGVmdCk7XHJcblxyXG5cdFx0cmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRcdGRpdi5hcHBlbmRDaGlsZChyaWdodCk7XHJcblxyXG5cdFx0Ly9cclxuXHRcdC8vIEFkZCB0aGUgS21hcFxyXG5cdFx0Ly9cclxuXHRcdGlmKHRoaXMubWFwICE9PSBudWxsKSB7XHJcblx0XHRcdHRoaXMubWFwLmRlc3Ryb3koKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLm1hcCA9IG5ldyBNYXAobWFpbiwgcmlnaHQpO1xyXG5cclxuXHRcdC8vXHJcblx0XHQvLyBBZGQgdGhlIGdyb3Vwc1xyXG5cdFx0Ly9cclxuXHRcdHRoaXMuZ3JvdXBzID0gbmV3IEdyb3VwcyhtYWluLCBsZWZ0KTtcclxuXHR9XHJcblxyXG5cdHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG5cclxufSIsImltcG9ydCB7TWludGVybXN9IGZyb20gXCIuL01pbnRlcm1zXCI7XHJcblxyXG4vKipcclxuICogSGFuZGxlIHNpbXBsZSBleHByZXNzaW9ucy4gT25seSB3b3JrcyBmb3Igc3VtIG9mIHByb2R1Y3RzXHJcbiAqIGZvciBub3cuIFdpbGwgY29uc2lkZXIgZmFuY2llciB2ZXJzaW9uIGxhdGVyIG9uLlxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmV4cG9ydCBjb25zdCBFeHByZXNzaW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgdmFyIHNpemUgPSA0O1xyXG5cclxuICAgIHRoaXMubWludGVybXMgPSBuZXcgTWludGVybXMoKTtcclxuXHJcbiAgICB0aGlzLmxhYmVscyA9IFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJ107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXQgdGhlIHNpemUgb2YgdGhlIGV4cHJlc3Npb25cclxuICAgICAqIEBwYXJhbSBzeiBWYWx1ZSAxLT8gbnVtYmVyIG9mIHRlcm1zXHJcbiAgICAgKi9cclxuICAgIHRoaXMuc2V0X3NpemUgPSBmdW5jdGlvbihzeikge1xyXG4gICAgICAgIHNpemUgPSBzejtcclxuICAgICAgICB0aGlzLm1pbnRlcm1zLnNpemUgPSBzejtcclxuICAgICAgICB0ZXJtc19pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUZXN0IHRoYXQgdGhpcyBleHByZXNzaW9uIGlzIGFzIGdvb2QgYXMgc29tZSBvdGhlciBleHByZXNzaW9uLlxyXG4gICAgICogQHBhcmFtIG90aGVyXHJcbiAgICAgKi9cclxuICAgIHRoaXMuYXNfZ29vZF9hcyA9IGZ1bmN0aW9uKG90aGVyKSB7XHJcbiAgICAgICAgaWYodGhpcy5udW1fcHJvZHVjdHMoKSA+IG90aGVyLm51bV9wcm9kdWN0cygpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMubnVtX3Rlcm1zKCkgPiBvdGhlci5udW1fdGVybXMoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgICogTWludGVybXNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVfbWludGVybXMoKSB7XHJcbiAgICAgICAgdGhhdC5taW50ZXJtcy5jbGVhcigpO1xyXG4gICAgICAgIGZvcih2YXIgaT0wOyBpPE1hdGgucG93KDIsIHNpemUpOyBpKyspIHtcclxuICAgICAgICAgICAgdGVybXNfc2V0KGkpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlc3VsdFMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIgcyBpbiBzb3ApIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9kID0gc29wW3NdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdFAgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvcih2YXIgcCBpbiBwcm9kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBwcm9kW3BdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZih0Lm5vdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRQID0gcmVzdWx0UCAmJiAhKHQudGVybS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0UCA9IHJlc3VsdFAgJiYgdC50ZXJtLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXN1bHRTID0gcmVzdWx0UyB8fCByZXN1bHRQO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihyZXN1bHRTKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0Lm1pbnRlcm1zLmFkZChpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlIGFuIGV4cHJlc3Npb24gaW4gc3VtLW9mLXByb2R1Y3RzIGZvcm0gb25seVxyXG4gICAgICogQHBhcmFtIHN0clxyXG4gICAgICovXHJcblxyXG4gICAgdmFyIHNvcCA9IFtdO1xyXG5cclxuICAgIHRoaXMucGFyc2UgPSBmdW5jdGlvbihleHApIHtcclxuICAgICAgICBsZXgoZXhwKTtcclxuXHJcbiAgICAgICAgc29wID0gW107XHJcblxyXG4gICAgICAgIHZhciBwcm9kID0gW107XHJcblxyXG4gICAgICAgIGlmKHRva2VuKCkgPT09IFwiMFwiKSB7XHJcbiAgICAgICAgICAgIGdlbmVyYXRlX21pbnRlcm1zKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRva2VuKCkgPT09IFwiMVwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWludGVybXMuY2xlYXIoKTtcclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGk8TWF0aC5wb3coMiwgc2l6ZSk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5taW50ZXJtcy5hZGQoaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2hpbGUodHJ1ZSkge1xyXG4gICAgICAgICAgICB2YXIgY2ggPSB0b2tlbigpO1xyXG4gICAgICAgICAgICBpZihjaCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKGNoID09PSAnKycpIHtcclxuICAgICAgICAgICAgICAgIGlmKHByb2QubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJTeW50YXggZXJyb3JcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc29wLnB1c2gocHJvZCk7XHJcbiAgICAgICAgICAgICAgICBwcm9kID0gW107XHJcbiAgICAgICAgICAgICAgICBhZHZhbmNlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJcyBpdCBhIHRlcm0/XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVybSA9IGdldF90ZXJtKGNoKTtcclxuICAgICAgICAgICAgICAgIGlmKHRlcm0gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgbmV3IHRlcm1cclxuICAgICAgICAgICAgICAgICAgICAvLyBIYXZlIHdlIGFscmVhZHkgc2VlbiBpdD9cclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGogaW4gcHJvZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0ZXJtID09PSBwcm9kW2pdLnRlcm0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFscmVhZHkgc2VlbiB0aGlzIHRlcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKFwiTm90IGluIGNvcnJlY3Qgc3VtIG9mIHByb2R1Y3RzIGZvcm0uIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRlcm1zIG1heSBvbmx5IGJlIHVzZWQgb25jZSBwZXIgcHJvZHVjdC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFkdmFuY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZih0b2tlbigpID09PSBcIidcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kLnB1c2goe3Rlcm06IHRlcm0sIG5vdDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZC5wdXNoKHt0ZXJtOiB0ZXJtLCBub3Q6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJVbmV4cGVjdGVkIHN5bWJvbC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHByb2QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBzb3AucHVzaChwcm9kKTtcclxuICAgICAgICAgICAgcHJvZCA9IFtdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVycm9yKFwiTm90IGluIGNvcnJlY3Qgc3VtIG9mIHByb2R1Y3RzIGZvcm0uIFwiICtcclxuICAgICAgICAgICAgICAgIFwiTWlzc2luZyB0ZXJtcz9cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBnZW5lcmF0ZV9taW50ZXJtcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubnVtX3Byb2R1Y3RzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHNvcC5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5udW1fdGVybXMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgY250ID0gMDtcclxuICAgICAgICBmb3IodmFyIGkgaW4gc29wKSB7XHJcbiAgICAgICAgICAgIGNudCArPSBzb3BbaV0ubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNudDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBlcnJvcihtc2cpIHtcclxuICAgICAgICB0aHJvdyBcIkV4cHJlc3Npb24gcGFyc2luZyBlcnJvciBbXCIgKyBleHByZXNzaW9uTG9jICsgXCJdOiBcIiArIG1zZztcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgICogVGVybXMgbWFuYWdlbWVudFxyXG4gICAgICovXHJcblxyXG4gICAgdmFyIHRlcm1zID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gdGVybXNfaW5pdCgpIHtcclxuICAgICAgICB0ZXJtcyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgdGhlIHRlcm1zXHJcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8c2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXJtID0ge1xyXG4gICAgICAgICAgICAgICAgbGl0ZXJhbDogdGhhdC5sYWJlbHNbaV0sXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2VcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGVybXMucHVzaCh0ZXJtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldF90ZXJtKGNoKSB7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSBpbiB0ZXJtcykge1xyXG4gICAgICAgICAgICBpZihjaC50b1VwcGVyQ2FzZSgpID09PSB0ZXJtc1tpXS5saXRlcmFsLnRvVXBwZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXJtc1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdGVybXNfc2V0KHZhbCkge1xyXG4gICAgICAgIGZvcih2YXIgaj10ZXJtcy5sZW5ndGgtMTsgaj49MDsgai0tKSB7XHJcbiAgICAgICAgICAgIHRlcm1zW2pdLnZhbHVlID0gKHZhbCAmIDEpID09IDE7XHJcbiAgICAgICAgICAgIHZhbCA+Pj0gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBTaW1wbGUgbGV4aWNhbCBhbmFseXplclxyXG4gICAgICovXHJcblxyXG4gICAgdmFyIGV4cHJlc3Npb247XHJcbiAgICB2YXIgZXhwcmVzc2lvbkxvYztcclxuXHJcbiAgICBmdW5jdGlvbiBsZXgoZXhwKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV4cDtcclxuICAgICAgICBleHByZXNzaW9uTG9jID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b2tlbigpIHtcclxuICAgICAgICB3aGlsZShleHByZXNzaW9uTG9jIDwgZXhwcmVzc2lvbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGNoID0gZXhwcmVzc2lvbi5jaGFyQXQoZXhwcmVzc2lvbkxvYyk7XHJcbiAgICAgICAgICAgIGlmKGNoICE9PSAnICcpIHtcclxuICAgICAgICAgICAgICAgIC8vIElzIHRoaXMgYSB0ZXJtP1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBpIGluIHRlcm1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heWJlID0gZXhwcmVzc2lvbi5zdWJzdHIoZXhwcmVzc2lvbkxvYywgdGVybXNbaV0ubGl0ZXJhbC5sZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihtYXliZSA9PT0gdGVybXNbaV0ubGl0ZXJhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF5YmU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjaDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXhwcmVzc2lvbkxvYysrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWR2YW5jZSgpIHtcclxuICAgICAgICB2YXIgdCA9IHRva2VuKCk7XHJcbiAgICAgICAgaWYodCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBleHByZXNzaW9uTG9jICs9IHQubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNldF9zaXplKDQpO1xyXG59XHJcbiIsIi8qKlxyXG4gKiBPYmplY3QgdGhhdCByZXByZXNlbnRzIGEgbGlzdCBvZiBtaW50ZXJtcyBhbmQgY2FuIGdlbmVyYXRlIHJhbmRvbSBsaXN0c1xyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmV4cG9ydCBjb25zdCBNaW50ZXJtcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zaXplID0gNDtcclxuICAgIHRoaXMubWludGVybXMgPSBbXTsgLy8gTGlzdCBvZiBudW1iZXJzXHJcbiAgICB0aGlzLmRvbnRjYXJlID0gW107IC8vIExpc3Qgb2YgZG9uJ3QgY2FyZXNcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIHJhbmRvbSBtaW50ZXJtcyBhbmQgb3B0aW9uYWxseSBkb250Y2FyZXNcclxuICAgICAqIEBwYXJhbSBvbmVDaGFuY2UgcHJvYmFiaWxpdHkgYSBtaW50ZXJtIHdpbGwgYmUgdHJ1ZVxyXG4gICAgICogSWYgb21pdHRlZCwgdGhlIHByb2JhYmlsaXR5IGlzIDAuNVxyXG4gICAgICogQHBhcmFtIGRjQ2hhbmNlIHByb2JhYmxpdHkgYSBtaW50ZXJtIHdpbGwgYSBkb250Y2FyZVxyXG4gICAgICogSWYgb21pdHRlZCwgdGhlIHByb2JhYmlsaXR5IGlzIDBcclxuICAgICAqL1xyXG4gICAgdGhpcy5nZW5lcmF0ZSA9IGZ1bmN0aW9uKG9uZUNoYW5jZSwgZGNDaGFuY2UpIHtcclxuICAgICAgICBpZihvbmVDaGFuY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBvbmVDaGFuY2UgPSAwLjU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGRjQ2hhbmNlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZGNDaGFuY2UgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kb250Y2FyZSA9IFtdO1xyXG4gICAgICAgIHRoaXMubWludGVybXMgPSBbXTtcclxuXHJcbiAgICAgICAgdmFyIG51bSA9IE1hdGgucG93KDIsIHRoaXMuc2l6ZSk7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8bnVtOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHJuZCA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgICAgIGlmKHJuZCA8PSBvbmVDaGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWludGVybXMucHVzaChpKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKHJuZCA+ICgxIC0gZGNDaGFuY2UpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvbnRjYXJlLnB1c2goaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSByYW5kb20gbWludGVybXMgYW5kIG9wdGlvbmFsbHkgZG9udGNhcmVzXHJcbiAgICAgKiBAcGFyYW0gb25lQ2hhbmNlIHByb2JhYmlsaXR5IGEgbWludGVybSB3aWxsIGJlIHRydWVcclxuICAgICAqIElmIG9taXR0ZWQsIHRoZSBwcm9iYWJpbGl0eSBpcyAwLjVcclxuICAgICAqIEBwYXJhbSBvbmVNaW4gTWluaW11bSBhY2NlcHRhYmxlIG51bWJlciBvZiBtaW50ZXJtc1xyXG4gICAgICogQHBhcmFtIG9uZU1heCBNYXhpbXVtIGFjY2VwdGFibGUgbnVtYmVyIG9mIG1pbnRlcm1zXHJcbiAgICAgKiBAcGFyYW0gZGNDaGFuY2UgcHJvYmFibGl0eSBhIG1pbnRlcm0gd2lsbCBhIGRvbnRjYXJlXHJcbiAgICAgKiBJZiBvbWl0dGVkLCB0aGUgcHJvYmFiaWxpdHkgaXMgMFxyXG4gICAgICogQHBhcmFtIGRjTWluIE1pbmltdW0gYWNjZXB0YWJsZSBudW1iZXIgb2YgZG9uJ3QgY2FyZXNcclxuICAgICAqIEBwYXJhbSBkeE1heCBNYXhpbXVtIGFjY2VwdGFibGUgbnVtYmVyIG9mIGRvbid0IGNhcmVzXHJcbiAgICAgKi9cclxuICAgIHRoaXMuZ2VuZXJhdGVfYm91bmRlZCA9IGZ1bmN0aW9uKG9uZUNoYW5jZSwgb25lTWluLCBvbmVNYXgsIGRjQ2hhbmNlLCBkY01pbiwgZGNNYXgpIHtcclxuICAgICAgICBpZihkY01pbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGRjTWluID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZGNNYXggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBkY01heCA9IE1hdGgucG93KDIsIHRoaXMuc2l6ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IodmFyIGk9MDsgaTwxMDAwOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZShvbmVDaGFuY2UsIGRjQ2hhbmNlKTtcclxuICAgICAgICAgICAgaWYodGhpcy5taW50ZXJtcy5sZW5ndGggPj0gb25lTWluICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5taW50ZXJtcy5sZW5ndGggPD0gb25lTWF4ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb250Y2FyZS5sZW5ndGggPj0gZGNNaW4gJiZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvbnRjYXJlLmxlbmd0aCA8PSBkY01heCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0IHRoZSBtaW50ZXJtcyBsaXN0LiBUaGlzIHdpbGwgYWNjZXB0IGFueSBudW1iZXIgb2YgZnVuY3Rpb24gYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICB0aGlzLnNldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMubWludGVybXMgPSBbXTtcclxuICAgICAgICBmb3IodmFyIGk9MDsgaTxhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5taW50ZXJtcy5wdXNoKGFyZ3VtZW50c1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubWludGVybXMuc29ydChmdW5jdGlvbihhLCBiKSB7cmV0dXJuIGEtYjt9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCBmcm9tIGEgbGlzdCBvZiBtaW50ZXJtcyBhcyBhbiBhcnJheVxyXG4gICAgICogQHBhcmFtIG1pbnRlcm1zIE1pbnRlcm1zIGFycmF5LiBUaGUgYXJyYXkgaXMgY29waWVkLlxyXG4gICAgICogQHBhcmFtIGRvbnRjYXJlIE9wdGlvbmFsIGRvbid0IGNhcmUgYXJyYXlcclxuICAgICAqL1xyXG4gICAgdGhpcy5zZXRfZnJvbSA9IGZ1bmN0aW9uKG1pbnRlcm1zLCBkb250Y2FyZSkge1xyXG4gICAgICAgIHRoaXMubWludGVybXMgPSBtaW50ZXJtcy5zbGljZSgpO1xyXG4gICAgICAgIHRoaXMubWludGVybXMuc29ydChmdW5jdGlvbihhLCBiKSB7cmV0dXJuIGEtYjt9KTtcclxuXHJcbiAgICAgICAgaWYoZG9udGNhcmUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5kb250Y2FyZSA9IGRvbnRjYXJlLnNsaWNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZG9udGNhcmUuc29ydChmdW5jdGlvbihhLCBiKSB7cmV0dXJuIGEtYjt9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRvbnRjYXJlID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lIGlmIHR3byBtaW50ZXJtIGxpc3RzIGFyZSB0aGUgc2FtZS5cclxuICAgICAqIEBwYXJhbSBvdGhlciBPdGhlciBNaW50ZXJtcyBvYmplY3RcclxuICAgICAqL1xyXG4gICAgdGhpcy5lcXVhbCA9IGZ1bmN0aW9uKG90aGVyKSB7XHJcbiAgICAgICAgdmFyIG90aGVyTWludGVybXM7XHJcblxyXG4gICAgICAgIGlmKG90aGVyIGluc3RhbmNlb2YgTG9naWMuTWludGVybXMpIHtcclxuICAgICAgICAgICAgb3RoZXJNaW50ZXJtcyA9IG90aGVyLm1pbnRlcm1zO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG90aGVyTWludGVybXMgPSBvdGhlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKG90aGVyTWludGVybXMubGVuZ3RoICE9PSB0aGlzLm1pbnRlcm1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IodmFyIGk9MDsgaTxvdGhlck1pbnRlcm1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChvdGhlck1pbnRlcm1zW2ldICE9IHRoaXMubWludGVybXNbaV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jbGVhciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMubWludGVybXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmFkZCA9IGZ1bmN0aW9uKG1pbnRlcm0pIHtcclxuICAgICAgICBmb3IodmFyIGkgaW4gdGhpcy5taW50ZXJtcykge1xyXG4gICAgICAgICAgICBpZih0aGlzLm1pbnRlcm1zW2ldID09IG1pbnRlcm0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5taW50ZXJtcy5wdXNoKG1pbnRlcm0pO1xyXG4gICAgICAgIHRoaXMubWludGVybXMuc29ydChmdW5jdGlvbihhLCBiKSB7cmV0dXJuIGEtYjt9KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmxpc3QgPSBmdW5jdGlvbih3aXRoQnJlYWspIHtcclxuICAgICAgICB2YXIgZmlyc3QgPSB0cnVlO1xyXG4gICAgICAgIHZhciByZXQgPSAnJztcclxuICAgICAgICB2YXIgY3IgPSBmYWxzZTtcclxuICAgICAgICBmb3IodmFyIGkgaW4gdGhpcy5taW50ZXJtcykge1xyXG4gICAgICAgICAgICAgICAgaWYoZmlyc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXQgKz0gJywgJztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZih3aXRoQnJlYWsgPT09IHRydWUgJiYgIWNyICYmIHJldC5sZW5ndGggPiA0MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXQgKz0gJzxicj4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldCArPSAnbScgKyB0aGlzLm1pbnRlcm1zW2ldO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmxpc3RfZG9udGNhcmUgPSBmdW5jdGlvbih3aXRoQnJlYWspIHtcclxuICAgICAgICB2YXIgZmlyc3QgPSB0cnVlO1xyXG4gICAgICAgIHZhciByZXQgPSAnJztcclxuICAgICAgICB2YXIgY3IgPSBmYWxzZTtcclxuICAgICAgICBmb3IodmFyIGkgaW4gdGhpcy5kb250Y2FyZSkge1xyXG4gICAgICAgICAgICBpZihmaXJzdCkge1xyXG4gICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldCArPSAnLCAnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZih3aXRoQnJlYWsgPT09IHRydWUgJiYgIWNyICYmIHJldC5sZW5ndGggPiA0MCkge1xyXG4gICAgICAgICAgICAgICAgY3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0ICs9ICc8YnI+JztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0ICs9ICdtJyArIHRoaXMuZG9udGNhcmVbaV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7UXVpbmVNY0NsdXNrZXlEYXRhQ3RybH0gZnJvbSBcIi4vcW1jXCI7XHJcblxyXG4vKipcclxuICogU29sdmVyIGZvciBjaXJjdWl0IG1pbmltaXphdGlvbiBiYXNlZCBvbiBRdWluZSBNY0NsdXNrZXkgYWxnb3JpdGhtLlxyXG4gKiBUaGlzIHVzZXMgdGhlIGltcGxlbWVudGlvbiBpbiBxbWMuanMsIGJ1dCBhZGFwdHMgdGhlIGludGVyZmFjZVxyXG4gKiB0byBtYXRjaCB0aGUgdmFyaWFibGUgbmFtZXMgSSB1c2UuXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFF1aW5lTWNDbHVza2V5U29sdmVyID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgdGhpcy5xbSA9IG5ldyBRdWluZU1jQ2x1c2tleURhdGFDdHJsKCk7XHJcblxyXG4gICAgdGhpcy5sYWJlbHMgPSBbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJywgJ0cnLCAnSCcsICdJJywgJ0onLCAnSyddO1xyXG5cclxuICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKG51bVZhcnMpIHtcclxuICAgICAgICB0aGlzLnFtLmluaXQobnVtVmFycyk7XHJcblxyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNsZWFyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHNpemUgPSBNYXRoLnBvdygyLCB0aGlzLnFtLm5vT2ZWYXJzKTtcclxuICAgICAgICB0aGlzLnFtLmFsbG93RG9udENhcmUgPSB0cnVlO1xyXG4gICAgICAgIGZvcih2YXIgaT0wOyBpPHNpemU7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnFtLnNldEZ1bmNEYXRhKGksIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCBhIG1pbnRlcm1cclxuICAgICAqIEBwYXJhbSBtaW50ZXJtIE1pbnRlcm0gbnVtYmVyXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdHJ1ZSwgZmFsc2UsIG9yIHVuZGVmaW5lZCBmb3IgZG9udGNhcmVcclxuICAgICAqL1xyXG4gICAgdGhpcy5zZXQgPSBmdW5jdGlvbihtaW50ZXJtLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmKHZhbHVlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucW0uc2V0RnVuY0RhdGEobWludGVybSwgMSk7XHJcbiAgICAgICAgfSBlbHNlIGlmKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5xbS5zZXRGdW5jRGF0YShtaW50ZXJtLCAyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnFtLnNldEZ1bmNEYXRhKG1pbnRlcm0sIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbXB1dGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnFtLmNvbXB1dGUoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm51bV90ZXJtcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnFtLm1pbmltYWxUZXJtUHJpbXMubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZXhwcmVzc2lvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBxbSA9IHRoaXMucW07XHJcblxyXG4gICAgICAgIHZhciBleHAgPSBcIlwiO1xyXG4gICAgICAgIHZhciBmaXJzdCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmKHFtLm1pbmltYWxUZXJtUHJpbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIjBcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHFtLm1pbmltYWxUZXJtUHJpbXMubGVuZ3RoID09PSAxICYmXHJcbiAgICAgICAgICAgIHFtLm1pbmltYWxUZXJtUHJpbXNbMF0udGVybVN0cmluZyA9PT0gJzEnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIjFcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIExvb3Agb3ZlciB0aGUgcmVzdWx0c1xyXG4gICAgICAgIGZvcih2YXIgaT0wOyBpPHFtLm1pbmltYWxUZXJtUHJpbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYoIWZpcnN0KSB7XHJcbiAgICAgICAgICAgICAgICBleHAgKz0gXCIrXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAvLyBGaW5kIHNtYWxsZXN0IHByaW1lIGltcGxpY2FudC5cclxuICAgICAgICAgICAgLy8gVGhpcyBpcyBwcm9iYWJseSBub3Qgc3RyaWN0bHkgbmVjZXNzYXJ5XHJcbiAgICAgICAgICAgIC8vIGJ1dCBJIGRvbid0IHRydXN0IHRoZSBtZXRob2QgdGhleSB1c2VcclxuICAgICAgICAgICAgLy8gdGhhdCBzdG9wcyBvbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9mIGFcclxuICAgICAgICAgICAgLy8gZm9yL2luIGxvb3AuXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIGZpcnN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmFyIG1pbnRlcm07XHJcblxyXG4gICAgICAgICAgICB2YXIgcHJpbVRlcm0gPSBxbS5taW5pbWFsVGVybVByaW1zW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpbXAgaW4gcHJpbVRlcm0uaW1wbGljYW50LmltcCkge1xyXG4gICAgICAgICAgICAgICAgaWYoZmlyc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW50ZXJtID0gaW1wO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGltcCA8IG1pbnRlcm0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWludGVybSA9IGltcDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIG1pbnRlcm0gaXMgYSBtaW50ZXJtIHRoYXQgaXMgbmVlZGVkXHJcbiAgICAgICAgICAgIC8vIGV4Y2VwdCB0aGF0IHNvbWUgYml0cyBjYW4gYmUgbWFza2VkIG9mZlxyXG5cclxuICAgICAgICAgICAgLy8gSSBjb3VudCBiYWNrd2FyZHMsIHNpbmNlIEkgcHJlZmVyXHJcbiAgICAgICAgICAgIC8vIHRoZSBtb3N0IHNpZ25pZmljYW50IHZhbHVlIHRvIGJlIEFcclxuICAgICAgICAgICAgLy8gdG8gbWF0Y2ggdGhlIGNvdXJzZSBtYXRlcmlhbHMuXHJcbiAgICAgICAgICAgIHZhciBvbmUgPSAxIDw8IChxbS5ub09mVmFycyAtIDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgYSBiaXQgaXMgc2V0IGluIHByaW1UZXJtLmltcGxpY2FudC5iaXRNYXNrLFxyXG4gICAgICAgICAgICAvLyB0aGF0IHRlcm0gaXMgbm90IG5lZWRlZC5cclxuICAgICAgICAgICAgdmFyIG5lZWRlZCA9ICh+cHJpbVRlcm0uaW1wbGljYW50LmJpdE1hc2spO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRlcm0gPSAnJztcclxuICAgICAgICAgICAgZm9yICh2YXIgdiA9IHFtLm5vT2ZWYXJzLTE7IHYgPj0gMCA7IHYtLSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHYxID0gcW0ubm9PZlZhcnMgLSB2IC0gMTtcclxuICAgICAgICAgICAgICAgIGlmICgobmVlZGVkICYgb25lKSA9PT0gb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChtaW50ZXJtICYgb25lKSA9PT0gb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm0gKz0gdGhpcy5sYWJlbHNbdjFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlcm0gKz0gdGhpcy5sYWJlbHNbdjFdICsgXCInXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgb25lID0gb25lID4+IDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGV4cCArPSB0ZXJtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGV4cDtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiLy8gQ29weXJpZ2h0IChDKSBUaG9yc3RlbiBUaG9ybWFlaGxlbiwgTWFyYnVyZywgMjAxMywgQWxsIHJpZ2h0cyByZXNlcnZlZFxyXG4vLyBDb250YWN0OiB3d3cudGhvcm1hZS5kZVxyXG5cclxuLy8gVGhpcyBzb2Z0d2FyZSBpcyB3cml0dGVuIGZvciBlZHVjYXRpb25hbCAobm9uLWNvbW1lcmNpYWwpIHB1cnBvc2UuIFxyXG4vLyBUaGVyZSBpcyBubyB3YXJyYW50eSBvciBvdGhlciBndWFyYW50ZWUgb2YgZml0bmVzcyBmb3IgdGhpcyBzb2Z0d2FyZSwgXHJcbi8vIGl0IGlzIHByb3ZpZGVkIHNvbGVseSBcImFzIGlzXCIuIFxyXG5cclxuZnVuY3Rpb24gUGV0cmlja01ldGhvZCgpXHJcbntcclxuICB0aGlzLnByb2JsZW07XHJcbiAgdGhpcy5tYXhQcm9ibGVtU2l6ZSA9IDEwMDtcclxuICB0aGlzLnNvbHV0aW9uO1xyXG4gIHRoaXMubG9nID0gXCJcIjtcclxuICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgXHJcbiAgdGhpcy50ZXN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYW5kQXJyYXkgPSBuZXcgQXJyYXkoKTtcclxuICAgIHZhciBvckFycmF5O1xyXG4gICAgdmFyIG1vbm9tQTtcclxuICAgIHZhciBtb25vbUI7XHJcbiAgICBvckFycmF5ID0gbmV3IEFycmF5KCk7XHJcbiAgICBtb25vbUEgPSBuZXcgT2JqZWN0KCk7IC8vIHVzaW5nIG9iamVjdHMgZW5zdXJlcyB0aGF0ICh4IGFuZCB4KSA9IHhcclxuICAgIG1vbm9tQVsxXSA9IDE7XHJcbiAgICBvckFycmF5LnB1c2gobW9ub21BKTtcclxuICAgIG1vbm9tQiA9IG5ldyBPYmplY3QoKTtcclxuICAgIG1vbm9tQlsyXSA9IDI7XHJcbiAgICBvckFycmF5LnB1c2gobW9ub21CKTtcclxuICAgIGFuZEFycmF5LnB1c2gob3JBcnJheSk7XHJcbiAgICBvckFycmF5ID0gbmV3IEFycmF5KCk7XHJcbiAgICBtb25vbUEgPSBuZXcgT2JqZWN0KCk7XHJcbiAgICBtb25vbUFbM10gPSAzO1xyXG4gICAgb3JBcnJheS5wdXNoKG1vbm9tQSk7XHJcbiAgICBtb25vbUIgPSBuZXcgT2JqZWN0KCk7XHJcbiAgICBtb25vbUJbNF0gPSA0O1xyXG4gICAgb3JBcnJheS5wdXNoKG1vbm9tQik7XHJcbiAgICBhbmRBcnJheS5wdXNoKG9yQXJyYXkpO1xyXG4gICAgb3JBcnJheSA9IG5ldyBBcnJheSgpO1xyXG4gICAgbW9ub21BID0gbmV3IE9iamVjdCgpO1xyXG4gICAgbW9ub21BWzFdID0gMTtcclxuICAgIG9yQXJyYXkucHVzaChtb25vbUEpO1xyXG4gICAgbW9ub21CID0gbmV3IE9iamVjdCgpO1xyXG4gICAgbW9ub21CWzNdID0gMztcclxuICAgIG9yQXJyYXkucHVzaChtb25vbUIpO1xyXG4gICAgYW5kQXJyYXkucHVzaChvckFycmF5KTtcclxuICAgIG9yQXJyYXkgPSBuZXcgQXJyYXkoKTtcclxuICAgIG1vbm9tQSA9IG5ldyBPYmplY3QoKTtcclxuICAgIG1vbm9tQVs1XSA9IDU7XHJcbiAgICBvckFycmF5LnB1c2gobW9ub21BKTtcclxuICAgIG1vbm9tQiA9IG5ldyBPYmplY3QoKTtcclxuICAgIG1vbm9tQls2XSA9IDY7XHJcbiAgICBvckFycmF5LnB1c2gobW9ub21CKTtcclxuICAgIGFuZEFycmF5LnB1c2gob3JBcnJheSk7XHJcbiAgICBvckFycmF5ID0gbmV3IEFycmF5KCk7XHJcbiAgICBtb25vbUEgPSBuZXcgT2JqZWN0KCk7XHJcbiAgICBtb25vbUFbMl0gPSAyO1xyXG4gICAgb3JBcnJheS5wdXNoKG1vbm9tQSk7XHJcbiAgICBtb25vbUIgPSBuZXcgT2JqZWN0KCk7XHJcbiAgICBtb25vbUJbNV0gPSA1O1xyXG4gICAgb3JBcnJheS5wdXNoKG1vbm9tQik7XHJcbiAgICBhbmRBcnJheS5wdXNoKG9yQXJyYXkpO1xyXG4gICAgb3JBcnJheSA9IG5ldyBBcnJheSgpO1xyXG4gICAgbW9ub21BID0gbmV3IE9iamVjdCgpO1xyXG4gICAgbW9ub21BWzRdID0gNDtcclxuICAgIG9yQXJyYXkucHVzaChtb25vbUEpO1xyXG4gICAgbW9ub21CID0gbmV3IE9iamVjdCgpO1xyXG4gICAgbW9ub21CWzZdID0gNjtcclxuICAgIG9yQXJyYXkucHVzaChtb25vbUIpO1xyXG4gICAgYW5kQXJyYXkucHVzaChvckFycmF5KTtcclxuICAgIC8qb3JBcnJheSA9IG5ldyBBcnJheSgpO1xyXG4gICAgIG1vbm9tQSA9IG5ldyBPYmplY3QoKTsgXHJcbiAgICAgbW9ub21BWzRdID0gNDtcclxuICAgICBvckFycmF5LnB1c2gobW9ub21BKTtcclxuICAgICBtb25vbUIgPSBuZXcgT2JqZWN0KCk7XHJcbiAgICAgbW9ub21CWzRdID0gNDtcclxuICAgICBvckFycmF5LnB1c2gobW9ub21CKTtcclxuICAgICBhbmRBcnJheS5wdXNoKG9yQXJyYXkpOyovXHJcbiAgICBcclxuICAgIHRoaXMuc29sdmUoYW5kQXJyYXkpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuc29sdmUgPSBmdW5jdGlvbihlcSkge1xyXG5cclxuICAgIHRoaXMucHJvYmxlbSA9IGVxO1xyXG4gICAgdGhpcy5sb2cgPSBcIlwiO1xyXG4gICAgXHJcbiAgICAvL3ByaW50RXFuQXJyYXkoZXEpO1xyXG4gICAgcHJpbnRFcW5BcnJheUZhbmN5KGVxKTtcclxuICAgIFxyXG4gICAgLy8gbXVsdGlwbHkgb3V0XHJcbiAgICB2YXIgYW5kQXJyYXkgPSBlcTtcclxuICAgIHZhciBsb29wQ291bnRlciA9IDA7XHJcbiAgICB3aGlsZSAoYW5kQXJyYXkubGVuZ3RoID4gMSkge1xyXG4gICAgICB2YXIgbmV3QW5kQXJyYXkgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhbmRBcnJheS5sZW5ndGg7IGkgKz0gMikge1xyXG5cclxuICAgICAgICB2YXIgb3JUZXJtQSA9IGFuZEFycmF5W2kgLSAxXTtcclxuICAgICAgICB2YXIgb3JUZXJtQiA9IGFuZEFycmF5W2ldO1xyXG4gICAgICAgIHZhciBuZXdPckFycmF5ID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBvclRlcm1BLmxlbmd0aDsgYSsrKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBiID0gMDsgYiA8IG9yVGVybUIubGVuZ3RoOyBiKyspIHtcclxuICAgICAgICAgICAgdmFyIG1vbm9tMSA9IG9yVGVybUFbYV07XHJcbiAgICAgICAgICAgIHZhciBtb25vbTIgPSBvclRlcm1CW2JdO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0aW5nTW9ub20gPSBuZXcgT2JqZWN0KCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIG0gaW4gbW9ub20xKSB7XHJcbiAgICAgICAgICAgICAgcmVzdWx0aW5nTW9ub21bbW9ub20xW21dXSA9IG1vbm9tMVttXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBuIGluIG1vbm9tMikge1xyXG4gICAgICAgICAgICAgIHJlc3VsdGluZ01vbm9tW21vbm9tMltuXV0gPSBtb25vbTJbbl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3T3JBcnJheS5wdXNoKHJlc3VsdGluZ01vbm9tKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5ld0FuZEFycmF5LnB1c2gobmV3T3JBcnJheSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gaWYgdW5ldmVuIGNvcHkgbGFzdCBhbmQtdGVybVxyXG4gICAgICBpZiAoYW5kQXJyYXkubGVuZ3RoICUgMiA9PT0gMSkge1xyXG4gICAgICAgIG5ld0FuZEFycmF5LnB1c2goYW5kQXJyYXlbYW5kQXJyYXkubGVuZ3RoIC0gMV0pO1xyXG4gICAgICB9XHJcbiAgICAgIC8vcHJpbnRFcW5BcnJheShuZXdBbmRBcnJheSk7XHJcbiAgICAgIHByaW50RXFuQXJyYXlGYW5jeShuZXdBbmRBcnJheSk7XHJcbiAgICAgIFxyXG4gICAgICBhbmRBcnJheS5sZW5ndGggPSAwO1xyXG4gICAgICAvLyBzaW1wbGlmeSBvci10ZXJtXHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3QW5kQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgb3JUZXJtID0gbmV3QW5kQXJyYXlbaV07XHJcbiAgICAgICAgdmFyIG5ld09yVGVybSA9IHNpbXBsaWZ5T3JUZXJtKG9yVGVybSk7XHJcbiAgICAgICAgaWYgKG5ld09yVGVybS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBhbmRBcnJheS5wdXNoKG5ld09yVGVybSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgcHJvYmxlbVNpemUgPSBlcW5BcnJheVByb2JsZW1TaXplKGFuZEFycmF5KTtcclxuICAgICAgaWYgKHByb2JsZW1TaXplID4gdGhpcy5tYXhQcm9ibGVtU2l6ZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3I6IFRoZSBjeWNsaWMgY292ZXJpbmcgcHJvYmxlbSBpcyB0b28gbGFyZ2UgdG8gYmUgc29sdmVkIHdpdGggUGV0cmljaydzIG1ldGhvZCAoaW5jcmVhc2UgbWF4UHJvYmxlbVNpemUpLiBTaXplPVwiICsgcHJvYmxlbVNpemUpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy9wcmludEVxbkFycmF5KGFuZEFycmF5KTtcclxuICAgICAgcHJpbnRFcW5BcnJheUZhbmN5KGFuZEFycmF5KTtcclxuICAgICAgbG9vcENvdW50ZXIrKztcclxuICAgIH1cclxuICAgIHRoaXMuc29sdXRpb24gPSBhbmRBcnJheTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIHNpbXBsaWZ5T3JUZXJtKG9yVGVybSkge1xyXG4gICAgLy8gZmluZCBhIG1vbm9tIHRoYXQgaXMgdGhlIHNhbWUgb3Igc2ltcGxlciB0aGFuIGFub3RoZXIgb25lXHJcbiAgICB2YXIgbmV3T3JUZXJtID0gbmV3IEFycmF5KCk7XHJcbiAgICB2YXIgbWFya2VkRm9yRGVsZXRpb24gPSBuZXcgT2JqZWN0KCk7XHJcbiAgICBmb3IgKHZhciBhID0gMDsgYSA8IG9yVGVybS5sZW5ndGg7IGErKykge1xyXG4gICAgICB2YXIga2VlcEEgPSB0cnVlO1xyXG4gICAgICB2YXIgbW9ub21BID0gb3JUZXJtW2FdO1xyXG4gICAgICBmb3IgKHZhciBiID0gYSArIDE7IGIgPCBvclRlcm0ubGVuZ3RoICYmIGtlZXBBOyBiKyspIHtcclxuICAgICAgICB2YXIgbW9ub21CID0gb3JUZXJtW2JdO1xyXG4gICAgICAgIHZhciBvdmVybGFwQm92ZXJBID0gMDtcclxuICAgICAgICB2YXIgbGVuZ3RoQSA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgbSBpbiBtb25vbUEpIHtcclxuICAgICAgICAgIGlmIChtb25vbUJbbV0gaW4gbW9ub21BKSB7XHJcbiAgICAgICAgICAgIG92ZXJsYXBCb3ZlckErKztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxlbmd0aEErKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBvdmVybGFwQW92ZXJCID0gMDtcclxuICAgICAgICB2YXIgbGVuZ3RoQiA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgbSBpbiBtb25vbUIpIHtcclxuICAgICAgICAgIGlmIChtb25vbUFbbV0gaW4gbW9ub21CKSB7XHJcbiAgICAgICAgICAgIG92ZXJsYXBBb3ZlckIrKztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxlbmd0aEIrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvdmVybGFwQm92ZXJBID09PSBsZW5ndGhCKSB7XHJcbiAgICAgICAgICBrZWVwQSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGxlbmd0aEEgPCBsZW5ndGhCICYmIG92ZXJsYXBBb3ZlckIgPT09IGxlbmd0aEEpIHtcclxuICAgICAgICAgIG1hcmtlZEZvckRlbGV0aW9uW2JdID0gYjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9XHJcbiAgICAgIGlmIChrZWVwQSkge1xyXG4gICAgICAgIGlmIChhIGluIG1hcmtlZEZvckRlbGV0aW9uKSB7XHJcbiAgICAgICAgICAvLyBkbyBub3RoaW5nXHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICBuZXdPclRlcm0ucHVzaChvclRlcm1bYV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3T3JUZXJtO1xyXG4gIH1cclxuXHJcblxyXG4gIGZ1bmN0aW9uIHByaW50RXFuQXJyYXlGYW5jeShhbmRBcnJheSkge1xyXG4gICAgdmFyIHN0ciA9IFwiXCI7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuZEFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBmaXJzdCA9IHRydWU7XHJcbiAgICAgIHN0ciArPSBcIihcIjtcclxuICAgICAgdmFyIG9yQXJyYXkgPSBhbmRBcnJheVtpXTtcclxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvckFycmF5Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgaWYgKCFmaXJzdClcclxuICAgICAgICAgIHN0ciArPSBcIiAmb3I7IFwiO1xyXG4gICAgICAgIHZhciBtb25vbSA9IG9yQXJyYXlbal07XHJcbiAgICAgICAgZm9yICh2YXIgayBpbiBtb25vbSkge1xyXG4gICAgICAgICAgc3RyICs9IFwiPGk+cDwvaT48c3ViPjxzbWFsbD5cIisgbW9ub21ba10gKyBcIjwvc21hbGw+PC9zdWI+XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpcnN0ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgc3RyICs9IFwiKVwiO1xyXG4gICAgfVxyXG4gICAgaWYodGhhdC5sb2cubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aGF0LmxvZyArPSBcIjxwPiZoQXJyOyZuYnNwO1wiICsgc3RyICsgXCI8L3A+XCI7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgdGhhdC5sb2cgKz0gXCI8cD5cIisgc3RyICsgXCI8L3A+XCI7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGVxbkFycmF5UHJvYmxlbVNpemUoYW5kQXJyYXkpIHtcclxuICAgIHZhciBtb25vbUNvdW50ZXIgPSAwO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmRBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgb3JBcnJheSA9IGFuZEFycmF5W2ldO1xyXG4gICAgICBtb25vbUNvdW50ZXIgKz0gb3JBcnJheS5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbW9ub21Db3VudGVyO1xyXG4gIH1cclxuICBcclxuICBcclxuICBmdW5jdGlvbiBwcmludEVxbkFycmF5KGFuZEFycmF5KSB7XHJcbiAgICB2YXIgc3RyID0gXCJcIjtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5kQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTtcclxuICAgICAgc3RyICs9IFwiKFwiO1xyXG4gICAgICB2YXIgb3JBcnJheSA9IGFuZEFycmF5W2ldO1xyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9yQXJyYXkubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAoIWZpcnN0KVxyXG4gICAgICAgICAgc3RyICs9IFwiIG9yIFwiO1xyXG4gICAgICAgIHZhciBtb25vbSA9IG9yQXJyYXlbal07XHJcbiAgICAgICAgZm9yICh2YXIgayBpbiBtb25vbSkge1xyXG4gICAgICAgICAgc3RyICs9IG1vbm9tW2tdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaXJzdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHN0ciArPSBcIilcIjtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKHN0cik7XHJcbiAgfVxyXG4gIFxyXG59XHJcblxyXG5mdW5jdGlvbiBQcmltVGVybSgpIHtcclxuICB0aGlzLmltcGxpY2FudCA9IC0xO1xyXG4gIHRoaXMudGVybVN0cmluZyA9IFwiXCI7XHJcbiAgdGhpcy5jb2xvciA9IFswLCAwLCAwXTtcclxuICB0aGlzLmNvbG9yZWRUZXJtU3RyaW5nID0gXCJcIjtcclxuICB0aGlzLnVzZWQgPSBmYWxzZTtcclxuICB0aGlzLm5lZWRlZEJ5VmFyID0gbmV3IE9iamVjdDtcclxufVxyXG5cclxuZnVuY3Rpb24gSW1wbGljYW50KCkge1xyXG4gIHRoaXMuaW1wID0gbmV3IE9iamVjdCgpO1xyXG4gIHRoaXMuaXNQcmltID0gZmFsc2U7XHJcbiAgdGhpcy5pc09ubHlEb250Q2FyZSA9IGZhbHNlO1xyXG4gIHRoaXMuYml0TWFzayA9IDA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEltcGxpY2FudEdyb3VwKCkge1xyXG4gIHRoaXMuZ3JvdXAgPSBuZXcgQXJyYXk7XHJcbiAgdGhpcy5vcmRlciA9IC0xO1xyXG59XHJcblxyXG5mdW5jdGlvbiBQcmltVGVybVRhYmxlKG9yZCkge1xyXG4gIHRoaXMuZXNzZW50aWFsUHJpbVRlcm1zID0gbmV3IEFycmF5KCk7XHJcbiAgdGhpcy5vcmRlciA9IG9yZDtcclxuICB0aGlzLnJlbWFpbmluZ1ZhcnMgPSAgbmV3IEFycmF5KCk7O1xyXG4gIHRoaXMucmVtYWluaW5nUHJpbVRlcm1zID0gIG5ldyBBcnJheSgpO1xyXG4gIHRoaXMuc3VwZXJzZWRlZFByaW1UZXJtcyA9ICBuZXcgQXJyYXkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaHN2VG9SZ2IoaCwgcywgdikge1xyXG5cclxuICB2YXIgciwgZywgYjtcclxuICB2YXIgaSA9IE1hdGguZmxvb3IoaCAqIDYpO1xyXG4gIHZhciBmID0gaCAqIDYgLSBpO1xyXG4gIHZhciBwID0gdiAqICgxIC0gcyk7XHJcbiAgdmFyIHEgPSB2ICogKDEgLSBmICogcyk7XHJcbiAgdmFyIHQgPSB2ICogKDEgLSAoMSAtIGYpICogcyk7XHJcblxyXG4gIHN3aXRjaCAoaSAlIDYpIHtcclxuICBjYXNlIDA6XHJcbiAgICByID0gdiwgZyA9IHQsIGIgPSBwO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSAxOlxyXG4gICAgciA9IHEsIGcgPSB2LCBiID0gcDtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgMjpcclxuICAgIHIgPSBwLCBnID0gdiwgYiA9IHQ7XHJcbiAgICBicmVhaztcclxuICBjYXNlIDM6XHJcbiAgICByID0gcCwgZyA9IHEsIGIgPSB2O1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSA0OlxyXG4gICAgciA9IHQsIGcgPSBwLCBiID0gdjtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgNTpcclxuICAgIHIgPSB2LCBnID0gcCwgYiA9IHE7XHJcbiAgICBicmVhaztcclxuICB9XHJcblxyXG4gIHJldHVybiBbIE1hdGguZmxvb3IociAqIDI1NSksIE1hdGguZmxvb3IoZyAqIDI1NSksIE1hdGguZmxvb3IoYiAqIDI1NSkgXTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFF1aW5lTWNDbHVza2V5RGF0YUN0cmwgPSBmdW5jdGlvbigpIHtcclxuICB0aGlzLm5vT2ZWYXJzID0gLTE7XHJcbiAgdGhpcy5mdW5jZGF0YSA9IG5ldyBBcnJheTtcclxuICB0aGlzLnByaW1UZXJtcyA9IG5ldyBBcnJheTtcclxuICB0aGlzLmltcGxpY2FudEdyb3VwcyA9IG5ldyBBcnJheTtcclxuICB0aGlzLm1pbmltYWxUZXJtID0gXCJcIjtcclxuICB0aGlzLmNvbG9yZWRNaW5pbWFsVGVybSA9IFwiXCI7XHJcbiAgdGhpcy5taW5pbWFsVGVybVByaW1zID0gbmV3IEFycmF5O1xyXG4gIHRoaXMucHJpbVRlcm1UYWJsZXMgPSBuZXcgQXJyYXk7XHJcbiAgdGhpcy5wZXRyaWNrU29sdmVyID0gbmV3IFBldHJpY2tNZXRob2QoKTtcclxuICB0aGlzLnBldHJpY2tUZXJtUHJpbXMgPSBuZXcgQXJyYXk7XHJcbiAgdGhpcy5hbGxvd0RvbnRDYXJlID0gZmFsc2U7XHJcbiAgXHJcbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24obm8pIHtcclxuICAgIHRoaXMubm9PZlZhcnMgPSBubztcclxuICAgIHRoaXMuZnVuY2RhdGEubGVuZ3RoID0gMDtcclxuICAgIHRoaXMucHJpbVRlcm1zLmxlbmd0aCA9IDA7XHJcbiAgICB0aGlzLmltcGxpY2FudEdyb3Vwcy5sZW5ndGggPSAwO1xyXG4gICAgdGhpcy5taW5pbWFsVGVybSA9IFwiMFwiO1xyXG4gICAgdGhpcy5jb2xvcmVkTWluaW1hbFRlcm0gPSBcIjBcIjtcclxuICAgIHRoaXMubWluaW1hbFRlcm1Qcmltcy5sZW5ndGggPSAwO1xyXG4gICAgdGhpcy5wcmltVGVybVRhYmxlcy5sZW5ndGggPSAwO1xyXG4gICAgdGhpcy5wZXRyaWNrVGVybVByaW1zLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgdmFyIG5vT2ZGdW5jRGF0YSA9IE1hdGgucG93KDIsIHRoaXMubm9PZlZhcnMpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub09mRnVuY0RhdGE7IGkrKykge1xyXG4gICAgICB0aGlzLmZ1bmNkYXRhLnB1c2goMCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vdGhpcy5wZXRyaWNrU29sdmVyLnRlc3QoKTtcclxuICAgIFxyXG4gIH07XHJcbiAgXHJcbiAgdGhpcy5zZXRGdW5jRGF0YSA9IGZ1bmN0aW9uKGksIHZhbCkge1xyXG4gICAgaWYgKGkgPCAwIHx8IGkgPj0gdGhpcy5mdW5jZGF0YS5sZW5ndGgpXHJcbiAgICAgIHJldHVybjtcclxuICAgIHRoaXMuZnVuY2RhdGFbaV0gPSB2YWw7XHJcbiAgfTtcclxuICBcclxuICB0aGlzLmFjdGl2YXRlZCA9IGZ1bmN0aW9uKGkpIHtcclxuICAgIGlmIChpIDwgMCB8fCBpID49IHRoaXMuZnVuY2RhdGEubGVuZ3RoKVxyXG4gICAgICByZXR1cm47XHJcblxyXG4gICAgdGhpcy5mdW5jZGF0YVtpXSArPSAxO1xyXG4gICAgaWYodGhpcy5hbGxvd0RvbnRDYXJlKSB7XHJcbiAgICAgIGlmICh0aGlzLmZ1bmNkYXRhW2ldID4gMikgdGhpcy5mdW5jZGF0YVtpXSA9IDA7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgaWYgKHRoaXMuZnVuY2RhdGFbaV0gPiAxKSB0aGlzLmZ1bmNkYXRhW2ldID0gMDtcclxuICAgIH1cclxuICAgIHRoaXMuY29tcHV0ZSgpO1xyXG4gIH07XHJcbiAgXHJcbiAgdGhpcy5yYW5kb20gPSBmdW5jdGlvbigpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5mdW5jZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZih0aGlzLmFsbG93RG9udENhcmUpIHtcclxuICAgICAgICB0aGlzLmZ1bmNkYXRhW2ldID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMyk7XHJcbiAgICAgIH1lbHNle1xyXG4gICAgICAgIHRoaXMuZnVuY2RhdGFbaV0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5jb21wdXRlKCk7XHJcbiAgfTtcclxuICBcclxuICB0aGlzLmNsZWFyID0gZnVuY3Rpb24oKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZnVuY2RhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdGhpcy5mdW5jZGF0YVtpXSA9IDA7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNvbXB1dGUoKTtcclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBiaXRDb3VudCh2YWx1ZSkge1xyXG4gICAgdmFyIGNvdW50ZXIgPSAwO1xyXG4gICAgd2hpbGUgKHZhbHVlID4gMCkge1xyXG4gICAgICBpZiAoKHZhbHVlICYgMSkgPT09IDEpIGNvdW50ZXIrKztcclxuICAgICAgdmFsdWUgPj49IDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY291bnRlcjtcclxuICB9XHJcbiAgXHJcbiAgdGhpcy5jb21wdXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnByaW1UZXJtcy5sZW5ndGggPSAwO1xyXG4gICAgdGhpcy5pbXBsaWNhbnRHcm91cHMubGVuZ3RoID0gMDtcclxuICAgIHRoaXMubWluaW1hbFRlcm0gPSBcIjBcIjtcclxuICAgIHRoaXMuY29sb3JlZE1pbmltYWxUZXJtID0gXCIwXCI7XHJcbiAgICB0aGlzLm1pbmltYWxUZXJtUHJpbXMubGVuZ3RoID0gMDtcclxuICAgIHRoaXMucHJpbVRlcm1UYWJsZXMubGVuZ3RoID0gMDtcclxuICAgIHRoaXMucGV0cmlja1Rlcm1Qcmltcy5sZW5ndGggPSAwO1xyXG4gICAgXHJcbiAgICB2YXIgY291bnRlciA9IDA7XHJcbiAgICB2YXIgbGFzdElnID0gLTE7XHJcbiAgICB2YXIgY29udGludWVMb29wID0gdHJ1ZTtcclxuICAgIHdoaWxlKGNvbnRpbnVlTG9vcCkge1xyXG4gICAgICBcclxuICAgICAgY29udGludWVMb29wID0gZmFsc2U7XHJcbiAgICAgIHZhciBpZyA9IG5ldyBJbXBsaWNhbnRHcm91cCgpO1xyXG4gICAgICBcclxuICAgICAgaWYoY291bnRlciA9PT0gMCkge1xyXG4gICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZnVuY2RhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICBpZih0aGlzLmZ1bmNkYXRhW2ldID4gMCkge1xyXG4gICAgICAgICAgICAgdmFyIGltcGwgPSBuZXcgSW1wbGljYW50KCk7XHJcbiAgICAgICAgICAgICBpbXBsLmltcFtpXSA9IGk7XHJcbiAgICAgICAgICAgICBpbXBsLmlzUHJpbSA9IHRydWU7XHJcbiAgICAgICAgICAgICBpZy5ncm91cC5wdXNoKGltcGwpO1xyXG4gICAgICAgICAgICAgY29udGludWVMb29wID0gdHJ1ZTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgIH1cclxuICAgICAgfWVsc2V7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWcuZ3JvdXAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGZvciAodmFyIGogPSBpKzE7IGogPCBsYXN0SWcuZ3JvdXAubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgdmFyIGltcDEgPSBsYXN0SWcuZ3JvdXBbaV07XHJcbiAgICAgICAgICAgIHZhciBpbXAyID0gbGFzdElnLmdyb3VwW2pdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGltcDEuYml0TWFzayA9PT0gaW1wMi5iaXRNYXNrKSB7XHJcblxyXG4gICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIHZhciB4b3IgPSAtMTtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBtIGluIGltcDEuaW1wKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuIGluIGltcDIuaW1wKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBpMSA9IGltcDEuaW1wW21dO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgaTIgPSBpbXAyLmltcFtuXTtcclxuICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhpMSArIFwiPC0+XCIgKyBpMik7XHJcbiAgICAgICAgICAgICAgICAgIHhvciA9IChpMSBeIGkyKSAmICh+aW1wMS5iaXRNYXNrKTtcclxuICAgICAgICAgICAgICAgICAgaWYgKGJpdENvdW50KHhvcikgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiZm91bmQgbWVyZ2UgY2FuZGlkYXRlXCIgKyBpMSArIFwiPC0+XCIgKyBpMik7XHJcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmIChmb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgaW1wMS5pc1ByaW0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGltcDIuaXNQcmltID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGltcGwgPSBuZXcgSW1wbGljYW50KCk7XHJcbiAgICAgICAgICAgICAgICBpbXBsLmlzUHJpbSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpbXBsLmJpdE1hc2sgPSBpbXAxLmJpdE1hc2sgfCB4b3I7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBtIGluIGltcDEuaW1wKVxyXG4gICAgICAgICAgICAgICAgICBpbXBsLmltcFttXSA9IHBhcnNlSW50KG0pO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbiBpbiBpbXAyLmltcClcclxuICAgICAgICAgICAgICAgICAgaW1wbC5pbXBbbl0gPSBwYXJzZUludChuKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZm91bmRNYXRjaCA9IGZhbHNlOyAvLyBkZXRlcm1pbmUgaWYgdGhpcyBjb21iaW5hdGlvbiBpcyBhbHJlYWR5IHRoZXJlXHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGs9MDsgayA8IGlnLmdyb3VwLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBleGlzdCA9IGlnLmdyb3VwW2tdO1xyXG4gICAgICAgICAgICAgICAgICB2YXIgaXNUaGVTYW1lID0gdHJ1ZTsgIFxyXG4gICAgICAgICAgICAgICAgICAgZm9yKHZhciBtIGluIGltcGwuaW1wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuIGluIGV4aXN0LmltcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYocGFyc2VJbnQobSkgPT09IHBhcnNlSW50KG4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICBpZighZm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICBpc1RoZVNhbWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgaWYoaXNUaGVTYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIGZvdW5kTWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKCFmb3VuZE1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlnLmdyb3VwLnB1c2goaW1wbCk7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlTG9vcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZihjb250aW51ZUxvb3ApIHRoaXMuaW1wbGljYW50R3JvdXBzLnB1c2goaWcpO1xyXG4gICAgICBsYXN0SWcgPSBpZztcclxuICAgICAgY291bnRlcisrO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBjb2xsZWN0IHByaW10ZXJtc1xyXG4gICAgdGhpcy5wcmltVGVybXMubGVuZ3RoID0gMDtcclxuICAgIHRoaXMubWluaW1hbFRlcm1Qcmltcy5sZW5ndGggPSAwO1xyXG4gICAgdmFyIGNvbG9yID0gMC4wO1xyXG4gICAgZm9yKHZhciBpPSB0aGlzLmltcGxpY2FudEdyb3Vwcy5sZW5ndGgtMTsgaSA+PTA7IGktLSkge1xyXG4gICAgICB2YXIgZyA9IHRoaXMuaW1wbGljYW50R3JvdXBzW2ldLmdyb3VwO1xyXG4gICAgXHJcbiAgICAgIGZvcih2YXIgaj0wOyBqIDwgZy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmKGdbal0uaXNQcmltKSB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIHByaW0gdGVybXMgaW50cm9kdWNlZCBieSBkb24ndCBjYXJlc1xyXG4gICAgICAgICAgLy8gbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSAxXHJcbiAgICAgICAgICB2YXIgY29udGFpbnNPbmUgPSBmYWxzZTtcclxuICAgICAgICAgIHZhciBhbGxGdW5jUHJpbVRlcm0gPSBnW2pdLmltcDtcclxuICAgICAgICAgIGZvcih2YXIga2sgaW4gYWxsRnVuY1ByaW1UZXJtKSB7XHJcbiAgICAgICAgICAgIHZhciBrID0gYWxsRnVuY1ByaW1UZXJtW2trXTtcclxuICAgICAgICAgICAgaWYodGhpcy5mdW5jZGF0YVtrXSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgIGNvbnRhaW5zT25lID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZighY29udGFpbnNPbmUpe1xyXG4gICAgICAgICAgICBnW2pdLmlzT25seURvbnRDYXJlID0gdHJ1ZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBwcmltVGVybSA9IG5ldyBQcmltVGVybSgpO1xyXG4gICAgICAgICAgICBwcmltVGVybS5pbXBsaWNhbnQgPSBnW2pdO1xyXG5cclxuICAgICAgICAgICAgLy8gZXh0cmFjdCBtaW5UZXJtIGFzIHN0cmluZ1xyXG4gICAgICAgICAgICBmb3IgKHZhciB0aGlzVmFsIGluIHByaW1UZXJtLmltcGxpY2FudC5pbXApIHtcclxuICAgICAgICAgICAgICB2YXIgbWluVGVybSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgdmFyIG9uZSA9IDE7XHJcbiAgICAgICAgICAgICAgdmFyIG5lZWRlZCA9ICh+cHJpbVRlcm0uaW1wbGljYW50LmJpdE1hc2spO1xyXG4gICAgICAgICAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwgdGhpcy5ub09mVmFyczsgdisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKG5lZWRlZCAmIG9uZSkgPT09IG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoKHRoaXNWYWwgJiBvbmUpID09PSBvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW5UZXJtID0gXCI8aT54PC9pPjxzdWI+PHNtYWxsPlwiICsgdiArIFwiPC9zbWFsbD48L3N1Yj5cIiArIG1pblRlcm07XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluVGVybSA9IFwiPGk+eCYjNzcyOzwvaT48c3ViPjxzbWFsbD5cIiArIHYgKyBcIjwvc21hbGw+PC9zdWI+XCIgKyBtaW5UZXJtO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvbmUgPSBvbmUgPDwgMTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgbWluVGVybSA9IFwiKFwiICsgbWluVGVybSArIFwiKVwiO1xyXG4gICAgICAgICAgICAgIGlmIChwcmltVGVybS5pbXBsaWNhbnQuYml0TWFzayA9PT0gTWF0aC5wb3coMiwgdGhpcy5ub09mVmFycykgLSAxKVxyXG4gICAgICAgICAgICAgICAgbWluVGVybSA9IFwiMVwiO1xyXG4gICAgICAgICAgICAgIHByaW1UZXJtLmNvbG9yID0gaHN2VG9SZ2IoY29sb3IsIDEuMCwgMC41KTtcclxuICAgICAgICAgICAgICBjb2xvciArPSAwLjIyO1xyXG4gICAgICAgICAgICAgIGNvbG9yID0gY29sb3IgJSAxLjA7XHJcblxyXG5cclxuICAgICAgICAgICAgICBwcmltVGVybS50ZXJtU3RyaW5nID0gbWluVGVybTtcclxuICAgICAgICAgICAgICB2YXIgY29sb3JTdHIgPSBcInJnYihcIiArIHByaW1UZXJtLmNvbG9yWzBdICsgXCIsXCIgKyBwcmltVGVybS5jb2xvclsxXSArIFwiLFwiICsgcHJpbVRlcm0uY29sb3JbMl0gKyBcIilcIjtcclxuICAgICAgICAgICAgICBwcmltVGVybS5jb2xvcmVkVGVybVN0cmluZyA9IFwiPHNwYW4gc3R5bGU9J2NvbG9yOlwiICsgY29sb3JTdHIgKyBcIic+XCIgKyBtaW5UZXJtICsgXCI8L3NwYW4+XCI7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJpbVRlcm1zLnB1c2gocHJpbVRlcm0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgIC8vIGxvb2tpbmcgZm9yIGVzc2VudGlhbCBwcmltZSBpbXBsaWNhbnRzIFxyXG4gICAgdmFyIHJlbWFpbmluZyA9IG5ldyBPYmplY3QoKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5mdW5jZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZih0aGlzLmZ1bmNkYXRhW2ldID09PSAxKSB7XHJcbiAgICAgICAgcmVtYWluaW5nW2ldID0gaTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLnByaW1UZXJtVGFibGVzLmxlbmd0aCA9IDA7XHJcbiAgICB2YXIgcHJpbVRhYmxlTG9vcCA9IDA7XHJcbiAgICB2YXIgcHJpbVRhYmxlRm91bmQgPSAodGhpcy5wcmltVGVybXMubGVuZ3RoID4gMCk7XHJcbiAgICB2YXIgY3ljbGljQ292ZXJpbmdGb3VuZCA9IGZhbHNlO1xyXG4gICAgdmFyIHByaW1UZXJtVGFibGU7XHJcbiAgICB3aGlsZSAocHJpbVRhYmxlRm91bmQpIHtcclxuXHJcbiAgICAgIHByaW1UYWJsZUZvdW5kID0gZmFsc2U7XHJcblxyXG4gICAgICBwcmltVGVybVRhYmxlID0gbmV3IFByaW1UZXJtVGFibGUocHJpbVRhYmxlTG9vcCk7XHJcbiAgICAgIGZvciAodmFyIHIgaW4gcmVtYWluaW5nKSB7XHJcbiAgICAgICAgcHJpbVRlcm1UYWJsZS5yZW1haW5pbmdWYXJzLnB1c2gocmVtYWluaW5nW3JdKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHByaW1UYWJsZUxvb3AgPT09IDApIHsgXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLnByaW1UZXJtcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgcHJpbVRlcm1UYWJsZS5yZW1haW5pbmdQcmltVGVybXMucHVzaCh0aGlzLnByaW1UZXJtc1tqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHJlbW92ZSByb3dzXHJcbiAgICAgICAgdmFyIHByZXZUYWJsZSA9IHRoaXMucHJpbVRlcm1UYWJsZXNbcHJpbVRhYmxlTG9vcC0xXTsgXHJcbiAgICAgICAgZm9yKHZhciBrPTA7IGsgPHByZXZUYWJsZS5yZW1haW5pbmdQcmltVGVybXMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgIGlmKCFwcmV2VGFibGUucmVtYWluaW5nUHJpbVRlcm1zW2tdLnVzZWQpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIHN1cGVyc2VkZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGltcEEgPSBwcmV2VGFibGUucmVtYWluaW5nUHJpbVRlcm1zW2tdLmltcGxpY2FudC5pbXA7XHJcbiAgICAgICAgICAgIHZhciB2YXJDb3ZlciA9IG5ldyBPYmplY3Q7XHJcbiAgICAgICAgICAgIHZhciBjb3VudEEgPSAwO1xyXG4gICAgICAgICAgICBmb3IodmFyIHIgaW4gcmVtYWluaW5nKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHYgPSByZW1haW5pbmdbcl07XHJcbiAgICAgICAgICAgICAgaWYgKHYgaW4gaW1wQSkge1xyXG4gICAgICAgICAgICAgICAgdmFyQ292ZXJbdl0gPSB2O1xyXG4gICAgICAgICAgICAgICAgY291bnRBKys7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHByZXZUYWJsZS5yZW1haW5pbmdQcmltVGVybXMubGVuZ3RoICYmICFzdXBlcnNlZGVkOyBsKyspIHtcclxuICAgICAgICAgICAgICBpZiAoIXByZXZUYWJsZS5yZW1haW5pbmdQcmltVGVybXNbbF0udXNlZCAmJiBrICE9PSBsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1wQiA9IHByZXZUYWJsZS5yZW1haW5pbmdQcmltVGVybXNbbF0uaW1wbGljYW50LmltcDtcclxuICAgICAgICAgICAgICAgIHZhciBjb3VudEIgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgciBpbiB2YXJDb3Zlcikge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgdiA9IHZhckNvdmVyW3JdO1xyXG4gICAgICAgICAgICAgICAgICBpZiAodiBpbiBpbXBCKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnRCKys7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKGNvdW50QSA9PT0gY291bnRCKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBjb3VudEJJblJlbWFpbmluZyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgIGZvciAodmFyIHIgaW4gcmVtYWluaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSByZW1haW5pbmdbcl07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYgaW4gaW1wQikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY291bnRCSW5SZW1haW5pbmcrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgaWYoY291bnRCSW5SZW1haW5pbmcgPiBjb3VudEEpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdXBlcnNlZGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoayA+IGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHN1cGVyc2VkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKCFzdXBlcnNlZGVkKSB7XHJcbiAgICAgICAgICAgICAgcHJpbVRlcm1UYWJsZS5yZW1haW5pbmdQcmltVGVybXMucHVzaChwcmV2VGFibGUucmVtYWluaW5nUHJpbVRlcm1zW2tdKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgcHJldlRhYmxlLnN1cGVyc2VkZWRQcmltVGVybXMucHVzaChwcmV2VGFibGUucmVtYWluaW5nUHJpbVRlcm1zW2tdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHByaW1UZXJtVGFibGUucmVtYWluaW5nUHJpbVRlcm1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICB0aGlzLnByaW1UZXJtVGFibGVzLnB1c2gocHJpbVRlcm1UYWJsZSk7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRUZXJtcyA9IHByaW1UZXJtVGFibGUucmVtYWluaW5nUHJpbVRlcm1zO1xyXG5cclxuICAgICAgICB2YXIgdG9CZVJlbW92ZWQgPSBuZXcgT2JqZWN0KCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yICh2YXIgciBpbiByZW1haW5pbmcpIHtcclxuICAgICAgICAgIHZhciBpID0gcmVtYWluaW5nW3JdO1xyXG4gICAgICAgICAgdmFyIGNvdW50ID0gMDtcclxuICAgICAgICAgIHZhciB0ZXJtID0gLTE7XHJcbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGN1cnJlbnRUZXJtcy5sZW5ndGggJiYgY291bnQgPCAyOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGkgaW4gY3VycmVudFRlcm1zW2pdLmltcGxpY2FudC5pbXApIHtcclxuICAgICAgICAgICAgICB0ZXJtID0gajtcclxuICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGNvdW50ID09PSAxKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRUZXJtc1t0ZXJtXS5uZWVkZWRCeVZhcltpXSA9IHByaW1UYWJsZUxvb3A7XHJcbiAgICAgICAgICAgIGlmKCFjdXJyZW50VGVybXNbdGVybV0udXNlZCkge1xyXG4gICAgICAgICAgICAgIHRoaXMubWluaW1hbFRlcm1Qcmltcy5wdXNoKGN1cnJlbnRUZXJtc1t0ZXJtXSk7XHJcbiAgICAgICAgICAgICAgY3VycmVudFRlcm1zW3Rlcm1dLnVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIHByaW1UZXJtVGFibGUuZXNzZW50aWFsUHJpbVRlcm1zLnB1c2goY3VycmVudFRlcm1zW3Rlcm1dKTtcclxuICAgICAgICAgICAgICBwcmltVGFibGVGb3VuZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgIGZvciAodmFyIHIgaW4gcmVtYWluaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWkgPSByZW1haW5pbmdbcl07XHJcbiAgICAgICAgICAgICAgICBpZiAoaWkgaW4gY3VycmVudFRlcm1zW3Rlcm1dLmltcGxpY2FudC5pbXApIHtcclxuICAgICAgICAgICAgICAgICAgdG9CZVJlbW92ZWRbaWldID0gaWk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHJlbW92ZSBjb2x1bW5zXHJcbiAgICAgICAgdmFyIHRtcFJlbWFpbmluZyA9IG5ldyBPYmplY3QoKTtcclxuICAgICAgICBmb3IgKHZhciBlIGluIHJlbWFpbmluZyl7XHJcbiAgICAgICAgICB2YXIgZWUgPSByZW1haW5pbmdbZV07XHJcbiAgICAgICAgICB0bXBSZW1haW5pbmdbZWVdID0gZWU7XHJcbiAgICAgICAgICBkZWxldGUgcmVtYWluaW5nW2VdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVtYWluaW5nQ291bnQgPSAwO1xyXG4gICAgICAgIGZvciAodmFyIHIgaW4gdG1wUmVtYWluaW5nKSB7XHJcbiAgICAgICAgICB2YXIgdCA9IHRtcFJlbWFpbmluZ1tyXTtcclxuICAgICAgICAgIGlmKCEodCBpbiB0b0JlUmVtb3ZlZCkpIHtcclxuICAgICAgICAgICAgIHJlbWFpbmluZyBbdF0gPSB0O1xyXG4gICAgICAgICAgICAgcmVtYWluaW5nQ291bnQrKztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9ICAgIFxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiggcmVtYWluaW5nQ291bnQgPT09IDAgKSB7XHJcbiAgICAgICAgcHJpbVRhYmxlRm91bmQgPSBmYWxzZTsgLy8gYnJlYWsgbG9vcFxyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICBpZighcHJpbVRhYmxlRm91bmQpIHtcclxuICAgICAgICAgIGN5Y2xpY0NvdmVyaW5nRm91bmQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcHJpbVRhYmxlTG9vcCsrO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgIHZhciBzb2x1dGlvbkZvdW5kID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgLy8gUGV0cmljaydzIE1ldGhvZFxyXG4gICAgaWYgKGN5Y2xpY0NvdmVyaW5nRm91bmQpIHtcclxuICAgICAgLy9jb25zb2xlLmxvZyhcIkN5Y2xpYyBjb3ZlcmluZyBmb3VuZFwiKTtcclxuXHJcbiAgICAgIHZhciBhbmRBcnJheSA9IG5ldyBBcnJheSgpO1xyXG4gICBcclxuICAgICAgZm9yICh2YXIgciBpbiByZW1haW5pbmcpIHtcclxuICAgICAgICB2YXIgaWkgPSByZW1haW5pbmdbcl07XHJcbiAgICAgICAgIHZhciBvckFycmF5ID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcHJpbVRlcm1UYWJsZS5yZW1haW5pbmdQcmltVGVybXMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgIHZhciBpbXAgPSBwcmltVGVybVRhYmxlLnJlbWFpbmluZ1ByaW1UZXJtc1trXS5pbXBsaWNhbnQuaW1wO1xyXG4gICAgICAgICAgaWYoaWkgaW4gaW1wKXtcclxuICAgICAgICAgICAgdmFyIG1vbm9tID0gbmV3IE9iamVjdCgpO1xyXG4gICAgICAgICAgICBtb25vbVtrXSA9IGs7XHJcbiAgICAgICAgICAgIG9yQXJyYXkucHVzaChtb25vbSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFuZEFycmF5LnB1c2gob3JBcnJheSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHNvbHV0aW9uRm91bmQgPSB0aGlzLnBldHJpY2tTb2x2ZXIuc29sdmUoYW5kQXJyYXkpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHNvbHV0aW9uRm91bmQpIHtcclxuICAgICAgICB2YXIgc29sdXRpb25zID0gdGhpcy5wZXRyaWNrU29sdmVyLnNvbHV0aW9uWzBdO1xyXG5cclxuICAgICAgICB2YXIgYmVzdFNvbHV0aW9uID0gLTE7XHJcbiAgICAgICAgdmFyIGJlc3RDb3VudCA9IDEwMDAwMDAwO1xyXG4gICAgICAgIHZhciBiZXN0VmFyQ291bnQgPSAxMDAwMDAwMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvbHV0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgdmFyIGNvdW50ID0gMDtcclxuICAgICAgICAgIGZvciAodmFyIGogaW4gc29sdXRpb25zW2ldKSB7XHJcbiAgICAgICAgICAgIGNvdW50Kys7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoY291bnQgPD0gYmVzdENvdW50KSB7IC8vIGZpcnN0IHNvcnQgYWNjb3JpbmcgdG8gbW9ub20gbGVuZ3RoXHJcblxyXG4gICAgICAgICAgICB2YXIgZm91bmRCZXN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGNvdW50ID09PSBiZXN0Q291bnQpIHtcclxuICAgICAgICAgICAgICB2YXIgYmVzdFZhckNvdW50TmV3ID0gMDtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBqIGluIHNvbHV0aW9uc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdiBpbiBwcmltVGVybVRhYmxlLnJlbWFpbmluZ1ByaW1UZXJtc1tqXS5pbXBsaWNhbnQuaW1wKSB7XHJcbiAgICAgICAgICAgICAgICAgIGJlc3RWYXJDb3VudE5ldysrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAoYmVzdFZhckNvdW50TmV3ID49IGJlc3RWYXJDb3VudClcclxuICAgICAgICAgICAgICAgIGZvdW5kQmVzdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZm91bmRCZXN0KSB7XHJcbiAgICAgICAgICAgICAgYmVzdENvdW50ID0gY291bnQ7XHJcbiAgICAgICAgICAgICAgYmVzdFNvbHV0aW9uID0gaTtcclxuICAgICAgICAgICAgICBiZXN0VmFyQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgIGZvciAodmFyIGogaW4gc29sdXRpb25zW2Jlc3RTb2x1dGlvbl0pIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHYgaW4gcHJpbVRlcm1UYWJsZS5yZW1haW5pbmdQcmltVGVybXNbal0uaW1wbGljYW50LmltcCkge1xyXG4gICAgICAgICAgICAgICAgICBiZXN0VmFyQ291bnQrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIkJlc3Qgc29sdXRpb24gXCIgKyBiZXN0U29sdXRpb24pO1xyXG5cclxuICAgICAgICB2YXIgYmVzdCA9IHNvbHV0aW9uc1tiZXN0U29sdXRpb25dO1xyXG4gICAgICAgIGZvciAodmFyIGIgaW4gYmVzdCkge1xyXG4gICAgICAgICAgdmFyIGFkZFByaW1UZXJtID0gcHJpbVRlcm1UYWJsZS5yZW1haW5pbmdQcmltVGVybXNbYmVzdFtiXV07XHJcbiAgICAgICAgICB0aGlzLm1pbmltYWxUZXJtUHJpbXMucHVzaChhZGRQcmltVGVybSk7XHJcbiAgICAgICAgICB0aGlzLnBldHJpY2tUZXJtUHJpbXMucHVzaChhZGRQcmltVGVybSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChzb2x1dGlvbkZvdW5kKSB7XHJcbiAgICAgIHRoaXMubWluaW1hbFRlcm0gPSBcIlwiO1xyXG4gICAgICB0aGlzLmNvbG9yZWRNaW5pbWFsVGVybSA9IFwiXCI7XHJcbiAgICAgIHZhciBmaXJzdEwgPSB0cnVlO1xyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWluaW1hbFRlcm1Qcmltcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICghZmlyc3RMKSB7XHJcbiAgICAgICAgICB0aGlzLm1pbmltYWxUZXJtICs9IFwiICZvcjsgXCI7XHJcbiAgICAgICAgICB0aGlzLmNvbG9yZWRNaW5pbWFsVGVybSArPSBcIiAmb3I7IFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm1pbmltYWxUZXJtICs9IHRoaXMubWluaW1hbFRlcm1Qcmltc1tpXS50ZXJtU3RyaW5nO1xyXG4gICAgICAgIHRoaXMuY29sb3JlZE1pbmltYWxUZXJtICs9IHRoaXMubWluaW1hbFRlcm1Qcmltc1tpXS5jb2xvcmVkVGVybVN0cmluZztcclxuICAgICAgICBmaXJzdEwgPSBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMubWluaW1hbFRlcm1Qcmltcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0aGlzLm1pbmltYWxUZXJtID0gXCIwXCI7XHJcbiAgICAgICAgdGhpcy5jb2xvcmVkTWluaW1hbFRlcm0gPSBcIjBcIjtcclxuICAgICAgfVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICB0aGlzLm1pbmltYWxUZXJtID0gJ0Vycm9yOiBUaGUgY3ljbGljIGNvdmVyaW5nIHByb2JsZW0gaXMgdG9vIGxhcmdlIChpbmNyZWFzZSB0aGUgXCJtYXhQcm9ibGVtU2l6ZVwiIHBhcmFtZXRlciknO1xyXG4gICAgICAgdGhpcy5jb2xvcmVkTWluaW1hbFRlcm0gPSAnRXJyb3I6IFRoZSBjeWNsaWMgY292ZXJpbmcgcHJvYmxlbSBpcyB0b28gbGFyZ2UgKGluY3JlYXNlIHRoZSBcIm1heFByb2JsZW1TaXplXCIgcGFyYW1ldGVyKSc7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IFF1aW5lTWNDbHVza2V5ID0gZnVuY3Rpb24ocGFyZW50RGl2SWQsIGNvbHVtbnMsIGxhbmd1YWdlKSB7XHJcbiAgdmFyIG15RGl2ID0gLTE7XHJcbiAgdmFyIGRpdklkID0gcGFyZW50RGl2SWQ7XHJcbiAgdGhpcy5jb2xzID0gY29sdW1ucyArIDE7XHJcbiAgdGhpcy5yb3dzID0gTWF0aC5wb3coMiwgY29sdW1ucyk7XHJcbiAgdGhpcy5kYXRhID0gIG5ldyBRdWluZU1jQ2x1c2tleURhdGFDdHJsKCk7XHJcbiAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICB2YXIgbGFiZWxzO1xyXG4gIGlmKGxhbmd1YWdlID09PSAwKSB7XHJcbiAgICBsYWJlbHMgPSB7dHRhYmxlOlwiVHJ1dGggdGFibGVcIixcclxuICAgICAgICAgICAgICBtaW5FeHA6XCJNaW5pbWFsIGJvb2xlYW4gZXhwcmVzc2lvblwiLFxyXG4gICAgICAgICAgICAgIGltcGxpOlwiSW1wbGljYW50c1wiLFxyXG4gICAgICAgICAgICAgIG9yZGVyOlwiT3JkZXJcIixcclxuICAgICAgICAgICAgICBwcmltQ2hhcnQ6XCJQcmltZSBpbXBsaWNhbnQgY2hhcnRcIixcclxuICAgICAgICAgICAgICBwcmltQ2hhcnRSZWR1Y2VkOlwiUmVkdWNlZCBwcmltZSBpbXBsaWNhbnQgY2hhcnQgKEl0ZXJhdGlvblwiLFxyXG4gICAgICAgICAgICAgIGV4dHJhY3RlZFByaW1zOlwiRXh0cmFjdGVkIGVzc2VudGlhbCBwcmltZSBpbXBsaWNhbnRzXCIsXHJcbiAgICAgICAgICAgICAgZXh0cmFjdGVkTVByaW1zOlwiRXh0cmFjdGVkIHByaW1lIGltcGxpY2FudHNcIixcclxuICAgICAgICAgICAgICBwZXRyaWNrc006XCJQZXRyaWNrJ3MgbWV0aG9kXCJ9O1xyXG4gIH1lbHNle1xyXG4gICAgbGFiZWxzID0ge3R0YWJsZTpcIldhaHJoZWl0c3RhZmVsXCIsXHJcbiAgICAgICAgICAgICAgbWluRXhwOlwiTWluaW1hbGVyIGJvb2xlc2NoZXIgQXVzZHJ1Y2tcIixcclxuICAgICAgICAgICAgICBpbXBsaTpcIkltcGxpa2FudGVuXCIsXHJcbiAgICAgICAgICAgICAgb3JkZXI6XCJPcmRudW5nXCIsXHJcbiAgICAgICAgICAgICAgcHJpbUNoYXJ0OlwiUHJpbWltcGxpa2FudGVudGFmZWxcIixcclxuICAgICAgICAgICAgICBwcmltQ2hhcnRSZWR1Y2VkOlwiUmVkdXppZXJ0ZSBQcmltaW1wbGlrYW50ZW50YWZlbCAoSXRlcmF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgZXh0cmFjdGVkUHJpbXM6XCJFeHRyYWhpZXJ0ZSBlc3NlbnRpZWxsZSBQcmltaW1wbGlrYW50ZW5cIixcclxuICAgICAgICAgICAgICBleHRyYWN0ZWRNUHJpbXM6XCJFeHRyYWhpZXJ0ZSBQcmltaW1wbGlrYW50ZW5cIixcclxuICAgICAgICAgICAgICBwZXRyaWNrc006XCJWZXJmYWhyZW4gdm9uIFBldHJpY2tcIn07XHJcbiAgICBcclxuICB9XHJcblxyXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgXHJcbiAgICB0aGlzLmRhdGEuaW5pdChjb2x1bW5zKTtcclxuICAgIFxyXG4gICAgbXlEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGlmICghbXlEaXYpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJRdWluZU1jQ2x1c2tleSBlcnJvcjogY2FuIG5vdCBjcmVhdGUgYSBjYW52YXMgZWxlbWVudFwiKTtcclxuICAgICAgbXlEaXYgPSAtMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgXHJcbiAgICAgIHZhciBwYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCk7XHJcbiAgICAgIGlmICghcGFyZW50KSB7XHJcbiAgICAgICAgaWYoZGl2SWQgIT09IFwiZmFrZURpdklkXCIpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiUXVpbmVNY0NsdXNrZXkgZXJyb3I6IGNhbiBub3QgZmluZCBhbiBlbGVtZW50IHdpdGggdGhlIGdpdmVuIG5hbWU6IFwiICsgZGl2SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBteURpdiA9IC0xO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobXlEaXYpO1xyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChteURpdik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5zZXROb09mVmFycyA9IGZ1bmN0aW9uKHZhcnMpIHtcclxuICAgIHZhciBjID0gcGFyc2VJbnQodmFycyk7XHJcbiAgICBpZiAoYyA8IDEgJiYgYyA+IDYpXHJcbiAgICAgIHJldHVybjtcclxuICAgIHRoaXMuY29scyA9IGMgKyAxO1xyXG4gICAgdGhpcy5yb3dzID0gTWF0aC5wb3coMiwgYyk7XHJcbiAgICB0aGlzLmRhdGEuaW5pdChjKTtcclxuICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5nZW5SYW5kb20gPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuZGF0YS5yYW5kb20oKTtcclxuICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5hbGxvd0RvbnRDYXJlcyA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgIGlmKHR5cGUgPiAwKSB7XHJcbiAgICAgIHRoaXMuZGF0YS5hbGxvd0RvbnRDYXJlID0gdHJ1ZTtcclxuICAgIH1lbHNle1xyXG4gICAgICB0aGlzLmRhdGEuYWxsb3dEb250Q2FyZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kYXRhLmNsZWFyKCk7XHJcbiAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuZHJhd0ltcGxpY2FudEdyb3VwID0gZnVuY3Rpb24oZywgcGFyZW50LCBwcmltRmxhZywgdCwgZHJhd1BldHJpY2tWYXJzKSB7XHJcbiAgICB2YXIgcHJpbVRlcm1UYWJsZSA9IHRoaXMuZGF0YS5wcmltVGVybVRhYmxlc1t0XTtcclxuICAgIHZhciBteVRhYmxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcclxuICAgIG15VGFibGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdxbWNUYWJsZUNsYXNzJyk7XHJcbiAgICB2YXIgbXlSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgXHJcbiAgICB2YXIgY2VsbDFoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTsgIFxyXG4gICAgY2VsbDFoLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncW1jVGROb0JvcmRlcicpO1xyXG4gICAgY2VsbDFoLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBteVJvdy5hcHBlbmRDaGlsZChjZWxsMWgpO1xyXG4gICAgXHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuZGF0YS5ub09mVmFyczsgaisrKSB7XHJcbiAgICAgIHZhciBteUNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aCcpO1xyXG4gICAgICBteUNlbGwuaW5uZXJIVE1MID0gXCI8aT54PC9pPjxzdWI+PHNtYWxsPlwiICsgKHRoaXMuZGF0YS5ub09mVmFycy0xLWopICsgXCI8L3NtYWxsPjwvc3ViPlwiO1xyXG4gICAgICBteUNlbGwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdxbWNIZWFkZXJYIHFtY0JpdCcpO1xyXG4gICAgICBteVJvdy5hcHBlbmRDaGlsZChteUNlbGwpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAocHJpbUZsYWcpIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmltVGVybVRhYmxlLnJlbWFpbmluZ1ZhcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgY2VsbEltcGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgICAgIGNlbGxJbXBoLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncW1jVGROb0JvcmRlcicpO1xyXG4gICAgICAgIGNlbGxJbXBoLmlubmVySFRNTCA9IHByaW1UZXJtVGFibGUucmVtYWluaW5nVmFyc1tpXS50b1N0cmluZygxMCk7XHJcbiAgICAgICAgbXlSb3cuYXBwZW5kQ2hpbGQoY2VsbEltcGgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHZhciBjZWxsSW1waCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICBjZWxsSW1waC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3FtY1RkTm9Cb3JkZXInKTtcclxuICAgIGNlbGxJbXBoLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBteVJvdy5hcHBlbmRDaGlsZChjZWxsSW1waCk7XHJcblxyXG5cclxuICAgIG15VGFibGUuYXBwZW5kQ2hpbGQobXlSb3cpO1xyXG4gICAgXHJcbiAgICB2YXIgaU1heCA9IDA7XHJcbiAgICBpZighcHJpbUZsYWcpIGlNYXggPSBnLmdyb3VwLmxlbmd0aDsgZWxzZSBpTWF4ID0gcHJpbVRlcm1UYWJsZS5yZW1haW5pbmdQcmltVGVybXMubGVuZ3RoO1xyXG4gICAgXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlNYXg7IGkrKykge1xyXG4gICAgICB2YXIgaW1wbCA9IC0xO1xyXG4gICAgICBpZighcHJpbUZsYWcpIGltcGwgPSBnLmdyb3VwW2ldOyBlbHNlIGltcGwgPSBwcmltVGVybVRhYmxlLnJlbWFpbmluZ1ByaW1UZXJtc1tpXS5pbXBsaWNhbnQ7XHJcbiAgICAgIHZhciBiaXRzID0gMDtcclxuICAgICAgdmFyIG1hc2sgPSBpbXBsLmJpdE1hc2s7XHJcbiAgICAgIFxyXG4gICAgICBmb3IodmFyIG0gaW4gaW1wbC5pbXApIHtcclxuICAgICAgICBiaXRzID0gaW1wbC5pbXBbbV07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgICAgICAgICAgXHJcbiAgICAgIG15Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgXHJcbiAgICAgIHZhciBjZWxsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7ICAgICAgXHJcbiAgICAgIHZhciBjZWxsMVN0ciA9IFwiXCI7XHJcbiAgICAgIHZhciBmaXJzdCA9IHRydWU7XHJcbiAgICAgIGZvcih2YXIgbSBpbiBpbXBsLmltcCkge1xyXG4gICAgICAgIGlmKCFmaXJzdCkgY2VsbDFTdHIgKz0gIFwiLCBcIjtcclxuICAgICAgICBjZWxsMVN0ciArPSBpbXBsLmltcFttXS50b1N0cmluZygxMCk7XHJcbiAgICAgICAgZmlyc3QgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBjZWxsMS5pbm5lckhUTUwgPSBjZWxsMVN0ciArIFwiOlwiO1xyXG4gICAgICBjZWxsMS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3FtY1RkTm9Cb3JkZXInKTtcclxuICAgICAgbXlSb3cuYXBwZW5kQ2hpbGQoY2VsbDEpO1xyXG4gICAgICBcclxuICAgICAgdmFyIHJlcyA9IGJpdHMudG9TdHJpbmcoMik7XHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5kYXRhLm5vT2ZWYXJzOyBqKyspIHtcclxuICAgICAgICB2YXIgbXlDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICBteUNlbGwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdxbWNCaXQnKTtcclxuICAgICAgICB2YXIgc3RyO1xyXG5cclxuICAgICAgICB2YXIgY3VycmVudEJpdCA9IE1hdGgucG93KDIsICh0aGlzLmRhdGEubm9PZlZhcnMgLSAxKS1qKTtcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgIGlmICgoY3VycmVudEJpdCAmIG1hc2spID09PSBjdXJyZW50Qml0KSB7XHJcbiAgICAgICAgICBzdHIgPSBcIi1cIjtcclxuICAgICAgICAgIG15Q2VsbC5pbm5lckhUTUwgPSBzdHI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChqID49ICh0aGlzLmRhdGEubm9PZlZhcnMpIC0gcmVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBzdHIgPSByZXMuY2hhckF0KGogLSAodGhpcy5kYXRhLm5vT2ZWYXJzIC0gcmVzLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICBteUNlbGwuaW5uZXJIVE1MID0gc3RyO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3RyID0gXCIwXCI7XHJcbiAgICAgICAgICAgIG15Q2VsbC5pbm5lckhUTUwgPSBzdHI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG15Um93LmFwcGVuZENoaWxkKG15Q2VsbCk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgXHJcbiAgICAgIGlmICghcHJpbUZsYWcpIHtcclxuICAgICAgICAgdmFyIGNlbGxMYXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgY2VsbExhc3Quc2V0QXR0cmlidXRlKCdjbGFzcycsICdxbWNUZE5vQm9yZGVyJyk7XHJcbiAgICAgICAgaWYgKGltcGwuaXNQcmltKSB7XHJcbiAgICAgICAgICBjZWxsTGFzdC5pbm5lckhUTUwgPSBcIiYjeDI3MTM7XCI7ICAvL2VxdWl2YWxlbnQgJmNoZWNrOyBpbiBtb3N0IGJyb3dzZXJzXHJcbiAgICAgICAgICBpZihpbXBsLmlzT25seURvbnRDYXJlKXtcclxuICAgICAgICAgICAgY2VsbExhc3QuaW5uZXJIVE1MID0gXCIgKCZ0aW1lczspXCJcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2VsbExhc3QuaW5uZXJIVE1MID0gXCImcmFycjtcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbXlSb3cuYXBwZW5kQ2hpbGQoY2VsbExhc3QpO1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICBmb3IgKHZhciB2ID0gMDsgdiA8IHByaW1UZXJtVGFibGUucmVtYWluaW5nVmFycy5sZW5ndGg7IHYrKykge1xyXG4gICAgICAgICAgdmFyIGlpID0gcHJpbVRlcm1UYWJsZS5yZW1haW5pbmdWYXJzW3ZdO1xyXG4gICAgICAgICAgdmFyIGNlbGxVc2VkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcclxuICAgICAgICAgIGNlbGxVc2VkLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncW1jUHJpbUl0ZW0gcW1jQml0Jyk7XHJcbiAgICAgICAgICBpZiAoaWkgaW4gaW1wbC5pbXApIHtcclxuICAgICAgICAgICAgY2VsbFVzZWQuaW5uZXJIVE1MID0gXCImIzk2NzU7XCI7XHJcbiAgICAgICAgICAgIGlmIChpaSBpbiBwcmltVGVybVRhYmxlLnJlbWFpbmluZ1ByaW1UZXJtc1tpXS5uZWVkZWRCeVZhcikge1xyXG4gICAgICAgICAgICAgIGlmKHByaW1UZXJtVGFibGUucmVtYWluaW5nUHJpbVRlcm1zW2ldLm5lZWRlZEJ5VmFyW2lpXSA9PT0gdCkge1xyXG4gICAgICAgICAgICAgICAgY2VsbFVzZWQuaW5uZXJIVE1MID0gXCI8c3BhbiBzdHlsZT0nY29sb3I6Z3JlZW47Jz4mIzk2Nzk7PC9zcGFuPlwiO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG15Um93LmFwcGVuZENoaWxkKGNlbGxVc2VkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgIHZhciBjZWxsTGFzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XHJcbiAgICAgICAgIGNlbGxMYXN0LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncW1jVGROb0JvcmRlcicpOyAgICBcclxuICAgICAgICAgY2VsbExhc3QuaW5uZXJIVE1MID0gcHJpbVRlcm1UYWJsZS5yZW1haW5pbmdQcmltVGVybXNbaV0uY29sb3JlZFRlcm1TdHJpbmc7ICBcclxuICAgICAgICAgaWYoZHJhd1BldHJpY2tWYXJzKSB7XHJcbiAgICAgICAgICAgdmFyIHBWYXJzID0gXCImbmJzcDsmZXF1aXY7Jm5ic3A7PGk+cDwvaT48c3ViPjxzbWFsbD5cIiArIGkgKyBcIjwvc21hbGw+PC9zdWI+XCI7XHJcbiAgICAgICAgICAgY2VsbExhc3QuaW5uZXJIVE1MICs9IHBWYXJzOyAgICAgICAgXHJcbiAgICAgICAgIH1cclxuICAgICAgICAgXHJcbiAgICAgICAgIFxyXG4gICAgICAgICBteVJvdy5hcHBlbmRDaGlsZChjZWxsTGFzdCk7XHJcbiAgICAgIH1cclxuIFxyXG4gICAgICBcclxuICAgICAgbXlUYWJsZS5hcHBlbmRDaGlsZChteVJvdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKG15VGFibGUpO1xyXG4gIH07XHJcblxyXG5cclxuICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGlmKG15RGl2ID09PSAtMSkgcmV0dXJuO1xyXG5cclxuICAgIC8vIGNsZWFuIHVwXHJcbiAgICB2YXIgb2xkSW5uZXJEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCtcIl9pbm5lckRpdlwiKTtcclxuICAgIGlmIChvbGRJbm5lckRpdikgbXlEaXYucmVtb3ZlQ2hpbGQob2xkSW5uZXJEaXYpO1xyXG4gICAgXHJcbiAgICB2YXIgbXlJbm5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgbXlJbm5lckRpdi5zZXRBdHRyaWJ1dGUoJ2lkJywgZGl2SWQrXCJfaW5uZXJEaXZcIik7XHJcbiAgICBcclxuXHJcbiAgICB2YXIgbXlUcnV0aFRhYmxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBteVRydXRoVGFibGVEaXYuaW5uZXJIVE1MID0gXCI8ZGl2PlwiICsgbGFiZWxzWyd0dGFibGUnXSArIFwiOjwvZGl2PlwiO1xyXG4gICAgbXlUcnV0aFRhYmxlRGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncW1jVGFibGVMYWJlbERpdicpO1xyXG4gICAgXHJcbiAgICAvLyByZS1nZW5lcmF0ZVxyXG4gICAgdmFyIG15VGFibGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xyXG4gICAgbXlUYWJsZS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3FtY1RhYmxlQ2xhc3MnKTtcclxuXHJcbiAgICB2YXIgbXlSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xyXG4gICAgXHJcbiAgICB2YXIgY2VsbDFoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTsgICAgICBcclxuICAgIGNlbGwxaC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgY2VsbDFoLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncW1jVGROb0JvcmRlcicpO1xyXG4gICAgbXlSb3cuYXBwZW5kQ2hpbGQoY2VsbDFoKTtcclxuICAgIFxyXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmNvbHM7IGorKykge1xyXG4gICAgICB2YXIgbXlDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGgnKTtcclxuICAgICAgaWYgKGogPCB0aGlzLmNvbHMgLSAxKSB7XHJcbiAgICAgICAgbXlDZWxsLmlubmVySFRNTCA9IFwiPGk+eDwvaT48c3ViPjxzbWFsbD5cIiArICh0aGlzLmNvbHMtMi1qKSArIFwiPC9zbWFsbD48L3N1Yj5cIjtcclxuICAgICAgICBteUNlbGwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdxbWNIZWFkZXJYIHFtY0JpdCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG15Q2VsbC5pbm5lckhUTUwgPSBcIjxpPnk8L2k+XCI7XHJcbiAgICAgICAgbXlDZWxsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncW1jSGVhZGVyWSBxbWNCaXQnKTtcclxuICAgICAgfVxyXG4gICAgICBteVJvdy5hcHBlbmRDaGlsZChteUNlbGwpO1xyXG4gICAgfVxyXG4gICAgbXlUYWJsZS5hcHBlbmRDaGlsZChteVJvdyk7XHJcbiAgIFxyXG5cclxuICAgXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucm93czsgaSsrKSB7XHJcbiAgICAgIG15Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgXHJcbiAgICAgIHZhciBjZWxsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7ICAgICAgXHJcbiAgICAgIGNlbGwxLmlubmVySFRNTCA9IGkudG9TdHJpbmcoMTApICsgXCI6XCI7XHJcbiAgICAgIGNlbGwxLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncW1jVGROb0JvcmRlcicpO1xyXG4gICAgICBteVJvdy5hcHBlbmRDaGlsZChjZWxsMSk7XHJcbiAgICAgIFxyXG4gICAgICB2YXIgcmVzID0gaS50b1N0cmluZygyKTtcclxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmNvbHM7IGorKykge1xyXG4gICAgICAgIHZhciBteUNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG5cclxuICAgICAgICBpZiAoaiA8IHRoaXMuY29scyAtIDEpIHsgLy8geCBlbGVtZW50XHJcbiAgICAgICAgICBteUNlbGwuc2V0QXR0cmlidXRlKCdjbGFzcycsICdxbWNCaXQnKTtcclxuICAgICAgICAgIHZhciBzdHI7XHJcbiAgICAgICAgICBpZiAoaiA+PSAodGhpcy5jb2xzIC0gMSkgLSByZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHN0ciA9IHJlcy5jaGFyQXQoaiAtICgodGhpcy5jb2xzIC0gMSkgLSByZXMubGVuZ3RoKSk7XHJcbiAgICAgICAgICAgIG15Q2VsbC5pbm5lckhUTUwgPSBzdHI7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdHIgPSBcIjBcIjtcclxuICAgICAgICAgICAgbXlDZWxsLmlubmVySFRNTCA9IHN0cjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgeyAvLyB5IGVsZW1lbnRcclxuICAgICAgICAgIG15Q2VsbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3FtY0JpdCBxbWNCaXRZJyk7XHJcbiAgICAgICAgICBteUNlbGwuc2V0QXR0cmlidXRlKCd0aXRsZScsIGkpO1xyXG4gICAgICAgICAgbXlDZWxsLm9ubW91c2Vkb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgbXlDZWxsTW91c2VEb3duKGV2ZW50KTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgaWYgKHRoaXMuZGF0YS5mdW5jZGF0YVtpXSA9PT0gMCkge1xyXG4gICAgICAgICAgICBteUNlbGwuaW5uZXJIVE1MID0gXCIwXCI7XHJcbiAgICAgICAgICB9IFxyXG4gICAgICAgICAgaWYgKHRoaXMuZGF0YS5mdW5jZGF0YVtpXSA9PT0gMSkge1xyXG4gICAgICAgICAgICBteUNlbGwuaW5uZXJIVE1MID0gXCIxXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodGhpcy5kYXRhLmZ1bmNkYXRhW2ldID09PSAyKSB7XHJcbiAgICAgICAgICAgIG15Q2VsbC5pbm5lckhUTUwgPSBcIiZ0aW1lcztcIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbXlSb3cuYXBwZW5kQ2hpbGQobXlDZWxsKTtcclxuICAgICAgfVxyXG4gICAgICBteVRhYmxlLmFwcGVuZENoaWxkKG15Um93KTtcclxuICAgIH1cclxuXHJcbiAgICBteVRydXRoVGFibGVEaXYuYXBwZW5kQ2hpbGQobXlUYWJsZSk7XHJcbiAgICBteUlubmVyRGl2LmFwcGVuZENoaWxkKG15VHJ1dGhUYWJsZURpdik7XHJcbiAgICBcclxuXHJcbiAgICBmb3IodmFyIGk9MDsgaSA8IHRoaXMuZGF0YS5pbXBsaWNhbnRHcm91cHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIG15SW1wbGljYW50RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIG15SW1wbGljYW50RGl2LmlubmVySFRNTCA9IFwiPGRpdj5cIisgbGFiZWxzWydpbXBsaSddICsgXCIgKFwiICsgbGFiZWxzWydvcmRlciddICsgXCIgXCIraStcIik6PC9kaXY+XCI7XHJcbiAgICAgIG15SW1wbGljYW50RGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncW1jVGFibGVMYWJlbERpdicpO1xyXG4gICAgICB0aGlzLmRyYXdJbXBsaWNhbnRHcm91cCh0aGlzLmRhdGEuaW1wbGljYW50R3JvdXBzW2ldLCAgbXlJbXBsaWNhbnREaXYsIGZhbHNlLCAwLCBmYWxzZSk7XHJcbiAgICAgIG15SW5uZXJEaXYuYXBwZW5kQ2hpbGQobXlJbXBsaWNhbnREaXYpOyBcclxuICAgIH1cclxuICAgIFxyXG4gICAgIFxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRhdGEucHJpbVRlcm1UYWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIHJlc3VsdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBpZihpID09PSAwICkge1xyXG4gICAgICAgIHJlc3VsdERpdi5pbm5lckhUTUwgPSBcIjxwPlwiICsgbGFiZWxzWydwcmltQ2hhcnQnXSArIFwiOjwvcFwiO1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICByZXN1bHREaXYuaW5uZXJIVE1MID0gXCI8cD4gXCIgK2xhYmVsc1sncHJpbUNoYXJ0UmVkdWNlZCddICsgXCIgXCIgKyAoaS0xKSArIFwiKTo8L3A+XCI7XHJcbiAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgcmVzdWx0RGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncW1jVGFibGVSZXN1bHREaXYnKTtcclxuXHJcbiAgICAgIHZhciBkcmF3UGV0cmlja1ZhcnMgPSBmYWxzZTtcclxuICAgICAgaWYodGhpcy5kYXRhLnBldHJpY2tUZXJtUHJpbXMubGVuZ3RoID4gMCAmJiBpID09PSB0aGlzLmRhdGEucHJpbVRlcm1UYWJsZXMubGVuZ3RoLTEpIHtcclxuICAgICAgICBkcmF3UGV0cmlja1ZhcnMgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLmRyYXdJbXBsaWNhbnRHcm91cCh0aGlzLmRhdGEucHJpbVRlcm1zLCByZXN1bHREaXYsIHRydWUsIGksIGRyYXdQZXRyaWNrVmFycyk7XHJcbiAgICAgIFxyXG4gICAgICB2YXIgZXNzUFRlcm1zRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBlc3NQVGVybXNTdHIgPSBcIlwiO1xyXG4gICAgICB2YXIgcHJpbVRlcm1UYWJsZSA9IHRoaXMuZGF0YS5wcmltVGVybVRhYmxlc1tpXTtcclxuICAgICAgdmFyIGpqID0gcHJpbVRlcm1UYWJsZS5lc3NlbnRpYWxQcmltVGVybXMubGVuZ3RoO1xyXG4gICAgICBmb3IodmFyIGo9MDsgaiA8IGpqOyBqKyspIHtcclxuICAgICAgICBlc3NQVGVybXNTdHIgKz0gcHJpbVRlcm1UYWJsZS5lc3NlbnRpYWxQcmltVGVybXNbal0uY29sb3JlZFRlcm1TdHJpbmc7XHJcbiAgICAgICAgaWYoaiAhPT0gKGpqLTEpKSBlc3NQVGVybXNTdHIgKz0gXCIsIFwiO1xyXG4gICAgICB9XHJcbiAgICAgIGlmKGpqID4gMCkge1xyXG4gICAgICAgZXNzUFRlcm1zRGl2LmlubmVySFRNTCA9IFwiPHA+XCIgKyBsYWJlbHNbJ2V4dHJhY3RlZFByaW1zJ10gK1wiOiA8c3BhbiBjbGFzcz0ncW1jTWF0aEZvbnQnPlwiICsgZXNzUFRlcm1zU3RyICsgXCI8L3NwYW4+PC9wPlwiO1xyXG4gICAgICAgZXNzUFRlcm1zRGl2LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAncW1jSW5kZW50Jyk7XHJcbiAgICAgICByZXN1bHREaXYuYXBwZW5kQ2hpbGQoZXNzUFRlcm1zRGl2KTtcclxuICAgICAgfVxyXG4gICAgIFxyXG4gICAgICBteUlubmVyRGl2LmFwcGVuZENoaWxkKHJlc3VsdERpdik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh0aGlzLmRhdGEucGV0cmlja1Rlcm1Qcmltcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHZhciBwZXRyaWNrRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHBldHJpY2tEaXYuaW5uZXJIVE1MID0gXCI8cD4gXCIgKyBsYWJlbHNbJ3BldHJpY2tzTSddICsgXCIgPC9wPlwiO1xyXG5cclxuICAgICAgdmFyIHBldHJpY2tJbm5lckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBwZXRyaWNrSW5uZXJEaXYuaW5uZXJIVE1MID0gXCI8c3BhbiBjbGFzcz0ncW1jTWF0aEZvbnQnPlwiICsgdGhpcy5kYXRhLnBldHJpY2tTb2x2ZXIubG9nICsgXCI8L3NwYW4+XCI7XHJcbiAgICAgIHBldHJpY2tJbm5lckRpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3FtY0luZGVudCcpO1xyXG4gICAgICBwZXRyaWNrRGl2LmFwcGVuZENoaWxkKHBldHJpY2tJbm5lckRpdik7XHJcblxyXG4gICAgICB2YXIgcGV0cmlja0Vzc1Rlcm1zRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHZhciBwZXRyaWNrRXNzVGVybXNTdHIgPSBcIlwiO1xyXG4gICAgICB2YXIgamogPSB0aGlzLmRhdGEucGV0cmlja1Rlcm1Qcmltcy5sZW5ndGg7XHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgamo7IGorKykge1xyXG4gICAgICAgIHBldHJpY2tFc3NUZXJtc1N0ciArPSB0aGlzLmRhdGEucGV0cmlja1Rlcm1Qcmltc1tqXS5jb2xvcmVkVGVybVN0cmluZztcclxuICAgICAgICBpZiAoaiAhPT0gKGpqIC0gMSkpXHJcbiAgICAgICAgICBwZXRyaWNrRXNzVGVybXNTdHIgKz0gXCIsIFwiO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChqaiA+IDApIHtcclxuICAgICAgICBwZXRyaWNrRXNzVGVybXNEaXYuaW5uZXJIVE1MID0gXCI8cD5cIiArIGxhYmVsc1snZXh0cmFjdGVkTVByaW1zJ10gKyBcIiAoXCIgKyBsYWJlbHNbJ3BldHJpY2tzTSddICsgXCIpOiA8c3BhbiBjbGFzcz0ncW1jTWF0aEZvbnQnPlwiICsgcGV0cmlja0Vzc1Rlcm1zU3RyICsgXCI8L3NwYW4+PC9wPlwiO1xyXG4gICAgICAgIHBldHJpY2tFc3NUZXJtc0Rpdi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3FtY0luZGVudCcpO1xyXG4gICAgICAgIHBldHJpY2tEaXYuYXBwZW5kQ2hpbGQocGV0cmlja0Vzc1Rlcm1zRGl2KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgICAgbXlJbm5lckRpdi5hcHBlbmRDaGlsZChwZXRyaWNrRGl2KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICB2YXIgdGVybURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGVybURpdi5pbm5lckhUTUwgPSBcIjxwPjxzdHJvbmc+XCIgKyBsYWJlbHNbJ21pbkV4cCddKyBcIjo8L3N0cm9uZz4gPC9wPiA8cCA+PHNwYW4gY2xhc3M9J3FtY01hdGhGb250Jz48aT55PC9pPiZuYnNwOz0mbmJzcDtcIiArIHRoaXMuZGF0YS5jb2xvcmVkTWluaW1hbFRlcm07ICtcIjwvc3Bhbj48L3A+XCI7XHJcbiAgICBteUlubmVyRGl2LmFwcGVuZENoaWxkKHRlcm1EaXYpO1xyXG4gICAgbXlEaXYuYXBwZW5kQ2hpbGQobXlJbm5lckRpdik7XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gbXlDZWxsTW91c2VEb3duKGUpIHtcclxuXHJcbiAgICB2YXIgdGFyZztcclxuICAgIGlmIChlLnRhcmdldCkge1xyXG4gICAgICB0YXJnID0gZS50YXJnZXQ7XHJcbiAgICB9IGVsc2UgeyAvLyBkZWFsIHdpdGggTWljcm9zb2Z0XHJcbiAgICAgIGlmIChlLnNyY0VsZW1lbnQpXHJcbiAgICAgICAgdGFyZyA9IGUuc3JjRWxlbWVudDtcclxuICAgIH1cclxuICAgIGlmICh0YXJnLm5vZGVUeXBlID09PSAzKSB7IC8vIGRlYWwgd2l0aCBTYWZhcmlcclxuICAgICAgdGFyZyA9IHRhcmcucGFyZW50Tm9kZTtcclxuICAgIH1cclxuICAgIHZhciBpID0gcGFyc2VJbnQodGFyZy50aXRsZSk7XHJcbiAgICB0aGF0LmRhdGEuYWN0aXZhdGVkKGkpO1xyXG5cclxuICAgIHRoYXQudXBkYXRlKCk7XHJcbiAgfVxyXG59IiwiLyogQmxvYi5qc1xyXG4gKiBBIEJsb2IgaW1wbGVtZW50YXRpb24uXHJcbiAqIDIwMTQtMDctMjRcclxuICpcclxuICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxyXG4gKiBCeSBEZXZpbiBTYW1hcmluLCBodHRwczovL2dpdGh1Yi5jb20vZHNhbWFyaW5cclxuICogTGljZW5zZTogTUlUXHJcbiAqICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L0Jsb2IuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cclxuXHJcbi8qZ2xvYmFsIHNlbGYsIHVuZXNjYXBlICovXHJcbi8qanNsaW50IGJpdHdpc2U6IHRydWUsIHJlZ2V4cDogdHJ1ZSwgY29uZnVzaW9uOiB0cnVlLCBlczU6IHRydWUsIHZhcnM6IHRydWUsIHdoaXRlOiB0cnVlLFxyXG4gcGx1c3BsdXM6IHRydWUgKi9cclxuXHJcbi8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9CbG9iLmpzL2Jsb2IvbWFzdGVyL0Jsb2IuanMgKi9cclxuXHJcbihmdW5jdGlvbiAodmlldykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgdmlldy5VUkwgPSB2aWV3LlVSTCB8fCB2aWV3LndlYmtpdFVSTDtcclxuXHJcbiAgICBpZiAodmlldy5CbG9iICYmIHZpZXcuVVJMKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbmV3IEJsb2I7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGNhdGNoIChlKSB7fVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEludGVybmFsbHkgd2UgdXNlIGEgQmxvYkJ1aWxkZXIgaW1wbGVtZW50YXRpb24gdG8gYmFzZSBCbG9iIG9mZiBvZlxyXG4gICAgLy8gaW4gb3JkZXIgdG8gc3VwcG9ydCBvbGRlciBicm93c2VycyB0aGF0IG9ubHkgaGF2ZSBCbG9iQnVpbGRlclxyXG4gICAgdmFyIEJsb2JCdWlsZGVyID0gdmlldy5CbG9iQnVpbGRlciB8fCB2aWV3LldlYktpdEJsb2JCdWlsZGVyIHx8IHZpZXcuTW96QmxvYkJ1aWxkZXIgfHwgKGZ1bmN0aW9uKHZpZXcpIHtcclxuICAgICAgICAgICAgdmFyXHJcbiAgICAgICAgICAgICAgICBnZXRfY2xhc3MgPSBmdW5jdGlvbihvYmplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkubWF0Y2goL15cXFtvYmplY3RcXHMoLiopXFxdJC8pWzFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLCBGYWtlQmxvYkJ1aWxkZXIgPSBmdW5jdGlvbiBCbG9iQnVpbGRlcigpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICwgRmFrZUJsb2IgPSBmdW5jdGlvbiBCbG9iKGRhdGEsIHR5cGUsIGVuY29kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICwgRkJCX3Byb3RvID0gRmFrZUJsb2JCdWlsZGVyLnByb3RvdHlwZVxyXG4gICAgICAgICAgICAgICAgLCBGQl9wcm90byA9IEZha2VCbG9iLnByb3RvdHlwZVxyXG4gICAgICAgICAgICAgICAgLCBGaWxlUmVhZGVyU3luYyA9IHZpZXcuRmlsZVJlYWRlclN5bmNcclxuICAgICAgICAgICAgICAgICwgRmlsZUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvZGUgPSB0aGlzW3RoaXMubmFtZSA9IHR5cGVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLCBmaWxlX2V4X2NvZGVzID0gKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiTk9UX0ZPVU5EX0VSUiBTRUNVUklUWV9FUlIgQUJPUlRfRVJSIE5PVF9SRUFEQUJMRV9FUlIgRU5DT0RJTkdfRVJSIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgKyBcIk5PX01PRElGSUNBVElPTl9BTExPV0VEX0VSUiBJTlZBTElEX1NUQVRFX0VSUiBTWU5UQVhfRVJSXCJcclxuICAgICAgICAgICAgICAgICkuc3BsaXQoXCIgXCIpXHJcbiAgICAgICAgICAgICAgICAsIGZpbGVfZXhfY29kZSA9IGZpbGVfZXhfY29kZXMubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICAsIHJlYWxfVVJMID0gdmlldy5VUkwgfHwgdmlldy53ZWJraXRVUkwgfHwgdmlld1xyXG4gICAgICAgICAgICAgICAgLCByZWFsX2NyZWF0ZV9vYmplY3RfVVJMID0gcmVhbF9VUkwuY3JlYXRlT2JqZWN0VVJMXHJcbiAgICAgICAgICAgICAgICAsIHJlYWxfcmV2b2tlX29iamVjdF9VUkwgPSByZWFsX1VSTC5yZXZva2VPYmplY3RVUkxcclxuICAgICAgICAgICAgICAgICwgVVJMID0gcmVhbF9VUkxcclxuICAgICAgICAgICAgICAgICwgYnRvYSA9IHZpZXcuYnRvYVxyXG4gICAgICAgICAgICAgICAgLCBhdG9iID0gdmlldy5hdG9iXHJcblxyXG4gICAgICAgICAgICAgICAgLCBBcnJheUJ1ZmZlciA9IHZpZXcuQXJyYXlCdWZmZXJcclxuICAgICAgICAgICAgICAgICwgVWludDhBcnJheSA9IHZpZXcuVWludDhBcnJheVxyXG5cclxuICAgICAgICAgICAgICAgICwgb3JpZ2luID0gL15bXFx3LV0rOlxcLypcXFs/W1xcd1xcLjotXStcXF0/KD86OlswLTldKyk/L1xyXG4gICAgICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICBGYWtlQmxvYi5mYWtlID0gRkJfcHJvdG8uZmFrZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHdoaWxlIChmaWxlX2V4X2NvZGUtLSkge1xyXG4gICAgICAgICAgICAgICAgRmlsZUV4Y2VwdGlvbi5wcm90b3R5cGVbZmlsZV9leF9jb2Rlc1tmaWxlX2V4X2NvZGVdXSA9IGZpbGVfZXhfY29kZSArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUG9seWZpbGwgVVJMXHJcbiAgICAgICAgICAgIGlmICghcmVhbF9VUkwuY3JlYXRlT2JqZWN0VVJMKSB7XHJcbiAgICAgICAgICAgICAgICBVUkwgPSB2aWV3LlVSTCA9IGZ1bmN0aW9uKHVyaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmlfaW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIiwgXCJhXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICwgdXJpX29yaWdpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJpX2luZm8uaHJlZiA9IHVyaTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShcIm9yaWdpblwiIGluIHVyaV9pbmZvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJpX2luZm8ucHJvdG9jb2wudG9Mb3dlckNhc2UoKSA9PT0gXCJkYXRhOlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmlfaW5mby5vcmlnaW4gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJpX29yaWdpbiA9IHVyaS5tYXRjaChvcmlnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJpX2luZm8ub3JpZ2luID0gdXJpX29yaWdpbiAmJiB1cmlfb3JpZ2luWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmlfaW5mbztcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgVVJMLmNyZWF0ZU9iamVjdFVSTCA9IGZ1bmN0aW9uKGJsb2IpIHtcclxuICAgICAgICAgICAgICAgIHZhclxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBibG9iLnR5cGVcclxuICAgICAgICAgICAgICAgICAgICAsIGRhdGFfVVJJX2hlYWRlclxyXG4gICAgICAgICAgICAgICAgICAgIDtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvYiBpbnN0YW5jZW9mIEZha2VCbG9iKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YV9VUklfaGVhZGVyID0gXCJkYXRhOlwiICsgdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvYi5lbmNvZGluZyA9PT0gXCJiYXNlNjRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YV9VUklfaGVhZGVyICsgXCI7YmFzZTY0LFwiICsgYmxvYi5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYmxvYi5lbmNvZGluZyA9PT0gXCJVUklcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YV9VUklfaGVhZGVyICsgXCIsXCIgKyBkZWNvZGVVUklDb21wb25lbnQoYmxvYi5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGlmIChidG9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhX1VSSV9oZWFkZXIgKyBcIjtiYXNlNjQsXCIgKyBidG9hKGJsb2IuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFfVVJJX2hlYWRlciArIFwiLFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGJsb2IuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZWFsX2NyZWF0ZV9vYmplY3RfVVJMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWxfY3JlYXRlX29iamVjdF9VUkwuY2FsbChyZWFsX1VSTCwgYmxvYik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwgPSBmdW5jdGlvbihvYmplY3RfVVJMKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0X1VSTC5zdWJzdHJpbmcoMCwgNSkgIT09IFwiZGF0YTpcIiAmJiByZWFsX3Jldm9rZV9vYmplY3RfVVJMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhbF9yZXZva2Vfb2JqZWN0X1VSTC5jYWxsKHJlYWxfVVJMLCBvYmplY3RfVVJMKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgRkJCX3Byb3RvLmFwcGVuZCA9IGZ1bmN0aW9uKGRhdGEvKiwgZW5kaW5ncyovKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmIgPSB0aGlzLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAvLyBkZWNvZGUgZGF0YSB0byBhIGJpbmFyeSBzdHJpbmdcclxuICAgICAgICAgICAgICAgIGlmIChVaW50OEFycmF5ICYmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLCBidWYgPSBuZXcgVWludDhBcnJheShkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAsIGkgPSAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICwgYnVmX2xlbiA9IGJ1Zi5sZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgYnVmX2xlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJiLnB1c2goc3RyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2V0X2NsYXNzKGRhdGEpID09PSBcIkJsb2JcIiB8fCBnZXRfY2xhc3MoZGF0YSkgPT09IFwiRmlsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKEZpbGVSZWFkZXJTeW5jKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmciA9IG5ldyBGaWxlUmVhZGVyU3luYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmIucHVzaChmci5yZWFkQXNCaW5hcnlTdHJpbmcoZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFzeW5jIEZpbGVSZWFkZXIgd29uJ3Qgd29yayBhcyBCbG9iQnVpbGRlciBpcyBzeW5jXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGaWxlRXhjZXB0aW9uKFwiTk9UX1JFQURBQkxFX0VSUlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBGYWtlQmxvYikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmVuY29kaW5nID09PSBcImJhc2U2NFwiICYmIGF0b2IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmIucHVzaChhdG9iKGRhdGEuZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5lbmNvZGluZyA9PT0gXCJVUklcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYi5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChkYXRhLmRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuZW5jb2RpbmcgPT09IFwicmF3XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmIucHVzaChkYXRhLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgKz0gXCJcIjsgLy8gY29udmVydCB1bnN1cHBvcnRlZCB0eXBlcyB0byBzdHJpbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlY29kZSBVVEYtMTYgdG8gYmluYXJ5IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGJiLnB1c2godW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEpKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIEZCQl9wcm90by5nZXRCbG9iID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZha2VCbG9iKHRoaXMuZGF0YS5qb2luKFwiXCIpLCB0eXBlLCBcInJhd1wiKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgRkJCX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IEJsb2JCdWlsZGVyXVwiO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBGQl9wcm90by5zbGljZSA9IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGlmIChhcmdzIDwgMykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGYWtlQmxvYihcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc2xpY2Uoc3RhcnQsIGFyZ3MgPiAxID8gZW5kIDogdGhpcy5kYXRhLmxlbmd0aClcclxuICAgICAgICAgICAgICAgICAgICAsIHR5cGVcclxuICAgICAgICAgICAgICAgICAgICAsIHRoaXMuZW5jb2RpbmdcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIEZCX3Byb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IEJsb2JdXCI7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIEZCX3Byb3RvLmNsb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSAwO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGF0YTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIEZha2VCbG9iQnVpbGRlcjtcclxuICAgICAgICB9KHZpZXcpKTtcclxuXHJcbiAgICB2aWV3LkJsb2IgPSBmdW5jdGlvbihibG9iUGFydHMsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgdHlwZSA9IG9wdGlvbnMgPyAob3B0aW9ucy50eXBlIHx8IFwiXCIpIDogXCJcIjtcclxuICAgICAgICB2YXIgYnVpbGRlciA9IG5ldyBCbG9iQnVpbGRlcigpO1xyXG4gICAgICAgIGlmIChibG9iUGFydHMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJsb2JQYXJ0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKFVpbnQ4QXJyYXkgJiYgYmxvYlBhcnRzW2ldIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIuYXBwZW5kKGJsb2JQYXJ0c1tpXS5idWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRlci5hcHBlbmQoYmxvYlBhcnRzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmxvYiA9IGJ1aWxkZXIuZ2V0QmxvYih0eXBlKTtcclxuICAgICAgICBpZiAoIWJsb2Iuc2xpY2UgJiYgYmxvYi53ZWJraXRTbGljZSkge1xyXG4gICAgICAgICAgICBibG9iLnNsaWNlID0gYmxvYi53ZWJraXRTbGljZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJsb2I7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbihvYmplY3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdC5fX3Byb3RvX187XHJcbiAgICAgICAgfTtcclxuICAgIHZpZXcuQmxvYi5wcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZihuZXcgdmlldy5CbG9iKCkpO1xyXG59KHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYgfHwgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cgfHwgdGhpcy5jb250ZW50IHx8IHRoaXMpKTtcclxuXHJcbiIsIi8qIEZpbGVTYXZlci5qc1xyXG4gKiBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cclxuICogMS4zLjJcclxuICogMjAxNi0wNi0xNiAxODoyNToxOVxyXG4gKlxyXG4gKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXHJcbiAqIExpY2Vuc2U6IE1JVFxyXG4gKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cclxuXHJcbi8qZ2xvYmFsIHNlbGYgKi9cclxuLypqc2xpbnQgYml0d2lzZTogdHJ1ZSwgaW5kZW50OiA0LCBsYXhicmVhazogdHJ1ZSwgbGF4Y29tbWE6IHRydWUsIHNtYXJ0dGFiczogdHJ1ZSwgcGx1c3BsdXM6IHRydWUgKi9cclxuXHJcbi8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvRmlsZVNhdmVyLmpzICovXHJcblxyXG52YXIgc2F2ZUFzID0gc2F2ZUFzIHx8IChmdW5jdGlvbih2aWV3KSB7XHJcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICAgICAgLy8gSUUgPDEwIGlzIGV4cGxpY2l0bHkgdW5zdXBwb3J0ZWRcclxuICAgICAgICBpZiAodHlwZW9mIHZpZXcgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvTVNJRSBbMS05XVxcLi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhclxyXG4gICAgICAgICAgICBkb2MgPSB2aWV3LmRvY3VtZW50XHJcbiAgICAgICAgLy8gb25seSBnZXQgVVJMIHdoZW4gbmVjZXNzYXJ5IGluIGNhc2UgQmxvYi5qcyBoYXNuJ3Qgb3ZlcnJpZGRlbiBpdCB5ZXRcclxuICAgICAgICAgICAgLCBnZXRfVVJMID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlldy5VUkwgfHwgdmlldy53ZWJraXRVUkwgfHwgdmlldztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAsIHNhdmVfbGluayA9IGRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsIFwiYVwiKVxyXG4gICAgICAgICAgICAsIGNhbl91c2Vfc2F2ZV9saW5rID0gXCJkb3dubG9hZFwiIGluIHNhdmVfbGlua1xyXG4gICAgICAgICAgICAsIGNsaWNrID0gZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiKTtcclxuICAgICAgICAgICAgICAgIG5vZGUuZGlzcGF0Y2hFdmVudChldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLCBpc19zYWZhcmkgPSAvY29uc3RydWN0b3IvaS50ZXN0KHZpZXcuSFRNTEVsZW1lbnQpXHJcbiAgICAgICAgICAgICwgaXNfY2hyb21lX2lvcyA9L0NyaU9TXFwvW1xcZF0rLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXHJcbiAgICAgICAgICAgICwgdGhyb3dfb3V0c2lkZSA9IGZ1bmN0aW9uKGV4KSB7XHJcbiAgICAgICAgICAgICAgICAodmlldy5zZXRJbW1lZGlhdGUgfHwgdmlldy5zZXRUaW1lb3V0KShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBleDtcclxuICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICwgZm9yY2Vfc2F2ZWFibGVfdHlwZSA9IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJcclxuICAgICAgICAvLyB0aGUgQmxvYiBBUEkgaXMgZnVuZGFtZW50YWxseSBicm9rZW4gYXMgdGhlcmUgaXMgbm8gXCJkb3dubG9hZGZpbmlzaGVkXCIgZXZlbnQgdG8gc3Vic2NyaWJlIHRvXHJcbiAgICAgICAgICAgICwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0ID0gMTAwMCAqIDQwIC8vIGluIG1zXHJcbiAgICAgICAgICAgICwgcmV2b2tlID0gZnVuY3Rpb24oZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJldm9rZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGUgPT09IFwic3RyaW5nXCIpIHsgLy8gZmlsZSBpcyBhbiBvYmplY3QgVVJMXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldF9VUkwoKS5yZXZva2VPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gZmlsZSBpcyBhIEZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChyZXZva2VyLCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICwgZGlzcGF0Y2ggPSBmdW5jdGlvbihmaWxlc2F2ZXIsIGV2ZW50X3R5cGVzLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRfdHlwZXMgPSBbXS5jb25jYXQoZXZlbnRfdHlwZXMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSBldmVudF90eXBlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gZmlsZXNhdmVyW1wib25cIiArIGV2ZW50X3R5cGVzW2ldXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwoZmlsZXNhdmVyLCBldmVudCB8fCBmaWxlc2F2ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3dfb3V0c2lkZShleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLCBhdXRvX2JvbSA9IGZ1bmN0aW9uKGJsb2IpIHtcclxuICAgICAgICAgICAgICAgIC8vIHByZXBlbmQgQk9NIGZvciBVVEYtOCBYTUwgYW5kIHRleHQvKiB0eXBlcyAoaW5jbHVkaW5nIEhUTUwpXHJcbiAgICAgICAgICAgICAgICAvLyBub3RlOiB5b3VyIGJyb3dzZXIgd2lsbCBhdXRvbWF0aWNhbGx5IGNvbnZlcnQgVVRGLTE2IFUrRkVGRiB0byBFRiBCQiBCRlxyXG4gICAgICAgICAgICAgICAgaWYgKC9eXFxzKig/OnRleHRcXC9cXFMqfGFwcGxpY2F0aW9uXFwveG1sfFxcUypcXC9cXFMqXFwreG1sKVxccyo7LipjaGFyc2V0XFxzKj1cXHMqdXRmLTgvaS50ZXN0KGJsb2IudHlwZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoMHhGRUZGKSwgYmxvYl0sIHt0eXBlOiBibG9iLnR5cGV9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBibG9iO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICwgRmlsZVNhdmVyID0gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcclxuICAgICAgICAgICAgICAgIGlmICghbm9fYXV0b19ib20pIHtcclxuICAgICAgICAgICAgICAgICAgICBibG9iID0gYXV0b19ib20oYmxvYik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBGaXJzdCB0cnkgYS5kb3dubG9hZCwgdGhlbiB3ZWIgZmlsZXN5c3RlbSwgdGhlbiBvYmplY3QgVVJMc1xyXG4gICAgICAgICAgICAgICAgdmFyXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZXNhdmVyID0gdGhpc1xyXG4gICAgICAgICAgICAgICAgICAgICwgdHlwZSA9IGJsb2IudHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICwgZm9yY2UgPSB0eXBlID09PSBmb3JjZV9zYXZlYWJsZV90eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgLCBvYmplY3RfdXJsXHJcbiAgICAgICAgICAgICAgICAgICAgLCBkaXNwYXRjaF9hbGwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmRcIi5zcGxpdChcIiBcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIG9uIGFueSBmaWxlc3lzIGVycm9ycyByZXZlcnQgdG8gc2F2aW5nIHdpdGggb2JqZWN0IFVSTHNcclxuICAgICAgICAgICAgICAgICAgICAsIGZzX2Vycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaXNfY2hyb21lX2lvcyB8fCAoZm9yY2UgJiYgaXNfc2FmYXJpKSkgJiYgdmlldy5GaWxlUmVhZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTYWZhcmkgZG9lc24ndCBhbGxvdyBkb3dubG9hZGluZyBvZiBibG9iIHVybHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBpc19jaHJvbWVfaW9zID8gcmVhZGVyLnJlc3VsdCA6IHJlYWRlci5yZXN1bHQucmVwbGFjZSgvXmRhdGE6W147XSo7LywgJ2RhdGE6YXR0YWNobWVudC9maWxlOycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3B1cCA9IHZpZXcub3Blbih1cmwsICdfYmxhbmsnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighcG9wdXApIHZpZXcubG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw9dW5kZWZpbmVkOyAvLyByZWxlYXNlIHJlZmVyZW5jZSBiZWZvcmUgZGlzcGF0Y2hpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5ET05FO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoX2FsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuSU5JVDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBjcmVhdGUgbW9yZSBvYmplY3QgVVJMcyB0aGFuIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9iamVjdF91cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdF91cmwgPSBnZXRfVVJMKCkuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcGVuZWQgPSB2aWV3Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wZW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGxlIGRvZXMgbm90IGFsbG93IHdpbmRvdy5vcGVuLCBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvc2FmYXJpL2RvY3VtZW50YXRpb24vVG9vbHMvQ29uY2VwdHVhbC9TYWZhcmlFeHRlbnNpb25HdWlkZS9Xb3JraW5nd2l0aFdpbmRvd3NhbmRUYWJzL1dvcmtpbmd3aXRoV2luZG93c2FuZFRhYnMuaHRtbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXcubG9jYXRpb24uaHJlZiA9IG9iamVjdF91cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hfYWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldm9rZShvYmplY3RfdXJsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgO1xyXG4gICAgICAgICAgICAgICAgZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuSU5JVDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2FuX3VzZV9zYXZlX2xpbmspIHtcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3RfdXJsID0gZ2V0X1VSTCgpLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlX2xpbmsuaHJlZiA9IG9iamVjdF91cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVfbGluay5kb3dubG9hZCA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrKHNhdmVfbGluayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoX2FsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXZva2Uob2JqZWN0X3VybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLkRPTkU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZzX2Vycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLCBGU19wcm90byA9IEZpbGVTYXZlci5wcm90b3R5cGVcclxuICAgICAgICAgICAgLCBzYXZlQXMgPSBmdW5jdGlvbihibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGaWxlU2F2ZXIoYmxvYiwgbmFtZSB8fCBibG9iLm5hbWUgfHwgXCJkb3dubG9hZFwiLCBub19hdXRvX2JvbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgO1xyXG4gICAgICAgIC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcclxuICAgICAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcclxuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lIHx8IGJsb2IubmFtZSB8fCBcImRvd25sb2FkXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFub19hdXRvX2JvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2IgPSBhdXRvX2JvbShibG9iKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihibG9iLCBuYW1lKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEZTX3Byb3RvLmFib3J0ID0gZnVuY3Rpb24oKXt9O1xyXG4gICAgICAgIEZTX3Byb3RvLnJlYWR5U3RhdGUgPSBGU19wcm90by5JTklUID0gMDtcclxuICAgICAgICBGU19wcm90by5XUklUSU5HID0gMTtcclxuICAgICAgICBGU19wcm90by5ET05FID0gMjtcclxuXHJcbiAgICAgICAgRlNfcHJvdG8uZXJyb3IgPVxyXG4gICAgICAgICAgICBGU19wcm90by5vbndyaXRlc3RhcnQgPVxyXG4gICAgICAgICAgICAgICAgRlNfcHJvdG8ub25wcm9ncmVzcyA9XHJcbiAgICAgICAgICAgICAgICAgICAgRlNfcHJvdG8ub253cml0ZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZTX3Byb3RvLm9uYWJvcnQgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRlNfcHJvdG8ub25lcnJvciA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRlNfcHJvdG8ub253cml0ZWVuZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiBzYXZlQXM7XHJcbiAgICB9KFxyXG4gICAgICAgIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGZcclxuICAgICAgICB8fCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvd1xyXG4gICAgICAgIHx8IHRoaXMuY29udGVudFxyXG4gICAgKSk7XHJcbi8vIGBzZWxmYCBpcyB1bmRlZmluZWQgaW4gRmlyZWZveCBmb3IgQW5kcm9pZCBjb250ZW50IHNjcmlwdCBjb250ZXh0XHJcbi8vIHdoaWxlIGB0aGlzYCBpcyBuc0lDb250ZW50RnJhbWVNZXNzYWdlTWFuYWdlclxyXG4vLyB3aXRoIGFuIGF0dHJpYnV0ZSBgY29udGVudGAgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgd2luZG93XHJcblxyXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xyXG4gICAgbW9kdWxlLmV4cG9ydHMuc2F2ZUFzID0gc2F2ZUFzO1xyXG59IGVsc2UgaWYgKCh0eXBlb2YgZGVmaW5lICE9PSBcInVuZGVmaW5lZFwiICYmIGRlZmluZSAhPT0gbnVsbCkgJiYgKGRlZmluZS5hbWQgIT09IG51bGwpKSB7XHJcbiAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBzYXZlQXM7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgc2F2ZUFzOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWcveC5wbmdcIjsiLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uL25vZGVfbW9kdWxlcy9yZXNvbHZlLXVybC1sb2FkZXIvaW5kZXguanMhLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzP3NvdXJjZU1hcCEuL2ttYXAuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5pZiAobW9kdWxlLmhvdCkge1xuICBpZiAoIWNvbnRlbnQubG9jYWxzIHx8IG1vZHVsZS5ob3QuaW52YWxpZGF0ZSkge1xuICAgIHZhciBpc0VxdWFsTG9jYWxzID0gZnVuY3Rpb24gaXNFcXVhbExvY2FscyhhLCBiKSB7XG4gIGlmICghYSAmJiBiIHx8IGEgJiYgIWIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcDtcblxuICBmb3IgKHAgaW4gYSkge1xuICAgIGlmIChhW3BdICE9PSBiW3BdKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZm9yIChwIGluIGIpIHtcbiAgICBpZiAoIWFbcF0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG4gICAgdmFyIG9sZExvY2FscyA9IGNvbnRlbnQubG9jYWxzO1xuXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXG4gICAgICBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vbm9kZV9tb2R1bGVzL3Jlc29sdmUtdXJsLWxvYWRlci9pbmRleC5qcyEuLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/c291cmNlTWFwIS4va21hcC5zY3NzXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS11cmwtbG9hZGVyL2luZGV4LmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcz9zb3VyY2VNYXAhLi9rbWFwLnNjc3NcIik7XG5cbiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghaXNFcXVhbExvY2FscyhvbGRMb2NhbHMsIGNvbnRlbnQubG9jYWxzKSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5ob3QuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb2xkTG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbiAgICAgICAgICAgICAgdXBkYXRlKGNvbnRlbnQpO1xuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiaW1wb3J0IHtQb2ludGVyRXZlbnRzUG9seWZpbGx9IGZyb20gXCIuL3BvaW50ZXJfZXZlbnRzX3BvbHlmaWxsXCI7XHJcbmltcG9ydCAnY2xhc3NsaXN0LXBvbHlmaWxsJztcclxuXHJcblBvaW50ZXJFdmVudHNQb2x5ZmlsbC5pbml0aWFsaXplKCk7IiwiLypcclxuICogUG9pbnRlciBFdmVudHMgUG9seWZpbGw6IEFkZHMgc3VwcG9ydCBmb3IgdGhlIHN0eWxlIGF0dHJpYnV0ZSBcInBvaW50ZXItZXZlbnRzOiBub25lXCIgdG8gYnJvd3NlcnMgd2l0aG91dCB0aGlzIGZlYXR1cmUgKG5hbWVseSwgSUUpLlxyXG4gKiAoYykgMjAxMywgS2VudCBNZXdob3J0LCBsaWNlbnNlZCB1bmRlciBCU0QuIFNlZSBMSUNFTlNFLnR4dCBmb3IgZGV0YWlscy5cclxuICovXHJcblxyXG4vLyBjb25zdHJ1Y3RvclxyXG5leHBvcnQgY29uc3QgUG9pbnRlckV2ZW50c1BvbHlmaWxsID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gICAgLy8gc2V0IGRlZmF1bHRzXHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgc2VsZWN0b3I6ICcqJyxcclxuICAgICAgICBtb3VzZUV2ZW50czogWydjbGljaycsJ2RibGNsaWNrJywnbW91c2Vkb3duJywnbW91c2V1cCddLFxyXG4gICAgICAgIHVzZVBvbHlmaWxsSWY6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKG5hdmlnYXRvci5hcHBOYW1lID09ICdNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXInKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKGFnZW50Lm1hdGNoKC9NU0lFIChbMC05XXsxLH1bXFwuMC05XXswLH0pLykgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZUZsb2F0KCBSZWdFeHAuJDEgKTtcclxuICAgICAgICAgICAgICAgICAgICBpZih2ZXJzaW9uIDwgMTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYob3B0aW9ucyl7XHJcbiAgICAgICAgdmFyIG9iaiA9IHRoaXM7XHJcbiAgICAgICAgJC5lYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKGssdil7XHJcbiAgICAgICAgICAgIG9iai5vcHRpb25zW2tdID0gdjtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLm9wdGlvbnMudXNlUG9seWZpbGxJZigpKVxyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJfbW91c2VfZXZlbnRzKCk7XHJcbn1cclxuXHJcbi8vIHNpbmdsZXRvbiBpbml0aWFsaXplclxyXG5Qb2ludGVyRXZlbnRzUG9seWZpbGwuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xyXG4gICAgaWYoUG9pbnRlckV2ZW50c1BvbHlmaWxsLnNpbmdsZXRvbiA9PSBudWxsKVxyXG4gICAgICAgIFBvaW50ZXJFdmVudHNQb2x5ZmlsbC5zaW5nbGV0b24gPSBuZXcgUG9pbnRlckV2ZW50c1BvbHlmaWxsKG9wdGlvbnMpO1xyXG4gICAgcmV0dXJuIFBvaW50ZXJFdmVudHNQb2x5ZmlsbC5zaW5nbGV0b247XHJcbn07XHJcblxyXG4vLyBoYW5kbGUgbW91c2UgZXZlbnRzIHcvIHN1cHBvcnQgZm9yIHBvaW50ZXItZXZlbnRzOiBub25lXHJcblBvaW50ZXJFdmVudHNQb2x5ZmlsbC5wcm90b3R5cGUucmVnaXN0ZXJfbW91c2VfZXZlbnRzID0gZnVuY3Rpb24oKXtcclxuICAgIC8vIHJlZ2lzdGVyIG9uIGFsbCBlbGVtZW50cyAoYW5kIGFsbCBmdXR1cmUgZWxlbWVudHMpIG1hdGNoaW5nIHRoZSBzZWxlY3RvclxyXG4gICAgJChkb2N1bWVudCkub24odGhpcy5vcHRpb25zLm1vdXNlRXZlbnRzLmpvaW4oXCIgXCIpLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIGlmKCQodGhpcykuY3NzKCdwb2ludGVyLWV2ZW50cycpID09ICdub25lJyl7XHJcbiAgICAgICAgICAgIC8vIHBlYWsgYXQgdGhlIGVsZW1lbnQgYmVsb3dcclxuICAgICAgICAgICAgdmFyIG9yaWdEaXNwbGF5QXR0cmlidXRlID0gJCh0aGlzKS5jc3MoJ2Rpc3BsYXknKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2Rpc3BsYXknLCdub25lJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdW5kZXJuZWF0aEVsZW0gPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGUuY2xpZW50WCwgZS5jbGllbnRZKTtcclxuXHJcbiAgICAgICAgICAgIGlmKG9yaWdEaXNwbGF5QXR0cmlidXRlKVxyXG4gICAgICAgICAgICAgICAgJCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jc3MoJ2Rpc3BsYXknLCBvcmlnRGlzcGxheUF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICQodGhpcykuY3NzKCdkaXNwbGF5JywnJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBmaXJlIHRoZSBtb3VzZSBldmVudCBvbiB0aGUgZWxlbWVudCBiZWxvd1xyXG4gICAgICAgICAgICBlLnRhcmdldCA9IHVuZGVybmVhdGhFbGVtO1xyXG4gICAgICAgICAgICAkKHVuZGVybmVhdGhFbGVtKS50cmlnZ2VyKGUpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0pO1xyXG59O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9